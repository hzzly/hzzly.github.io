[{"title":"åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ","date":"2019-07-12T01:31:10.000Z","path":"2019/07/12/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ/","text":"ç‰ˆæœ¬ webpack 4 Babel 7 æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡çš„webpacké…ç½®è¿›è¡Œä¼˜åŒ– å¿«é€Ÿæµè§ˆï¼š webpackåŸºç¡€ç¯‡ webpackä¼˜åŒ–1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰ä¸ºæ¯ä¸ªå¼•å…¥ CSS çš„ JS æ–‡ä»¶åˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œæé«˜é¦–é¡µåŠ è½½é€Ÿåº¦ æŠŠ style-loader æ›¿æ¢æˆ MiniCssExtractPlugin.loader æ–°å¢ plugins 1yarn add mini-css-extract-plugin -D 1234567891011121314151617181920212223const MiniCssExtractPlugin = require('mini-css-extract-plugin'); module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(sc|sa|c)ss$/, use: [ // 'style-loader', MiniCssExtractPlugin.loader, // ...åŒä¸Š ], &#125;, ], &#125;, plugins: [ new MiniCssExtractPlugin(&#123; filename: '[name].[hash].css', chunkFilename: '[id].[hash].css', &#125;), ]&#125; 2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰1yarn add optimize-css-assets-webpack-plugin -D 12345678const OptimizeCssAssetsWebpackPlugin = require('optimize-css-assets-webpack-plugin'); module.exports = &#123; //...åŒä¸Š plugins: [ new OptimizeCssAssetsWebpackPlugin(), ]&#125; 3ã€å‹ç¼©JSwebpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ ä»£ç å°±ä¼šè‡ªåŠ¨å‹ç¼©1mode: 'production', 4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰ä»£ç åˆ†å‰²ï¼Œå•ç‹¬æ‰“åŒ…ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…æ‰€æœ‰é¡µé¢åªç”Ÿæˆä¸€ä¸ªjsæ–‡ä»¶ï¼Œé¦–å±åŠ è½½å¾ˆæ…¢çš„æƒ…å†µã€‚ 1234567891011121314151617181920212223242526module.exports = &#123; //... optimization: &#123; splitChunks: &#123; chunks: 'all', // include all types of chunks // minSize: 30000, // å¼•å…¥çš„åº“å¤§äº30kbæ—¶æ‰ä¼šåšä»£ç åˆ†å‰² // minChunks: 1, // ä¸€ä¸ªæ¨¡å—è‡³å°‘è¢«ç”¨äº†1æ¬¡æ‰ä¼šè¢«åˆ†å‰² // maxAsyncRequests: 5, // åŒæ—¶å¼‚æ­¥åŠ è½½çš„æ¨¡å—æ•°æœ€å¤šæ˜¯5ä¸ªï¼Œå¦‚æœè¶…è¿‡5ä¸ªåˆ™ä¸åšä»£ç åˆ†å‰² // maxInitialRequests: 3, // å…¥å£æ–‡ä»¶è¿›è¡ŒåŠ è½½æ—¶ï¼Œå¼•å…¥çš„åº“æœ€å¤šåˆ†å‰²å‡º3ä¸ªjsæ–‡ä»¶ // automaticNameDelimiter: '~', // ç”Ÿæˆæ–‡ä»¶åçš„æ–‡ä»¶é“¾æ¥ç¬¦ // name: true, // å¼€å¯è‡ªå®šä¹‰åç§°æ•ˆæœ // cacheGroups: &#123; // åˆ¤æ–­åˆ†å‰²å‡ºçš„ä»£ç æ”¾åˆ°é‚£é‡Œå» // vendors: &#123; // é…åˆchunksï¼šâ€˜allâ€™ä½¿ç”¨ï¼Œè¡¨ç¤ºå¦‚æœå¼•å…¥çš„åº“æ˜¯åœ¨node-modulesä¸­ï¼Œé‚£å°±ä¼šæŠŠè¿™ä¸ªåº“åˆ†å‰²å‡ºæ¥å¹¶èµ·åä¸ºvendors.js // test: /[\\/]node_modules[\\/]/, // priority: -10, // filename: 'vendors.js' // &#125;, // default: &#123; // ä¸ºénode-modulesåº“ä¸­åˆ†å‰²å‡ºçš„ä»£ç è®¾ç½®é»˜è®¤å­˜æ”¾åç§° // priority: -20, // reuseExistingChunk: true, // é¿å…è¢«é‡å¤æ‰“åŒ…åˆ†å‰² // filename: 'common.js' // &#125; // &#125; &#125; &#125;&#125;; 5ã€é…ç½®å…¨å±€å˜é‡12345678910const webpack = require(\"webpack\"); module.exports = &#123; //...åŒä¸Š plugins: [ new webpack.DefinePlugin(&#123; 'process.env.NODE_ENV': JSON.stringify('development'), &#125;), ]&#125; ğŸ”¥Tip1 é—®é¢˜ï¼šå½“ç”¨ DefinePlugin æ¥é…ç½®å…¨å±€å˜é‡æ—¶ï¼Œåªç»™ä¾èµ–ä¸­æ³¨å…¥äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå°±æ˜¯srcæ–‡ä»¶å¤¹ä¸‹é¢çš„å’Œä¾èµ–çš„æ¨¡å—ã€‚å½“æˆ‘ä»¬åœ¨webpacké…ç½®æ–‡ä»¶ä¸­å»å– process.env.NODE_ENV ä¾ç„¶æ˜¯ undefinedã€‚ è§£å†³ï¼šåœ¨package.jsonå‘½ä»¤ä¸­æ³¨å…¥123\"scripts\": &#123; \"start\": \"webpack-dev-server NODE_ENV=development --config ./build/webpack.config.js\",&#125; 6ã€CSS Tree Shakingå»é™¤é¡¹ç›®ä»£ç ä¸­ç”¨ä¸åˆ°çš„ CSS æ ·å¼ï¼Œä»…ä¿ç•™è¢«ä½¿ç”¨çš„æ ·å¼ä»£ç  ğŸ”¥Tip2 é—®é¢˜ï¼šå½“ä½¿ç”¨ CSS Tree Shaking çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ css-modules å…³é—­ï¼Œä¸ç„¶ css ä¼šè¢«å…¨éƒ¨æ¸…é™¤æ‰ã€‚1yarn add glob-all purify-css purifycss-webpack -D 123456789101112131415const PurifyCSS = require(\"purifycss-webpack\");const glob = require(\"glob-all\");module.exports = &#123; //...åŒä¸Š plugins: [ new PurifyCSS(&#123; paths: glob.sync([ // è¦åšCSS Tree Shakingçš„è·¯å¾„æ–‡ä»¶ path.resolve(__dirname, \"../public/*.html\"), // è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking path.resolve(__dirname, \"../src/*.js\") ]) &#125;) ]&#125; 7ã€JS Tree Shakingæ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥ webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ tree shakingå°±ä¼šç”Ÿæ•ˆã€‚ 8ã€resolveï¼ˆè§£æï¼‰èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚ extension: æŒ‡å®šextensionä¹‹åå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é… alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦ 123456789module.exports = &#123; //...åŒä¸Š resolve: &#123; extensions: ['.js', '.jsx'], alias: &#123; '@': path.join(__dirname, '../src'), &#125;, &#125;,&#125; 9ã€æ¨¡å—çƒ­æ›¿æ¢HMRæ¨¡å—çƒ­æ›¿æ¢ä¹Ÿç§°ä¸ºHMRï¼Œä»£ç æ›´æ–°æ—¶åªä¼šæ›´æ–°è¢«ä¿®æ”¹éƒ¨åˆ†éƒ½æ˜¾ç¤ºã€‚æœ‰å¦‚ä¸‹æœ‰ç‚¹ é’ˆå¯¹äºæ ·å¼è°ƒè¯•æ›´åŠ æ–¹ä¾¿ åªä¼šæ›´æ–°è¢«ä¿®æ”¹ä»£ç çš„é‚£éƒ¨åˆ†æ˜¾ç¤ºï¼Œæå‡å¼€å‘æ•ˆç‡ ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚ è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨Node.jsçš„æ–¹å¼å®ç° 1234yarn add express webpack-dev-middleware webpack-hot-middleware react-hot-loader cross-env -D cd buildtouch dev-server.js 1234567891011121314151617181920212223242526272829303132// dev-server.jsconst path = require('path');const express = require('express');const webpack = require('webpack');const webpackDevMiddleware = require('webpack-dev-middleware');const webpackHotMiddleware = require(\"webpack-hot-middleware\")const config = require('./webpack.config.js'); const complier = webpack(config); // ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨æ‰§è¡Œä¸€æ¬¡å°±ä¼šé‡æ–°æ‰“åŒ…ä¸€ä¸‹ä»£ç const app = express(); // ç”Ÿæˆä¸€ä¸ªå®ä¾‹const DIST_DIR = path.resolve(__dirname, '../', 'dist'); // è®¾ç½®é™æ€è®¿é—®æ–‡ä»¶è·¯å¾„const port = parseInt(process.env.PORT, 10) || 8586;const host = process.env.HOST || 'localhost'; const devMiddleware = webpackDevMiddleware(complier, &#123; quiet: true, noInfo: true, stats: 'minimal'&#125;)const hotMiddleware = webpackHotMiddleware(complier, &#123; log: false, heartbeat: 2000&#125;) app.use(devMiddleware)app.use(hotMiddleware)// è®¾ç½®è®¿é—®é™æ€æ–‡ä»¶çš„è·¯å¾„app.use(express.static(DIST_DIR))app.listen(port, () =&gt; &#123; console.log(`App running at: http://$&#123;host&#125;:$&#123;port&#125;`);&#125;) //ç›‘å¬ç«¯å£ ä¿®æ”¹webpack.config.js123456789101112131415161718192021222324252627282930313233343536// webpack.config.jsconst isDev = process.env.NODE_ENV === 'development'; module.exports = &#123; entry: &#123; main: [ 'webpack-hot-middleware/client?noInfo=true&amp;reload=true', './src/index.js' ] &#125;, module: &#123; rules: [ &#123; test: /\\.(sc|sa|c)ss$/, use: [ isDev ? 'style-loader' : MiniCssExtractPlugin.loader, &#123; loader: 'css-loader', options: &#123; modules: &#123; localIdentName: '[local]_[hash:base64:5]', &#125;, sourceMap: !isDev &amp;&amp; true, // å¼€å‘æ—¶åˆ·æ–°ä¼šå¯¼è‡´é—ªå±ï¼ˆæ ·å¼åŠ è½½æ…¢ä¸€æ­¥ï¼‰ &#125;, &#125;, 'postcss-loader', // ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€ 'sass-loader', // ç¼–è¯‘scss ], &#125;, ], &#125;, plugins: [ new webpack.NamedModulesPlugin(), // ç”¨äºå¯åŠ¨HMRæ—¶å¯ä»¥æ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„ new webpack.HotModuleReplacementPlugin(), // å¼€å¯HMR(çƒ­æ›¿æ¢åŠŸèƒ½,æ›¿æ¢æ›´æ–°éƒ¨åˆ†,ä¸é‡è½½é¡µé¢ï¼) ç›¸å½“äºåœ¨å‘½ä»¤è¡ŒåŠ  --hot ]&#125; ä¿®æ”¹å…¥å£æ–‡ä»¶index.js123456789101112131415161718192021222324252627// index.jsimport React from 'react';import ReactDOM from 'react-dom';import &#123; AppContainer &#125; from 'react-hot-loader';import &#123; BrowserRouter &#125; from 'react-router-dom';import Router from './router';function render() &#123; ReactDOM.render( &lt;AppContainer&gt; &lt;BrowserRouter&gt; &lt;Router /&gt; &lt;/BrowserRouter&gt; &lt;/AppContainer&gt;, document.getElementById('root') );&#125;/* åˆå§‹åŒ– */render();/* çƒ­æ›´æ–° */if (module.hot) &#123; module.hot.accept('./router/index.js', () =&gt; &#123; render(); &#125;);&#125; ä¿®æ”¹scriptå‘½ä»¤è¡Œ1\"start\": \"cross-env NODE_ENV=development node ./build/dev-server.js\", okï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä»£ç æ—¶ï¼Œé¡µé¢å°±ä¸éœ€è¦åˆ·æ–°äº†ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚ 10ã€BundleAnalyzerPluginä½¿ç”¨äº¤äº’å¼å¯ç¼©æ”¾æ ‘å½¢å›¾å¯è§†åŒ–webpackè¾“å‡ºæ–‡ä»¶çš„å¤§å°ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬é’ˆå¯¹ä»£ç ä¾èµ–çš„å¤§å°è¿›è¡Œä¼˜åŒ–ã€‚ 1yarn add webpack-bundle-analyzer -D 12345678910111213141516171819const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;module.exports = &#123; //...åŒä¸Š plugins: [ new BundleAnalyzerPlugin(&#123; analyzerMode: 'server', analyzerHost: '127.0.0.1', analyzerPort: 8889, reportFilename: 'report.html', defaultSizes: 'parsed', openAnalyzer: true, generateStatsFile: false, statsFilename: 'stats.json', statsOptions: null, logLevel: 'info' &#125;) ]&#125; 123456// package.json&#123; \"script\": &#123; \"analyz\": \"cross-env NODE_ENV=production npm_config_report=true npm run build\" &#125;&#125; webpackåˆ†ç¦»é…ç½®æ–‡ä»¶é’ˆå¯¹å¼€å‘ç¯å¢ƒå’Œå‘å¸ƒç¯å¢ƒé…ç½®å¯¹åº”çš„webpackï¼Œå…¬å…±çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œå†ä½¿ç”¨ webpack-merge æ¥å°†ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®åˆå¹¶èµ·æ¥ 123456cd buildtouch webpack.base.conf.jstouch webpack.dev.conf.jstouch webpack.prd.conf.js yarn add webpack-merge -D 1ã€æå–å…¬å…±é…ç½®1234567891011121314151617181920212223242526272829303132333435363738// webpack.base.conf.jsconst path = require('path');const HtmlWebpackPlugin = require('html-webpack-plugin');const &#123; CleanWebpackPlugin &#125; = require('clean-webpack-plugin');const MiniCssExtractPlugin = require('mini-css-extract-plugin');const isDev = process.env.NODE_ENV === 'development';module.exports = &#123; entry: ['./src/index.js'], output: &#123; // è¾“å‡ºç›®å½• path: path.resolve(__dirname, '../dist'), &#125;, module: &#123; // ...åŒwebpack.config.jsçš„modules &#125;, plugins: [ new CleanWebpackPlugin(), new HtmlWebpackPlugin(&#123; filename: 'index.html', // æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å template: path.join(__dirname, '../public/index.html'), // æŒ‡å®šæ¨¡æ¿è·¯å¾„ &#125;), ], resolve: &#123; extensions: ['.js', '.jsx'], alias: &#123; '@': path.join(__dirname, '../src'), &#125;, &#125;, optimization: &#123; splitChunks: &#123; // ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç  chunks: 'all', // æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ &#125;, &#125;, performance: false, // å…³é—­æ€§èƒ½æç¤º&#125;; 2ã€é…ç½®å¼€å‘ç¯å¢ƒ123456789101112131415161718192021222324252627282930313233343536373839404142// webpack.dev.conf.jsconst path = require(\"path\");const webpack = require(\"webpack\");const merge = require('webpack-merge');const commonConfig = require('./webpack.base.conf.js');module.exports = merge(commonConfig, &#123; mode: \"development\", devtool: 'cheap-module-eval-soure-map', entry: &#123; //å®ç°åˆ·æ–°æµè§ˆå™¨webpack-hot-middleware/client?noInfo=true&amp;reload=true æ˜¯å¿…å¡«çš„ main: [ 'webpack-hot-middleware/client?noInfo=true&amp;reload=true', './src/index.js' ] &#125;, output: &#123; // è¾“å‡ºç›®å½• path: path.resolve(__dirname, \"../dist\"), // æ–‡ä»¶åç§° filename: \"bundle.[name].[hash].js\", chunkFilename: '[name].[hash].js' &#125;, plugins: [ new webpack.NamedModulesPlugin(), new webpack.HotModuleReplacementPlugin(), // new webpack.DefinePlugin(&#123; // 'process.env.NODE_ENV': JSON.stringify('development'), // &#125;), ], devServer: &#123; hot: true, contentBase: path.resolve(__dirname, \"../dist\"), host: \"localhost\", port: 8586, historyApiFallback: true, // è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html proxy: &#123; // ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€ // \"/api\": \"http://localhost:3000\" &#125; &#125;&#125;); 3ã€é…ç½®å‘å¸ƒç¯å¢ƒ123456789101112131415161718192021222324252627282930313233343536373839// webpack.prd.conf.jsconst path = require('path');const merge = require('webpack-merge');const commonConfig = require('./webpack.base.conf.js');module.exports = merge(commonConfig, &#123; mode: 'production', devtool: 'cheap-module-source-map', output: &#123; publicPath: '/', // æ‰“åŒ…è·¯å¾„ // è¾“å‡ºç›®å½• path: path.resolve(__dirname, '../dist'), // æ–‡ä»¶åç§° filename: 'bundle.[name].[hash].js', chunkFilename: '[name].[hash].js', &#125;, optimization: &#123; usedExports: true, splitChunks: &#123; chunks: 'all', // æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ cacheGroups: &#123; // å…¬å…±ä»£ç æ‰“åŒ…åˆ†ç»„é…ç½® vendors: &#123; test: /[\\\\/]node_modules[\\\\/]/, name: 'vendors', &#125;, &#125;, &#125;, &#125;, plugins: [ new MiniCssExtractPlugin(&#123; filename: '[name].[hash].css', chunkFilename: '[id].[hash].css', &#125;), // new webpack.DefinePlugin(&#123; // 'process.env.NODE_ENV': JSON.stringify('production'), // &#125;), ],&#125;); 4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ12\"start\": \"cross-env NODE_ENV=development node ./build/dev-server.js\",\"build\": \"cross-env NODE_ENV=production webpack --config ./build/webpack.prod.conf.js\", å†™åˆ°è¿™é‡Œï¼Œä¸€ä¸ªåŸºæœ¬çš„Reactå¼€å‘ç¯å¢ƒä¹Ÿå°±æ­èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥é’ˆå¯¹ä»£ç æˆ–è€…å¼€å‘æ•ˆç‡è¿›è¡Œä¼˜åŒ–ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"},{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€","date":"2019-07-11T01:42:50.000Z","path":"2019/07/11/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€/","text":"å‰è¨€ï¼šæ¥è§¦webpackä»åœ¨å­¦æ ¡çš„é‚£ä¼šèµ·ï¼Œä¹Ÿä¸€ç›´åœ¨ä½¿ç”¨å®ƒï¼Œç”¨çš„éƒ½æ˜¯åˆ«äººå°è£…å¥½çš„ï¼Œå¶å°”å»ä¿®æ”¹ä¸€ç‚¹ç‚¹é…ç½®ï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£è‡ªå·±ä»é›¶å¼€å§‹é…ç½®ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œæ¥ä¸‹æ¥å‡ ç¯‡å°†è®°å½•æˆ‘å¯¹webpackä»¥åŠå¼€å‘ä¸­æå‡æ•ˆç‡çš„é…ç½®ï¼Œå…¶ä¸­é‡åˆ°çš„ä¸€äº›å‘ä¹Ÿä¼šæç¤ºå‡ºæ¥ã€‚ ç‰ˆæœ¬ webpack 4 Babel 7 æœ¬ç¯‡ä¸»è¦ä½¿ç”¨webpackæ­å»ºåŸºç¡€çš„Reactç¯å¢ƒ å¿«é€Ÿæµè§ˆï¼š webpackä¼˜åŒ–ç¯‡ webpackæ ¸å¿ƒæ¦‚å¿µ entry: å…¥å£èµ·ç‚¹ output: è¾“å‡º module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å— loader: è½¬æ¢å·¥å…·ï¼Œwebpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ã€‚loader è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ plugin: æ‰©å±•æ’ä»¶ï¼Œloader ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼Œåœ¨webpackæ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰ç­‰ mode: webpacçš„æ‰“åŒ…ç¯å¢ƒ[development, production] chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰² åŸºç¡€é…ç½®1ã€åˆå§‹åŒ–é¡¹ç›®1234567mkdir webpack-templatecd webpack-templatemkdir srcmkdir publicmkdir buildmkdir distnpm init -y 2ã€å®‰è£…webpack123yarn add webpack webpack-cli -Dcd buildtouch webpack.config.js 12345678910111213141516// ç®€å•çš„webpacké…ç½®// webpack.config.jsåˆå§‹åŒ–å†…å®¹const path = require('path'); module.exports = &#123; mode: \"development\", // æŒ‡å®šç¯å¢ƒ entry: [\"./src/index.js\"], // æ‰“åŒ…å…¥å£æ–‡ä»¶ output: &#123; // è¾“å‡ºç›®å½• path: path.resolve(__dirname, \"../dist\"), // æ–‡ä»¶åç§° filename: \"bundle.js\" &#125;, // æ‰“åŒ…è¾“å‡ºåˆ° dist/bundle.js. module:&#123;&#125;, plugins:[]&#125; package.jsonæ›´æ”¹123\"scripts\": &#123; \"start\": \"webpack --config ./build/webpack.config.js\"&#125;, 3ã€HtmlWebpackPluginå°†æ‰“åŒ…çš„jsè‡ªåŠ¨æ’å…¥åˆ° index.html é‡Œé¢å»ã€‚123yarn add html-webpack-plugin -Dcd publictouch index.html 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Webpack Template&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=\"root\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 1234567891011const HtmlWebpackPlugin = require('html-webpack-plugin'); module.exports = &#123; //...åŒä¸Š plugins:[ new HtmlWebpackPlugin(&#123; filename: 'index.html', // æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å template: path.join(__dirname, '../public/index.html'), // æŒ‡å®šæ¨¡æ¿è·¯å¾„ &#125;), ]&#125; 4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX1yarn add babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D 123456789101112module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(js|jsx)$/, exclude: /node_modules/, use: 'babel-loader', &#125; ], &#125;,&#125; æ–°å»º.babelrcæ–‡ä»¶1234&#123; \"presets\": [\"@babel/preset-env\", \"@babel/preset-react\"], \"plugins\": [\"@babel/plugin-transform-runtime\", \"@babel/plugin-proposal-class-properties\"]&#125; ğŸ”¥Tip1 é—®é¢˜ï¼šSupport for the experimental syntax â€˜classPropertiesâ€™ isnâ€™t currently enabled yarn add @babel/plugin-proposal-class-properties å¹¶åœ¨pluginsä¸­é…ç½® 5ã€é…ç½®è½¬ä¹‰Typescript1yarn add typescript ts-loader -D 123456789101112module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.tsx?$/, exclude: /node_modules/, loader: \"ts-loader\" &#125; ], &#125;,&#125; æ–°å»ºtsconfig.json123456789101112131415161718192021222324252627282930&#123; \"compilerOptions\": &#123; \"baseUrl\": \".\", \"rootDir\": \".\", \"outDir\": \"dist\", \"module\": \"esnext\", // æ¨¡å—å¼•å…¥çš„æ–¹å¼ \"target\": \"es6\", // è½¬æ¢ä¸ºes6 \"lib\": [\"dom\", \"es7\"], \"jsx\": \"preserve\", \"moduleResolution\": \"node\", \"sourceMap\": true, \"allowJs\": true, // åœ¨typescriptä¸­å…è®¸å¼•å…¥jsæ–‡ä»¶ \"forceConsistentCasingInFileNames\": true, \"noImplicitReturns\": true, \"noImplicitThis\": true, \"noImplicitAny\": true, \"noUnusedLocals\": true, \"noUnusedParameters\": true, \"strictNullChecks\": true, \"importHelpers\": true, \"suppressImplicitAnyIndexErrors\": true, \"experimentalDecorators\": true, \"downlevelIteration\": true, \"allowSyntheticDefaultImports\": true, \"paths\": &#123; \"@/*\": [\"src/*\"] &#125; &#125;, \"exclude\": [\"node_modules\", \"dist\", \"build\", \"mock\"]&#125; 6ã€CleanWebpackPluginæ¸…é™¤ dist ç›®å½•ä¸‹æ—§ç‰ˆæœ¬æ–‡ä»¶ã€‚1yarn add clean-webpack-plugin -D 123456789const &#123; CleanWebpackPlugin &#125; = require('clean-webpack-plugin'); module.exports = &#123; //...åŒä¸Š plugins:[ //...åŒä¸Š new CleanWebpackPlugin() ]&#125; 7ã€source-mapå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶12devtool: \"cheap-module-eval-source-map\", // developmentdevtool: \"cheap-module-source-map\", // production 8ã€WebpackDevServerwebpackåœ¨æœ¬åœ°ä¸ºæ­å»ºäº†ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå®æ—¶æ‰“åŒ…é‡åŠ è½½ä¿®æ”¹çš„ä»£ç ã€‚ 1yarn add webpack-dev-server -D 1234567891011121314module.exports = &#123; //...åŒä¸Š devServer: &#123; hot: true, contentBase: path.resolve(__dirname, \"../dist\"), host: \"localhost\", port: 8586, historyApiFallback: true, // è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html proxy: &#123; // ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€ // \"/api\": \"http://localhost:3000\" &#125; &#125;&#125; ä¿®æ”¹package.jsonå‘½ä»¤1234// package.json\"scripts\": &#123; \"start\": \"webpack-dev-server --config ./build/webpack.config.js\",&#125;, 9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules1yarn add css-loader style-loader sass-loader node-sass -D 1234567891011121314151617181920212223module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(sc|sa|c)ss$/, use: [ 'style-loader', &#123; loader: 'css-loader', options: &#123; modules: &#123; localIdentName: '[local]_[hash:base64:5]', &#125;, // sourceMap: !isDev &amp;&amp; true, &#125;, &#125;, 'sass-loader', // ç¼–è¯‘scss ], &#125;, ], &#125;,&#125; ğŸ”¥Tip2 é—®é¢˜ï¼šå½“åœ¨ css-loader é…ç½®ä¸Š sourceMap æ—¶ï¼Œé…åˆçƒ­åŠ è½½æ ·å¼ä¼šé—ªå± sourceMap: !isDev &amp;&amp; true, 10ã€é›†æˆpostcssä¸ºcssæŸäº›ç‰¹æ€§è‡ªåŠ¨å¢åŠ å‰ç¼€ï¼Œå¹¶åšä¸€äº›å…¼å®¹å¤„ç†ã€‚ 1yarn add postcss-loader postcss-preset-env -D 123456789101112131415module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(sc|sa|c)ss$/, use: [ //...åŒä¸Š 'postcss-loader', // ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€ 'sass-loader', ], &#125;, ], &#125;,&#125; æ–°å»ºpostcss.config.jsæ–‡ä»¶123456module.exports = &#123; loader: 'postcss-loader', plugins: &#123; 'postcss-preset-env': &#123;&#125;, &#125;&#125; æ–°å»º.browserlistrcæ–‡ä»¶12341% in CNandroid &gt;= 4.4ios &gt;= 8not ie &lt;= 11 11ã€å›¾ç‰‡å¤„ç†123yarn add file-loader url-loader -D# file-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜# url-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loader è¿›è¡Œæ‹·è´ 1234567891011121314151617module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(png|jpg|jpeg|gif|svg)/, use: &#123; loader: 'url-loader', options: &#123; outputPath: 'images/', limit: 10 * 1024, &#125;, &#125;, &#125;, ], &#125;,&#125; 12ã€å­—ä½“æ–‡ä»¶å¤„ç†123456789101112131415161718192021module.exports = &#123; //...åŒä¸Š module: &#123; rules: [ &#123; test: /\\.(eot|woff2?|ttf|svg)$/, use: [ &#123; loader: 'url-loader', options: &#123; name: '[name]-[hash:5].min.[ext]', limit: 5000, publicPath: 'fonts/', outputPath: 'fonts/', &#125;, &#125;, ], &#125;, ], &#125;,&#125; åˆ°è¿™é‡Œï¼Œwebpackçš„åŸºæœ¬é…ç½®æˆ‘ä»¬å·²ç»å‡†å¤‡çš„å·®ä¸å¤šäº†ï¼Œèµ¶ç´§å†™ç‚¹reactæ¥è¯•è¯•æ°´ã€‚ æµ‹è¯•Reactç¯å¢ƒ1yarn add react react-dom react-router react-router-dom 123456789101112131415161718// src/index.jsimport React, &#123; PureComponent &#125; from 'react';import ReactDOM from 'react-dom'; export default class App extends PureComponent &#123; render() &#123; return ( &lt;div&gt; hello word~ &lt;/div&gt; ) &#125;&#125; ReactDOM.render( &lt;App /&gt;, document.getElementById('root')); æ‰§è¡Œ npm start ï¼Œå¦‚æœé¡µé¢ä¸Šèƒ½æ­£å¸¸æ˜¾ç¤º hello word~ é‚£è¡¨ç¤ºæˆ‘ä»¬çš„webapckåŸºç¡€é…ç½®æˆåŠŸã€‚ ç¬¬ä¸€ç¯‡webpackåŸºç¡€é…ç½®åˆ°æ­¤ç»“æŸäº†ï¼Œä¸‹ä¸€ç¯‡å¯¹webpackè¿›è¡Œä¼˜åŒ–é…ç½®ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"webpack","slug":"webpack","permalink":"http://yoursite.com/tags/webpack/"},{"name":"react","slug":"react","permalink":"http://yoursite.com/tags/react/"}]},{"title":"Nginxä¸‹å‡çº§https","date":"2019-06-11T07:26:49.000Z","path":"2019/06/11/Nginxä¸‹å‡çº§https/","text":"è´­ä¹°è¯ä¹¦å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡è´­ä¹° ä¸‹è½½è¯ä¹¦åœ¨è¯ä¹¦æ§åˆ¶å°ä¸‹è½½ Nginx ç‰ˆæœ¬è¯ä¹¦ã€‚ä¸‹è½½åˆ°æœ¬åœ°çš„å‹ç¼©æ–‡ä»¶åŒ…è§£å‹ååŒ…å«ï¼š .pemæ–‡ä»¶ï¼šè¯ä¹¦æ–‡ä»¶ .keyæ–‡ä»¶ï¼šè¯ä¹¦çš„ç§é’¥æ–‡ä»¶ï¼ˆç”³è¯·è¯ä¹¦æ—¶å¦‚æœæ²¡æœ‰é€‰æ‹©è‡ªåŠ¨åˆ›å»ºCSRï¼Œåˆ™æ²¡æœ‰è¯¥æ–‡ä»¶ï¼‰ é…ç½®Nginx1ã€åœ¨ Nginx çš„å®‰è£…ç›®å½•ä¸‹åˆ›å»º cert ç›®å½•ï¼Œå¹¶ä¸”å°†ä¸‹è½½çš„å…¨éƒ¨æ–‡ä»¶æ‹·è´åˆ° cert ç›®å½•ä¸­ï¼Œå¦‚æœç”³è¯·è¯ä¹¦æ—¶æ˜¯è‡ªå·±åˆ›å»ºçš„CSRæ–‡ä»¶ï¼Œè¯·å°†å¯¹åº”çš„ç§é’¥æ–‡ä»¶æ”¾åˆ° cert ç›®å½•ä¸‹ã€‚ 2ã€æ‰“å¼€ Nginx å®‰è£…ç›®å½•ä¸‹ conf ç›®å½•ä¸­çš„ nginx.conf æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#user nobody;worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' # '$status $body_bytes_sent \"$http_referer\" ' # '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; gzip on; #å¼€å¯gzip gzip_min_length 1k; #ä½äº1kbçš„èµ„æºä¸å‹ç¼© gzip_comp_level 3; #å‹ç¼©çº§åˆ«ã€1-9ã€‘ï¼Œè¶Šå¤§å‹ç¼©ç‡è¶Šé«˜ï¼ŒåŒæ—¶æ¶ˆè€—cpuèµ„æºä¹Ÿè¶Šå¤šï¼Œå»ºè®®è®¾ç½®åœ¨4å·¦å³ã€‚ gzip_types text/plain application/javascript application/x-javascript text/javascript text/xml text/css; #éœ€è¦å‹ç¼©å“ªäº›å“åº”ç±»å‹çš„èµ„æºï¼Œå¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸å»ºè®®å‹ç¼©å›¾ç‰‡ï¼Œä¸‹é¢ä¼šè®²ä¸ºä»€ä¹ˆã€‚ gzip_disable \"MSIE [1-6]\\.\"; #é…ç½®ç¦ç”¨gzipæ¡ä»¶ï¼Œæ”¯æŒæ­£åˆ™ã€‚æ­¤å¤„è¡¨ç¤ºie6åŠä»¥ä¸‹ä¸å¯ç”¨gzipï¼ˆå› ä¸ºieä½ç‰ˆæœ¬ä¸æ”¯æŒï¼‰ gzip_vary on; #æ˜¯å¦æ·»åŠ â€œVary: Accept-Encodingâ€å“åº”å¤´ server &#123; listen 80 default backlog=2048; #é…ç½®httpå¯ç”¨ listen 443 ssl; #é…ç½®https server_name localhost; ssl_certificate ../cert/hzzly.pem; #é…ç½®è¯ä¹¦æ–‡ä»¶ ssl_certificate_key ../cert/hzzly.key; #é…ç½®ç§é’¥æ–‡ä»¶ ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / &#123; root /home/hzzly; index index.html index.htm; &#125; # location ^~ /apis/ &#123; # proxy_set_header Host $host; # proxy_set_header X-Real-IP $remote_addr; # proxy_set_header X-Forwarded-Server $host; # # åŒ¹é…ä»»ä½•ä»¥ /apis/ å¼€å§‹çš„è¯·æ±‚ï¼Œå¹¶åœæ­¢åŒ¹é… å…¶å®ƒlocation # proxy_pass http://xxxxxxxxxx/; # &#125; # location ^~ /assets/ &#123; # gzip_static on; # expires max; # add_header Cache-Control public; # &#125; &#125;&#125; 3ã€é‡å¯ Nginx 12$ cd /usr/local/nginx/sbin$ ./nginx -s reload é”™è¯¯è¯¦è§£1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯1nginx: [emerg] the \"ssl\" parameter requires ngx_http_ssl_module in ... Nginxå¼€å¯SSLæ¨¡å— åˆ‡æ¢åˆ°æºç åŒ…ï¼š 1$ cd /usr/local/src/nginx-1.16.0 ä¿®æ”¹æ–°çš„configureå‚æ•° 1$ ./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤ 1$ make //è¿™é‡Œä¸è¦è¿›è¡Œmake installï¼Œå¦åˆ™å°±æ˜¯è¦†ç›–å®‰è£… å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„nginx 1$ cp /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.bak å°†åˆšåˆšç¼–è¯‘å¥½çš„nginxè¦†ç›–æ‰åŸæœ‰çš„nginx 1$ cp ./objs/nginx /usr/local/nginx/sbin/ é‡å¯ Nginx 12$ cd /usr/local/nginx/sbin$ ./nginx -s reload","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾","date":"2019-03-04T07:53:11.000Z","path":"2019/03/04/å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾/","text":"ä½œç”¨åŸŸ ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚ ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚ JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚ æƒ³äº†è§£æ›´å¤šå…³äºä½œç”¨åŸŸçš„é—®é¢˜æ¨èé˜…è¯»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·ã€‹ç¬¬ä¸€ç« ï¼ˆæˆ–ç¬¬ä¸€éƒ¨åˆ†ï¼‰ï¼Œä»ç¼–è¯‘åŸç†çš„è§’åº¦è¯´æ˜ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸã€‚æ¦‚æ‹¬çš„è¯´ä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è®¾è®¡è‰¯å¥½çš„è§„åˆ™æ¥å­˜å‚¨å˜é‡ï¼Œå¹¶ä¸”ä¹‹åå¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°è¿™äº›å˜é‡ã€‚ è¯æ³•ä½œç”¨åŸŸåœ¨ä½ ä¸çŸ¥é“çš„javascriptä¸Šå·ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šè¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œè¯æ³•ä½œç”¨åŸŸæ˜¯ç”±ä½ åœ¨å†™ä»£ç æ—¶å°†å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œæ¥å†³å®šçš„ï¼Œå› æ­¤å½“è¯æ³•åˆ†æå™¨å¤„ç†ä»£ç æ—¶ä¼šä¿æŒä½œç”¨åŸŸä¸å˜(å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯è¿™æ ·çš„)ã€‚ åœ¨JSä¸­è¯æ³•ä½œç”¨åŸŸçš„è§„åˆ™ï¼š å‡½æ•°å…è®¸è®¿é—®å‡½æ•°å¤–éƒ¨çš„æ•°æ® æ•´ä¸ªä»£ç ç»“æ„ä¸­åªæœ‰å‡½æ•°å¯ä»¥é™å®šä½œç”¨åŸŸ ä½œç”¨è§„åˆ™é¦–å…ˆä½¿ç”¨æå‡è§„åˆ™åˆ†æ å¦‚æœå½“å‰ä½œç”¨åŸŸä¸­æœ‰äº†åå­—äº†ï¼Œå°±ä¸è€ƒè™‘å¤–é¢çš„åå­— æ —1ï¼š123456var a = 2;function foo() &#123; var a = 3; console.log(a); // 3&#125;foo(); æ —2ï¼š123456789function foo() &#123; console.log(a); // 2&#125;function bar() &#123; var a = 3; foo();&#125;var a = 2;bar(); ä½œç”¨åŸŸé“¾åªæœ‰å‡½æ•°æ‰èƒ½åˆ¶é€ ä½œç”¨åŸŸç»“æ„ï¼Œé‚£ä¹ˆåªè¦æ˜¯ä»£ç ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œå³å…¨å±€ä½œç”¨åŸŸã€‚ å‡¡æ˜¯ä»£ç ä¸­æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ„æˆå¦ä¸€ä¸ªä½œç”¨åŸŸã€‚å¦‚æœå‡½æ•°ä¸­è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å°±åˆå¯ä»¥è¯ç”Ÿä¸€ä¸ªä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°†è¿™æ ·çš„æ‰€æœ‰ä½œç”¨åŸŸåˆ—å‡ºæ¥ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªç»“æ„ï¼šå‡½æ•°å†…æŒ‡å‘å‡½æ•°å¤–çš„é“¾å¼ç»“æ„ã€‚ ä»¥ä¸Šé¢æ —2ï¼š123456789function foo() &#123; console.log(a); // 2&#125;function bar() &#123; var a = 3; foo();&#125;var a = 2;bar(); å…¨å±€ä½œç”¨åŸŸï¼Œæœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼šfooã€barã€a bar æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ša ä½œç”¨åŸŸæ˜¯ç”±ä»£ç å†™åœ¨å“ªé‡Œå†³å®šçš„ï¼Œå¹¶ä¸”æ˜¯é€çº§åŒ…å«çš„ã€‚ æˆ‘ä»¬ç”¨çº§é“¾æ¥è¡¨ç¤ºä¸€ä¸‹ä»¥ä¸Šä»£ç å—ï¼š ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå‡½æ•°fooå’Œbarä»¥åŠå˜é‡ a=2ï¼Œ åœ¨1çº§é“¾ï¼Œè€Œbarä¸‹åˆå¯ä»¥å±•å¼€2çº§é“¾ï¼Œ2çº§é“¾ä¸Šæœ‰a=3ã€‚ç¨‹åºbar()è°ƒç”¨è¿›å…¥ä¸­é—´2çº§é“¾ï¼Œè€Œbarä¸­åˆè°ƒç”¨äº†fooå‡½æ•°ï¼Œæ­¤æ—¶ç¨‹åºè¿›å…¥fooçš„ä½œç”¨åŸŸé“¾ï¼ŒæŒ‰ç…§å‘ä¸ŠæŸ¥æ‰¾çš„åŸåˆ™ï¼Œç¨‹åºä¼šä»è¿™ä¸€æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œé¦–å…ˆ2çº§é“¾æ²¡æœ‰aï¼Œå‘ä¸Šåˆ°è¾¾1çº§é“¾ï¼Œåˆšå¥½1çº§é“¾ä¸Šæœ‰a=2ï¼Œæ‰€ä»¥å°±ç›´æ¥ä½¿ç”¨2ï¼Œç¨‹åºæœ€åçš„ç»“æœå°±æ˜¯æ‰“å°2ã€‚ æ‰€ä»¥æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚ å®è·µã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹æ€è€ƒé¢˜123456789var scope = \"global scope\";function checkscope()&#123; var scope = \"local scope\"; function f()&#123; return scope; &#125; return f();&#125;checkscope(); å‚è€ƒ JavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ","tags":[{"name":"js","slug":"js","permalink":"http://yoursite.com/tags/js/"}]},{"title":"gitflowåŸºæœ¬æ“ä½œ","date":"2019-03-03T15:34:28.000Z","path":"2019/03/03/gitflowåŸºæœ¬æ“ä½œ/","text":"å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚ ä¸»åˆ†æ”¯ master åªè´Ÿè´£ç®¡ç†å‘å¸ƒçš„çŠ¶æ€ã€‚åœ¨æäº¤æ—¶ä½¿ç”¨æ ‡ç­¾è®°å½•å‘å¸ƒç‰ˆæœ¬å·ã€‚develop é’ˆå¯¹å‘å¸ƒçš„æ—¥å¸¸å¼€å‘åˆ†æ”¯ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»è®²è§£è¿‡æœ‰åˆå¹¶åˆ†æ”¯çš„åŠŸç”¨ã€‚ å¼€å‘åˆ†æ”¯Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š1git checkout -b develop master å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š1234# åˆ‡æ¢åˆ°Masteråˆ†æ”¯git checkout master# å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶(ä½¿ç”¨äº†--no-ffå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æäº¤)git merge --no-ff develop ä¸´æ—¶æ€§åˆ†æ”¯ åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯ åŠŸèƒ½åˆ†æ”¯åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š1git checkout -b feature-x develop å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š12git checkout developgit merge --no-ff feature-x åˆ é™¤featureåˆ†æ”¯ï¼š123git branch -d feature-x# åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete feature-x é¢„å‘å¸ƒåˆ†æ”¯åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š1git checkout -b release-1.2 develop ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š1234git checkout mastergit merge --no-ff release-1.2# å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾git tag -a 1.2 å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š12git checkout developgit merge --no-ff release-1.2 æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š1git branch -d release-1.2 ä¿®è¡¥bugåˆ†æ”¯åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š1git checkout -b fixbug-0.1 master ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š1234git checkout mastergit merge --no-ff fixbug-0.1# å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾git tag -a 0.1.1 å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š12git checkout developgit merge --no-ff fixbug-0.1 æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š1git branch -d fixbug-0.1 å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge1git reset --hard HEAD~ åˆå¹¶123456# rebase åˆå¹¶git checkout issue3git rebase master# master åˆå¹¶git checkout mastergit merge issue3 ä¿®æ”¹å†²çªåçš„æäº¤1git rebase --continue å–æ¶ˆrebase1git rebase --abort å›é€€commit å›é€€ commit log commit reset push å›é€€ push log push reset æ ‡ç­¾æ·»åŠ è½»æ ‡ç­¾12345git tag v2.0# æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨git tag# æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨åŒ…å«æ ‡ç­¾èµ„æ–™çš„å†å²è®°å½•git log --decorate æ·»åŠ æ³¨è§£æ ‡ç­¾12345git tag -a v3.0// æˆ–git tag -am \"æ³¨è§£\" v3.0# æ˜¾ç¤ºæ ‡ç­¾çš„åˆ—è¡¨å’Œæ³¨è§£git tag -n åˆ é™¤æ ‡ç­¾12git tag -d v2.0git tag -d v3.0 æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹1git push origin v1.5 æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯1git branch -a Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“1git remote åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€1git remote rm origin ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€1git remote add origin http://xxx.git å‚è€ƒ ã€ŠGitåˆ†æ”¯ç®¡ç†ç­–ç•¥â€“é˜®ä¸€å³°ã€‹ çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨","tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ","date":"2019-02-27T12:34:09.000Z","path":"2019/02/27/dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ/","text":"dva æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹æ¡ˆredux-saga API take(pattern) ä½¿ç”¨takeæ“ä½œè¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨ Store ä¸Šç­‰å¾…æŒ‡å®šçš„ actionã€‚ åœ¨å‘èµ·ä¸ pattern åŒ¹é…çš„ action ä¹‹å‰ï¼ŒGenerator å°†æš‚åœï¼ˆegï¼šä¸‹ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœï¼‰ã€‚ 1234567891011121314*fetchList(&#123; payload, callback &#125;, &#123; call, put, select, take &#125;) &#123; yield put(&#123; type: 'dict/xxxx', payload: &#123; ... &#125;, &#125;); yield take('dict/xxxx/@@end'); const dictData = yield select(state =&gt; state.dict.dicts); const response = yield call(getList, &#123; xxx: dictData.xxx ... &#125;);&#125; race(effects) ä»»åŠ¡çš„ç«äº‰ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨å¤šä¸ª Effect é—´è¿è¡Œ ç«èµ›ï¼ˆRaceï¼‰ï¼ˆä¸ Promise.race([â€¦]) çš„è¡Œä¸ºç±»ä¼¼ï¼‰ã€‚ 123456789*fetchList(&#123; payload, callback &#125;, &#123; race &#125;) &#123; const &#123; list, timeout &#125; = yield race(&#123; list: call(services.fetchList), timeout: call(delay, TIMEOUT), &#125;); if (timeout) &#123; throw new Error('timeout'); &#125;&#125; ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ æŠŠå¤šä¸ªè¦å¹¶è¡Œæ‰§è¡Œçš„ä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„éƒ½ç»“æŸä¹‹åï¼Œè¿›å…¥ä¸‹ä¸ªç¯èŠ‚ï¼Œç±»ä¼¼promise.allçš„æ“ä½œã€‚ä¸€èˆ¬æœ‰ä¸€äº›é›†æˆç•Œé¢ï¼Œæ¯”å¦‚dashboardï¼Œå…¶ä¸­å„ç»„ä»¶ä¹‹é—´ä¸šåŠ¡å…³è”è¾ƒå°ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼å»åˆ†åˆ«åŠ è½½æ•°æ®ï¼Œæ­¤æ—¶ï¼Œæ•´ä½“åŠ è½½æ—¶é—´åªå–å†³äºæ—¶é—´æœ€é•¿çš„é‚£ä¸ªã€‚ ä¹‹å‰æ˜¯ yield [], åæ¥ dva å‡çº§äº† saga çš„ç‰ˆæœ¬ä¹‹åå°±æ¨èç”¨ yield all([]) yield [] 1234567*fetchList(&#123; payload, callback &#125;, &#123; &#125;) &#123; const [xx1_req, xx2_req, xx3_req] = yield [ call(xx1, payload), call(xx2, payload), call(xx3, payload), ]&#125; yield all([]) 1234567*fetchList(&#123; payload, callback &#125;, &#123; all &#125;) &#123; const [xx1_req, xx2_req, xx3_req] = yield all([ call(xx1, payload), call(xx2, payload), call(xx3, payload), ])&#125;","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"}]},{"title":"æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶","date":"2019-01-04T09:43:48.000Z","path":"2019/01/04/æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶/","text":"å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸å¼ºå¤§äº†ã€‚ chromeæµè§ˆå™¨æ˜¯ä¸€ä¸ªå·¥ä½œã€å­¦ä¹ å’Œç”Ÿæ´»çš„å¿…å¤‡å·¥å…·ã€‚é™¤äº†chromeæœ¬èº«çš„åŸºæœ¬èƒ½åŠ›ï¼ˆæ§åˆ¶å°ç­‰ï¼‰å¤–ï¼Œèƒ½å¤§å¹…æé«˜è¿™ä¸ªç¥å™¨çš„ä½¿ç”¨ä½“éªŒçš„æ˜¯å®ƒå¯æ‰©å±•èƒ½åŠ›ï¼ˆæ’ä»¶ï¼‰ä»¥åŠä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æŠ˜è…¾ä¸€ä¸ªåœ¨çº¿ç¿»è¯‘çš„chromeæ’ä»¶ã€‚ å¥½äº†ï¼Œæœ‰äº†éœ€æ±‚æˆ‘ä»¬å°±å¾—å¼€å‘äº†(å›§)ï¼ è¦ç‚¹ï¼š manifest.json // chromeé…ç½®æ–‡ä»¶ webpacké…ç½®(æ‰“åŒ…ï¼Œçƒ­ç¼–è¯‘) jsonp ajaxå°è£… å¼€å‘ä¹‹å‰äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Chromeæ’ä»¶=&gt; ä»€ä¹ˆæ˜¯Chromeæ’ä»¶Chromeæ’ä»¶æ˜¯ä¸€ä¸ªç”¨WebæŠ€æœ¯å¼€å‘ã€ç”¨æ¥å¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç”±HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰èµ„æºç»„æˆçš„ä¸€ä¸ª.crxåç¼€çš„å‹ç¼©åŒ…ã€‚ æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰è¿™æ˜¯ä¸€ä¸ªChromeæ’ä»¶æœ€é‡è¦ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®æ‰€æœ‰å’Œæ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œå¿…é¡»æ”¾åœ¨éœ€è¦æµè§ˆå™¨æ‰“åŒ…çš„æ ¹ç›®å½•ã€‚å…¶ä¸­ï¼Œmanifest_versionã€nameã€version3ä¸ªæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œdescriptionå’Œiconsæ˜¯æ¨èçš„ã€‚ æ —å­(æ¯”è¾ƒå…¨)ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&#123; // æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå¿…é¡»å†™ï¼Œè€Œä¸”å¿…é¡»æ˜¯2 \"manifest_version\": 2, // æ’ä»¶çš„åç§° \"name\": \"demo\", // æ’ä»¶çš„ç‰ˆæœ¬ \"version\": \"1.0.0\", // æ’ä»¶æè¿° \"description\": \"ç®€å•çš„Chromeæ‰©å±•demo\", // å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜ \"icons\": &#123; \"16\": \"img/icon.png\", \"48\": \"img/icon.png\", \"128\": \"img/icon.png\" &#125;, // ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢ \"background\": &#123; // 2ç§æŒ‡å®šæ–¹å¼ï¼Œå¦‚æœæŒ‡å®šJSï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ \"page\": \"background.html\" //\"scripts\": [\"js/background.js\"] &#125;, // æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€ \"browser_action\": &#123; \"default_icon\": \"img/icon.png\", // å›¾æ ‡æ‚¬åœæ—¶çš„æ ‡é¢˜ï¼Œå¯é€‰ \"default_title\": \"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹Chromeæ’ä»¶\", \"default_popup\": \"popup.html\" &#125;, // å½“æŸäº›ç‰¹å®šé¡µé¢æ‰“å¼€æ‰æ˜¾ç¤ºçš„å›¾æ ‡ /*\"page_action\": &#123; \"default_icon\": \"img/icon.png\", \"default_title\": \"æˆ‘æ˜¯pageAction\", \"default_popup\": \"popup.html\" &#125;,*/ // éœ€è¦ç›´æ¥æ³¨å…¥é¡µé¢çš„JS \"content_scripts\": [&#123; //\"matches\": [\"http://*/*\", \"https://*/*\"], // \"&lt;all_urls&gt;\" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€ \"matches\": [\"&lt;all_urls&gt;\"], // å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥ \"js\": [\"js/jquery-1.8.3.js\", \"js/content-script.js\"], // JSçš„æ³¨å…¥å¯ä»¥éšä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯CSSçš„æ³¨æ„å°±è¦åƒä¸‡å°å¿ƒäº†ï¼Œå› ä¸ºä¸€ä¸å°å¿ƒå°±å¯èƒ½å½±å“å…¨å±€æ ·å¼ \"css\": [\"css/custom.css\"], // ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š \"document_start\", \"document_end\", or \"document_idle\"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle \"run_at\": \"document_start\" &#125;, &#123; // è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºcontent-scriptå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™ \"matches\": [\"*://*/*.png\", \"*://*/*.jpg\", \"*://*/*.gif\", \"*://*/*.bmp\"], \"js\": [\"js/show-image-content-size.js\"] &#125;], // æƒé™ç”³è¯· \"permissions\": [ \"contextMenus\", // å³é”®èœå• \"tabs\", // æ ‡ç­¾ \"notifications\", // é€šçŸ¥ \"webRequest\", // webè¯·æ±‚ \"webRequestBlocking\", \"storage\", // æ’ä»¶æœ¬åœ°å­˜å‚¨ \"http://*/*\", // éœ€è¦è¯·æ±‚çš„åœ°å€ \"https://*/*\" // éœ€è¦è¯·æ±‚çš„åœ°å€ ]&#125; ä»‹ç»å®Œåæˆ‘ä»¬å°±æ¥å¼€å‘äº†(ç ä»£ç ä¸­â€¦) å¼€å‘(åŸºäºVue)åˆå§‹åŒ–é¡¹ç›®123456789101112mkdir online-translatecd online-translatenpm init// æ–‡ä»¶å±‚çº§â”œâ”€â”€ chrome // æµè§ˆå™¨æ‰“åŒ…çš„æ–‡ä»¶å¤¹â”œâ”€â”€ index.htmlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ src // æºç â””â”€â”€ webpack.config.js // wepack å®‰è£…ä¾èµ–12345// å®‰è£…é¡¹ç›®ä¾èµ–npm install vue element-ui --save// å®‰è£…å¼€å‘ä¾èµ–npm install babel-core babel-loader babel-plugin-component babel-preset-env cross-env css-loader file-loader html-webpack-plugin style-loader vue-loader vue-template-compiler webpack webpack-dev-server --save-dev webpacké…ç½®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485// webpack.config.jsvar path = require('path')var webpack = require('webpack')const HtmlWebpackPlugin = require('html-webpack-plugin')module.exports = &#123; entry: &#123; popup: './src/popup.js', &#125;, output: &#123; path: path.resolve(__dirname, './chrome'), publicPath: '/', filename: '[name].[hash].js' &#125;, module: &#123; rules: [ &#123; test: /\\.vue$/, loader: 'vue-loader', options: &#123; loaders: &#123; &#125; // other vue-loader options go here &#125; &#125;, &#123; test: /\\.js$/, loader: 'babel-loader', exclude: /node_modules/ &#125;, &#123; test: /\\.css$/, loader: 'style-loader!css-loader' &#125;, &#123; test: /\\.(eot|svg|ttf|woff|woff2)(\\?\\S*)?$/, loader: 'file-loader' &#125;, &#123; test: /\\.(png|jpg|gif|svg)$/, loader: 'file-loader', options: &#123; name: '[name].[ext]?[hash]' &#125; &#125; ] &#125;, plugins: [ // new webpack.HotModuleReplacementPlugin(), // new webpack.NamedModulesPlugin(), new HtmlWebpackPlugin(&#123; template: path.join(__dirname, './index.html'), inject: true &#125;) ], devServer: &#123; historyApiFallback: true, noInfo: true &#125;, performance: &#123; hints: false &#125;, devtool: '#eval-source-map'&#125;if (process.env.NODE_ENV === 'production') &#123; module.exports.devtool = '#source-map' // http://vue-loader.vuejs.org/en/workflow/production.html module.exports.plugins = (module.exports.plugins || []).concat([ new webpack.DefinePlugin(&#123; 'process.env': &#123; NODE_ENV: '\"production\"' &#125; &#125;), new webpack.optimize.UglifyJsPlugin(&#123; sourceMap: false, compress: &#123; warnings: false &#125; &#125;), new webpack.LoaderOptionsPlugin(&#123; minimize: true &#125;) ])&#125; é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬å°±èƒ½æ„‰å¿«çš„å¼€å‘äº† æ¥ä¸‹æ¥å°±æ˜¯ Vue çš„å¼€å‘äº†ï¼æ­£å¸¸çš„é¡¹ç›®å¼€å‘â€¦ è¯¦ç»†æºç å¯ä»¥çœ‹github webpackæ‰“åŒ…1npm run build æŠŠä»£ç æ‰“åŒ…åˆ°äº†chromeæ–‡ä»¶å¤¹å†…ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨chromeæ‰©å±•è¿›è¡Œæ‰“åŒ…æ‰©å±•ç¨‹åºï¼Œä¼šç”Ÿæˆ.crxå’Œ.pemæ–‡ä»¶ï¼Œç„¶åç›´æ¥å‘å¸ƒæˆ–è€…æŠŠ.crxæ–‡ä»¶æ‹–è¿›æ‰©å±•ç¨‹åºå†…è¿›è¡Œå†…æµ‹ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"chrome","slug":"chrome","permalink":"http://yoursite.com/tags/chrome/"}]},{"title":"Node é…ç½®æ–‡ä»¶çš„å®šåˆ¶","date":"2018-11-13T13:54:17.000Z","path":"2018/11/13/Node-é…ç½®æ–‡ä»¶çš„å®šåˆ¶/","text":"åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤ ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦ç”¨åˆ°ä¸€äº›å¯é…ç½®çš„å˜é‡ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œåœ¨å¼€å‘æ—¶æˆ‘ä»¬ä¼šè¿å¼€å‘çš„æ•°æ®åº“ï¼Œç”Ÿæˆç¯å¢ƒæˆ‘ä»¬éœ€è¦è¿ç”Ÿäº§çš„æ•°æ®åº“ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ è½½ä¸ä¸€æ ·çš„é…ç½®æ–‡ä»¶ï¼Œä»è€Œæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥å®šåˆ¶æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚ ç¯å¢ƒå˜é‡åœ¨ Node ä¸­å¯ä»¥é€šè¿‡ process.env æ¥è®¿é—®å½“å‰çš„ç¯å¢ƒå˜é‡ä¿¡æ¯ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ package.json ä¸­é€šè¿‡ scripts å®šä¹‰çš„shellè„šæœ¬æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ã€‚12345678910// package.json&#123; ... \"scripts\": &#123; \"start\": \"node ./bin/www\", \"dev\": \"NODE_ENV=dev node ./bin/www\", \"pro\": \"NODE_ENV=pro node ./bin/www\" &#125;, ...&#125; å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æœ‰ä¸‰æ¡æ¡å¯åŠ¨å‘½ä»¤ï¼Œä¸€æ¡æ˜¯é»˜è®¤çš„ startï¼Œå¦å¤–ä¸¤æ¡æˆ‘ä»¬é€šè¿‡ NODE_ENV=xxx æ¥è®¾ç½®äº†å¯¹åº”çš„ç¯å¢ƒï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ npm run dev å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œé€šè¿‡ process.env.NODE_ENV å°±å¯ä»¥å–åˆ°é¡¹ç›®çš„å½“å‰ç¯å¢ƒã€‚ é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶åœ¨ä¸Šé¢æˆ‘ä»¬é€šè¿‡shellè„šæœ¬æŒ‡å®šäº†å¯¹åº”çš„ç¯å¢ƒï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ process.env.NODE_ENV æ¥åŠ è½½å¯¹åº”çš„é…ç½®æ–‡ä»¶äº†ã€‚12345678910111213141516// config/index.jsmodule.exports = &#123; dev: &#123; ...çœç•¥ mongodb: 'mongodb://localhost:27017/demo' &#125;, build: &#123; ...çœç•¥ mongodb: 'mongodb://127.0.0.0:27017/demo' &#125;&#125;// app.jsconst config = require('./config')const mongodb = process.env.NODE_ENV === 'dev' ? config.build.mongodb : config.dev.mongodb è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒçš„æ”¾å¿ƒçš„å†™ä»£ç äº†ï¼Œä½†è¿™æ ·\bå†™è¿˜ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œéƒ½å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œäº†ï¼Œä¸å¤ªå¥½ç»´æŠ¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœŸæ­£çš„åŠ¨æ€åŠ è½½ï¼Œä¸éœ€è¦æˆ‘ä»¬å†åŠ åˆ¤æ–­äº†ã€‚ config-lite config-liteï¼š A super simple &amp; flexible &amp; intuitive config module, support yaml &amp; toml. è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒï¼Œå°†é…ç½®å†™å…¥ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºconfigç›®å½•ï¼Œé‡Œé¢æ–°å»ºä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼šdefault.jsã€dev.jså’Œpro.jsã€‚12345678910111213141516171819202122232425// default.jsmodule.exports = &#123; session: &#123; secret: 'config-lite-demo', resave: false, saveUninitialized: true, cookie: &#123; maxAge: 1000*60*60 &#125; &#125;&#125;;// dev.jsmodule.exports = &#123; host: \"https://dev.com\", mongodb: 'mongodb://localhost:27017/test', ...çœç•¥&#125;;// pro.jsmodule.exports = &#123; host: \"https://pro.com\", mongodb: 'mongodb://127.0.0.0:27017/test', ...çœç•¥&#125;; å¥½äº†ï¼Œé…ç½®æ–‡ä»¶å†™å¥½äº†ï¼Œå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ config-lite æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¾æ—§æ˜¯ä¾æ®æˆ‘ä»¬shellè„šæœ¬æŒ‡å®šçš„å¯¹åº”ç¯å¢ƒæ¥é€‰æ‹©ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚ Install1$ npm i config-lite --save å½“æˆ‘ä»¬ä½¿ç”¨ npm run dev å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œconfig-liteä¼šå»æŠ“å–dev.jsé…ç½®ï¼Œå¹¶ä¸”ä¼šä¸default.jsé‡Œé…ç½®å»åˆå¹¶ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å¯¹è±¡ï¼Œä¼šè¦†ç›–default.jsé‡Œçš„é…ç½®ã€‚åŒç† npm run pro Usage1234567891011121314151617181920212223242526272829303132// app.jsconst config = require('config-lite')(__dirname);// 1ã€å¦‚æœ\bè¿è¡Œ npm run devconfig = &#123; host: \"https://dev.com\", mongodb: 'mongodb://localhost:27017/test', session: &#123; secret: 'config-lite-demo', resave: false, saveUninitialized: true, cookie: &#123; maxAge: 1000*60*60 &#125; &#125; ...çœç•¥&#125;// 2ã€å¦‚æœ\bè¿è¡Œ npm run proconfig = &#123; host: \"https://pro.com\", mongodb: 'mongodb://127.0.0.0:27017/test', session: &#123; secret: 'config-lite-demo', resave: false, saveUninitialized: true, cookie: &#123; maxAge: 1000*60*60 &#125; &#125; ...çœç•¥&#125; \bè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æ›´å¥½ç»´æŠ¤çš„åŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨windowså¹³å°ä¸‹ä½¿ç”¨ç±»ä¼¼äº: NODE_ENV=proçš„å‘½ä»¤è¡ŒæŒ‡ä»¤ä¼šå¡ä½ï¼Œwindowså¹³å°ä¸POSIXåœ¨ä½¿ç”¨å‘½ä»¤è¡Œæ—¶æœ‰è®¸å¤šåŒºåˆ«ï¼ˆä¾‹å¦‚åœ¨POSIXï¼Œä½¿ç”¨$ENV_VAR,åœ¨windowsï¼Œä½¿ç”¨%ENV_VAR%ã€‚ã€‚ã€‚ï¼‰ï¼‰ã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼ŸğŸ‘‡ cross-env cross-env è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œä¸åŒå¹³å°ä½¿ç”¨å”¯ä¸€æŒ‡ä»¤ï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜ Install1$ npm i cross-env --save Usage12345678910// package.json&#123; ... \"scripts\": &#123; \"start\": \"node ./bin/www\", \"dev\": \"cross-env NODE_ENV=dev node ./bin/www\", \"pro\": \"cross-env NODE_ENV=pro node ./bin/www\" &#125;, ...&#125; è¿™æ · NODE_ENV ä¾¿è®¾ç½®æˆåŠŸï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜ã€‚ egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨åœ¨ config ç›®å½•(è„šæ‰‹æ¶ç”Ÿæˆçš„)æ–°å¢ config.dev.js å’Œ config.pro.jsï¼Œç„¶ååœ¨æ–‡ä»¶å†…å†™æˆ‘ä»¬å¯¹åº”ç¯å¢ƒçš„é…ç½®ã€‚ é…ç½®ç¯å¢ƒ1234567891011// package.json&#123; ... \"script\": &#123; ... \"dev\": \"EGG_SERVER_ENV=dev egg-bin dev\", \"pro\": \"EGG_SERVER_ENV=pro egg-scripts start\", ... &#125; ...&#125; åœ¨ egg ä¸­é€šè¿‡ EGG_SERVER_ENV \bæ¥å£°æ˜å¯¹åº”çš„ç¯å¢ƒå˜é‡ã€‚ ä½¿ç”¨1const config = this.app.config // å¾—åˆ°å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶(ä¹Ÿä¼šå’Œ default è¿›è¡Œåˆå¹¶) å®Œç»“ï¼Œå¥½ä¹…æ²¡å†™äº†ï¼Œæœ‰ç‚¹ç”Ÿç–äº†ï¼Œè‹¦ç¬‘ï¼ï¼ï¼","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"å‰ç«¯è·¯ç”±çš„å®ç°åŸç†","date":"2017-09-16T13:09:32.000Z","path":"2017/09/16/å‰ç«¯è·¯ç”±çš„å®ç°åŸç†/","text":"è·¯ç”± åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„é¡µé¢ä¹Ÿä¸ç›¸åŒã€‚è¿™æ˜¯ä»è·¯ç”±çš„ç”¨é€”ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰ä¸€ç§è¯´æ³•æ˜¯ï¼šè·¯ç”±å°±æ˜¯URLåˆ°å‡½æ•°çš„æ˜ å°„ã€‚è¿™æ˜¯ä»è·¯ç”±çš„å®ç°åŸç†ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ã€‚è¿™ä¸¤ç§è¯´æ³•éƒ½å¾ˆæœ‰é“ç†ã€‚ æ—©æœŸçš„è·¯ç”±éƒ½æ˜¯åç«¯å®ç°çš„ï¼Œç›´æ¥æ ¹æ® url æ¥ reload é¡µé¢ï¼Œé¡µé¢å˜å¾—è¶Šæ¥è¶Šå¤æ‚æœåŠ¡å™¨ç«¯å‹åŠ›å˜å¤§ï¼Œéšç€ ajax çš„å‡ºç°ï¼Œé¡µé¢å®ç°é reload å°±èƒ½åˆ·æ–°æ•°æ®ï¼Œä¹Ÿç»™å‰ç«¯è·¯ç”±çš„å‡ºç°å¥ å®šäº†åŸºç¡€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®°å½• url æ¥è®°å½• ajax çš„å˜åŒ–ï¼Œä»è€Œå®ç°å‰ç«¯è·¯ç”±ã€‚ å‰ç«¯è·¯ç”±è¯´ç™½äº†å°±æ˜¯ç›‘å¬æµè§ˆå™¨è·¯ç”±åœ°å€çš„å˜åŒ–ï¼Œæ¸²æŸ“ä¸åŒçš„é¡µé¢æˆ–ç»„ä»¶ã€‚ä¸‹é¢ä¸»è¦è®²ä¸¤ç§ä¸»æµæ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼š Historyè¿™é‡Œä¸ç»†è¯´æ¯ä¸€ä¸ª API çš„ç”¨æ³•ï¼Œå¤§å®¶å¯ä»¥çœ‹ MDN çš„æ–‡æ¡£ï¼šhttps://developer.mozilla.orgâ€¦ 14å¹´åï¼Œå› ä¸ºHTML5æ ‡å‡†å‘å¸ƒï¼Œæ–°å¢äº†ä¸¤ä¸ª APIï¼Œhistory.pushState å’Œ history.replaceStateï¼Œé€šè¿‡è¿™ä¸¤ä¸ª API å¯ä»¥æ”¹å˜ url åœ°å€ä¸”ä¸ä¼šå‘é€è¯·æ±‚ã€‚ è¿™ä¸¤ä¸ª API éƒ½æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ çŠ¶æ€å¯¹è±¡ï¼ˆstate objectï¼‰ â€” ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œä¸ç”¨pushState()æ–¹æ³•åˆ›å»ºçš„æ–°å†å²è®°å½•æ¡ç›®å…³è”ã€‚æ— è®ºä½•æ—¶ç”¨æˆ·å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„çŠ¶æ€ï¼Œpopstateäº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ï¼Œå¹¶ä¸”äº‹ä»¶å¯¹è±¡çš„stateå±æ€§éƒ½åŒ…å«å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„æ‹·è´ã€‚ æ ‡é¢˜ï¼ˆtitleï¼‰ â€” FireFoxæµè§ˆå™¨ç›®å‰ä¼šå¿½ç•¥è¯¥å‚æ•°ï¼Œè™½ç„¶ä»¥åå¯èƒ½ä¼šç”¨ä¸Šã€‚è€ƒè™‘åˆ°æœªæ¥å¯èƒ½ä¼šå¯¹è¯¥æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œä¼ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¼šæ¯”è¾ƒå®‰å…¨ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªç®€çŸ­çš„æ ‡é¢˜ï¼Œæ ‡æ˜å°†è¦è¿›å…¥çš„çŠ¶æ€ã€‚ åœ°å€ï¼ˆURLï¼‰ â€” æ–°çš„å†å²è®°å½•æ¡ç›®çš„åœ°å€ã€‚æµè§ˆå™¨ä¸ä¼šåœ¨è°ƒç”¨pushState()æ–¹æ³•ååŠ è½½è¯¥åœ°å€ï¼Œä½†ä¹‹åï¼Œå¯èƒ½ä¼šè¯•å›¾åŠ è½½ï¼Œä¾‹å¦‚ç”¨æˆ·é‡å¯æµè§ˆå™¨ã€‚æ–°çš„URLä¸ä¸€å®šæ˜¯ç»å¯¹è·¯å¾„ï¼›å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒå°†ä»¥å½“å‰URLä¸ºåŸºå‡†ï¼›ä¼ å…¥çš„URLä¸å½“å‰URLåº”è¯¥æ˜¯åŒæºçš„ï¼Œå¦åˆ™ï¼ŒpushState()ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼›ä¸æŒ‡å®šçš„è¯åˆ™ä¸ºæ–‡æ¡£å½“å‰URLã€‚ç›¸åŒä¹‹å¤„æ˜¯ä¸¤ä¸ª API éƒ½ä¼šæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œè€Œä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ã€‚ ä¸åŒä¹‹å¤„åœ¨äºï¼ŒpushStateä¼šå¢åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•ï¼Œè€ŒreplaceStateåˆ™ä¼šæ›¿æ¢å½“å‰çš„å†å²è®°å½•ã€‚ æˆ‘ä»¬æ‹¿å¤§ç™¾åº¦çš„æ§åˆ¶å°ä¸¾ä¾‹å­ï¼ˆå…·ä½“è¯´æ˜¯æˆ‘çš„æµè§ˆå™¨åœ¨ç™¾åº¦é¦–é¡µæ‰“å¼€æ§åˆ¶å°ã€‚ã€‚ã€‚ï¼‰ æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥ 1window.history.pushState(null, null, \"https://www.baidu.com/?name=hzzly\"); å¥½ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ­¤æ—¶çš„ url å˜æˆäº†è¿™æ ·https://www.baidu.com/?name=hzzly æˆ‘ä»¬è¿™é‡Œä¸ä¸€ä¸€æµ‹è¯•ï¼Œç›´æ¥ç»™å‡ºå…¶å®ƒç”¨æ³•ï¼Œå¤§å®¶è‡ªè¡Œå°è¯•1234567891011121314window.history.pushState(null, null, \"https://www.baidu.com/name/hzzly\");//url: https://www.baidu.com/name/hzzly window.history.pushState(null, null, \"?name=hzzly\");//url: https://www.baidu.com?name=hzzly window.history.pushState(null, null, \"name=hzzly\");//url: https://www.baidu.com/name=hzzly window.history.pushState(null, null, \"/name/hzzly\");//url: https://www.baidu.com/name/hzzly window.history.pushState(null, null, \"name/hzzly\");//url: https://www.baidu.com/name/hzzly æ¯æ¬¡æ”¹å˜ url é¡µé¢å¹¶æ²¡æœ‰åˆ·æ–°ï¼ŒåŒæ ·æ ¹æ®ä¸Šæ–‡æ‰€è¿°ï¼Œæµè§ˆå™¨ä¼šäº§ç”Ÿå†å²è®°å½•ã€‚ æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬historyå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” popstate äº‹ä»¶12345function matchAndUpdate () &#123; // åŒ¹é…è·¯å¾„ åš dom æ›´æ–°æ“ä½œ&#125;window.addEventListener('popstate', matchAndUpdate) hashæˆ‘ä»¬ç»å¸¸åœ¨ url ä¸­çœ‹åˆ° #ï¼Œè¿™ä¸ª # æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬æ‰€è°“çš„é”šç‚¹ï¼Œæ¯”å¦‚å…¸å‹çš„å„ä¸ªæ ‡é¢˜ä¹‹é—´çš„è·³è½¬ç­‰ï¼Œè·¯ç”±é‡Œçš„ # ä¸å«é”šç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º hashã€‚ åŒæ ·æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬å“ˆå¸Œå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” hashchange äº‹ä»¶ 12345function matchAndUpdate () &#123; // åŒ¹é… hash åš dom æ›´æ–°æ“ä½œ&#125;window.addEventListener('hashchange', matchAndUpdate) æˆ‘ä»¬ç”¨ window.location å¤„ç†å“ˆå¸Œçš„æ”¹å˜æ—¶ä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯å½“ä½œæ–°é¡µé¢åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬è·³è½¬é¡µé¢å°±å¯ä»¥åœ¨ hashchange äº‹ä»¶ä¸­æ³¨å†Œ ajax ä»è€Œæ”¹å˜é¡µé¢å†…å®¹ã€‚ å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š1.ä»æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„å±‚é¢æ¥æ¯”è¾ƒçš„è¯ï¼Œåç«¯è·¯ç”±æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™éƒ½è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å†å“åº”è¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹è‚¯å®šä¼šæœ‰å»¶è¿Ÿã€‚è€Œå‰ç«¯è·¯ç”±åœ¨è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™ä»…ä»…æ˜¯å˜æ¢äº†ä¸€ä¸‹è·¯å¾„è€Œå·²ï¼Œæ²¡æœ‰äº†ç½‘ç»œå»¶è¿Ÿï¼Œå¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ä¼šæœ‰ç›¸å½“å¤§çš„æå‡ã€‚2.åœ¨æŸäº›åœºåˆä¸­ï¼Œç”¨ajaxè¯·æ±‚ï¼Œå¯ä»¥è®©é¡µé¢æ— åˆ·æ–°ï¼Œé¡µé¢å˜äº†ä½†Urlæ²¡æœ‰å˜åŒ–ï¼Œç”¨æˆ·å°±ä¸èƒ½å¤åˆ¶åˆ°æƒ³è¦çš„åœ°å€ï¼Œç”¨å‰ç«¯è·¯ç”±åšå•é¡µé¢ç½‘é¡µå°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ ç¼ºç‚¹ï¼šä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€é”®çš„æ—¶å€™ä¼šé‡æ–°å‘é€è¯·æ±‚ï¼Œæ²¡æœ‰åˆç†åœ°åˆ©ç”¨ç¼“å­˜ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"åœ¨Vue.jsä¸­ä½¿ç”¨Mixins","date":"2017-09-12T03:15:14.000Z","path":"2017/09/12/åœ¨Vue-jsä¸­ä½¿ç”¨Mixins/","text":"ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯? è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å®Œç¾çš„: å¦‚æœä½ å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶, åœ¨éœ€æ±‚å˜åŒ–(åŠŸèƒ½å˜åŒ–)æ—¶, å¯èƒ½ä¼šå¢åŠ éœ€è¦åŒæ—¶ä¿®æ”¹ä¸¤ä¸ªç»„ä»¶çš„é£é™©, è¿™è¿åäº†â€DRYâ€çš„å‰æ. å¦ä¸€æ–¹é¢, å¤ªå¤šçš„propså¾ˆå¿«ä¼šè®©äººå˜å¾—å‡Œä¹±, å¹¶ä¸”, è¿«ä½¿ç»´æŠ¤äººå‘˜, ç”šè‡³æ˜¯ä½ è‡ªå·±, è¦é¦–å…ˆç†è§£è¿™äº›propsçš„ä¸Šä¸‹æ–‡æ‰èƒ½ä½¿ç”¨å®ƒ, è¿™ä¼šè®©äººéå¸¸å¤±æœ›. Vueçš„Mixinsæ˜¯éå¸¸å®ç”¨çš„ç¼–ç¨‹æ–¹å¼, å› ä¸ºæœ€ç»ˆå®ç”¨çš„ç¼–ç¨‹æ˜¯é€šè¿‡ä¸æ–­å‡å°‘è¿åŠ¨éƒ¨ä»¶(moving parts)ä½¿ä»£ç å˜å¾—å®¹æ˜“ç†è§£. (å…³äºè¿™ä¸€ç‚¹, Michael Feathersæœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¼•ç”¨). ä¸€ä¸ªmixinå…è®¸ä½ å°è£…ä¸€ä¸ªåŠŸèƒ½, ä»¥ä¾¿ä½ èƒ½åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç»„ä»¶ä¸­ä½¿ç”¨å®ƒ. å¦‚æœmixinè¢«æ­£ç¡®çš„åˆ›å»º, å®ƒä»¬æ˜¯çº¯ç²¹çš„â€“å®ƒä»¬ä¸ä¼šä¿®æ”¹æˆ–æ›´æ”¹å‡½æ•°çš„ä½œç”¨èŒƒå›´(scope)ä¹‹å¤–çš„å†…å®¹, å› æ­¤, æ‚¨å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹æ‰§è¡Œå®ƒä»¬, å¹¶ä¸”åªè¦è¾“å…¥å€¼ç›¸åŒ, æ€»æ˜¯èƒ½éå¸¸å¯é å¾—å¾—åˆ°ç›¸åŒçš„ç»“æœ. è¿™çœŸçš„éå¸¸å¼ºå¤§. è®¤è¯†Mixinsæ··åˆ (mixins) æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚ æ —å­ å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸åŒçš„ç»„ä»¶, å®ƒä»¬çš„å·¥ä½œæ˜¯åˆ‡æ¢çŠ¶æ€boolean, ä¸€ä¸ªæ¨¡æ€(modal)å’Œä¸€ä¸ªæç¤º(tooltip). è¿™äº›tooltipså’Œmodalsæ²¡æœ‰å¾ˆå¤šå…±åŒä¹‹å¤„, é™¤äº†è¿™ä¸ªåŠŸèƒ½: å®ƒä»¬çœ‹èµ·æ¥ä¸ä¸€æ ·, å®ƒä»¬ä½¿ç”¨èµ·æ¥ä¹Ÿä¸å°½ç›¸åŒ, ä½†æ˜¯å®ƒä»¬çš„é€»è¾‘æ˜¯ç›¸ä¼¼çš„ . 1234567891011121314151617181920212223242526272829//modalconst Modal = &#123; template: '#modal', data() &#123; return &#123; isShowing: false &#125; &#125;, methods: &#123; toggleShow() &#123; this.isShowing = !this.isShowing; &#125; &#125;&#125; //tooltipconst Tooltip = &#123; template: '#tooltip', data() &#123; return &#123; isShowing: false &#125; &#125;, methods: &#123; toggleShow() &#123; this.isShowing = !this.isShowing; &#125; &#125;&#125; æˆ‘ä»¬å¯ä»¥ä»ä¸­æå–é€»è¾‘, å¹¶åˆ›å»ºå¯ä»¥å¤ç”¨çš„éƒ¨åˆ†ï¼š12345678910111213141516171819202122const toggle = &#123; data() &#123; return &#123; isShowing: false &#125; &#125;, methods: &#123; toggleShow() &#123; this.isShowing = !this.isShowing; &#125; &#125;&#125; const Modal = &#123; template: '#modal', mixins: [toggle]&#125;; const Tooltip = &#123; template: '#tooltip', mixins: [toggle]&#125;; duang â€” ä¸€ä¸ªå°è€Œç®€å•çš„ğŸŒ°è®©æˆ‘ä»¬çŸ¥é“äº†Mixinså¯¹äºå°è£…ä¸€äº›å¯å¤ç”¨çš„åŠŸèƒ½å¦‚æ­¤æœ‰è¶£ã€æ–¹ä¾¿ã€å®ç”¨ã€‚ é¡¹ç›®å®è·µ MagicMusic star(200+)","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"Vueæ’ä»¶çš„å¼€å‘(ä¸€)","date":"2017-08-25T05:59:55.000Z","path":"2017/08/25/Vueæ’ä»¶çš„å¼€å‘-ä¸€/","text":"å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vue-toast æ’ä»¶ï¼Œæ¥äº†è§£æŒæ¡æ’ä»¶çš„å¼€å‘å’Œä½¿ç”¨ã€‚ è®¤è¯†æ’ä»¶æƒ³è¦å¼€å‘æ’ä»¶ï¼Œå…ˆè¦è®¤è¯†ä¸€ä¸ªæ’ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚å®˜æ–¹æ–‡æ¡£:æ’ä»¶ Vue.js çš„æ’ä»¶åº”å½“æœ‰ä¸€ä¸ªå…¬å¼€æ–¹æ³• install ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ , ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡: 1234567891011121314151617181920MyPlugin.install = function (Vue, options) &#123; Vue.myGlobalMethod = function () &#123; // 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚: vue-custom-element // é€»è¾‘... &#125; Vue.directive('my-directive', &#123; // 2. æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ vue-touch bind (el, binding, vnode, oldVnode) &#123; // é€»è¾‘... &#125; ... &#125;) Vue.mixin(&#123; created: function () &#123; // 3. é€šè¿‡å…¨å±€ mixinæ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚: vuex // é€»è¾‘... &#125; ... &#125;) Vue.prototype.$myMethod = function (options) &#123; // 4. æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç° // é€»è¾‘... &#125;&#125; æ¥ä¸‹æ¥è¦è®²åˆ°çš„ vue-toast æ’ä»¶åˆ™æ˜¯é€šè¿‡æ·»åŠ å®ä¾‹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªå°ä¾‹å­ã€‚å…ˆæ–°å»ºä¸ªjsæ–‡ä»¶æ¥ç¼–å†™æ’ä»¶ï¼štoast.js 123456// toast.jsvar Toast = &#123;&#125;;Toast.install = function (Vue, options) &#123; Vue.prototype.$msg = 'Hello World';&#125;module.exports = Toast; åœ¨ main.js ä¸­ï¼Œéœ€è¦å¯¼å…¥ toast.js å¹¶ä¸”é€šè¿‡å…¨å±€æ–¹æ³• Vue.use() æ¥ä½¿ç”¨æ’ä»¶ï¼š 1234// main.jsimport Vue from 'vue';import Toast from './toast.js';Vue.use(Toast); ç„¶åï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­æ¥è·å–è¯¥æ’ä»¶å®šä¹‰çš„ $msg å±æ€§ã€‚ 123456// App.vueexport default &#123; mounted()&#123; console.log(this.$msg); // Hello World &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº† Hello World ã€‚æ—¢ç„¶ $msg èƒ½è·å–åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥å®ç°æˆ‘ä»¬çš„ vue-toast æ’ä»¶äº†ã€‚ å¼€å‘ vue-toast æ’ä»¶éœ€æ±‚ï¼šåœ¨ç»„ä»¶ä¸­é€šè¿‡è°ƒç”¨ this.$toast(â€˜ç½‘ç»œè¯·æ±‚å¤±è´¥â€™) æ¥å¼¹å‡ºæç¤ºï¼Œé»˜è®¤åœ¨åº•éƒ¨æ˜¾ç¤ºã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ this.$toast.top() æˆ– this.$toast.center() ç­‰æ–¹æ³•æ¥å®ç°åœ¨ä¸åŒä½ç½®æ˜¾ç¤ºã€‚ æ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œå¼¹å‡ºæç¤ºçš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥åœ¨ body ä¸­æ·»åŠ ä¸€ä¸ª div ç”¨æ¥æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œä¸åŒçš„ä½ç½®æˆ‘é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»åæ¥å®šä½ï¼Œé‚£å°±å¯ä»¥å¼€å§‹å†™äº†ã€‚ 123456789101112131415// toast.jsvar Toast = &#123;&#125;;Toast.install = function (Vue, options) &#123; Vue.prototype.$toast = (tips) =&gt; &#123; let toastTpl = Vue.extend(&#123; // 1ã€åˆ›å»ºæ„é€ å™¨ï¼Œå®šä¹‰å¥½æç¤ºä¿¡æ¯çš„æ¨¡æ¿ template: '&lt;div class=\"vue-toast\"&gt;' + tips + '&lt;/div&gt;' &#125;); let tpl = new toastTpl().$mount().$el; // 2ã€åˆ›å»ºå®ä¾‹ï¼ŒæŒ‚è½½åˆ°æ–‡æ¡£ä»¥åçš„åœ°æ–¹ document.body.appendChild(tpl); // 3ã€æŠŠåˆ›å»ºçš„å®ä¾‹æ·»åŠ åˆ°bodyä¸­ setTimeout(function () &#123; // 4ã€å»¶è¿Ÿ2.5ç§’åç§»é™¤è¯¥æç¤º document.body.removeChild(tpl); &#125;, 2500) &#125;&#125;module.exports = Toast; å¥½åƒå¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±å®ç°äº† this.$toast() ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºä¸åŒä½ç½® 123456// toast.js['bottom', 'center', 'top'].forEach(type =&gt; &#123; Vue.prototype.$toast[type] = (tips) =&gt; &#123; return Vue.prototype.$toast(tips,type) &#125;&#125;) è¿™é‡ŒæŠŠ type ä¼ ç»™ $toast åœ¨è¯¥æ–¹æ³•é‡Œè¿›è¡Œä¸åŒä½ç½®çš„å¤„ç†ï¼Œä¸Šé¢è¯´äº†é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»å(toast-bottomã€toast-topã€toast-center)æ¥å®ç°ï¼Œé‚£ $toast æ–¹æ³•éœ€è¦å°å°ä¿®æ”¹ä¸€ä¸‹ 123456Vue.prototype.$toast = (tips,type) =&gt; &#123; // æ·»åŠ  type å‚æ•° let toastTpl = Vue.extend(&#123; // æ¨¡æ¿æ·»åŠ ä½ç½®ç±» template: '&lt;div class=\"vue-toast toast-'+ type +'\"&gt;' + tips + '&lt;/div&gt;' &#125;); ...&#125; å¥½åƒå·®ä¸å¤šäº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³é»˜è®¤åœ¨é¡¶éƒ¨æ˜¾ç¤ºï¼Œæˆ‘æ¯æ¬¡éƒ½è¦è°ƒç”¨ this.$toast.top() å¥½åƒå°±æœ‰ç‚¹å¤šä½™äº†ï¼Œæˆ‘èƒ½ä¸èƒ½ this.$toast() å°±ç›´æ¥åœ¨æˆ‘æƒ³è¦çš„åœ°æ–¹å‘¢ï¼Ÿè¿˜æœ‰æˆ‘ä¸æƒ³è¦ 2.5s åæ‰æ¶ˆå¤±å‘¢ï¼Ÿè¿™æ—¶å€™æ³¨æ„åˆ° Toast.install(Vue,options) é‡Œçš„ options å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Vue.use() é€šè¿‡ options ä¼ è¿›æˆ‘ä»¬æƒ³è¦çš„å‚æ•°ã€‚æœ€åä¿®æ”¹æ’ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233var Toast = &#123;&#125;;Toast.install = function (Vue, options) &#123; let opt = &#123; defaultType:'bottom', // é»˜è®¤æ˜¾ç¤ºä½ç½® duration:'2500' // æŒç»­æ—¶é—´ &#125; for(let property in options)&#123; opt[property] = options[property]; // ä½¿ç”¨ options çš„é…ç½® &#125; Vue.prototype.$toast = (tips,type) =&gt; &#123; if(type)&#123; opt.defaultType = type; // å¦‚æœæœ‰ä¼ typeï¼Œä½ç½®åˆ™è®¾ä¸ºè¯¥type &#125; if(document.getElementsByClassName('vue-toast').length)&#123; // å¦‚æœtoastè¿˜åœ¨ï¼Œåˆ™ä¸å†æ‰§è¡Œ return; &#125; let toastTpl = Vue.extend(&#123; template: '&lt;div class=\"vue-toast toast-'+opt.defaultType+'\"&gt;' + tips + '&lt;/div&gt;' &#125;); let tpl = new toastTpl().$mount().$el; document.body.appendChild(tpl); setTimeout(function () &#123; document.body.removeChild(tpl); &#125;, opt.duration) &#125; ['bottom', 'center', 'top'].forEach(type =&gt; &#123; Vue.prototype.$toast[type] = (tips) =&gt; &#123; return Vue.prototype.$toast(tips,type) &#125; &#125;)&#125;module.exports = Toast; è¿™æ ·å­ä¸€ä¸ªç®€å•çš„ vue æ’ä»¶å°±å®ç°äº†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ npm æ‰“åŒ…å‘å¸ƒï¼Œä¸‹æ¬¡å°±å¯ä»¥ä½¿ç”¨ npm install æ¥å®‰è£…äº†ã€‚ å¥½ä¹…æ²¡æ›´æ–°åšå®¢ï¼Œé€ƒã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"vueä¸echartsçš„å¯è§†åŒ–","date":"2017-07-09T13:51:32.000Z","path":"2017/07/09/vueä¸echartsçš„å¯è§†åŒ–/","text":"å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚ ä¸€ã€é…æ–¹ vue echarts äºŒã€å‚è€ƒæ¡ˆä¾‹ gallery ç¤¾åŒºdemo ä¸‰ã€å®è·µ3.1å®‰è£… echarts1npm install echarts --save 3.2vue dom ç»“æ„1&lt;div id=\"charts\" style=\"height:300px;width:300px\"&gt;&lt;/div&gt; 3.3åœ¨vueä¸­å¼•å…¥echartså› ä¸ºEChartsåˆå§‹åŒ–å¿…é¡»ç»‘å®šdomï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨vueçš„mountedç”Ÿå‘½å‘¨æœŸé‡Œåˆå§‹åŒ–ã€‚ 3.3.1å…¨éƒ¨å¼•å…¥å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä»£ç ä¸­ require(â€˜echartsâ€™) æˆ– import å¾—åˆ° EChartsï¼Œæˆ‘è¿™é‡Œé€šè¿‡es6çš„importæ¥å¼•å…¥123456789101112131415161718192021222324252627import echarts from 'echarts' mounted () &#123; this.initChart()&#125;,methods: &#123; initChart () &#123; this.chart = echarts.init(document.getElementById('charts')) let option = &#123; title: &#123; text: 'ECharts å…¥é—¨ç¤ºä¾‹' &#125;, tooltip: &#123;&#125;, xAxis: &#123; data: [\"è¡¬è¡«\",\"ç¾Šæ¯›è¡«\",\"é›ªçººè¡«\",\"è£¤å­\",\"é«˜è·Ÿé‹\",\"è¢œå­\"] &#125;, yAxis: &#123;&#125;, series: [&#123; name: 'é”€é‡', type: 'bar', data: [5, 20, 36, 10, 10, 20] &#125;] &#125; this.chart.setOption(option) &#125;&#125; 3.3.2æŒ‰éœ€å¼•å…¥é»˜è®¤ä½¿ç”¨ require(â€˜echartsâ€™) å¾—åˆ°çš„æ˜¯å·²ç»åŠ è½½äº†æ‰€æœ‰å›¾è¡¨å’Œç»„ä»¶çš„ ECharts åŒ…ï¼Œå› æ­¤ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­å¯¹ä½“ç§¯è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œä¹Ÿå¯ä»¥åªæŒ‰éœ€å¼•å…¥éœ€è¦çš„æ¨¡å—ã€‚ ä¾‹å¦‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­åªç”¨åˆ°äº†æŸ±çŠ¶å›¾ï¼Œæç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶ï¼Œå› æ­¤åœ¨å¼•å…¥çš„æ—¶å€™ä¹Ÿåªéœ€è¦å¼•å…¥è¿™äº›æ¨¡å—ï¼Œå¯ä»¥æœ‰æ•ˆçš„å°†æ‰“åŒ…åçš„ä½“ç§¯ä» 400 å¤š KB å‡å°åˆ° 170 å¤š KBã€‚ 123456789// å¼•å…¥ ECharts ä¸»æ¨¡å—import echarts from 'echarts/lib/echarts'// å¼•å…¥æŸ±çŠ¶å›¾import 'echarts/lib/chart/bar'// å¼•å…¥æç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶import 'echarts/lib/component/tooltip'import 'echarts/lib/component/title' // åé¢çš„è·Ÿä¸Šé¢çš„å°±ä¸€æ ·äº† 3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)12345678910111213141516//ç¬¬ä¸€ç§ watch optionså˜åŒ– åˆ©ç”¨vueçš„æ·±åº¦ watcherï¼Œoptionsä¸€æœ‰å˜åŒ–å°±é‡æ–°setOptionwatch: &#123; options: &#123; handler(options) &#123; this.chart.setOption(this.options) &#125;, deep: true &#125;,&#125;//ç¬¬äºŒç§ åªwatch æ•°æ®çš„å˜åŒ– åªæœ‰æ•°æ®å˜åŒ–æ—¶è§¦å‘EChartswatch: &#123; seriesData(val) &#123; this.setOptions(&#123;series:val&#125;) &#125;&#125; 3.4ç»“æœåˆ°è¿™æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå°±å¯ä»¥æ˜¾ç¤ºå›¾è¡¨äº†ï¼Œå®ç°å¯è§†åŒ–æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ã€‚ å››ã€å‚è€ƒåœ¨ webpack ä¸­ä½¿ç”¨ ECharts","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"echarts","slug":"echarts","permalink":"http://yoursite.com/tags/echarts/"}]},{"title":"åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ","date":"2017-06-21T02:30:54.000Z","path":"2017/06/21/åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ/","text":"å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£å†³è·¨åŸŸã€‚ è¿˜ä¸æ‡‚å‰åç«¯åˆ†ç¦»çš„å¯ä»¥ç§»æ­¥ğŸ‘‰ï¼šå‰åç«¯åˆ†ç¦»çš„å°è¯• é…ç½® proxyTableåœ¨ config/index.js ä¸­ï¼ŒæŠŠ dev ä¸‹çš„ proxytable é‡Œé¢é…ç½®å¦‚ä¸‹ï¼š123456789proxyTable: &#123; '/api': &#123; target: 'http://api.hjingren.cn', changeOrigin: true, pathRewrite: &#123; '^/api': '' &#125; &#125;&#125; ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰1fetch('/api/playlist/detail?id=12345') æœ€åï¼švue-cliçš„è¿™ä¸ªé…ç½®æ¥è‡ªäºå…¶ä½¿ç”¨çš„æ’ä»¶http-proxy-middlewareï¼Œæƒ³è¿›ä¸€æ­¥äº†è§£çš„å¯ä»¥æ·±å…¥ç ”ç©¶ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”","date":"2017-06-16T10:44:03.000Z","path":"2017/06/16/åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”/","text":"ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼šç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³ï¼Œä»Šå¤©æ¥èŠä¸€èŠåŸºäºvue-clié…ç½®çš„ç§»åŠ¨ç«¯å±å¹•é€‚é…é—®é¢˜ã€‚ é…æ–¹è¿˜æ˜¯ä¸€æ ·ï¼šæ‰‹æ·˜çš„ lib-flexible + rem é…ç½® flexibleå®‰è£… lib-flexibleåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š 1npm i lib-flexible --save å¼•å…¥ lib-flexibleåœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ main.js é‡Œ å¼•å…¥ lib-flexible 12// main.jsimport 'lib-flexible' æ·»åŠ  meta æ ‡ç­¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ index.html ä¸­æ·»åŠ å¦‚ä¸‹ meta 1&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; px è½¬ remå®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡ç¨¿å¾—åˆ°çš„å€¼å•ä½æ˜¯ pxï¼Œæ‰€ä»¥è¦å°† px è½¬æ¢æˆ rem å†å†™è¿›æ ·å¼ä¸­ã€‚å°† px è½¬æ¢æˆ rem æˆ‘ä»¬å°†ä½¿ç”¨ px2rem è¿™ä¸ªå·¥å…·ï¼Œå®ƒæœ‰ webpack çš„ loaderï¼špx2rem-loader å®‰è£… px2rem-loaderåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š 1npm i px2rem-loade --save-dev é…ç½® px2rem-loadeåœ¨ vue-cli ç”Ÿæˆçš„ webpack é…ç½®ä¸­ï¼Œvue-loader çš„ options å’Œå…¶ä»–æ ·å¼æ–‡ä»¶ loader æœ€ç»ˆæ˜¯éƒ½æ˜¯ç”± build/utils.js é‡Œçš„ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆçš„ã€‚ æˆ‘ä»¬åªéœ€åœ¨ cssLoader åå†åŠ ä¸Šä¸€ä¸ª px2remLoader å³å¯ï¼Œpx2rem-loader çš„ remUnit é€‰é¡¹æ„æ€æ˜¯ 1rem=å¤šå°‘åƒç´ ï¼Œç»“åˆ lib-flexible çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°† px2remLoader çš„ options.remUnit è®¾ç½®æˆè®¾è®¡ç¨¿å®½åº¦çš„ 1/10ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾è®¾è®¡ç¨¿å®½ä¸º 750pxã€‚ 12345678910111213141516// utils.jsvar cssLoader = &#123; loader: 'css-loader', options: &#123; minimize: process.env.NODE_ENV === 'production', sourceMap: options.sourceMap &#125;&#125;var px2remLoader = &#123; loader: 'px2rem-loader', options: &#123; remUnit: 75 &#125;&#125;// ... å¹¶æ”¾è¿› loaders æ•°ç»„ä¸­ 1234// utils.jsfunction generateLoaders(loader, loaderOptions) &#123; var loaders = [cssLoader, px2remLoader] // ... ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯ï¼Œç„¶åæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™å•ä½ç›´æ¥å†™ pxï¼Œè®¾è®¡ç¨¿é‡å¤šå°‘å°±å¯ä»¥å†™å¤šå°‘äº†ï¼Œèˆ’æœå¤šäº†ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"Nginxä¸Nodeçš„çº ç¼ ","date":"2017-06-11T12:10:54.000Z","path":"2017/06/11/Nginxä¸Nodeçš„çº ç¼ /","text":"å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚ nginxçš„å¥½å¤„ çƒ­éƒ¨ç½² é«˜å¹¶å‘è¿æ¥ å¤„ç†å“åº”è¯·æ±‚å¾ˆå¿« å…·æœ‰å¾ˆé«˜çš„å¯é æ€§ çƒ­éƒ¨ç½²åœ¨ä¸åœæ­¢æœåŠ¡çš„æƒ…å†µä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ›´æ¢æ—¥å¿—æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚ é«˜å¹¶å‘è¿æ¥é«˜å¹¶å‘ï¼šæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·åŒæ—¶çš„è®¿é—®URLåœ°å€ï¼Œæ¯”å¦‚ï¼šæ·˜å®çš„åŒ11ï¼ŒåŒ12ï¼Œå°±ä¼šäº§ç”Ÿé«˜å¹¶å‘ã€‚ è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ä¸ªç‰¹æ€§ï¼åœ¨è¿™ä¸€ä¸ª äº’è”ç½‘ å¿«é€Ÿå‘å±•ï¼Œ äº’è”ç½‘ ç”¨æˆ·æ•°é‡ä¸æ–­å¢åŠ ï¼Œä¸€äº›å¤§å…¬å¸ã€ç½‘ç«™éƒ½éœ€è¦é¢å¯¹é«˜å¹¶å‘è¯·æ±‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªèƒ½å¤Ÿåœ¨å³°å€¼é¡¶ä½10ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚çš„Serverï¼Œè‚¯å®šä¼šå¾—åˆ°å¤§å®¶çš„é’çã€‚ç†è®ºä¸Šï¼ŒNginxæ”¯æŒçš„å¹¶å‘è¿æ¥ä¸Šé™å–å†³äºä½ çš„å†…å­˜ï¼Œ10ä¸‡è¿œæœªå°é¡¶ã€‚ Nginxèƒ½åšä»€ä¹ˆ åå‘ä»£ç† è´Ÿè½½å‡è¡¡ HTTPæœåŠ¡å™¨ï¼ˆåŒ…å«åŠ¨é™åˆ†ç¦»ï¼‰ æ­£å‘ä»£ç† åå‘ä»£ç†åå‘ä»£ç†åº”è¯¥æ˜¯Nginxåšçš„æœ€å¤šçš„ä¸€ä»¶äº‹äº†ï¼Œä»€ä¹ˆæ˜¯åå‘ä»£ç†å‘¢ï¼Œä»¥ä¸‹æ˜¯ç™¾åº¦ç™¾ç§‘çš„è¯´æ³•ï¼šåå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç®€å•æ¥è¯´å°±æ˜¯çœŸå®çš„æœåŠ¡å™¨ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ä¸€å°ä»£ç†æœåŠ¡å™¨ï¼Œè€Œä»£ç†æœåŠ¡å™¨èƒ½è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®çš„åŒæ—¶åˆè·ŸçœŸå®æœåŠ¡å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œç«¯å£ä¸åŒè€Œå·²ã€‚ ä¸‹é¢è´´ä¸Šä¸€æ®µç®€å•çš„å®ç°åå‘ä»£ç†çš„ä»£ç ï¼š 123456789server &#123; listen 80; server_name localhost; location / &#123; proxy_pass http://localhost:8081; proxy_set_header Host $host:$server_port; &#125;&#125; å½“æˆ‘ä»¬è®¿é—®localhostçš„æ—¶å€™ï¼Œå°±ç›¸å½“äºè®¿é—®localhost:8081äº† è´Ÿè½½å‡è¡¡è´Ÿè½½å‡è¡¡å¯ä»¥æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿›è¡Œå¤„ç†ï¼Œä»è€Œå®ç°äº†å¯¹æµ·é‡ç”¨æˆ·çš„è®¿é—®æ”¯æŒã€‚è´Ÿè½½å‡è¡¡çš„æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š ç®€å•è€Œè¨€å°±æ˜¯å½“æœ‰2å°æˆ–ä»¥ä¸ŠæœåŠ¡å™¨æ—¶ï¼Œæ ¹æ®è§„åˆ™éšæœºçš„å°†è¯·æ±‚åˆ†å‘åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶é…ç½®åå‘ä»£ç†ï¼Œé€šè¿‡åå‘ä»£ç†è·³è½¬åˆ°è´Ÿè½½å‡è¡¡ã€‚ 1234567891011121314upstream test &#123; server localhost:8080; server localhost:8081;&#125;server &#123; listen 81; server_name localhost; location / &#123; proxy_pass http://test; proxy_set_header Host $host:$server_port; &#125;&#125; HTTPæœåŠ¡å™¨Nginxæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ï¼Œå½“åªæœ‰é™æ€èµ„æºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨Nginxæ¥åšæœåŠ¡å™¨ï¼ŒåŒæ—¶ç°åœ¨ä¹Ÿå¾ˆæµè¡ŒåŠ¨é™åˆ†ç¦»ï¼Œå°±å¯ä»¥é€šè¿‡Nginxæ¥å®ç°ã€‚ 123456789101112131415161718server &#123; listen 80; server_name localhost; location / &#123; root /home/hzzly; index index.html index.htm; &#125; #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root html; &#125;&#125; æ­£å‘ä»£ç†æ­£å‘ä»£ç†ï¼Œæ„æ€æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚å½“ä½ éœ€è¦æŠŠä½ çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨Nginxæ¥å®ç°æ­£å‘ä»£ç†ã€‚ nodeçš„ç‰¹ç‚¹ å®ƒæ˜¯ä¸€ä¸ªjavascriptè¿è¡Œç¯å¢ƒ ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š äº‹ä»¶é©±åŠ¨ éé˜»å¡I/O è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨ å¹¶å‘è¿æ¥ï¼ˆé«˜å¹¶å‘ï¼‰ nodeåº”ç”¨åœºæ™¯NodeJSé€‚åˆè¿ç”¨åœ¨é«˜å¹¶å‘ã€I/Oå¯†é›†ã€å°‘é‡ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚ï¼ˆRESTful APIï¼ŒèŠå¤©ï¼‰ Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢é€šè¿‡å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰å’Œå¼‚æ­¥æœºåˆ¶æ¥å®ç°éé˜»å¡ã€‚é€šè¿‡äº‹ä»¶é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªç¯æ¥å®ç°å¹¶å‘è¿æ¥ã€‚ å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ nginxå’Œnodeçš„æ¯”è¾ƒ ä¸€ä¸ªæ›´ä¸“ä¸šï¼Œä¸€ä¸ªæ›´å…¨é¢ã€‚ Nginx é‡‡ç”¨Cç¼–å†™ï¼Œæ€§èƒ½æ›´é«˜ï¼Œä½†æ˜¯å®ƒä»…é€‚åˆäºåšwebæœåŠ¡å™¨ï¼Œç”¨äºåå‘ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡ç­‰æœåŠ¡ã€‚ NodeJsé«˜æ€§èƒ½å¹³å°ï¼ŒwebæœåŠ¡åªæ˜¯å…¶ä¸­ä¸€å—ï¼ŒNodeJsåœ¨å¤„ç†ä¸šåŠ¡å±‚ç”¨çš„æ˜¯JSç¼–å†™,é‡‡ç”¨çš„æ˜¯å¼‚æ­¥ç¼–ç¨‹æ–¹å¼å’Œæ€ç»´æ–¹å¼ã€‚ Node.jså‘å±•æ–¹å‘ä¸å†å•ç‹¬æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢å‘ç½‘ç»œçš„å¹³å°ï¼Œå®ƒç”šè‡³å¯ä»¥æ˜¯TCPæœåŠ¡å™¨ï¼Œæˆ–è€…å˜èº«ä¸ºè¿œç«¯æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚ nginxä¸nodeçš„å®Œç¾æ­é…nodeè‡ªå·±æœ¬èº«å¯ä»¥ä½œä¸ºæœåŠ¡å™¨è¿›è¡Œé©±åŠ¨ï¼Œä½†æ˜¯nodeæœ¬èº«å¯¹æ–‡ä»¶çš„å¤„ç†èƒ½åŠ›å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­åº”å°½é‡ä½¿ç”¨nginxæ¥å¤„ç†é™æ€çš„èµ„æºä»¥åŠåå‘ä»£ç†ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†nodeåˆ†å¸ƒå¼ä»¥åŠè´Ÿè½½å‡è¡¡çš„ç›¸å…³é—®é¢˜ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"jså®ç°å›¾ç‰‡æ‡’åŠ è½½","date":"2017-06-09T14:23:39.000Z","path":"2017/06/09/jså®ç°å›¾ç‰‡æ‡’åŠ è½½/","text":"å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚ æ‡’åŠ è½½çš„æ„ä¹‰ æ‡’åŠ è½½çš„ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºæœåŠ¡å™¨å‰ç«¯çš„ä¼˜åŒ–ï¼Œå‡å°‘è¯·æ±‚æ•°æˆ–å»¶è¿Ÿè¯·æ±‚æ•°ï¼Œå¯¹æœåŠ¡å™¨ç¼“å‹ã€‚ é¢„åŠ è½½:æå‰åŠ è½½å¥½ï¼Œç¼“å­˜åˆ°æœ¬åœ°ï¼Œå½“éœ€è¦çš„æ—¶å€™ç›´æ¥è¯»å–ç¼“å­˜ï¼Œå¯¹æœåŠ¡å™¨å¢å‹ æ‡’åŠ è½½å®ç°æ–¹å¼ ç¬¬ä¸€ç§æ˜¯çº¯ç²¹çš„å»¶è¿ŸåŠ è½½ï¼Œä½¿ç”¨setTimeOutæˆ–setIntervalè¿›è¡ŒåŠ è½½å»¶è¿Ÿ ç¬¬äºŒç§æ˜¯æ¡ä»¶åŠ è½½ï¼Œç¬¦åˆæŸäº›æ¡ä»¶ï¼Œæˆ–è§¦å‘äº†æŸäº›äº‹ä»¶æ‰å¼€å§‹å¼‚æ­¥ä¸‹è½½ ç¬¬ä¸‰ç§æ˜¯å¯è§†åŒºåŠ è½½ï¼Œå³ä»…åŠ è½½ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„åŒºåŸŸï¼Œè¿™ä¸ªä¸»è¦ç”±ç›‘æ§æ»šåŠ¨æ¡æ¥å®ç°ï¼Œä¸€èˆ¬ä¼šåœ¨è·ç”¨æˆ·çœ‹åˆ°æŸå›¾ç‰‡å‰ä¸€å®šè·ç¦»éå¼€å§‹åŠ è½½ï¼Œè¿™æ ·èƒ½ä¿è¯ç”¨æˆ·æ‹‰ä¸‹æ—¶æ­£å¥½èƒ½çœ‹åˆ°å›¾ç‰‡ Web å›¾ç‰‡çš„æ‡’åŠ è½½å°±æ˜¯é€šè¿‡è¯»å–imgå…ƒç´ ï¼Œç„¶åè·å¾—imgå…ƒç´ çš„data-srcï¼ˆä¹Ÿå¯ä»¥çº¦å®šä¸ºå…¶ä»–å±æ€§åï¼‰å±æ€§çš„å€¼ï¼Œå¹¶èµ‹äºˆimgçš„srcï¼Œä»è€Œå®ç°åŠ¨æ€åŠ è½½å›¾ç‰‡çš„æœºåˆ¶ 1ã€æ‡’åŠ è½½HTMLçº¦å®šæˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™å‡†å¤‡å®æ–½æ‡’åŠ è½½çš„imgå…ƒç´ æ·»åŠ æŒ‡å®šçš„class è¿™é‡Œä¸ºm-lazyload ,åŒæ—¶å°†img srcèµ‹å€¼ç»™ data-srcå±æ€§ã€‚å…·ä½“ç¤ºä¾‹ä¸ºï¼š1&lt;img class=\"m-lazyload\" data-src=\"imgUrl\"&gt; 2ã€æ‡’åŠ è½½JavaScriptå®ç°åŠ¨æ€åŠ è½½æ€»å…±åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:1ã€æ·»åŠ é¡µé¢æ»šåŠ¨ç›‘å¬äº‹ä»¶1234567891011121314151617imgBoxList.addEventListener('scroll', debounce(() =&gt; &#123; _loadImage();&#125;, 200)); // ç®€å•çš„é˜²æŠ–å‡½æ•°function debounce(func, delay) &#123; let timer return function (...args) &#123; if (timer) &#123; clearTimeout(timer) &#125; timer = setTimeout(() =&gt; &#123; func.apply(this, args) &#125;, delay) &#125;&#125; 2ã€å½“è§¦å‘ç›‘å¬äº‹ä»¶æ—¶ä¼šæ‰§è¡Œ _loadImage å‡½æ•°ï¼Œè¯¥å‡½æ•°è´Ÿè´£åŠ è½½å›¾ç‰‡12345678910function _loadImage() &#123; const domOffsetHeight = imgBoxList.offsetHeight; const imgs = imgBoxList.querySelectorAll('img[data-src]'); for (let i = 0; i &lt; imgs.length; i++) &#123; const el = imgs[i]; if (_isShow(el, domOffsetHeight)) &#123; el.src = el.getAttribute('data-src') &#125; &#125;&#125; 3ã€åˆ¤æ–­è¯¥å›¾ç‰‡æ˜¯å¦åœ¨å½“å‰çª—å£çš„å¯è§†åŒºåŸŸå†…1234function _isShow(el, domHeight) &#123; const rect = el.getBoundingClientRect(); return rect.top &lt;= domHeight + 200;&#125; åˆ°è¿™ä¸€ä¸ªç®€å•çš„å›¾ç‰‡æ‡’åŠ è½½å°±å†™æˆäº† å½“ç½‘é¡µæ»šåŠ¨çš„äº‹ä»¶è¢«è§¦å‘ -&gt; æ‰§è¡ŒåŠ è½½å›¾ç‰‡æ“ä½œ -&gt; åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†… -&gt; åœ¨ï¼Œåˆ™åŠ¨æ€å°†data-srcçš„å€¼èµ‹äºˆè¯¥å›¾ç‰‡ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2.0æ¥è¢­","date":"2017-06-05T13:32:59.000Z","path":"2017/06/05/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2-0æ¥è¢­/","text":"å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤šğŸ‘ã€‚ [æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®,ä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜] é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-musicGithubåœ°å€ï¼š https://github.com/hzzly/MagicMusicæ¬¢è¿å¤§å®¶çš„starå’ŒforkğŸ˜„~ å®ç°çš„åŠŸèƒ½ é¦–é¡µ è½®æ’­ ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ] æ­Œæ›²æ“ä½œï¼ˆåŠ¨ç”»ï¼‰ åº•éƒ¨æ’­æ”¾æ§ä»¶ æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›² å®æ—¶æ’­æ”¾è¿›åº¦æ¡ æ’­æ”¾é¡µ ä¸Šä¸€æ›²ã€æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›² æ’­æ”¾è¿›åº¦æ¡ï¼ˆå¼§å½¢è¿›åº¦æ¡ï¼‰ æ­Œè¯æ»šåŠ¨ã€æ­Œè¯é«˜äº® æ’­æ”¾åˆ—è¡¨ æ’­æ”¾æ­Œæ›²é«˜äº® åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ) åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X) æ¸…ç©ºæ’­æ”¾åˆ—è¡¨ æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ æ’è¡Œæ¦œ æ’è¡Œæ¦œåˆ—è¡¨ æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)ã€å…¨éƒ¨æ’­æ”¾ éŸ³ä¹æœç´¢ æœç´¢å•æ›²ã€æ­Œæ‰‹ æœç´¢å†å²è®°å½• ä¾§è¾¹æ  æœªå®ç°çš„åŠŸèƒ½ å–œæ¬¢ã€åˆ†äº«ã€ä¸‹è½½ã€åˆ‡æ¢æ’­æ”¾æ¨¡å¼ é¢„è§ˆ æ›´å¤šé¢„è§ˆğŸ‘‰æ›´å¤š æŠ€æœ¯æ ˆ1ã€Vueå…¨å®¶æ¡¶(vue2ã€vue-routerã€vuex) å¿«é€Ÿå¼€å‘SPAç¥å™¨2ã€Axios vueä½œè€…æ¨èçš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆ3ã€ES6 å…¨é¢è¿‡åº¦es6çš„å†™æ³• è¶‹åŠ¿4ã€Webpack2 è„šæ‰‹æ¶å·²ç»é…ç½®å¥½äº†ï¼Œè¶…è´´å¿ƒ5ã€Promise æŠŠè¯·æ±‚å°è£…åœ¨promiseä¸­ï¼Œæ–¹ä¾¿çš„å¯ä»¥ä½¿ç”¨.thenå›è°ƒ6ã€flexå¸ƒå±€ å¯¹äºç§»åŠ¨ç«¯å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨7ã€ç§»åŠ¨ç«¯å±å¹•é€‚é… é‡‡ç”¨æ‰‹æ·˜çš„flexible+remæ–¹æ¡ˆ8ã€æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage) é¿å…é‡å¤èµ„æºè¯·æ±‚ï¼Œå¿«é€Ÿè¯»å–9ã€å›¾ç‰‡æ‡’åŠ è½½ vue-lazyload æå‡ç”¨æˆ·ä½“éªŒ æœ¬æ¬¡æ›´æ–°æ—¥å¿— åç«¯apié‡‡ç”¨pm2æ¥éƒ¨ç½²ï¼Œé˜²æ­¢æ–­å¼€åæ•°æ®æ— æ³•è¯·æ±‚çš„å°´å°¬ã€‚ æŠŠç›‘å¬audioåŠ è½½å®Œæ•°æ®äº‹ä»¶ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œé¿å…é‡å¤ç›‘å¬ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ã€‚ æ›´æ–°axiosè¯·æ±‚ï¼Œè®©è¯·æ±‚æ›´åŠ ä¼˜ç¾ã€‚ ä¿®æ”¹æ’­æ”¾é¡µé¢ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚ æ·»åŠ åŠ è½½éŸ³ä¹loadingç­‰å¾…ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ æ·»åŠ æ’­æ”¾å…¨éƒ¨ï¼Œé¿å…ä¸€ä¸ªä¸€ä¸ªæ·»åŠ ã€‚ æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ä¸æ¸…ç©ºã€‚ ä¿®æ”¹é¦–é¡µtabåˆ‡æ¢åŠ¨æ•ˆ DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨1.0 åè®°MagicMusicè¿˜åœ¨ä¸æ–­åŠªåŠ›çš„æ”¹è¿›ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›ï¼Œè°¢è°¢ï¼ï¼ï¼å½“ç„¶æœ‰å»ºè®®å¯ä»¥åœ¨issuesé‡Œæã€‚é¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/MagicMusicæ¬¢è¿å¤§å®¶çš„starå•¦~ æ±‚å®ä¹ æœ¬äººå¤§ä¸‰ï¼Œæ±‚ä¸€ä¸ªå‰ç«¯å®ä¹ ï¼šç®€å†","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}]},{"title":"CentOS 7 Nginxçš„æŠ˜è…¾","date":"2017-06-05T05:52:23.000Z","path":"2017/06/05/CentOS-7-Nginxçš„æŠ˜è…¾/","text":"CentOS 7 ä¸‹å®‰è£… NginxæŸ¥çœ‹centosç‰ˆæœ¬1$ cat /etc/redhat-release ä¸€. gcc å®‰è£… å®‰è£… nginx éœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ– gcc ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ gcc ç¯å¢ƒï¼Œåˆ™éœ€è¦å®‰è£…ï¼š 1$ yum install gcc-c++ äºŒ. pcre pcre-devel å®‰è£… PCRE(Perl Compatible Regular Expressions) æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginx çš„ http æ¨¡å—ä½¿ç”¨ pcre æ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨ linux ä¸Šå®‰è£… pcre åº“ï¼Œpcre-devel æ˜¯ä½¿ç”¨ pcre å¼€å‘çš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘åº“ã€‚nginxä¹Ÿéœ€è¦æ­¤åº“ã€‚å‘½ä»¤ï¼š 1$ yum install -y pcre pcre-devel ä¸‰. zlib å®‰è£… zlib åº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œ nginx ä½¿ç”¨ zlib å¯¹ http åŒ…çš„å†…å®¹è¿›è¡Œ gzip ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos ä¸Šå®‰è£… zlib åº“ã€‚ 1$ yum install -y zlib zlib-devel å››. OpenSSL å®‰è£… OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠ SSL åè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚nginx ä¸ä»…æ”¯æŒ http åè®®ï¼Œè¿˜æ”¯æŒ httpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos å®‰è£… OpenSSL åº“ã€‚ 1$ yum install -y openssl openssl-devel äº”ã€å®˜ç½‘ä¸‹è½½ æ‰“å¼€http://nginx.org/en/download.html æ‰¾åˆ°Stable versionä¸‹çš„ nginx-1.12.0 å³é”® å¤åˆ¶é“¾æ¥ ä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½ 12$ cd /usr/local/$ wget -c http://nginx.org/download/nginx-1.12.0.tar.gz è§£å‹12$ tar -zxvf nginx-1.12.0.tar.gz$ cd nginx-1.12.0 é…ç½® ä½¿ç”¨é»˜è®¤é…ç½® 1$ ./configure ç¼–è¯‘å®‰è£…12$ make$ make install æŸ¥æ‰¾å®‰è£…è·¯å¾„ï¼š1$ whereis nginx å¯åŠ¨ã€åœæ­¢nginx12345$ cd /usr/local/nginx/sbin/$ ./nginx $ ./nginx -s stop //æ­¤æ–¹å¼ç›¸å½“äºå…ˆæŸ¥å‡ºnginxè¿›ç¨‹idå†ä½¿ç”¨killå‘½ä»¤å¼ºåˆ¶æ€æ‰è¿›ç¨‹ã€‚$ ./nginx -s quit //æ­¤æ–¹å¼åœæ­¢æ­¥éª¤æ˜¯å¾…nginxè¿›ç¨‹å¤„ç†ä»»åŠ¡å®Œæ¯•è¿›è¡Œåœæ­¢ã€‚$ ./nginx -s reload //é‡å¯ï¼Œå½“ ngin xçš„é…ç½®æ–‡ä»¶ nginx.conf ä¿®æ”¹åï¼Œè¦æƒ³è®©é…ç½®ç”Ÿæ•ˆéœ€è¦é‡å¯ nginxï¼Œä½¿ç”¨-s reloadä¸ç”¨å…ˆåœæ­¢ ngin xå†å¯åŠ¨ nginx å³å¯å°†é…ç½®ä¿¡æ¯åœ¨ nginx ä¸­ç”Ÿæ•ˆ æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸæ‰“å¼€æµè§ˆå™¨è®¿é—®æ­¤æœºå™¨çš„ IPï¼Œå¦‚æœæµè§ˆå™¨å‡ºç° Welcome to nginx! åˆ™è¡¨ç¤º Nginx å·²ç»å®‰è£…å¹¶è¿è¡ŒæˆåŠŸã€‚ å¼€æœºè‡ªå¯åŠ¨å³åœ¨rc.localå¢åŠ å¯åŠ¨ä»£ç å°±å¯ä»¥äº†ã€‚1$ vi /etc/rc.local å¢åŠ ä¸€è¡Œ /usr/local/nginx/sbin/nginx è®¾ç½®æ‰§è¡Œæƒé™ï¼š1$ chmod 755 /etc/rc.local","tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"å¾æœå‰ç«¯é¢è¯•","date":"2017-05-31T08:52:12.000Z","path":"2017/05/31/å‰ç«¯é¢è¯•æ•´ç†/","text":"å‰è¨€ï¼šä»¥ä¸‹æ˜¯æ•´ç†ä¸€äº›é¢è¯•ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ç»å…¸é¢è¯•é¢˜ä»¥åŠè‡ªå·±é¢è¯•è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æœªè§£å†³çš„é—®é¢˜ï¼Œé€šè¿‡å¯¹çŸ¥è¯†çš„æ•´ç†ä»¥åŠç»éªŒçš„æ€»ç»“ï¼Œé‡æ–°å·©å›ºè‡ªèº«çš„å‰ç«¯åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœ‰é”™è¯¯æˆ–æ›´å¥½çš„ç­”æ¡ˆï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œæ°´å¹³æœ‰é™ï¼Œæœ›å„ä½ä¸åæŒ‡æ•™ã€‚:ï¼‰ JavaScriptåŸå‹ æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯åŸå‹ã€‚ å½“æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æ€§çš„å°†ä¸€äº›å±æ€§å’Œæ–¹æ³•é€šè¿‡prototypeå±æ€§ï¼ŒæŒ‚è½½åœ¨åŸå‹å¯¹è±¡ä¸Šã€‚è€Œæ¯ä¸€ä¸ªnewå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½æœ‰ä¸€ä¸ªprotoå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§ï¼Œè®©å®ä¾‹å¯¹è±¡ä¹Ÿèƒ½å¤Ÿè®¿é—®åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå½“æ‰€æœ‰çš„å®ä¾‹éƒ½èƒ½å¤Ÿé€šè¿‡protoè®¿é—®åˆ°åŸå‹å¯¹è±¡æ—¶ï¼ŒåŸå‹å¯¹è±¡çš„æ–¹æ³•ä¸å±æ€§å°±å˜æˆäº†å…±æœ‰æ–¹æ³•ä¸å±æ€§ã€‚ 1234567891011121314// å£°æ˜æ„é€ å‡½æ•°function Person(name, age) &#123; this.name = name; this.age = age;&#125; // é€šè¿‡prototyeå±æ€§ï¼Œå°†æ–¹æ³•æŒ‚è½½åˆ°åŸå‹å¯¹è±¡ä¸ŠPerson.prototype.getName = function() &#123; return this.name;&#125; var p1 = new Person('tim', 10);var p2 = new Person('jak', 22);console.log(p1.getName === p2.getName); // true é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ„é€ å‡½æ•°çš„prototypeä¸æ‰€æœ‰å®ä¾‹å¯¹è±¡çš„protoéƒ½æŒ‡å‘åŸå‹å¯¹è±¡ã€‚è€ŒåŸå‹å¯¹è±¡çš„constructoræŒ‡å‘æ„é€ å‡½æ•°ã€‚ åŸå‹é“¾ æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå«åštoStringçš„æ–¹æ³•ã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆ°åº•æ˜¯åœ¨å“ªé‡Œçš„å‘¢ï¼Ÿ å…ˆéšæ„å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼š 1function foo() &#123;&#125; å…¶ä¸­fooæ˜¯Functionå¯¹è±¡çš„å®ä¾‹ã€‚è€ŒFunctionçš„åŸå‹å¯¹è±¡åŒæ—¶åˆæ˜¯Objectçš„å®ä¾‹ã€‚è¿™æ ·å°±æ„æˆäº†ä¸€æ¡åŸå‹é“¾ã€‚åŸå‹é“¾çš„è®¿é—®ï¼Œå…¶å®è·Ÿä½œç”¨åŸŸé“¾æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ¬¡å•å‘çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚å› æ­¤å®ä¾‹å¯¹è±¡èƒ½å¤Ÿé€šè¿‡åŸå‹é“¾ï¼Œè®¿é—®åˆ°å¤„äºåŸå‹é“¾ä¸Šå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¸æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯fooæœ€ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°å¤„äºObjectåŸå‹å¯¹è±¡ä¸Šçš„toStringæ–¹æ³•çš„åŸå› ã€‚ ä½œç”¨åŸŸé“¾ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯æ‰§è¡Œç¯å¢ƒé‡Œæœ‰æƒè®¿é—®çš„å˜é‡å’Œå‡½æ•°æ˜¯æœ‰åºçš„ï¼Œä½œç”¨åŸŸé“¾çš„å˜é‡åªèƒ½å‘ä¸Šè®¿é—®ï¼Œå˜é‡è®¿é—®åˆ°windowå¯¹è±¡å³è¢«ç»ˆæ­¢ï¼Œä½œç”¨åŸŸé“¾å‘ä¸‹è®¿é—®å˜é‡æ˜¯ä¸è¢«å…è®¸çš„ã€‚ é—­åŒ… ç¬¬ä¸€ç§ç†è§£ï¼ˆçº¢å®ä¹¦ï¼‰ï¼šæ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡å¦ä¸€ä¸ªå‡½æ•°è®¿é—®è¿™ä¸ªå‡½æ•°çš„å±€éƒ¨å˜é‡ ç¬¬äºŒç§ç†è§£ï¼ˆä½ ä¸çŸ¥é“çš„javascriptï¼‰ï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œè¿™ä¸ªå‡½æ•°æŒæœ‰å¯¹è¯¥è¯æ³•ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨å°±å«åšé—­åŒ… é—­åŒ…æœ¬è´¨è¿˜æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡è¿™ä¸ªå‡½æ•°ç»‘å®šäº†ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå‡½æ•°å†…éƒ¨å¼•ç”¨çš„æ‰€æœ‰å˜é‡ï¼‰ ç¼ºç‚¹ï¼šå¸¸é©»å†…å­˜ï¼Œä¼šå¢å¤§å†…å­˜ä½¿ç”¨é‡ï¼Œä½¿ç”¨ä¸å½“å¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„éœ²ã€‚ä½œç”¨(ä½¿ç”¨åœºæ™¯)ï¼šå¯ä»¥ç”¨æ¥ç®¡ç†ç§æœ‰å˜é‡å’Œç§æœ‰æ–¹æ³•ï¼Œå°†å¯¹å˜é‡ï¼ˆçŠ¶æ€ï¼‰çš„å˜åŒ–å°è£…åœ¨å®‰å…¨çš„ç¯å¢ƒä¸­ï¼Œä½¿å¾—è¿™äº›å˜é‡ä¸èƒ½è¢«å¤–éƒ¨éšæ„ä¿®æ”¹ï¼ŒåŒæ—¶åˆå¯ä»¥é€šè¿‡æŒ‡å®šçš„å‡½æ•°æ¥å£æ¥æ“ä½œã€‚é—­åŒ…æœ‰ä¸‰ä¸ªç‰¹æ€§ï¼š1.å‡½æ•°åµŒå¥—å‡½æ•°2.å‡½æ•°å†…éƒ¨å¯ä»¥å¼•ç”¨å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡3.å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ é¢˜å¤–è¯ï¼š JavaScriptçš„ä½œç”¨åŸŸå°±æ˜¯è¯æ³•ä½œç”¨åŸŸè€Œä¸æ˜¯åŠ¨æ€ä½œç”¨åŸŸ, è¯æ³•ä½œç”¨åŸŸæœ€é‡è¦çš„ç‰¹å¾æ˜¯å®ƒçš„å®šä¹‰è¿‡ç¨‹å‘ç”Ÿåœ¨ä»£ç çš„ä¹¦å†™é˜¶æ®µ åŠ¨æ€ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºè°ƒç”¨æ ˆçš„ è¯æ³•ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºä»£ç ä¸­çš„ä½œç”¨åŸŸåµŒå¥— this JavaScriptçš„thisæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚ thisçš„æŒ‡å‘ï¼š 1ã€ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼ˆthisæŒ‡å‘å…¨å±€å¯¹è±¡windowå¯¹è±¡ï¼‰2ã€ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼ˆthisæŒ‡å‘è¯¥å¯¹è±¡ï¼‰3ã€æ„é€ å™¨è°ƒç”¨ï¼ˆthisæŒ‡å‘ç”¨newè¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼‰4ã€callã€applyã€bindçš„è°ƒç”¨ï¼ˆthisæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼‰ é«˜é˜¶å‡½æ•°1ã€å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’2ã€å‡½æ•°ä½œä¸ºè¿”å›å€¼è¾“å‡º newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢?1ã€åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡2ã€å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰3ã€æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰4ã€è¿”å›æ–°å¯¹è±¡ ç»§æ‰¿1ã€ç®€å•åŸå‹é“¾ç»§æ‰¿1234567function Super()&#123; this.name = 'hzzly';&#125;function Sub()&#123; // ...&#125;Sub.prototype = new Super(); // æ ¸å¿ƒ ç¼ºç‚¹ï¼šä¿®æ”¹sub1.nameåsub2.nameä¹Ÿå˜äº†ï¼Œå› ä¸ºæ¥è‡ªåŸå‹å¯¹è±¡çš„å¼•ç”¨å±æ€§æ˜¯æ‰€æœ‰å®ä¾‹å…±äº«çš„ã€‚ 2ã€æ„é€ å‡½æ•°å¼ç»§æ‰¿12345678910function Super(val)&#123; this.val = val; this.fun = function()&#123; // å®ä¾‹å‡½æ•° // ... &#125;&#125;function Sub(val)&#123; Super.call(this, val); // æ ¸å¿ƒ // ...&#125; ç¼ºç‚¹ï¼šæ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æŒæœ‰ä¸€ä¸ªæ–°çš„funå‡½æ•°ï¼Œå¤ªå¤šäº†å°±ä¼šå½±å“æ€§èƒ½ï¼Œå†…å­˜çˆ†ç‚¸ã€‚ã€‚ 3ã€ç»„åˆå¼ç»§æ‰¿123456789101112function Super()&#123; this.name = 'hzzly';&#125;// åŸå‹å‡½æ•°Super.prototype.fun1 = function()&#123;&#125;;Super.prototype.fun2 = function()&#123;&#125;;//Super.prototype.fun3...function Sub()&#123; Super.call(this); // æ ¸å¿ƒ // ...&#125;Sub.prototype = new Super(); // æ ¸å¿ƒ ç¼ºç‚¹ï¼šå­ç±»åŸå‹ä¸Šæœ‰ä¸€ä»½å¤šä½™çš„çˆ¶ç±»å®ä¾‹å±æ€§ï¼Œå› ä¸ºçˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œç”Ÿæˆäº†ä¸¤ä»½ï¼Œè€Œå­ç±»å®ä¾‹ä¸Šçš„é‚£ä¸€ä»½å±è”½äº†å­ç±»åŸå‹ä¸Šçˆ¶ç±»çš„ã€‚ã€‚ã€‚åˆæ˜¯å†…å­˜æµªè´¹ã€‚ 4ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿123456789101112function Super()&#123; this.name = 'hzzly';&#125;Super.prototype.fun1 = function()&#123;&#125;;Super.prototype.fun2 = function()&#123;&#125;;//Super.prototype.fun3...function Sub()&#123; Super.call(this); // æ ¸å¿ƒ // ...&#125;Sub.prototype=Object.create(Super.prototype) // æ ¸å¿ƒSub.prototype.constructor=Sub // æ ¸å¿ƒ 5ã€es6çš„classç»§æ‰¿æ–¹å¼123456class A &#123;&#125;class B extends A &#123;&#125;B.__proto__ === A // trueB.prototype.__proto__ === A.prototype // true es6å¼•å…¥äº†classã€extendsã€superã€static(éƒ¨åˆ†ä¸ºES2016æ ‡å‡†) nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ1ã€nullæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„å¯¹è±¡ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º0ï¼›undefinedæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„åŸå§‹å€¼ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸ºNaNã€‚2ã€undefinedè¡¨ç¤ºâ€ç¼ºå°‘å€¼â€ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰ã€‚3ã€nullè¡¨ç¤ºâ€æ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚ callã€applyã€bindçš„åŒºåˆ« ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ã€‚ ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ã€‚ call ä¼ å…¥çš„å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°è¦ä¸€ä¸ªä¸€ä¸ªä¼ ï¼Œç”¨ï¼Œéš”å¼€ã€‚ apply æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œå¯ä»¥ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä¸ºç±»æ•°ç»„ã€‚ bind æ˜¯è¿”å›ä¸€ä¸ªæ”¹å˜äº†ä¸Šä¸‹æ–‡çš„å‡½æ•°å‰¯æœ¬ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼›apply ã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚ æœ¬åœ°å­˜å‚¨ sessionStorageç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ªä¼šè¯ï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­çš„é¡µé¢æ‰èƒ½è®¿é—®å¹¶ä¸”å½“ä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯ã€‚å› æ­¤sessionStorageä¸æ˜¯ä¸€ç§æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œä»…ä»…æ˜¯ä¼šè¯çº§åˆ«çš„å­˜å‚¨ã€‚ localStorageç”¨äºæŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚ å…·ä½“å‚è§ï¼šæœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage cookie å’Œsession1ã€cookieæ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsessionæ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚2ã€cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„COOKIEå¹¶è¿›è¡ŒCOOKIEæ¬ºéª—ï¼Œè€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨sessionã€‚3ã€sessionä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œè€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨COOKIEã€‚4ã€å•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜20ä¸ªcookieã€‚æ¯æ¬¡è¯·æ±‚ä¸€ä¸ªæ–°çš„é¡µé¢çš„æ—¶å€™Cookieéƒ½ä¼šè¢«å‘é€è¿‡å»ï¼Œä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚ XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ1ã€æ•°æ®ä½“ç§¯æ–¹é¢ã€‚JSONç›¸å¯¹äºXMLæ¥è®²ï¼Œæ•°æ®çš„ä½“ç§¯å°ï¼Œä¼ é€’çš„é€Ÿåº¦æ›´å¿«äº›ã€‚2ã€æ•°æ®äº¤äº’æ–¹é¢ã€‚JSONä¸JavaScriptçš„äº¤äº’æ›´åŠ æ–¹ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†ï¼Œæ›´å¥½çš„æ•°æ®äº¤äº’ã€‚3ã€æ•°æ®æè¿°æ–¹é¢ã€‚JSONå¯¹æ•°æ®çš„æè¿°æ€§æ¯”XMLè¾ƒå·®ã€‚4ã€ä¼ è¾“é€Ÿåº¦æ–¹é¢ã€‚JSONçš„é€Ÿåº¦è¦è¿œè¿œå¿«äºXMLã€‚ å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡?è°ƒç”¨localstorgeã€cookiesç­‰æœ¬åœ°å­˜å‚¨æ–¹å¼ çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«1ã€ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹.2ã€çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚3ã€è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚4ã€çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¿›ç¨‹è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºçš„å‡ºå£ã€‚ä½†æ˜¯çº¿ç¨‹ä¸èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ§åˆ¶ã€‚5ã€ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰åœ¨äºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰å¤šä¸ªæ‰§è¡Œéƒ¨åˆ†å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä½†æ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰å°†å¤šä¸ªçº¿ç¨‹çœ‹åšå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ä»¥åŠèµ„æºåˆ†é…ã€‚è¿™å°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹çš„é‡è¦åŒºåˆ«ã€‚ æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§ æ¸è¿›å¢å¼º ï¼šé’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›å’Œè¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ ä¼˜é›…é™çº§ ï¼šä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ã€‚ æ€§èƒ½ä¼˜åŒ– ç½‘é¡µå†…å®¹ å‡å°‘ httpè¯·æ±‚æ¬¡æ•° å‡å°‘ DNSæŸ¥è¯¢æ¬¡æ•° é¿å…é¡µé¢è·³è½¬ ç¼“å­˜ Ajax å»¶è¿ŸåŠ è½½ æå‰åŠ è½½ å‡å°‘ DOMå…ƒç´ æ•°é‡ é¿å… 404 æœåŠ¡å™¨ ä½¿ç”¨CDN(å†…å®¹åˆ†å‘ç½‘ç»œ) æ·»åŠ Expiresæˆ–Cache-ControlæŠ¥æ–‡å¤´ Gzipå‹ç¼©ä¼ è¾“æ–‡ä»¶ CSS å°†æ ·å¼è¡¨ç½®é¡¶ ç”¨ä»£æ›¿@import JavaScript æŠŠè„šæœ¬ç½®äºé¡µé¢åº•éƒ¨ ä½¿ç”¨å¤–éƒ¨JavaScriptå’ŒCSS ç²¾ç®€JavaScriptå’ŒCSS å»é™¤é‡å¤è„šæœ¬ å‡å°‘DOMè®¿é—® å›¾ç‰‡ ä¼˜åŒ–å›¾åƒ ä¼˜åŒ–CSS Spirite ä¸è¦åœ¨HTMLä¸­ç¼©æ”¾å›¾ç‰‡ favicon.icoè¦å°è€Œä¸”å¯ç¼“å­˜ å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?jsonpã€CORSã€document.domain+iframeã€window.nameã€window.postMessage jsonpçš„åŸç†æ˜¯åŠ¨æ€æ’å…¥scriptæ ‡ç­¾ è¯·è§£é‡Šä¸€ä¸‹ JavaScript çš„åŒæºç­–ç•¥ã€‚è¿™é‡Œçš„åŒæºç­–ç•¥æŒ‡çš„æ˜¯ï¼šåè®®ï¼ŒåŸŸåï¼Œç«¯å£ç›¸åŒï¼ŒåŒæºç­–ç•¥æ˜¯ä¸€ç§å®‰å…¨åè®®ã€‚ æŒ‡ä¸€æ®µè„šæœ¬åªèƒ½è¯»å–æ¥è‡ªåŒä¸€æ¥æºçš„çª—å£å’Œæ–‡æ¡£çš„å±æ€§ã€‚ å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ1ã€å†…å­˜æ³„æ¼æŒ‡ä»»ä½•å¯¹è±¡åœ¨æ‚¨ä¸å†æ‹¥æœ‰æˆ–éœ€è¦å®ƒä¹‹åä»ç„¶å­˜åœ¨ã€‚2ã€åƒåœ¾å›æ”¶å™¨å®šæœŸæ‰«æå¯¹è±¡ï¼Œå¹¶è®¡ç®—å¼•ç”¨äº†æ¯ä¸ªå¯¹è±¡çš„å…¶ä»–å¯¹è±¡çš„æ•°é‡ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ•°é‡ä¸º 0ï¼ˆæ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨è¿‡è¯¥å¯¹è±¡ï¼‰ï¼Œæˆ–å¯¹è¯¥å¯¹è±¡çš„æƒŸä¸€å¼•ç”¨æ˜¯å¾ªç¯çš„ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„å†…å­˜å³å¯å›æ”¶ã€‚3ã€setTimeout çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨å­—ç¬¦ä¸²è€Œéå‡½æ•°çš„è¯ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚é—­åŒ…ã€æ§åˆ¶å°æ—¥å¿—ã€å¾ªç¯ï¼ˆåœ¨ä¸¤ä¸ªå¯¹è±¡å½¼æ­¤å¼•ç”¨ä¸”å½¼æ­¤ä¿ç•™æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå¾ªç¯ï¼‰ Javascriptåƒåœ¾å›æ”¶æ–¹æ³•1ã€æ ‡è®°æ¸…é™¤ï¼šè¿™æ˜¯JavaScriptæœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒçš„æ—¶å€™ï¼Œæ¯”å¦‚å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œåƒåœ¾å›æ”¶å™¨å°†å…¶æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒçš„æ—¶å€™ï¼ˆå‡½æ•°æ‰§è¡Œç»“æŸï¼‰å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚ 2ã€å¼•ç”¨è®¡æ•°ï¼šå¼•ç”¨è®¡æ•°çš„ç­–ç•¥æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«ä½¿ç”¨çš„æ¬¡æ•°ï¼Œå½“å£°æ˜äº†ä¸€ä¸ª å˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼ç»™è¯¥å˜é‡çš„æ—¶å€™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±åŠ 1ï¼Œå¦‚æœè¯¥å˜é‡çš„å€¼å˜æˆäº†å¦å¤–ä¸€ä¸ªï¼Œåˆ™è¿™ä¸ªå€¼å¾—å¼•ç”¨æ¬¡æ•°å‡1ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å˜ä¸º0çš„æ—¶ å€™ï¼Œè¯´æ˜æ²¡æœ‰å˜é‡åœ¨ä½¿ç”¨ï¼Œè¿™ä¸ªå€¼æ²¡æ³•è¢«è®¿é—®äº†ï¼Œå› æ­¤å¯ä»¥å°†å…¶å ç”¨çš„ç©ºé—´å›æ”¶ï¼Œè¿™æ ·åƒåœ¾å›æ”¶å™¨ä¼šåœ¨è¿è¡Œçš„æ—¶å€™æ¸…ç†æ‰å¼•ç”¨æ¬¡æ•°ä¸º0çš„å€¼å ç”¨çš„ç©ºé—´ã€‚ äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿäº‹ä»¶å¤„ç†æœºåˆ¶ï¼šIEæ˜¯äº‹ä»¶å†’æ³¡ã€firefoxåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ã€‚ é˜»æ­¢å†’æ³¡ï¼šev.stopPropagation() è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶ å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨ å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™ ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡ ä¸èƒ½ä½¿ç”¨withè¯­å¥ å¢åŠ äº†ä¿ç•™å­— argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ– è®¾ç«‹â€ä¸¥æ ¼æ¨¡å¼â€çš„ç›®çš„ï¼š æ¶ˆé™¤Javascriptè¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸º; æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨ï¼› æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ï¼› ä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„Javascriptåšå¥½é“ºå«ã€‚ è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†äº‹ä»¶ä»£ç†ï¼ˆEvent Delegationï¼‰ï¼Œåˆç§°ä¹‹ä¸ºäº‹ä»¶å§”æ‰˜ã€‚å³æ˜¯æŠŠåŸæœ¬éœ€è¦ç»‘å®šçš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶å…ƒç´ ï¼Œè®©çˆ¶å…ƒç´ æ‹…å½“äº‹ä»¶ç›‘å¬çš„èŒåŠ¡ã€‚äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯DOMå…ƒç´ çš„äº‹ä»¶å†’æ³¡ã€‚ä½¿ç”¨äº‹ä»¶ä»£ç†çš„å¥½å¤„æ˜¯å¯ä»¥æé«˜æ€§èƒ½ã€‚ Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ ä¸»çº¿ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œäº§ç”Ÿå †ï¼ˆheapï¼‰å’Œæ ˆï¼ˆstackï¼‰ï¼Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰è°ƒç”¨å„ç§å¤–éƒ¨APIï¼Œå®ƒä»¬åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­åŠ å…¥å„ç§äº‹ä»¶ï¼ˆclickï¼Œloadï¼Œdoneï¼‰ã€‚åªè¦æ ˆä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹å°±ä¼šå»è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œä¾æ¬¡æ‰§è¡Œé‚£äº›äº‹ä»¶æ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚ æ‰§è¡Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰ï¼Œæ€»æ˜¯åœ¨è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ä¹‹å‰æ‰§è¡Œã€‚ ç¼“å­˜ æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cachingï¼‰æ˜¯æµè§ˆå™¨ç«¯ä¿å­˜æ•°æ®ç”¨äºå¿«é€Ÿè¯»å–æˆ–é¿å…é‡å¤èµ„æºè¯·æ±‚çš„ä¼˜åŒ–æœºåˆ¶ï¼Œæœ‰æ•ˆçš„ç¼“å­˜ä½¿ç”¨å¯ä»¥é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚å’Œæµè§ˆå™¨å¿«é€Ÿåœ°è¯»å–æœ¬åœ°æ•°æ®ï¼Œ httpç¼“å­˜ httpç¼“å­˜æ˜¯åŸºäºHTTPåè®®çš„æµè§ˆå™¨æ–‡ä»¶çº§ç¼“å­˜æœºåˆ¶ã€‚å³é’ˆå¯¹æ–‡ä»¶çš„é‡å¤è¯·æ±‚æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®åè®®å¤´åˆ¤æ–­ä»æœåŠ¡å™¨ç«¯è¯·æ±‚æ–‡ä»¶è¿˜æ˜¯ä»æœ¬åœ°è¯»å–æ–‡ä»¶åˆ¤æ–­expiresï¼Œå¦‚æœæœªè¿‡æœŸï¼Œç›´æ¥è¯»å–httpç¼“å­˜æ–‡ä»¶ indexDB æ˜¯ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¯è§‚æ•°é‡çš„ç»“æ„åŒ–æ•°æ®,å¹¶ä¸”ä¸ºè¿™äº›æ•°æ®æ·»åŠ ç´¢å¼•è¿›è¡Œé«˜æ€§èƒ½æ£€ç´¢ã€‚ cookie æŒ‡ä¸€èˆ¬ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€å‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰ã€‚cookieä¸€èˆ¬é€šè¿‡httpè¯·æ±‚ä¸­åœ¨å¤´éƒ¨ä¸€èµ·å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚ä¸€æ¡cookieè®°å½•ä¸»è¦ç”±é”®ã€å€¼ã€åŸŸã€è¿‡æœŸæ—¶é—´ã€å¤§å°ç»„æˆï¼Œä¸€èˆ¬ç”¨æˆ·ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚ localstorage localStorageæ˜¯h5çš„ä¸€ç§æ–°çš„æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ,åŠ å¿«ä¸‹æ¬¡é¡µé¢æ‰“å¼€æ—¶çš„æ¸²æŸ“é€Ÿåº¦,é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚ sessionstorage ä¹Ÿæ˜¯h5çš„ä¸€ç§æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆï¼Œæ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚ ES6ES6çš„äº†è§£es6æ˜¯ä¸€ä¸ªæ–°çš„æ ‡å‡†ï¼Œå®ƒåŒ…å«äº†è®¸å¤šæ–°çš„è¯­è¨€ç‰¹æ€§å’Œåº“ï¼Œæ˜¯JSæœ€å®è´¨æ€§çš„ä¸€æ¬¡å‡çº§ã€‚æ¯”å¦‚â€™ç®­å¤´å‡½æ•°â€™ã€â€™å­—ç¬¦ä¸²æ¨¡æ¿â€™ã€â€™generators(ç”Ÿæˆå™¨)â€™ã€â€™async/awaitâ€™ã€â€™è§£æ„èµ‹å€¼â€™ã€â€™classâ€™ç­‰ç­‰ï¼Œè¿˜æœ‰å°±æ˜¯å¼•å…¥moduleæ¨¡å—çš„æ¦‚å¿µã€‚ ç®­å¤´å‡½æ•°å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚ async/awaitæ˜¯å†™å¼‚æ­¥ä»£ç çš„æ–°æ–¹å¼ï¼Œä»¥å‰çš„æ–¹æ³•æœ‰å›è°ƒå‡½æ•°å’ŒPromiseã€‚async/awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚async/awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚async/awaitä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œè¿™æ­£æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚ è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£ Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶ç›‘å¬â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚ æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹: å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰ ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚ è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£CommonJSæ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—çš„è§„èŒƒï¼ŒNode.jsé‡‡ç”¨äº†è¿™ä¸ªè§„èŒƒã€‚CommonJSè§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚AMDè§„èŒƒåˆ™æ˜¯éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚ AMDæ¨èçš„é£æ ¼é€šè¿‡è¿”å›ä¸€ä¸ªå¯¹è±¡åšä¸ºæ¨¡å—å¯¹è±¡ï¼ŒCommonJSçš„é£æ ¼é€šè¿‡å¯¹module.exportsæˆ–exportsçš„å±æ€§èµ‹å€¼æ¥è¾¾åˆ°æš´éœ²æ¨¡å—å¯¹è±¡çš„ç›®çš„ã€‚ Gulpã€Webpackæ¯”è¾ƒ Gulp 1ã€Gulpå°±æ˜¯ä¸ºäº†è§„èŒƒå‰ç«¯å¼€å‘æµç¨‹ï¼Œå®ç°å‰åç«¯åˆ†ç¦»ã€æ¨¡å—åŒ–å¼€å‘ã€ç‰ˆæœ¬æ§åˆ¶ã€æ–‡ä»¶åˆå¹¶ä¸å‹ç¼©ã€mockæ•°æ®ç­‰åŠŸèƒ½çš„ä¸€ä¸ªå‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚2ã€Gulpå°±åƒæ˜¯ä¸€ä¸ªäº§å“çš„æµæ°´çº¿ï¼Œæ•´ä¸ªäº§å“ä»æ— åˆ°æœ‰ï¼Œéƒ½è¦å—æµæ°´çº¿çš„æ§åˆ¶ï¼Œåœ¨æµæ°´çº¿ä¸Šæˆ‘ä»¬å¯ä»¥å¯¹äº§å“è¿›è¡Œç®¡ç†ã€‚3ã€Gulpæ˜¯é€šè¿‡taskå¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹è¿›è¡Œæ„å»ºã€‚ Webpack 1ã€å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·2ã€å¯ä»¥å¾ˆå¥½çš„ç®¡ç†æ¨¡å—ä»¥åŠå„ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–3ã€å¯¹jsã€cssã€å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶éƒ½æ”¯æŒæ‰“åŒ…4ã€æœ‰ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶webpack.config.js5ã€å¯ä»¥å°†ä»£ç åˆ‡å‰²æˆä¸åŒçš„chunkï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œé™ä½äº†åˆå§‹åŒ–æ—¶é—´6ã€å¯ä»¥ç”Ÿæˆä¼˜åŒ–ä¸”åˆå¹¶åçš„é™æ€èµ„æº ä¸¤å¤§ç‰¹è‰²ï¼š1ã€ä»£ç å¯ä»¥è‡ªåŠ¨å®Œæˆç¼–è¯‘ã€‚2ã€loader å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„é™æ€æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒä¸²è”æ“ä½œ CSSdisplay:noneå’Œvisibility:hiddençš„åŒºåˆ«ï¼Ÿdisplay:none éšè—å¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†ç»™å®ƒåˆ†é…ç©ºé—´ï¼Œå®ƒå„è¾¹çš„å…ƒç´ ä¼šåˆæ‹¢ï¼Œå°±å½“ä»–ä»æ¥ä¸å­˜åœ¨ã€‚ visibility:hidden éšè—å¯¹åº”çš„å…ƒç´ ï¼Œä½†æ˜¯åœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ã€‚ position:absoluteå’Œfloatå±æ€§çš„å¼‚åŒAï¼šå…±åŒç‚¹ï¼šå¯¹å†…è”å…ƒç´ è®¾ç½®floatå’Œabsoluteå±æ€§ï¼Œå¯ä»¥è®©å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®å…¶å®½é«˜ã€‚ Bï¼šä¸åŒç‚¹ï¼šfloatä»ä¼šå æ®ä½ç½®ï¼Œpositionä¼šè¦†ç›–æ–‡æ¡£æµä¸­çš„å…¶ä»–å…ƒç´ ã€‚ box-sizingå±æ€§ content-boxï¼šè®©å…ƒç´ ç»´æŒW3Cçš„æ ‡å‡†ç›’æ¨¡å‹ã€‚å…ƒç´ çš„å®½åº¦/é«˜åº¦ç”±border + padding + contentçš„å®½åº¦/é«˜åº¦å†³å®šï¼Œè®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„å®½/é«˜ï¼Œä¸€æ—¦ä¿®æ”¹äº†å…ƒç´ çš„è¾¹æ¡†æˆ–å†…è·ï¼Œå°±ä¼šå½±å“å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œå°±ä¸å¾—ä¸é‡æ–°è®¡ç®—å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œä»è€Œå½±å“æ•´ä¸ªé¡µé¢çš„å¸ƒå±€ã€‚ border-boxï¼šè®©å…ƒç´ ç»´æŒIEä¼ ç»Ÿç›’æ¨¡å‹ï¼ˆIE6ä»¥ä¸‹ç‰ˆæœ¬å’ŒIE6~7çš„æ€ªå¼‚æ¨¡å¼ï¼‰ã€‚è®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯border + padding + content positionçš„å€¼ static é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­ relative ç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶åœ¨æ™®é€šæµä¸­çš„ä½ç½®è¿›è¡Œå®šä½ã€‚ absolute ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œ ç›¸å¯¹äºæœ€è¿‘ä¸€çº§çš„ å®šä½ä¸æ˜¯ static çš„çˆ¶å…ƒç´ æ¥è¿›è¡Œå®šä½ã€‚ fixed ï¼ˆè€IEä¸æ”¯æŒï¼‰ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ã€‚ CSS3æ–°ç‰¹æ€§CSS3å®ç°åœ†è§’ï¼ˆborder-radiusï¼‰ï¼Œé˜´å½±ï¼ˆbox-shadowï¼‰ï¼Œå¯¹æ–‡å­—åŠ ç‰¹æ•ˆï¼ˆtext-shadowã€ï¼‰ï¼Œçº¿æ€§æ¸å˜ï¼ˆgradientï¼‰ï¼Œæ—‹è½¬ï¼ˆtransformï¼‰transform:rotate(9deg) scale(0.85,0.90) translate(0px,-30px) skew(-9deg,0deg);//æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œå¢åŠ äº†æ›´å¤šçš„CSSé€‰æ‹©å™¨ å¤šèƒŒæ™¯ rgbaåœ¨CSS3ä¸­å”¯ä¸€å¼•å…¥çš„ä¼ªå…ƒç´ æ˜¯::selection.åª’ä½“æŸ¥è¯¢ï¼Œå¤šæ å¸ƒå±€border-image CSS sprites CSS Sprites å…¶å®å°±æ˜¯æŠŠç½‘é¡µä¸­ä¸€äº›èƒŒæ™¯å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å›¾ç‰‡æ–‡ä»¶ä¸­ï¼Œå†åˆ©ç”¨CSSçš„â€œbackground-imageâ€ï¼Œâ€œbackground- repeatâ€ï¼Œâ€œbackground-positionâ€çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ï¼Œbackground-positionå¯ä»¥ç”¨æ•°å­—èƒ½ç²¾ç¡®çš„å®šä½å‡ºèƒŒæ™¯å›¾ç‰‡çš„ä½ç½®ã€‚è¿™æ ·å¯ä»¥å‡å°‘å¾ˆå¤šå›¾ç‰‡è¯·æ±‚çš„å¼€é”€ï¼Œå› ä¸ºè¯·æ±‚è€—æ—¶æ¯”è¾ƒé•¿ï¼›è¯·æ±‚è™½ç„¶å¯ä»¥å¹¶å‘ï¼Œä½†æ˜¯ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬æµè§ˆå™¨éƒ½æ˜¯6ä¸ªã€‚å¯¹äºæœªæ¥è€Œè¨€ï¼Œå°±ä¸éœ€è¦è¿™æ ·åšäº†ï¼Œå› ä¸ºæœ‰äº†http2ã€‚ è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§æµ®åŠ¨å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¸å æ®ç©ºé—´ã€‚æµ®åŠ¨å…ƒç´ ç¢°åˆ°åŒ…å«å®ƒçš„è¾¹æ¡†æˆ–è€…æµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†åœç•™ã€‚1.ä½¿ç”¨ç©ºæ ‡ç­¾æ¸…é™¤æµ®åŠ¨ã€‚ è¿™ç§æ–¹æ³•æ˜¯åœ¨æ‰€æœ‰æµ®åŠ¨æ ‡ç­¾åé¢æ·»åŠ ä¸€ä¸ªç©ºæ ‡ç­¾ å®šä¹‰css clear:both. å¼Šç«¯å°±æ˜¯å¢åŠ äº†æ— æ„ä¹‰æ ‡ç­¾ã€‚2.ä½¿ç”¨overflowã€‚ è®¾ç½®overflowä¸ºhiddenæˆ–è€…autoï¼Œç»™åŒ…å«æµ®åŠ¨å…ƒç´ çš„çˆ¶æ ‡ç­¾æ·»åŠ csså±æ€§ overflow:auto; zoom:1; zoom:1ç”¨äºå…¼å®¹IE6ã€‚3.ä½¿ç”¨afterä¼ªå¯¹è±¡æ¸…é™¤æµ®åŠ¨ã€‚ è¯¥æ–¹æ³•åªé€‚ç”¨äºéIEæµè§ˆå™¨ã€‚è¯¥æ–¹æ³•ä¸­å¿…é¡»ä¸ºéœ€è¦æ¸…é™¤æµ®åŠ¨å…ƒç´ çš„ä¼ªå¯¹è±¡ä¸­è®¾ç½® height:0ï¼Œå¦åˆ™è¯¥å…ƒç´ ä¼šæ¯”å®é™…é«˜å‡ºè‹¥å¹²åƒç´ ï¼› 1234567#box:after&#123; content:\".\"; height:0; visibility:hidden; display:block; clear:both;&#125; æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜1ã€çˆ¶å…ƒç´ çš„é«˜åº¦æ— æ³•è¢«æ’‘å¼€ï¼Œå½±å“ä¸çˆ¶å…ƒç´ åŒçº§çš„å…ƒç´ 2ã€ä¸æµ®åŠ¨å…ƒç´ åŒçº§çš„éæµ®åŠ¨å…ƒç´ ï¼ˆå†…è”å…ƒç´ ï¼‰ä¼šè·Ÿéšå…¶å3ã€è‹¥éç¬¬ä¸€ä¸ªå…ƒç´ æµ®åŠ¨ï¼Œåˆ™è¯¥å…ƒç´ ä¹‹å‰çš„å…ƒç´ ä¹Ÿéœ€è¦æµ®åŠ¨ï¼Œå¦åˆ™ä¼šå½±å“é¡µé¢æ˜¾ç¤ºçš„ç»“æ„ HTMLè¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£1ã€å»æ‰æˆ–è€…ä¸¢å¤±æ ·å¼çš„æ—¶å€™èƒ½å¤Ÿè®©é¡µé¢å‘ˆç°å‡ºæ¸…æ™°çš„ç»“æ„2ã€æœ‰åˆ©äºSEOï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›3ã€æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›4ã€ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œæ˜¯ä¸‹ä¸€æ­¥å§ç½‘é¡µçš„é‡è¦åŠ¨å‘ï¼Œéµå¾ªW3Cæ ‡å‡†çš„å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚ Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?1ã€&lt;!DOCTYPE&gt; å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚2ã€ä¸¥æ ¼æ¨¡å¼çš„æ’ç‰ˆå’Œ JS è¿ä½œæ¨¡å¼æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚3ã€åœ¨æ··æ‚æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤ºã€‚æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œã€‚4ã€&lt;!DOCTYPE&gt; ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥æ··æ‚æ¨¡å¼å‘ˆç°ã€‚ ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿè¯¥æ ‡ç­¾å¯å£°æ˜ä¸‰ç§ DTD ç±»å‹ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¥æ ¼ç‰ˆæœ¬ã€è¿‡æ¸¡ç‰ˆæœ¬ä»¥åŠåŸºäºæ¡†æ¶çš„ HTML æ–‡æ¡£ã€‚HTML 4.01 è§„å®šäº†ä¸‰ç§æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚XHTML 1.0 è§„å®šäº†ä¸‰ç§ XML æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚Standards ï¼ˆæ ‡å‡†ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯ä¸¥æ ¼å‘ˆç°æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°éµå¾ªæœ€æ–°æ ‡å‡†çš„ç½‘é¡µï¼Œè€Œ Quirksï¼ˆåŒ…å®¹ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯æ¾æ•£å‘ˆç°æ¨¡å¼æˆ–è€…å…¼å®¹æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°ä¸ºä¼ ç»Ÿæµè§ˆå™¨è€Œè®¾è®¡çš„ç½‘é¡µã€‚ HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«1ã€æ‰€æœ‰çš„æ ‡è®°éƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ªç›¸åº”çš„ç»“æŸæ ‡è®°2ã€æ‰€æœ‰æ ‡ç­¾çš„å…ƒç´ å’Œå±æ€§çš„åå­—éƒ½å¿…é¡»ä½¿ç”¨å°å†™3ã€æ‰€æœ‰çš„XMLæ ‡è®°éƒ½å¿…é¡»åˆç†åµŒå¥—4ã€æ‰€æœ‰çš„å±æ€§å¿…é¡»ç”¨å¼•å·â€â€æ‹¬èµ·æ¥5ã€æŠŠæ‰€æœ‰&lt;å’Œ&amp;ç‰¹æ®Šç¬¦å·ç”¨ç¼–ç è¡¨ç¤º6ã€ç»™æ‰€æœ‰å±æ€§èµ‹ä¸€ä¸ªå€¼7ã€ä¸è¦åœ¨æ³¨é‡Šå†…å®¹ä¸­ä½¿â€œâ€“â€8ã€å›¾ç‰‡å¿…é¡»æœ‰è¯´æ˜æ–‡å­— html5æœ‰å“ªäº›æ–°ç‰¹æ€§è¯­ä¹‰åŒ–æ›´å¥½çš„å†…å®¹æ ‡ç­¾ï¼ˆheader,nav,footer,aside,article,sectionï¼‰éŸ³é¢‘ã€è§†é¢‘API(audio,video)ç”»å¸ƒ(Canvas) APIåœ°ç†(Geolocation) APIæ‹–æ‹½é‡Šæ”¾(Drag and drop) APIæœ¬åœ°ç¦»çº¿å­˜å‚¨è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search è®¡ç®—æœºç½‘ç»œHTTPè¯·æ±‚ç±»å‹GETï¼šå‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚POSTï¼šå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„åˆ›å»ºå’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹PUTï¼šå‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹DELETEï¼šè¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URIæ‰€æ ‡è¯†çš„èµ„æºOPTIONSï¼šè¿”å›æœåŠ¡å™¨é’ˆå¯¹ç‰¹å®šèµ„æºæ‰€æ”¯æŒçš„HTTPè¯·æ±‚æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨å‘WebæœåŠ¡å™¨å‘é€â€™*â€™çš„è¯·æ±‚æ¥æµ‹è¯•æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ HTTPè¯·æ±‚å››éƒ¨åˆ†1ã€HTTPè¯·æ±‚çš„æ–¹æ³•æˆ–åŠ¨ä½œï¼Œæ¯”å¦‚æ˜¯getè¿˜æ˜¯postè¯·æ±‚ï¼›2ã€æ­£åœ¨è¯·æ±‚çš„URLï¼ˆè¯·æ±‚çš„åœ°å€ï¼‰ï¼›3ã€è¯·æ±‚å¤´ï¼ŒåŒ…å«ä¸€äº›å®¢æˆ·ç«¯ç¯å¢ƒä¿¡æ¯ã€èº«ä»½éªŒè¯ä¿¡æ¯ç­‰ï¼›4ã€è¯·æ±‚ä½“ï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰ï¼Œå¯ä»¥åŒ…å«å®¢æˆ·æäº¤çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¿¡æ¯ã€è¡¨å•ä¿¡æ¯ç­‰ã€‚ è¯·æ±‚å¤´å­—æ®µï¼š Accept:text/html,image/*(å‘Šè¯‰æœåŠ¡å™¨ï¼Œæµè§ˆå™¨å¯ä»¥æ¥å—æ–‡æœ¬ï¼Œç½‘é¡µå›¾ç‰‡) Accept-Charaset:ISO-8859-1 [æ¥å—å­—ç¬¦ç¼–ç ï¼šiso-8859-1] Accept-Encoding:gzip,compress[å¯ä»¥æ¥å— gzip,compresså‹ç¼©åæ•°æ®] Accept-Language:zh-cn[æµè§ˆå™¨æ”¯æŒçš„è¯­è¨€] Host:localhost:8080[æµè§ˆå™¨è¦æ‰¾çš„ä¸»æœº] If-Modified-Since:Tue, 09 May 2017 01:34:02 GMT[å‘Šè¯‰æœåŠ¡å™¨æˆ‘è¿™ç¼“å­˜ä¸­æœ‰è¿™ä¸ªæ–‡ä»¶,è¯¥æ–‡ä»¶çš„æ—¶é—´æ˜¯â€¦] User-Agent:Nozilla/4.0(Comâ€¦)[å‘Šè¯‰æœåŠ¡å™¨æˆ‘çš„æµè§ˆå™¨å†…æ ¸ï¼Œå®¢æˆ·ç«¯ç¯å¢ƒä¿¡] Cookieï¼š[èº«ä»½éªŒè¯ä¿¡æ¯] Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥] HTTPå“åº”ä¸‰éƒ¨åˆ†1ã€ä¸€ä¸ªæ•°å­—å’Œæ–‡å­—ç»„æˆçš„çŠ¶æ€ç ï¼Œç”¨æ¥æ˜¾ç¤ºè¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼›2ã€å“åº”å¤´ï¼Œå“åº”å¤´ä¹Ÿå’Œè¯·æ±‚å¤´ä¸€æ ·åŒ…å«è®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸæ—¶é—´ã€å†…å®¹ç±»å‹å’Œé•¿åº¦ç­‰ï¼›3ã€å“åº”ä½“ï¼ˆå“åº”æ­£æ–‡ï¼‰ã€‚ å“åº”å¤´å­—æ®µï¼š Cache-Control:[å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç¼“å­˜é¡µé¢(å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹æ€§æœ€å¥½è®¾ç½®ä¸¤ä¸ª)] Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥] Content-Type:text/html;charset=gb2312[å†…å®¹æ ¼å¼å’Œç¼–ç ] Last-Modified:Tue,11 Juj,2017 18 18:29:20[å‘Šè¯‰æµè§ˆå™¨è¯¥èµ„æºä¸Šæ¬¡æ›´æ–°æ—¶é—´æ˜¯å¤šå°‘] ETag:â€540-54f0d59b8b680â€ Expires:Fri, 26 May 2017 13:28:33 GMT [å¤±æ•ˆæ—¥æœŸ] server:apache tomcat nginx [å“ªç§æœåŠ¡å™¨] è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®åŒ…ï¼ˆå¸¦SYNæ ‡å¿—çš„æ•°æ®åŒ…ï¼‰ã€‚æ­¤æ—¶æœåŠ¡å™¨ç¡®è®¤è‡ªå·±å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯çš„åŒ…ï¼Œè€Œå®¢æˆ·ç«¯ä¸ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ¥æ”¶åˆ°äº†è‡ªå·±å‘çš„æ•°æ®åŒ…ã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯å›å¤ï¼ˆå›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯ï¼‰å®¢æˆ·ç«¯ã€‚æ­¤æ—¶å®¢æˆ·ç«¯ç¡®è®¤è‡ªå·±å‘çš„åŒ…è¢«æœåŠ¡å™¨æ”¶åˆ°ï¼Œä¹Ÿç¡®è®¤è‡ªå·±å¯ä»¥æ­£å¸¸æ¥æ”¶æœåŠ¡å™¨åŒ…ï¼Œå®¢æˆ·ç«¯å¯¹æ­¤æ¬¡é€šä¿¡æ²¡æœ‰ç–‘é—®äº†ã€‚æœåŠ¡å™¨ä¹Ÿå¯ä»¥ç¡®è®¤è‡ªå·±èƒ½æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„åŒ…ï¼Œä½†ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯èƒ½å¦æ¥æ”¶è‡ªå·±å‘çš„åŒ…ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å›å¤ï¼ˆå‘é€ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨â€œæ¡æ‰‹â€ç»“æŸï¼‰æœåŠ¡å™¨ã€‚ å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰ç–‘é—®äº†ï¼ŒæœåŠ¡å™¨ä¹Ÿç¡®è®¤åˆšåˆšå®¢æˆ·ç«¯æ”¶åˆ°äº†è‡ªå·±çš„æ•°æ®åŒ…ã€‚ä¸¤è¾¹éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå¼€å§‹é€šä¿¡ã€‚ ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼šä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚ä¹Ÿé˜²æ­¢äº†æœåŠ¡å™¨ç«¯çš„ä¸€ç›´ç­‰å¾…è€Œæµªè´¹èµ„æºTCPä½œä¸ºä¸€ç§å¯é ä¼ è¾“æ§åˆ¶åè®®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³ï¼šæ—¢è¦ä¿è¯æ•°æ®å¯é ä¼ è¾“ï¼Œåˆè¦æé«˜ä¼ è¾“çš„æ•ˆç‡ï¼Œè€Œç”¨ä¸‰æ¬¡æ°æ°å¯ä»¥æ»¡è¶³ä»¥ä¸Šä¸¤æ–¹é¢çš„éœ€æ±‚ï¼ å››æ¬¡æŒ¥æ‰‹1ã€ä¸»æœºå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæ–­å¼€è¿æ¥çš„è¯·æ±‚ï¼ˆ ä¸æ—©äº†ï¼Œæˆ‘è¯¥èµ°äº† ï¼‰,å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µï¼›2ã€æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚åå‘é€ç¡®è®¤æ”¶åˆ°è¯·æ±‚çš„ä¿¡å·ï¼ˆ çŸ¥é“äº† ï¼‰å›ä¸€ä¸ªACKæŠ¥æ–‡æ®µï¼›3ã€æœåŠ¡å™¨å‘ä¸»æœºå‘é€æ–­å¼€é€šçŸ¥ï¼ˆ æˆ‘ä¹Ÿè¯¥èµ°äº† ï¼‰å‘é€FINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥ï¼›4ã€ä¸»æœºæ¥åˆ°æ–­å¼€é€šçŸ¥åæ–­å¼€è¿æ¥å¹¶åé¦ˆä¸€ä¸ªç¡®è®¤ä¿¡å·ï¼ˆ å—¯ï¼Œå¥½çš„ ï¼‰ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ç¡®è®¤ä¿¡å·åä¹Ÿæ–­å¼€è¿æ¥ï¼› TCPå’ŒUDPçš„åŒºåˆ«TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥ UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚ HTTPå’ŒHTTPS1ã€HTTPåè®®é€šå¸¸æ‰¿è½½äºTCPåè®®ä¹‹ä¸Šï¼Œåœ¨HTTPå’ŒTCPä¹‹é—´æ·»åŠ ä¸€ä¸ªå®‰å…¨åè®®å±‚ï¼ˆSSLæˆ–TSLï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æˆäº†æˆ‘ä»¬å¸¸è¯´çš„HTTPS2ã€é»˜è®¤HTTPçš„ç«¯å£å·ä¸º80ï¼ŒHTTPSçš„ç«¯å£å·ä¸º443 HTTPS ç›¸å¯¹äº HTTP æ€§èƒ½ä¸Šå·®ç‚¹ï¼Œå› ä¸ºå¤šäº† SSL/TLS çš„å‡ æ¬¡æ¡æ‰‹å’ŒåŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†ï¼Œä½†æ˜¯åŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†å·²ç»å¯ä»¥é€šè¿‡ç‰¹æœ‰çš„ç¡¬ä»¶æ¥åŠ é€Ÿå¤„ç†ã€‚ ä»€ä¹ˆæ˜¯Etagï¼ŸæŠŠLast-Modifiedå’ŒETagè¯·æ±‚çš„httpæŠ¥å¤´ä¸€èµ·ä½¿ç”¨ï¼Œå¯åˆ©ç”¨å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰çš„ç¼“å­˜ã€‚ETagç”¨äºæ ‡è¯†èµ„æºçš„çŠ¶æ€ï¼Œå½“èµ„æºå‘ç”Ÿå˜æ›´æ—¶ï¼Œå¦‚æœå…¶å¤´ä¿¡æ¯ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…æ¶ˆæ¯å®ä½“å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆETagä¹Ÿéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚æµè§ˆå™¨ä¸‹è½½ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šå°†å®ƒä»¬å­˜å‚¨åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ã€‚å¦‚æœéœ€è¦å†æ¬¡è·å–ç›¸åŒçš„ç»„ä»¶ï¼Œæµè§ˆå™¨å°†æ£€æŸ¥ç»„ä»¶çš„ç¼“å­˜æ—¶é—´ï¼Œå‡å¦‚å·²ç»è¿‡æœŸï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†å‘é€ä¸€ä¸ªæ¡ä»¶GETè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åˆ¤æ–­ç¼“å­˜è¿˜æœ‰æ•ˆï¼Œåˆ™å‘é€ä¸€ä¸ª304å“åº”ï¼Œå‘Šè¯‰æµè§ˆå™¨å¯ä»¥é‡ç”¨ç¼“å­˜ç»„ä»¶ã€‚ Expireså’ŒCache-ControlExpires ç”¨æ¥æ§åˆ¶ç¼“å­˜çš„å¤±æ•ˆæ—¥æœŸCache-Control ç”¨æ¥æ§åˆ¶ç½‘é¡µçš„ç¼“å­˜ å¸¸è§çš„å–å€¼æœ‰privateã€no-cacheã€max-ageã€must-revalidateç­‰ï¼Œé»˜è®¤ä¸ºprivateã€‚ å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼ŸHTTP/2å¼•å…¥äº†â€œæœåŠ¡ç«¯æ¨ï¼ˆserver pushï¼‰â€çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯éœ€è¦æ•°æ®ä¹‹å‰å°±ä¸»åŠ¨åœ°å°†æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ç¼“å­˜ä¸­ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚HTTP/2æä¾›æ›´å¤šçš„åŠ å¯†æ”¯æŒHTTP/2ä½¿ç”¨å¤šè·¯æŠ€æœ¯ï¼Œå…è®¸å¤šä¸ªæ¶ˆæ¯åœ¨ä¸€ä¸ªè¿æ¥ä¸ŠåŒæ—¶äº¤å·®ã€‚å®ƒå¢åŠ äº†å¤´å‹ç¼©ï¼ˆheader compressionï¼‰ï¼Œå› æ­¤å³ä½¿éå¸¸å°çš„è¯·æ±‚ï¼Œå…¶è¯·æ±‚å’Œå“åº”çš„headeréƒ½åªä¼šå ç”¨å¾ˆå°æ¯”ä¾‹çš„å¸¦å®½ã€‚ ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ1ã€æµè§ˆå™¨æ ¹æ®è¯·æ±‚çš„URLäº¤ç»™DNSåŸŸåè§£æï¼Œæ‰¾åˆ°çœŸå®IPï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆTCPä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼›2ã€æœåŠ¡å™¨äº¤ç»™åå°å¤„ç†å®Œæˆåè¿”å›æ•°æ®ï¼Œæµè§ˆå™¨æ¥æ”¶æ–‡ä»¶ï¼ˆHTMLã€JSã€CSSã€å›¾è±¡ç­‰ï¼‰ï¼›3ã€æµè§ˆå™¨å¯¹åŠ è½½åˆ°çš„èµ„æºï¼ˆHTMLã€JSã€CSSç­‰ï¼‰è¿›è¡Œè¯­æ³•è§£æï¼Œå»ºç«‹ç›¸åº”çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚HTMLçš„DOMï¼‰ï¼›4ã€è½½å…¥è§£æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œæ¸²æŸ“é¡µé¢ï¼Œå®Œæˆã€‚ æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹1ã€æµè§ˆå™¨è¯·æ±‚åˆ°HTMLä»£ç åï¼Œåœ¨ç”ŸæˆDOMçš„æœ€å¼€å§‹é˜¶æ®µï¼Œå¹¶è¡Œå‘èµ·cssã€å›¾ç‰‡ã€jsçš„è¯·æ±‚ï¼Œæ— è®ºä»–ä»¬æ˜¯å¦åœ¨HEADé‡Œã€‚æµè§ˆå™¨ä¼šå°†HTMLè§£ææˆä¸€ä¸ªDOMæ ‘ï¼ŒDOM æ ‘çš„æ„å»ºè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ·±åº¦éå†è¿‡ç¨‹ï¼šå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ„å»ºå¥½åæ‰ä¼šå»æ„å»ºå½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚2ã€CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼Œå¼€å§‹æ„å»ºCSSOM3ã€æ‰€æœ‰CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼ŒCSSOMæ„å»ºç»“æŸåï¼Œå’Œ DOM ä¸€èµ·ç”Ÿæˆ Render Treeã€‚4ã€æœ‰äº†Render Treeï¼Œæµè§ˆå™¨å·²ç»èƒ½çŸ¥é“ç½‘é¡µä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€å„ä¸ªèŠ‚ç‚¹çš„CSSå®šä¹‰ä»¥åŠä»–ä»¬çš„ä»å±å…³ç³»ã€‚ä¸‹ä¸€æ­¥æ“ä½œå°±æ˜¯è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®ã€‚5ã€æœ€åä¸€æ­¥ï¼ŒæŒ‰ç…§ç®—å‡ºæ¥çš„è§„åˆ™ï¼ŒæŠŠå†…å®¹æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚ ä»¥ä¸Šäº”ä¸ªæ­¥éª¤å‰3ä¸ªæ­¥éª¤å› ä¸ºDOMã€CSSOMã€Render Treeéƒ½å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡Paintingååˆè¢«æ›´æ–°å¤šæ¬¡ï¼Œæ¯”å¦‚JSä¿®æ”¹äº†DOMæˆ–è€…CSSå±æ€§ã€‚Layout å’Œ Painting ä¹Ÿä¼šè¢«é‡å¤æ‰§è¡Œï¼Œé™¤äº†DOMã€CSSOMæ›´æ–°çš„åŸå› å¤–ï¼Œå›¾ç‰‡ä¸‹è½½å®Œæˆåä¹Ÿéœ€è¦è°ƒç”¨Layout å’Œ Paintingæ¥æ›´æ–°ç½‘é¡µã€‚ display:none çš„èŠ‚ç‚¹ä¸ä¼šè¢«åŠ å…¥ Render Treeï¼Œè€Œ visibility: hidden åˆ™ä¼šï¼Œæ‰€ä»¥ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹æœ€å¼€å§‹æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œè®¾ä¸º display:none æ˜¯æ›´ä¼˜çš„ã€‚ ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ† http://www.hzzly.net:8080/news/index.php?boardID=5&amp;ID=24618&amp;page=1#name 1ã€åè®®éƒ¨åˆ†2ã€åŸŸåéƒ¨åˆ†3ã€ç«¯å£éƒ¨åˆ†4ã€è™šæ‹Ÿç›®å½•éƒ¨åˆ†ï¼šä»åŸŸååçš„ç¬¬ä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°æœ€åä¸€ä¸ªâ€œ/â€ä¸ºæ­¢5ã€æ–‡ä»¶åéƒ¨åˆ†ï¼šä»åŸŸååçš„æœ€åä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°â€œï¼Ÿâ€ä¸ºæ­¢6ã€å‚æ•°éƒ¨åˆ†ï¼šä»â€œï¼Ÿâ€å¼€å§‹åˆ°â€œ#â€ä¸ºæ­¢ä¹‹é—´çš„éƒ¨åˆ†7ã€é”šéƒ¨åˆ†ï¼šä»â€œ#â€å¼€å§‹åˆ°æœ€å GETå’ŒPOSTçš„åŒºåˆ«GETï¼šä¸€èˆ¬ç”¨äºä¿¡æ¯è·å–ï¼Œä½¿ç”¨URLä¼ é€’å‚æ•°ï¼Œå¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬åœ¨1024å­—èŠ‚ï¼ŒGetæ˜¯é€šè¿‡åœ°å€æ æ¥ä¼ å€¼ã€‚ POSTï¼šä¸€èˆ¬ç”¨äºä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå¯¹æ‰€å‘é€çš„ä¿¡æ¯æ²¡æœ‰é™åˆ¶ã€‚ï¼ˆå¸¸ç”¨äºå‘é€è¡¨å•æ•°æ®ï¼Œæ–°å»ºã€ä¿®æ”¹ç­‰ï¼‰ï¼ŒPostæ˜¯é€šè¿‡æäº¤è¡¨å•æ¥ä¼ å€¼ã€‚ å¸¸è§HTTPçŠ¶æ€ç 1xxï¼ˆä¸´æ—¶å“åº”ï¼‰è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç ã€‚2xxï¼ˆæˆåŠŸï¼‰è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç ã€‚200ï¼ˆæˆåŠŸï¼‰ï¼šæœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚3xxï¼ˆé‡å®šå‘ï¼‰è¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚301ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ï¼šè¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚302ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥å“åº”ä»¥åçš„è¯·æ±‚ã€‚304ï¼ˆæœªä¿®æ”¹ï¼‰ï¼šè‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚400ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ï¼šæœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚404ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚500ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ï¼šæœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚503ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚ è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ï¼ˆä»ä¸Šå¾€ä¸‹ï¼‰ï¼ˆHTTPã€FTPã€SMTPã€DNSï¼‰ ä¼ è¾“å±‚ï¼ˆTCPå’ŒUDPï¼‰ ç½‘ç»œå±‚ï¼ˆIPï¼‰ ç‰©ç†å’Œæ•°æ®é“¾è·¯å±‚ï¼ˆä»¥å¤ªç½‘ï¼‰ è®²è®²304ç¼“å­˜çš„åŸç†æœåŠ¡å™¨é¦–å…ˆäº§ç”ŸETagï¼ŒæœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·ç«¯é€šè¿‡å°†è¯¥è®°å·ä¼ å›æœåŠ¡å™¨è¦æ±‚æœåŠ¡å™¨éªŒè¯å…¶ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¼“å­˜ã€‚ 304æ˜¯HTTPçŠ¶æ€ç ï¼ŒæœåŠ¡å™¨ç”¨æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶æ²¡ä¿®æ”¹ï¼Œä¸è¿”å›å†…å®¹ï¼Œæµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ä¸ªçŠ¶æ€ç åï¼Œä¼šä½¿ç”¨æµè§ˆå™¨å·²ç¼“å­˜çš„æ–‡ä»¶ http keep-aliveä¸tcp keep-alivehttp keep-aliveæ˜¯ä¸ºäº†è®©tcpæ´»å¾—æ›´ä¹…ä¸€ç‚¹ï¼Œä»¥ä¾¿åœ¨åŒä¸€ä¸ªè¿æ¥ä¸Šä¼ é€å¤šä¸ªhttpï¼Œæé«˜socketçš„æ•ˆç‡ã€‚è€Œtcp keep-aliveæ˜¯TCPçš„ä¸€ç§æ£€æµ‹TCPè¿æ¥çŠ¶å†µçš„ä¿é²œæœºåˆ¶ã€‚ å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç† sqlæ³¨å…¥åŸç† å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚ XSS æŒ‡çš„æ˜¯æ”»å‡»è€…å¾€Webé¡µé¢é‡Œæ’å…¥æ¶æ„htmlæ ‡ç­¾æˆ–è€…javascriptä»£ç ã€‚æ¯”å¦‚ï¼šæ”»å‡»è€…åœ¨è®ºå›ä¸­æ”¾ä¸€ä¸ªçœ‹ä¼¼å®‰å…¨çš„é“¾æ¥ï¼Œéª—å–ç”¨æˆ·ç‚¹å‡»åï¼Œçªƒå–cookieä¸­çš„ç”¨æˆ·ç§å¯†ä¿¡æ¯ï¼›æˆ–è€…æ”»å‡»è€…åœ¨è®ºå›ä¸­åŠ ä¸€ä¸ªæ¶æ„è¡¨å•ï¼Œå½“ç”¨æˆ·æäº¤è¡¨å•çš„æ—¶å€™ï¼Œå´æŠŠä¿¡æ¯ä¼ é€åˆ°æ”»å‡»è€…çš„æœåŠ¡å™¨ä¸­ï¼Œè€Œä¸æ˜¯ç”¨æˆ·åŸæœ¬ä»¥ä¸ºçš„ä¿¡ä»»ç«™ç‚¹ã€‚ CSRF CSRFæ˜¯ä»£æ›¿ç”¨æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œéœ€è¦çŸ¥é“å…¶ä»–ç”¨æˆ·é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚è¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š1ã€ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚2ã€åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚ ç®—æ³•æ•°ç»„å»é‡ å»ºä¸€ä¸ªç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ªç¯éå†éœ€è¦å»é‡çš„æ•°ç»„ï¼Œåˆ¤æ–­å¯¹è±¡æœ‰æ²¡æœ‰æ­¤å±æ€§ï¼Œæ²¡æœ‰çš„è¯å°±ç»™å¯¹è±¡æ·»åŠ æ­¤å±æ€§ï¼Œå¹¶å‘ç©ºæ•°ç»„ä¸­pushè¿™ä¸ªå€¼ã€‚ 123456789101112131415//es5function unique(arr)&#123; var obj = &#123;&#125; var result = [] for(var i in arr)&#123; if(!obj[arr[i]])&#123; obj[arr[i]] = true; result.push(arr[i]); &#125; &#125; return result;&#125;//es6[...new Set(arr)] å†’æ³¡æ’åº ç›¸é‚»ä¸¤ä¸ªå¯¹æ¯”ï¼Œæœ€åæŠŠæœ€å¤§çš„æ’åˆ°äº†æœ€åï¼Œé‡å¤æ­¤è¿‡ç¨‹ã€‚ 12345678910111213function bubbleSort(arr) &#123; var len = arr.length; for (var i = 0; i &lt; len; i++) &#123; for (var j = 0; j &lt; len - 1 - i; j++) &#123; if (arr[j] &gt; arr[j+1]) &#123; //ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯” var temp = arr[j+1]; //å…ƒç´ äº¤æ¢ arr[j+1] = arr[j]; arr[j] = temp; &#125; &#125; &#125; return arr;&#125; é€‰æ‹©æ’åº å¯»æ‰¾æœ€å°çš„æ•°ï¼Œä¿å­˜ç´¢å¼•ï¼Œç„¶åä¸ç¬¬ä¸€å±‚å¾ªç¯å…¶ä¸‹æ ‡å¯¹äºçš„å€¼è¿›è¡Œäº¤æ¢ 12345678910111213141516function selectionSort(arr) &#123; var len = arr.length; var minIndex, temp; for (var i = 0; i &lt; len - 1; i++) &#123; minIndex = i; for (var j = i + 1; j &lt; len; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; //å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ &#125; &#125; temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; &#125; return arr;&#125; å¿«é€Ÿæ’åº é€‰å–ä¸€ä¸ªè®°å½•ä½œä¸ºä¸­é—´è½´ï¼Œç„¶åå°†æ¯”â€˜è¿™ä¸ªè®°å½•å€¼â€™å°çš„ç§»åˆ°â€˜è®°å½•å€¼â€™ä¹‹å‰ï¼Œå¤§çš„ç§»åˆ°ä¹‹åï¼Œç„¶åé€’å½’ 1234567891011121314151617function quickSort(arr) &#123; if(arr.length == 0) &#123; return []; // è¿”å›ç©ºæ•°ç»„ &#125; var cIndex = Math.floor(arr.length / 2); var c = arr.splice(cIndex, 1); var l = []; var r = []; for (var i = 0; i &lt; arr.length; i++) &#123; if(arr[i] &lt; c) &#123; l.push(arr[i]); &#125; else &#123; r.push(arr[i]); &#125; &#125; return quickSort(l).concat(c, quickSort(r));&#125; å…¶å®ƒå¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„å‰ç«¯æ˜¯æœ€è´´è¿‘ç”¨æˆ·çš„ç¨‹åºå‘˜ï¼Œå‰ç«¯çš„èƒ½åŠ›å°±æ˜¯èƒ½è®©äº§å“ä» 90åˆ†è¿›åŒ–åˆ° 100 åˆ†ï¼Œç”šè‡³æ›´å¥½1ã€å®ç°ç•Œé¢äº¤äº’2ã€æå‡ç”¨æˆ·ä½“éªŒ è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æ„ã€æ·»åŠ å¯è¯»æ€§ï¼Œè€Œåœ¨ç½‘ç«™å‰ç«¯ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯åœ¨ä¸æ”¹å˜UIçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘ç«™è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æ‰©å±•çš„åŒæ—¶ä¿æŒä¸€è‡´çš„UIã€‚ å‡å°‘ä»£ç é—´çš„è€¦åˆè®©ä»£ç ä¿æŒå¼¹æ€§ä¸¥æ ¼æŒ‰è§„èŒƒç¼–å†™ä»£ç è®¾è®¡å¯æ‰©å±•çš„APIä»£æ›¿æ—§æœ‰çš„æ¡†æ¶ã€è¯­è¨€(å¦‚VB)å¢å¼ºç”¨æˆ·ä½“éªŒé€šå¸¸æ¥è¯´å¯¹äºé€Ÿåº¦çš„ä¼˜åŒ–ä¹ŸåŒ…å«åœ¨é‡æ„ä¸­ ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿå¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿå¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿå…ˆæœŸå›¢é˜Ÿå¿…é¡»ç¡®å®šå¥½å…¨å±€æ ·å¼ï¼ˆglobe.cssï¼‰ï¼Œç¼–ç æ¨¡å¼(utf-8) ç­‰ï¼› ç¼–å†™ä¹ æƒ¯å¿…é¡»ä¸€è‡´ï¼ˆä¾‹å¦‚éƒ½æ˜¯é‡‡ç”¨ç»§æ‰¿å¼çš„å†™æ³•ï¼Œå•æ ·å¼éƒ½å†™æˆä¸€è¡Œï¼‰ï¼› æ ‡æ³¨æ ·å¼ç¼–å†™äººï¼Œå„æ¨¡å—éƒ½åŠæ—¶æ ‡æ³¨ï¼ˆæ ‡æ³¨å…³é”®æ ·å¼è°ƒç”¨çš„åœ°æ–¹ï¼‰ï¼› é¡µé¢è¿›è¡Œæ ‡æ³¨ï¼ˆä¾‹å¦‚ é¡µé¢ æ¨¡å— å¼€å§‹å’Œç»“æŸï¼‰ï¼› CSSè·ŸHTML åˆ†æ–‡ä»¶å¤¹å¹¶è¡Œå­˜æ”¾ï¼Œå‘½åéƒ½å¾—ç»Ÿä¸€ï¼ˆä¾‹å¦‚style.cssï¼‰ï¼› JS åˆ†æ–‡ä»¶å¤¹å­˜æ”¾ å‘½åä»¥è¯¥JSåŠŸèƒ½ä¸ºå‡†çš„è‹±æ–‡ç¿»è¯‘ã€‚ å›¾ç‰‡é‡‡ç”¨æ•´åˆçš„ images.png png8 æ ¼å¼æ–‡ä»¶ä½¿ç”¨å°½é‡æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨æ–¹ä¾¿å°†æ¥çš„ç®¡ç† è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼ŸNode.jsã€Mongodbã€npmã€MVVMã€MEANã€three.jsã€Reactã€Vueã€WebGLç½‘ç«™ï¼šæ˜é‡‘ã€segmentfaultã€Githubã€w3cplusã€å‰ç«¯åœˆã€çŸ¥ä¹ç­‰","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://yoursite.com/tags/é¢è¯•/"}]},{"title":"Fetchå­¦ä¹ ç¬”è®°","date":"2017-05-20T15:52:22.000Z","path":"2017/05/20/Fetchå­¦ä¹ ç¬”è®°/","text":"å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚ fetch ä¸XMLHttpRequest(XHR)ç±»ä¼¼ï¼Œfetch()æ–¹æ³•å…è®¸ä½ å‘å‡ºAJAXè¯·æ±‚ã€‚åŒºåˆ«åœ¨äºFetch APIä½¿ç”¨Promiseï¼Œå› æ­¤æ˜¯ä¸€ç§ç®€æ´æ˜äº†çš„APIï¼Œæ¯”XMLHttpRequestæ›´åŠ ç®€å•æ˜“ç”¨ã€‚ å¦‚æœè¿˜ä¸äº†è§£Promiseï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰æµ…è°ˆPromiseè¿™ç¯‡åšå®¢ æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰åˆ›å»ºæ­¥éª¤ï¼š åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡ åˆ›å»ºä¸€ä¸ªæ–°çš„HTTPè¯·æ±‚ï¼Œå¹¶æŒ‡å®šè¯¥HTTPè¯·æ±‚çš„æ–¹æ³•ã€URLåŠéªŒè¯ä¿¡æ¯ å‘é€HTTPè¯·æ±‚ å¤„ç†å“åº”ï¼Œè·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ® å¯ä»¥å‘ç°ï¼Œä¸»è¦çš„ä¸åŒç‚¹åœ¨äºï¼šä¼ ç»ŸAjaxä½¿ç”¨äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯Promiseå¯¹è±¡ï¼Œå¹¶ä¸”è¯·æ±‚çš„å‘èµ·å®Œå…¨ä¾èµ–äºxhrå¯¹è±¡æ‰€æä¾›çš„æ–¹æ³•ã€‚ æƒ³è¯¦ç»†äº†è§£ Ajaxçš„å°è£…å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšå®¢ï¼Œä¸€æ­¥æ­¥æ•™ä½  Ajaxçš„å°è£…ğŸ‘‰Ajaxå­¦ä¹ ç¬”è®° fetchè¯­æ³•12345678910fetch(url) .then(function(response) &#123; return response.json(); &#125;) .then(function(data) &#123; console.log(data); &#125;) .catch(function(e) &#123; console.log(\"Oops, error\"); &#125;); ä½¿ç”¨ ES6 çš„ ç®­å¤´å‡½æ•°1234fetch(url) .then(response =&gt; response.json()) .then(data =&gt; console.log(data)) .catch(e =&gt; console.log(\"Oops, error\", e)) ä½¿ç”¨ async/await æ¥åšæœ€ç»ˆä¼˜åŒ–ï¼š 123456789(async function () &#123; try &#123; let response = await fetch(url); let data = response.json(); console.log(data); &#125; catch(e) &#123; console.log(\"Oops, error\", e); &#125;&#125;)(); ä½¿ç”¨ await åï¼Œå†™å¼‚æ­¥ä»£ç å°±åƒå†™åŒæ­¥ä»£ç ä¸€æ ·çˆ½ã€‚await åé¢å¯ä»¥è·Ÿ Promise å¯¹è±¡ï¼Œè¡¨ç¤ºç­‰å¾… Promise resolve() æ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦‚æœ Promise è¢« reject() æˆ–æŠ›å‡ºå¼‚å¸¸åˆ™ä¼šè¢«å¤–é¢çš„ tryâ€¦catch æ•è·ã€‚ å¦‚æœè¿˜ä¸äº†è§£async/awaitï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰es6Asyncè¿™ç¯‡åšå®¢ GETè¯·æ±‚123456789fetch(url, &#123; method: \"GET\", //é»˜è®¤ headers:&#123; \"Accept\": \"application/json, text/plain, */*\" &#125;&#125;).then(response =&gt; response.json()).then(data =&gt; console.log(data)).catch(e =&gt; console.log(\"Oops, error\", e)) POSTè¯·æ±‚1234567891011fetch(url, &#123; method: \"POST\", headers: &#123; \"Accept\": \"application/json, text/plain, */*\", \"Content-type\":\"application:/x-www-form-urlencoded; charset=UTF-8\" &#125;, body: \"name=hzzly&amp;age=22\"&#125;).then(response =&gt; response.json()).then(data =&gt; console.log(data)).catch(e =&gt; console.log(\"Oops, error\", e)) ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯ è¦ä½¿ç”¨Fetchå‘é€å¸¦æœ‰è¯¸å¦‚cookieä¹‹ç±»çš„å‡­è¯çš„è¯·æ±‚ã€‚ä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä¸­å°†credentialså±æ€§å€¼è®¾ç½®ä¸ºâ€œincludeâ€ï¼š 123fetch(url,&#123; credentials: \"include\"&#125;) å°è£…POSTè¯·æ±‚123456789101112131415161718192021222324252627282930313233//å°†å¯¹è±¡æ‹¼æ¥æˆ name=hzzly&amp;age=22 çš„å­—ç¬¦ä¸²å½¢å¼function params(obj) &#123; let result = '' for(let item in obj) &#123; result += `&amp;$&#123;item&#125;=$&#123;obj[item]&#125;` &#125; if(result) &#123; result = result.slice(1) &#125; return result&#125;function post(url, paramsObj) &#123; let result = fetch(url, &#123; methods: 'POST', credentials: \"include\" headers: &#123; \"Accept\": \"application/json, text/plain, */*\", \"Content-type\":\"application:/x-www-form-urlencoded; charset=UTF-8\" &#125;, body: params(paramsObj) &#125;) return result&#125;let obj = &#123; name: 'hzzly', age: 22&#125;post(url, obj) .then(response =&gt; response.json()) .then(data =&gt; console.log(data)) .catch(e =&gt; console.log(\"Oops, error\", e))","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"Fetch","slug":"Fetch","permalink":"http://yoursite.com/tags/Fetch/"}]},{"title":"Ajaxå­¦ä¹ ç¬”è®°","date":"2017-05-17T14:53:25.000Z","path":"2017/05/17/Ajaxå­¦ä¹ ç¬”è®°/","text":"åœ¨ä¸Šä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œå› ä¸ºç”¨åˆ°äº†å‰åç«¯åˆ†ç¦»çš„æ€è·¯ï¼Œæ‰€ä»¥éƒ½è¦é€šè¿‡Ajaxæ¥è¯·æ±‚æ•°æ®ç„¶åæŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œä¸€å¼€å§‹æƒ³è¿‡ç›´æ¥å¼•ç”¨Jqueryï¼Œä½†æ„Ÿè§‰å°±ä½¿ç”¨Jqueryçš„Ajaxå‡½æ•°ï¼Œæœ‰ç‚¹å¤ªæµªè´¹ï¼Œæ‰€ä»¥å°±è‡ªå·±æ’¸äº†ä¸€ä¸ªAjaxå‡½æ•°ã€‚æœ¬æ–‡ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦ä½ å°è£…å±äºè‡ªå·±çš„Ajaxåº“ã€‚ Ajaxç®€ä»‹ Asynchronous Javascript And XML ï¼ˆå¼‚æ­¥çš„JavaScriptå’ŒXMLï¼‰ å®ƒå¹¶ä¸æ˜¯ä¸€ç§å•ä¸€çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æœ‰æœºåˆ©ç”¨ä¸€ç³»åˆ—äº¤äº’å¼ç½‘é¡µåº”ç”¨ç›¸å…³çš„æŠ€æœ¯æ‰€å½¢æˆçš„ç»“åˆä½“ Ajaxæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚åœ¨å‰å°ä¸åå°è¿›è¡Œæ•°æ®äº¤æ¢ï¼ŒAjaxå¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ã€‚ 1ã€ä¼˜ç‚¹ é¡µé¢æ— åˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚ å¼‚æ­¥é€šä¿¡ï¼Œæ›´åŠ å¿«çš„å“åº”èƒ½åŠ›ã€‚ å‡å°‘å†—ä½™è¯·æ±‚ï¼Œå‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…ã€‚ åŸºäºæ ‡å‡†åŒ–çš„å¹¶è¢«å¹¿æ³›æ”¯æŒçš„æŠ€æœ¯ 2ã€åº”ç”¨åœºæ™¯ åœºæ™¯ 1. æ•°æ®éªŒè¯ åœºæ™¯ 2. æŒ‰éœ€å–æ•°æ® åœºæ™¯ 3. è‡ªåŠ¨æ›´æ–°é¡µé¢ â€¦ è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æ¥ç‚¹å¹²è´§ã€‚ åˆ›å»ºajaxçš„æ­¥éª¤ Ajaxçš„åŸç†ç®€å•æ¥è¯´é€šè¿‡XMLHttpRequestå¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨javascriptæ¥æ“ä½œDOMè€Œæ›´æ–°é¡µé¢ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®ã€‚åŸç”Ÿåˆ›å»ºajaxå¯åˆ†ä¸ºä»¥ä¸‹å››æ­¥ 1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡123456789function createRequest ()&#123; if (window.XMLHttpRequest) &#123; //IE6ä»¥ä¸Š xhr = new XMLHttpRequest(); &#125; else &#123; xhr = new ActiveXObject(\"Microsoft.XMLHTTP\"); &#125; return xhr;&#125; 2ã€å‡†å¤‡è¯·æ±‚1xhr.open(method,url,async); ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¯·æ±‚ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå…¶å€¼å¯ä»¥æ˜¯GETæˆ–è€…POSTGETè¯·æ±‚ï¼š 1xhr.open(\"GET\",demo.php?name=hzzly&amp;age=21,true); POSTè¯·æ±‚ï¼š 1xhr.open(\"POST\",demo.php,true); ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä½œä¸ºè¯·æ±‚å‘é€ç›®æ ‡çš„URLã€‚ ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯trueæˆ–falseï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯ä»¥å¼‚æ­¥è¿˜æ˜¯åŒæ­¥çš„æ¨¡å¼å‘å‡ºã€‚ï¼ˆé»˜è®¤ä¸ºtrueï¼Œä¸€èˆ¬ä¸å»ºè®®ä¸ºfalseï¼‰ 3ã€å‘é€è¯·æ±‚1xhr.send(); GETè¯·æ±‚ï¼š 12xhr.open(\"GET\",demo.php?name=hzzly&amp;age=21,true);xhr.send(); POSTè¯·æ±‚ 123xhr.open(\"POST\",demo.php,true);xhr.setRequestHeder(\"Content-Type\",\"application/x-www-form-urlencoded;charset=UTF-8\");xhr.send(param) 4ã€å¤„ç†å“åº”12345xhr.onreadystatechange = function()&#123; if(xhr.readyState == 4 &amp;&amp; xhr.status == 200)&#123; console.log(xhr.responseText); &#125;&#125; onreadystatechangeï¼šå½“å¤„ç†è¿‡ç¨‹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰§è¡Œä¸‹é¢çš„å‡½æ•° readyStateï¼šajaxå¤„ç†è¿‡ç¨‹ 0ï¼šè¯·æ±‚æœªåˆå§‹åŒ–ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ open()ï¼‰ 1ï¼šè¯·æ±‚å·²ç»å»ºç«‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘é€ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ send()ï¼‰ 2ï¼šè¯·æ±‚å·²å‘é€ï¼Œæ­£åœ¨å¤„ç†ä¸­ï¼ˆé€šå¸¸ç°åœ¨å¯ä»¥ä»å“åº”ä¸­è·å–å†…å®¹å¤´ï¼‰ 3ï¼šè¯·æ±‚åœ¨å¤„ç†ä¸­ï¼›é€šå¸¸å“åº”ä¸­å·²æœ‰éƒ¨åˆ†æ•°æ®å¯ç”¨äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿˜æ²¡æœ‰å®Œæˆå“åº”çš„ç”Ÿæˆ 4ï¼šå“åº”å·²å®Œæˆï¼›æ‚¨å¯ä»¥è·å–å¹¶ä½¿ç”¨æœåŠ¡å™¨çš„å“åº”äº† statuså±æ€§: 200: â€œOKâ€ 404: æœªæ‰¾åˆ°é¡µé¢ responseTextï¼šè·å¾—å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®ï¼Œå¯ä»¥ç”¨JSON.parse(xhr.responseText)è½¬åŒ–ä¸ºJSONå¯¹è±¡ å°è£…ä¾‹å­ 1.getè¯·æ±‚å‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940/** * ä¸€ä¸ªç®€å•çš„getè¯·æ±‚ * @param &#123;String&#125; url è¯·æ±‚åœ°å€,æ–‡ä»¶å * @param &#123;Function&#125; fnSucc è¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œçš„å‡½æ•° * @param &#123;Function&#125; fnFaild è¯·æ±‚å¤±è´¥æ‰§è¡Œçš„å‡½æ•° */function Get(url, fnSucc, fnFaild) &#123; //1.åˆ›å»ºajaxå¯¹è±¡ var xhr = null; /** * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined. * è¿›å…¥elseè‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequeståœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™ **/ if (window.XMLHttpRequest) &#123; //IE6ä»¥ä¸Š xhr = new XMLHttpRequest(); &#125; else &#123; xhr = new ActiveXObject(\"Microsoft.XMLHTTP\"); &#125; //2.è¿æ¥æœåŠ¡å™¨ //open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥) xhr.open(\"GET\", url, true); //3.å‘é€è¯·æ±‚ xhr.send(); //4.æ¥æ”¶è¿”å› //OnRedayStateChangeäº‹ä»¶ xhr.onreadystatechange = function () &#123; if (xhr.readyState === 4) &#123; if (xhr.status === 200) &#123; //alert(\"æˆåŠŸ\" + xhr.responseText); fnSucc(xhr.responseText); &#125; else &#123; //alert(\"æœåŠ¡å™¨å“åº”å¤±è´¥!\"); if (fnFaild) &#123; fnFaild(); &#125; &#125; &#125; &#125;;&#125; 2.getä¸postç»“åˆçš„è¯·æ±‚å‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/** * AJAXå‡½æ•°å°è£… * @param &#123;string&#125; url è¯·æ±‚åœ°å€ï¼ˆå¿…é¡»ï¼‰ * @param &#123;object&#125; options å‘é€è¯·æ±‚çš„é€‰é¡¹å‚æ•° * @config &#123;string&#125; [options.type] è¯·æ±‚å‘é€çš„ç±»å‹ã€‚é»˜è®¤ä¸ºGETã€‚ * @config &#123;Object&#125; [options.data] éœ€è¦å‘é€çš„æ•°æ®ã€‚ * @config &#123;Function&#125; [options.onsuccess] è¯·æ±‚æˆåŠŸæ—¶è§¦å‘ã€‚ï¼ˆå¿…é¡»ï¼‰ * @config &#123;Function&#125; [options.onfail] è¯·æ±‚å¤±è´¥æ—¶è§¦å‘ã€‚ */function AJAX(url, options) &#123; //1.åˆ›å»ºajaxå¯¹è±¡ var xhr = null; /** * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined,è¿›å…¥else * è‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequest,åœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™ **/ if (window.XMLHttpRequest) &#123; //IE6ä»¥ä¸Š xhr = new XMLHttpRequest(); &#125; else &#123; xhr = new ActiveXObject(\"Microsoft.XMLHTTP\"); &#125; //2.è¿æ¥æœåŠ¡å™¨ //open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥) var param = \"\"; //è¯·æ±‚å‚æ•°ã€‚ //åªæœ‰dataå­˜åœ¨ï¼Œä¸”ä¸ºå¯¹è±¡ä½¿æ‰æ‰§è¡Œ var data = options.data ? options.data : -1; //ç¼“å­˜data if (typeof (data) === \"object\") &#123; for (var key in data) &#123; //è¯·æ±‚å‚æ•°æ‹¼æ¥ if (data.hasOwnProperty(key)) &#123; param += `$&#123;key&#125;=$&#123;data[key]&#125;&amp;`; &#125; &#125; param.replace(/&amp;$/, \"\"); &#125; else &#123; param = \"timestamp=\" + new Date().getTime(); &#125; //3.å‘é€è¯·æ±‚ var type = options.type ? options.type.toUpperCase() : \"GET\"; if (type === \"GET\") &#123; xhr.open(\"GET\", `$&#123;url&#125;?$&#123;param&#125;`, true); xhr.send(); &#125; else &#123; xhr.open(\"POST\", url, true); xhr.setRequestHeder(\"Content-Type\",\"application/x-www-form-urlencoded;charset=UTF-8\"); xhr.send(param); &#125; //4.æ¥æ”¶è¿”å› //OnRedayStateChangeäº‹ä»¶ xhr.onreadystatechange = function () &#123; if (xhr.readyState === 4) &#123; if (xhr.status === 200) &#123; //è¯·æ±‚æˆåŠŸã€‚å½¢å‚ä¸ºè·å–åˆ°çš„å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ® options.onsuccess(xhr.responseText); &#125; else &#123; //å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯·æ±‚å¤±è´¥å‡½æ•° //å­˜åœ¨æ—¶ï¼Œå½¢å‚ä¸ºXMLHttpRequestå¯¹è±¡ï¼Œä¾¿äºè¿›è¡Œé”™è¯¯è¿›è¡Œå¤„ç† if (options.onfail) &#123; options.onfail(xhr); &#125; &#125; &#125; &#125;;&#125;","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼","date":"2017-05-15T12:48:47.000Z","path":"2017/05/15/è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼/","text":"ç¼–ç¨‹é£æ ¼å—çº§ä½œç”¨åŸŸ let å–ä»£ var ES6æå‡ºäº†ä¸¤ä¸ªæ–°çš„å£°æ˜å˜é‡çš„å‘½ä»¤ï¼šletå’Œconstã€‚å…¶ä¸­ï¼Œletå®Œå…¨å¯ä»¥å–ä»£varï¼Œå› ä¸ºä¸¤è€…è¯­ä¹‰ç›¸åŒï¼Œè€Œä¸”letæ²¡æœ‰å‰¯ä½œç”¨ã€‚ å…¨å±€å¸¸é‡å’Œçº¿ç¨‹å®‰å…¨ åœ¨letå’Œconstä¹‹é—´ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨constï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±€ç¯å¢ƒï¼Œä¸åº”è¯¥è®¾ç½®å˜é‡ï¼Œåªåº”è®¾ç½®å¸¸é‡ã€‚12345678// badvar a = 1, b = 2, c = 3;// goodconst a = 1;const b = 2;const c = 3;// bestconst [a, b, c] = [1, 2, 3]; äº†è§£æ›´å¤šğŸ‘‰ï¼šletä¸const å­—ç¬¦ä¸² é™æ€å­—ç¬¦ä¸²ä¸€å¾‹ä½¿ç”¨å•å¼•å·æˆ–åå¼•å·ï¼Œä¸ä½¿ç”¨åŒå¼•å·ã€‚åŠ¨æ€å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·ã€‚ 123456789// badconst a = \"foobar\";const b = 'foo' + a + 'bar';// acceptableconst c = `foobar`;// goodconst a = 'foobar';const b = `foo$&#123;a&#125;bar`;const c = 'foobar'; äº†è§£æ›´å¤šğŸ‘‰ï¼šå­—ç¬¦ä¸²çš„æ‰©å±• è§£æ„èµ‹å€¼ ä½¿ç”¨æ•°ç»„æˆå‘˜å¯¹å˜é‡èµ‹å€¼æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚ å‡½æ•°çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„æˆå‘˜ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚ å¦‚æœå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚è¿™æ ·ä¾¿äºä»¥åæ·»åŠ è¿”å›å€¼ï¼Œä»¥åŠæ›´æ”¹è¿”å›å€¼çš„é¡ºåºã€‚ 123const [first, second] = arr;function getFullName(&#123; firstName, lastName &#125;) &#123; &#125;const &#123; left, right &#125; = processInput(input); äº†è§£æ›´å¤šğŸ‘‰ï¼šè§£æ„èµ‹å€¼ å¯¹è±¡ å•è¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä¸ä»¥é€—å·ç»“å°¾ã€‚å¤šè¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä»¥é€—å·ç»“å°¾ã€‚ 12345const a = &#123; k1: v1, k2: v2 &#125;;const b = &#123; k1: v1, k2: v2,&#125;; å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°½é‡é‡‡ç”¨ç®€æ´è¡¨è¾¾æ³•ï¼Œè¿™æ ·æ˜“äºæè¿°å’Œä¹¦å†™ 12345678var ref = 'some value';const atom = &#123; ref, value: 1, addValue(value) &#123; return atom.value + value; &#125;,&#125;; äº†è§£æ›´å¤šğŸ‘‰ï¼šå¯¹è±¡çš„æ‰©å±• æ•°ç»„ ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰æ‹·è´æ•°ç»„ã€‚ 1const itemsCopy = [...items]; ä½¿ç”¨Array.fromæ–¹æ³•ï¼Œå°†ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡è½¬ä¸ºæ•°ç»„ã€‚ 1234const foo = document.querySelectorAll('.foo');const nodes = Array.from(foo);//æˆ–è€…æ‰©å±•è¿ç®—ç¬¦(...)const nodes = [...foo]; äº†è§£æ›´å¤šğŸ‘‰ï¼šæ•°ç»„çš„æ‰©å±• å‡½æ•° é‚£äº›éœ€è¦ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼çš„åœºåˆï¼Œå°½é‡ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿ã€‚å› ä¸ºè¿™æ ·æ›´ç®€æ´ï¼Œè€Œä¸”ç»‘å®šäº†thisã€‚ ä½¿ç”¨restè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä»£æ›¿å‚æ•° ä½¿ç”¨é»˜è®¤å€¼è¯­æ³•è®¾ç½®å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚ 1234567[1, 2, 3].map(x =&gt; x * x);function concatenateAll(...args) &#123; return args.join('');&#125;function handleThings(opts = &#123;&#125;) &#123; // ...&#125; äº†è§£æ›´å¤šğŸ‘‰ï¼šå‡½æ•°çš„æ‰©å±• Class æ€»æ˜¯ç”¨Classï¼Œå–ä»£éœ€è¦prototypeçš„æ“ä½œã€‚å› ä¸ºClassçš„å†™æ³•æ›´ç®€æ´ï¼Œæ›´æ˜“äºç†è§£ã€‚ ä½¿ç”¨extendså®ç°ç»§æ‰¿ï¼Œå› ä¸ºè¿™æ ·æ›´ç®€å•ï¼Œä¸ä¼šæœ‰ç ´åinstanceofè¿ç®—çš„å±é™©ã€‚ 1234567891011121314151617class A &#123; constructor(contents = []) &#123; ... &#125; getA() &#123; ... &#125;&#125;class B extends A &#123; constructor() &#123; super() ... &#125; getB() &#123; ... &#125;&#125; äº†è§£æ›´å¤šğŸ‘‰ï¼šClass æ¨¡å— ä½¿ç”¨importå–ä»£requireã€‚ ä½¿ç”¨exportå–ä»£module.exportsã€‚ 1234import &#123; func1, func2 &#125; from 'moduleA';export default function () &#123; console.log('foo');&#125; äº†è§£æ›´å¤šğŸ‘‰ï¼šModule","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Module","date":"2017-05-14T11:13:48.000Z","path":"2017/05/14/è¯»ä¹¦ç¬”è®°-es6Module/","text":"Moduleæ¦‚è¿° åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ã€‚ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼ŒES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼ŒCommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚ 1234567// CommonJSæ¨¡å—let &#123; stat, exists, readFile &#125; = require('fs');// ç­‰åŒäºlet _fs = require('fs');let stat = _fs.stat;let exists = _fs.exists;let readfile = _fs.readfile; ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—ï¼ˆå³åŠ è½½fsçš„æ‰€æœ‰æ–¹æ³•ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼ˆ_fsï¼‰ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–3ä¸ªæ–¹æ³•ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ï¼Œå› ä¸ºåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå¯¼è‡´å®Œå…¨æ²¡åŠæ³•åœ¨ç¼–è¯‘æ—¶åšâ€œé™æ€ä¼˜åŒ–â€ã€‚ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œå†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚ 12// ES6æ¨¡å—import &#123; stat, exists, readFile &#125; from 'fs'; ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯ä»fsæ¨¡å—åŠ è½½3ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½ï¼Œå³ ES6 å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½ï¼Œæ•ˆç‡è¦æ¯” CommonJS æ¨¡å—çš„åŠ è½½æ–¹å¼é«˜ã€‚ ä¸¥æ ¼æ¨¡å¼ ES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Šâ€use strictâ€;ã€‚ ä¸¥æ ¼æ¨¡å¼ä¸»è¦æœ‰ä»¥ä¸‹é™åˆ¶: å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨ å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™ ä¸èƒ½ä½¿ç”¨withè¯­å¥ ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™ ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™ ä¸èƒ½åˆ é™¤å˜é‡delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§delete global[prop] evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡ evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼ argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ– ä¸èƒ½ä½¿ç”¨arguments.callee ä¸èƒ½ä½¿ç”¨arguments.caller ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡ ä¸èƒ½ä½¿ç”¨fn.callerå’Œfn.argumentsè·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚protectedã€staticå’Œinterfaceï¼‰ export å‘½ä»¤ exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ 12345678910111213// è¾“å‡ºå˜é‡export let firstName = 'Michael';export let lastName = 'Jackson';export let year = 1958;//æˆ–è€…ç®€å†™let firstName = 'Michael';let lastName = 'Jackson';let year = 1958;export &#123;firstName, lastName, year&#125;;//è¾“å‡ºå‡½æ•°æˆ–ç±»ï¼ˆclassï¼‰export function multiply(x, y) &#123; return x * y;&#125;; import å‘½ä»¤ importå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ï¼Œimportå‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œ 1234import &#123;firstName, lastName, year&#125; from './index';function setName(element) &#123; element.textContent = firstName + ' ' + lastName;&#125; aså…³é”®å­—1234//ä¸ºè¾“å…¥çš„å˜é‡é‡æ–°å–ä¸€ä¸ªåå­—import &#123; lastName as surname &#125; from './index';//æ¨¡å—æ•´ä½“åŠ è½½import * as circle from './circle' export default å‘½ä»¤ ä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡º 1234567// export-default.jsexport default function () &#123; console.log('foo');&#125;// import-default.jsimport customName from './export-default';customName(); // 'foo' æ —å­ä¸€ä¸ª vuex æ¨¡å—ï¼ˆmoduleï¼‰å®ä¾‹123456789101112131415161718192021222324252627282930313233//com.jsimport * as types from '../types'const state = &#123; showLoading: false,&#125;const actions = &#123; setShowLoading(&#123; commit &#125;, status) &#123; commit(types.COM_SHOW_LOADING, status) &#125;&#125;const getters = &#123; showLoading: state =&gt; state.showLoading,&#125;const mutations = &#123; [types.COM_SHOW_LOADING](state, status) &#123; state.showLoading = status &#125;,&#125;export default &#123; state, actions, getters, mutations&#125;//serach.vueimport &#123; mapGetters &#125; from 'vuex'computed: &#123; //mapGetters(map: Array&lt;string&gt; | Object): Object,åˆ›å»ºç»„ä»¶çš„è®¡ç®—å±æ€§è¿”å› getter çš„è¿”å›å€¼ //ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getters æ··å…¥ computed å¯¹è±¡ä¸­ ...mapGetters([ 'showLoading' ])&#125;,","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿","date":"2017-05-13T14:14:52.000Z","path":"2017/05/13/è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿/","text":"Classçš„ç»§æ‰¿ä¸€ã€åŸºæœ¬ç”¨æ³• Classä¹‹é—´å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯”ES5çš„é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚ 123456789class ColorPoint extends Point &#123; constructor(x, y, color) &#123; super(x, y); // è°ƒç”¨çˆ¶ç±»çš„constructor(x, y) this.color = color; &#125; toString() &#123; return this.color + ' ' + super.toString(); // è°ƒç”¨çˆ¶ç±»çš„toString() &#125;&#125; å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚ ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šé¢ï¼ˆParent.apply(this)ï¼‰ã€‚ES6çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼ˆæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨superæ–¹æ³•ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚ åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼Œæ˜¯åŸºäºå¯¹çˆ¶ç±»å®ä¾‹åŠ å·¥ï¼Œåªæœ‰superæ–¹æ³•æ‰èƒ½è¿”å›çˆ¶ç±»å®ä¾‹ã€‚12345678910111213class Point &#123; constructor(x, y) &#123; this.x = x; this.y = y; &#125;&#125;class ColorPoint extends Point &#123; constructor(x, y, color) &#123; this.color = color; // ReferenceError super(x, y); this.color = color; // æ­£ç¡® &#125;&#125; ä¸‹é¢æ˜¯ç”Ÿæˆå­ç±»å®ä¾‹çš„ä»£ç ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚123let cp = new ColorPoint(25, 8, 'green');cp instanceof ColorPoint // truecp instanceof Point // true äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§ å¤§å¤šæ•°æµè§ˆå™¨çš„ES5å®ç°ä¹‹ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰protoå±æ€§ï¼ŒæŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚Classä½œä¸ºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼ŒåŒæ—¶æœ‰prototypeå±æ€§å’Œprotoå±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚1ï¼‰å­ç±»çš„protoå±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚2ï¼‰å­ç±»prototypeå±æ€§çš„protoå±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ã€‚ 123456class A &#123;&#125;class B extends A &#123;&#125;B.__proto__ === A // trueB.prototype.__proto__ === A.prototype // true ä¸‰ã€Object.getPrototypeOf() Object.getPrototypeOfæ–¹æ³•å¯ä»¥ç”¨æ¥ä»å­ç±»ä¸Šè·å–çˆ¶ç±»ã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­ï¼Œä¸€ä¸ªç±»æ˜¯å¦ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»ã€‚ 12Object.getPrototypeOf(ColorPoint) === Point// true å››ã€super å…³é”®å­— superè¿™ä¸ªå…³é”®å­—ï¼Œæ—¢å¯ä»¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•å®Œå…¨ä¸åŒã€‚1) superä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ES6 è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ã€‚ 123456class A &#123;&#125;class B extends A &#123; constructor() &#123; super(); &#125;&#125; æ³¨æ„ï¼Œsuperè™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³superå†…éƒ¨çš„thisæŒ‡çš„æ˜¯Bï¼Œå› æ­¤super()åœ¨è¿™é‡Œç›¸å½“äºA.prototype.constructor.call(this)ã€‚ 2) superä½œä¸ºå¯¹è±¡æ—¶ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚ 12345678910111213class A &#123; p() &#123; return 2; &#125;&#125;class B extends A &#123; constructor() &#123; super(); console.log(super.p()); // 2 //super.p() ç›¸å½“äº A.prototype.p() &#125;&#125;let b = new B(); ç”±äºsuperæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡superè°ƒç”¨çš„ã€‚123456789101112class A &#123; constructor() &#123; this.p = 2; &#125;&#125;class B extends A &#123; get m() &#123; return super.p; &#125;&#125;let b = new B();b.m // undefined å¦‚æœå±æ€§å®šä¹‰åœ¨çˆ¶ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œsuperå°±å¯ä»¥å–åˆ°ã€‚123456789class A &#123;&#125;A.prototype.x = 2;class B extends A &#123; constructor() &#123; super(); console.log(super.x) // 2 &#125;&#125;let b = new B(); ES6 è§„å®šï¼Œé€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œsuperä¼šç»‘å®šå­ç±»çš„thisã€‚ 12345678910111213141516171819class A &#123; constructor() &#123; this.x = 1; &#125; print() &#123; console.log(this.x); &#125;&#125;class B extends A &#123; constructor() &#123; super(); this.x = 2; &#125; m() &#123; super.print(); &#125;&#125;let b = new B();b.m() // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œsuper.print()è™½ç„¶è°ƒç”¨çš„æ˜¯A.prototype.print()ï¼Œä½†æ˜¯A.prototype.print()ä¼šç»‘å®šå­ç±»Bçš„thisï¼Œå¯¼è‡´è¾“å‡ºçš„æ˜¯2ï¼Œè€Œä¸æ˜¯1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯super.print.call(this)ã€‚ äº”ã€å®ä¾‹çš„protoå±æ€§ å­ç±»å®ä¾‹çš„protoå±æ€§çš„protoå±æ€§ï¼ŒæŒ‡å‘çˆ¶ç±»å®ä¾‹çš„protoå±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»çš„åŸå‹çš„åŸå‹ï¼Œæ˜¯çˆ¶ç±»çš„åŸå‹ 1234var p1 = new Point(2, 3);var p2 = new ColorPoint(2, 3, 'red');p2.__proto__ === p1.__proto__ // falsep2.__proto__.__proto__ === p1.__proto__ // true å› æ­¤ï¼Œé€šè¿‡å­ç±»å®ä¾‹çš„proto.protoå±æ€§ï¼Œå¯ä»¥ä¿®æ”¹çˆ¶ç±»å®ä¾‹çš„è¡Œä¸ºã€‚1234p2.__proto__.__proto__.printName = function () &#123; console.log('Ha');&#125;;p1.printName() // \"Ha\" ä¸Šé¢ä»£ç åœ¨ColorPointçš„å®ä¾‹p2ä¸Šå‘Pointç±»æ·»åŠ æ–¹æ³•ï¼Œç»“æœå½±å“åˆ°äº†Pointçš„å®ä¾‹p1ã€‚ å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿ Boolean() Number() String() Array() Date() Function() RegExp() Error() Object() ä»¥å‰ï¼Œè¿™äº›åŸç”Ÿæ„é€ å‡½æ•°æ˜¯æ— æ³•ç»§æ‰¿çš„ï¼Œæ¯”å¦‚ï¼Œä¸èƒ½è‡ªå·±å®šä¹‰ä¸€ä¸ªArrayçš„å­ç±»ã€‚ES6å¯ä»¥è‡ªå®šä¹‰åŸç”Ÿæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚Arrayã€Stringç­‰ï¼‰çš„å­ç±»ï¼Œè¿™æ˜¯ES5æ— æ³•åšåˆ°çš„ã€‚1234567891011121314151617181920212223class VersionedArray extends Array &#123; constructor() &#123; super(); this.history = [[]]; &#125; commit() &#123; this.history.push(this.slice()); &#125; revert() &#123; this.splice(0, this.length, ...this.history[this.history.length - 1]); &#125;&#125;var x = new VersionedArray();x.push(1);x.push(2);x // [1, 2]x.history // [[]]x.commit();x.history // [[], [1, 2]]x.push(3);x // [1, 2, 3]x.revert();x // [1, 2]","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Class","date":"2017-05-11T15:46:21.000Z","path":"2017/05/11/è¯»ä¹¦ç¬”è®°-es6Class/","text":"Classä¸€ã€ClassåŸºæœ¬è¯­æ³•ä¼ ç»Ÿæ–¹æ³•:12345678function Point(x, y) &#123; this.x = x; this.y = y;&#125;Point.prototype.toString = function () &#123; return '(' + this.x + ', ' + this.y + ')';&#125;;var p = new Point(1, 2); ES6:12345678910class Point &#123; constructor(x, y) &#123; this.x = x; this.y = y; &#125; toString() &#123; return '(' + this.x + ', ' + this.y + ')'; &#125;&#125;var p = new Point(1, 2); ES6çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•: 12345class Point &#123; // ...&#125;typeof Point // \"function\"Point === Point.prototype.constructor // true æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼Œåœ¨ES6çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ã€‚ 12345678910111213141516class Point &#123; constructor()&#123; // ... &#125; toString()&#123; // ... &#125; toValue()&#123; // ... &#125;&#125;// ç­‰åŒäºPoint.prototype = &#123; toString()&#123;&#125;, toValue()&#123;&#125;&#125;; åœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ã€‚ 123class B &#123;&#125;let b = new B();b.constructor === B.prototype.constructor // true ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨prototypeå¯¹è±¡ä¸Šé¢ã€‚Object.assignæ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚ 1234567891011class Point &#123; constructor()&#123; // ... &#125;&#125;Object.assign(Point.prototype, &#123; toString()&#123;&#125;, toValue()&#123;&#125;&#125;);//prototypeå¯¹è±¡çš„constructorå±æ€§ï¼Œç›´æ¥æŒ‡å‘â€œç±»â€çš„æœ¬èº«ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚Point.prototype.constructor === Point // true ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼ˆnon-enumerableï¼‰ã€‚è¿™ä¸€ç‚¹ä¸ES5çš„è¡Œä¸ºä¸ä¸€è‡´ã€‚ äºŒã€constructoræ–¹æ³• constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚ ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡ ç”Ÿæˆç±»çš„å®ä¾‹å¯¹è±¡çš„å†™æ³•ï¼Œä¸ES5å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨newå‘½ä»¤ã€‚å¦‚æœå¿˜è®°åŠ ä¸Šnewï¼Œåƒå‡½æ•°é‚£æ ·è°ƒç”¨Classï¼Œå°†ä¼šæŠ¥é”™ã€‚ 1234// æŠ¥é”™var point = Point(2, 3);// æ­£ç¡®var point = new Point(2, 3); ä¸ES5ä¸€æ ·ï¼Œå®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆå³å®šä¹‰åœ¨thiså¯¹è±¡ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆå³å®šä¹‰åœ¨classä¸Šï¼‰ã€‚ 12345678910111213141516class Point &#123; constructor(x, y) &#123; this.x = x; this.y = y; &#125; toString() &#123; return '(' + this.x + ', ' + this.y + ')'; &#125;&#125;var point = new Point(2, 3);point.toString() // (2, 3)point.hasOwnProperty('x') // truepoint.hasOwnProperty('y') // truepoint.hasOwnProperty('toString') // falsepoint.__proto__.hasOwnProperty('toString') // true ä¸Šé¢ä»£ç ä¸­ï¼Œxå’Œyéƒ½æ˜¯å®ä¾‹å¯¹è±¡pointè‡ªèº«çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨thiså˜é‡ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›trueï¼Œè€ŒtoStringæ˜¯åŸå‹å¯¹è±¡çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨Pointç±»ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›falseã€‚è¿™äº›éƒ½ä¸ES5çš„è¡Œä¸ºä¿æŒä¸€è‡´ã€‚ ä¸ES5ä¸€æ ·ï¼Œç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚ 123var p1 = new Point(2,3);var p2 = new Point(3,2);p1.__proto__ === p2.__proto__ //true ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯Pointçš„å®ä¾‹ï¼Œå®ƒä»¬çš„åŸå‹éƒ½æ˜¯Point.prototypeï¼Œæ‰€ä»¥protoå±æ€§æ˜¯ç›¸ç­‰çš„ã€‚ è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹çš„protoå±æ€§ä¸ºClassæ·»åŠ æ–¹æ³•ã€‚1234567var p1 = new Point(2,3);var p2 = new Point(3,2);p1.__proto__.printName = function () &#123; return 'Oops' &#125;;p1.printName() // \"Oops\"p2.printName() // \"Oops\"var p3 = new Point(4,2);p3.printName() // \"Oops\" ä¸Šé¢ä»£ç åœ¨p1çš„åŸå‹ä¸Šæ·»åŠ äº†ä¸€ä¸ªprintNameæ–¹æ³•ï¼Œç”±äºp1çš„åŸå‹å°±æ˜¯p2çš„åŸå‹ï¼Œå› æ­¤p2ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è€Œä¸”ï¼Œæ­¤åæ–°å»ºçš„å®ä¾‹p3ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨å®ä¾‹çš„protoå±æ€§æ”¹å†™åŸå‹ï¼Œå¿…é¡»ç›¸å½“è°¨æ…ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šæ”¹å˜Classçš„åŸå§‹å®šä¹‰ï¼Œå½±å“åˆ°æ‰€æœ‰å®ä¾‹ã€‚ å››ã€ä¸å­˜åœ¨å˜é‡æå‡ Classä¸å­˜åœ¨å˜é‡æå‡ï¼ˆhoistï¼‰ï¼Œè¿™ä¸€ç‚¹ä¸ES5å®Œå…¨ä¸åŒã€‚ 12new Foo(); // ReferenceErrorclass Foo &#123;&#125; äº”ã€Classè¡¨è¾¾å¼ é‡‡ç”¨Classè¡¨è¾¾å¼ï¼Œå¯ä»¥å†™å‡ºç«‹å³æ‰§è¡Œçš„Classã€‚ 123456789let person = new class &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;('å¼ ä¸‰');person.sayName(); // \"å¼ ä¸‰\" å…­ã€ç§æœ‰æ–¹æ³• ç§æœ‰æ–¹æ³•æ˜¯å¸¸è§éœ€æ±‚ï¼Œä½† ES6 ä¸æä¾›ï¼Œåªèƒ½é€šè¿‡å˜é€šæ–¹æ³•æ¨¡æ‹Ÿå®ç°ã€‚ åœ¨å‘½åä¸ŠåŠ ä»¥åŒºåˆ«:1234567891011class Widget &#123; // å…¬æœ‰æ–¹æ³• foo (baz) &#123; this._bar(baz); &#125; // ç§æœ‰æ–¹æ³• _bar(baz) &#123; return this.snaf = baz; &#125; // ...&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œ_baræ–¹æ³•å‰é¢çš„ä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåªé™äºå†…éƒ¨ä½¿ç”¨çš„ç§æœ‰æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§å‘½åæ˜¯ä¸ä¿é™©çš„ï¼Œåœ¨ç±»çš„å¤–éƒ¨ï¼Œè¿˜æ˜¯å¯ä»¥è°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚ ä¸ƒã€thisçš„æŒ‡å‘ ç±»çš„æ–¹æ³•å†…éƒ¨å¦‚æœå«æœ‰thisï¼Œå®ƒé»˜è®¤æŒ‡å‘ç±»çš„å®ä¾‹ å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰ ä¸ES5ä¸€æ ·ï¼Œåœ¨Classå†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸ºã€‚ 12345678910111213141516class MyClass &#123; constructor() &#123; // ... &#125; get prop() &#123; return 'getter'; &#125; set prop(value) &#123; console.log('setter: '+value); &#125;&#125;let inst = new MyClass();inst.prop = 123;// setter: 123inst.prop// 'getter' Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6 æ–‡ç« æ¥æºhzzlyåšå®¢æŠ€æœ¯åˆ†äº«","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­","date":"2017-05-10T12:07:22.000Z","path":"2017/05/10/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­/","text":"asyncå‡½æ•°æ —å­æ —å­ä¸€ï¼šä»è±†ç“£ API è·å–æ•°æ®123456789101112131415161718192021222324252627282930313233var fetchDoubanApi = function() &#123; return new Promise((resolve, reject) =&gt; &#123; var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() &#123; if (xhr.readyState === 4) &#123; if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) &#123; var response; try &#123; response = JSON.parse(xhr.responseText); &#125; catch (e) &#123; reject(e); &#125; if (response) &#123; resolve(response, xhr.status, xhr); &#125; &#125; else &#123; reject(xhr); &#125; &#125; &#125;; xhr.open('GET', 'https://api.douban.com/v2/user/aisk', true); xhr.setRequestHeader(\"Content-Type\", \"text/plain\"); xhr.send(data); &#125;);&#125;;(async function() &#123; try &#123; let result = await fetchDoubanApi(); console.log(result); &#125; catch (e) &#123; console.log(e); &#125;&#125;)(); æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥12345678910111213141516171819202122232425262728293031323334353637import fs from 'fs';import path from 'path';import request from 'request';var movieDir = __dirname + '/movies', exts = ['.mkv', '.avi', '.mp4', '.rm', '.rmvb', '.wmv'];// è¯»å–æ–‡ä»¶åˆ—è¡¨var readFiles = function () &#123; return new Promise(function (resolve, reject) &#123; fs.readdir(movieDir, function (err, files) &#123; resolve(files.filter((v) =&gt; exts.includes(path.parse(v).ext))); &#125;); &#125;);&#125;;// è·å–æµ·æŠ¥var getPoster = function (movieName) &#123; let url = `https://api.douban.com/v2/movie/search?q=$&#123;encodeURI(movieName)&#125;`; return new Promise(function (resolve, reject) &#123; request(&#123;url: url, json: true&#125;, function (error, response, body) &#123; if (error) return reject(error); resolve(body.subjects[0].images.large); &#125;) &#125;);&#125;;// ä¿å­˜æµ·æŠ¥var savePoster = function (movieName, url) &#123; request.get(url).pipe(fs.createWriteStream(path.join(movieDir, movieName + '.jpg')));&#125;;(async () =&gt; &#123; let files = await readFiles(); // awaitåªèƒ½ä½¿ç”¨åœ¨åŸç”Ÿè¯­æ³• for (var file of files) &#123; let name = path.parse(file).name; console.log(`æ­£åœ¨è·å–ã€$&#123;name&#125;ã€‘çš„æµ·æŠ¥`); savePoster(name, await getPoster(name)); &#125; console.log('=== è·å–æµ·æŠ¥å®Œæˆ ===');&#125;)();","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°","date":"2017-05-09T06:41:45.000Z","path":"2017/05/09/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°/","text":"async å‡½æ•° async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚å®ƒæ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚ Generator å‡½æ•°ï¼Œä¾æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶:123456789101112131415var fs = require('fs');var readFile = function (fileName) &#123; return new Promise(function (resolve, reject) &#123; fs.readFile(fileName, function(error, data) &#123; if (error) reject(error); resolve(data); &#125;); &#125;);&#125;;var gen = function* () &#123; var f1 = yield readFile('/etc/fstab'); var f2 = yield readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;; å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·:123456var asyncReadFile = async function () &#123; var f1 = await readFile('/etc/fstab'); var f2 = await readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());&#125;; asyncå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“ç°åœ¨ä»¥ä¸‹å››ç‚¹: 1ï¼‰å†…ç½®æ‰§è¡Œå™¨ Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚1var result = asyncReadFile(); ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åç»“æœã€‚è¿™å®Œå…¨ä¸åƒ Generator å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åç»“æœã€‚ 2ï¼‰æ›´å¥½çš„è¯­ä¹‰ asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚ 3ï¼‰æ›´å¹¿çš„é€‚ç”¨æ€§ coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚ 4ï¼‰è¿”å›å€¼æ˜¯ Promise asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚ è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚ ä¸€ã€åŸºæœ¬ç”¨æ³• asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚ 12345678910function timeout(ms) &#123; return new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;async function asyncPrint(value, ms) &#123; await timeout(ms); console.log(value);&#125;asyncPrint('hello world', 5000); ä¸Šé¢ä»£ç æŒ‡å®š5000æ¯«ç§’ä»¥åï¼Œè¾“å‡ºhello worldã€‚ ç”±äºasyncå‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼:12345678910async function timeout(ms) &#123; await new Promise((resolve) =&gt; &#123; setTimeout(resolve, ms); &#125;);&#125;async function asyncPrint(value, ms) &#123; await timeout(ms); console.log(value);&#125;asyncPrint('hello world', 5000); async å‡½æ•°å¤šç§ä½¿ç”¨å½¢å¼123456789101112131415161718192021// å‡½æ•°å£°æ˜async function foo() &#123;&#125;// å‡½æ•°è¡¨è¾¾å¼const foo = async function () &#123;&#125;;// å¯¹è±¡çš„æ–¹æ³•let obj = &#123; async foo() &#123;&#125; &#125;;obj.foo().then(...)// Class çš„æ–¹æ³•class Storage &#123; constructor() &#123; this.cachePromise = caches.open('avatars'); &#125; async getAvatar(name) &#123; const cache = await this.cachePromise; return cache.match(`/avatars/$&#123;name&#125;.jpg`); &#125;&#125;const storage = new Storage();storage.getAvatar('hzzly').then(â€¦);// ç®­å¤´å‡½æ•°const foo = async () =&gt; &#123;&#125;; äºŒã€è¯­æ³• asyncå‡½æ•°çš„è¯­æ³•è§„åˆ™æ€»ä½“ä¸Šæ¯”è¾ƒç®€å•ï¼Œéš¾ç‚¹æ˜¯é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ è¿”å› Promise å¯¹è±¡ asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚asyncå‡½æ•°å†…éƒ¨returnè¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚ 12345async function f() &#123; return 'hello world';&#125;f().then(v =&gt; console.log(v))// \"hello world\" Promise å¯¹è±¡çš„çŠ¶æ€å˜åŒ– asyncå‡½æ•°è¿”å›çš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ°returnè¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰asyncå‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚ 1234567async function getTitle(url) &#123; let response = await fetch(url); let html = await response.text(); return html.match(/&lt;title&gt;([\\s\\S]+)&lt;\\/title&gt;/i)[1];&#125;getTitle('https://tc39.github.io/ecma262/').then(console.log)// \"ECMAScript 2017 Language Specification\" ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°getTitleå†…éƒ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼šæŠ“å–ç½‘é¡µã€å–å‡ºæ–‡æœ¬ã€åŒ¹é…é¡µé¢æ ‡é¢˜ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•é‡Œé¢çš„console.logã€‚ ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹ awaitå‘½ä»¤åé¢çš„Promiseå¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ã€‚ 1234567891011121314async function myFunction() &#123; try &#123; await somethingThatReturnsAPromise(); &#125; catch (err) &#123; console.log(err); &#125;&#125;// å¦ä¸€ç§å†™æ³•async function myFunction() &#123; await somethingThatReturnsAPromise() .catch(function (err) &#123; console.log(err); &#125;;&#125; å¤šä¸ªawaitå‘½ä»¤åé¢çš„å¼‚æ­¥æ“ä½œï¼Œå¦‚æœä¸å­˜åœ¨ç»§å‘å…³ç³»ï¼Œæœ€å¥½è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚ 12345678910//å¼‚æ­¥æ“ä½œï¼ˆå³äº’ä¸ä¾èµ–ï¼‰ï¼Œè¢«å†™æˆç»§å‘å…³ç³»ã€‚è¿™æ ·æ¯”è¾ƒè€—æ—¶ï¼Œå› ä¸ºåªæœ‰getFooå®Œæˆä»¥åï¼Œæ‰ä¼šæ‰§è¡ŒgetBarï¼Œå®Œå…¨å¯ä»¥è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚let foo = await getFoo();let bar = await getBar();// å†™æ³•ä¸€let [foo, bar] = await Promise.all([getFoo(), getBar()]);// å†™æ³•äºŒlet fooPromise = getFoo();let barPromise = getBar();let foo = await fooPromise;let bar = await barPromise; awaitå‘½ä»¤åªèƒ½ç”¨åœ¨asyncå‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚ ä¸‹ä¸€èŠ‚å°†ä»‹ç» async å‡½æ•°çš„æ —å­(ğŸŒ°)ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°","date":"2017-05-08T14:27:47.000Z","path":"2017/05/08/è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°/","text":"Generatorå‡½æ•° ä»è¯­æ³•ä¸Šï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚è°ƒç”¨ Generator å‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)ã€‚Generator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚Generator å‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚ 1234567891011121314function* helloWorldGenerator() &#123; yield 'hello'; yield 'world'; return 'ending';&#125;var hw = helloWorldGenerator();hw.next()// &#123; value: 'hello', done: false &#125;hw.next()// &#123; value: 'world', done: false &#125;hw.next()// &#123; value: 'ending', done: true &#125;hw.next()// &#123; value: undefined, done: true &#125; æ€»ç»“ä¸€ä¸‹ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚ å†™æ³•1234function * foo(x, y) &#123; Â·Â·Â· &#125;function *foo(x, y) &#123; Â·Â·Â· &#125;function* foo(x, y) &#123; Â·Â·Â· &#125;function*foo(x, y) &#123; Â·Â·Â· &#125; ä¸€ã€yield è¡¨è¾¾å¼ ç”±äº Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥å…¶å®æä¾›äº†ä¸€ç§å¯ä»¥æš‚åœæ‰§è¡Œçš„å‡½æ•°ã€‚yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚ éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹:1ï¼‰é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚2ï¼‰ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ã€‚3ï¼‰å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚4ï¼‰å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚ 123456function* gen() &#123; yield 123 + 456;&#125;var g = gen()gen.next()//&#123; value: 579, done: false &#125; äºŒã€forâ€¦of å¾ªç¯ forâ€¦ofå¾ªç¯å¯ä»¥è‡ªåŠ¨éå† Generator å‡½æ•°æ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ï¼Œä¸”æ­¤æ—¶ä¸å†éœ€è¦è°ƒç”¨nextæ–¹æ³•ã€‚ 123456789101112function *foo() &#123; yield 1; yield 2; yield 3; yield 4; yield 5; return 6;&#125;for (let v of foo()) &#123; console.log(v);&#125;// 1 2 3 4 5 è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸€æ—¦nextæ–¹æ³•çš„è¿”å›å¯¹è±¡çš„doneå±æ€§ä¸ºtrueï¼Œforâ€¦ofå¾ªç¯å°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›å¯¹è±¡ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç çš„returnè¯­å¥è¿”å›çš„6ï¼Œä¸åŒ…æ‹¬åœ¨forâ€¦ofå¾ªç¯ä¹‹ä¸­ã€‚ é™¤äº†forâ€¦ofå¾ªç¯ä»¥å¤–ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€è§£æ„èµ‹å€¼å’ŒArray.fromæ–¹æ³•å†…éƒ¨è°ƒç”¨çš„ï¼Œéƒ½æ˜¯éå†å™¨æ¥å£ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä»¬éƒ½å¯ä»¥å°† Generator å‡½æ•°è¿”å›çš„ Iterator å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ã€‚ 1234567891011121314151617181920function* numbers () &#123; yield 1 yield 2 return 3 yield 4&#125;// æ‰©å±•è¿ç®—ç¬¦[...numbers()] // [1, 2]// Array.from æ–¹æ³•Array.from(numbers()) // [1, 2]// è§£æ„èµ‹å€¼let [x, y] = numbers();x // 1y // 2// for...of å¾ªç¯for (let n of numbers()) &#123; console.log(n)&#125;// 1// 2 ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°1234567891011let obj = &#123; * myGeneratorMethod() &#123; Â·Â·Â· &#125;&#125;;//ç­‰åŒäºlet obj = &#123; myGeneratorMethod: function* () &#123; // Â·Â·Â· &#125;&#125;; å››ã€åº”ç”¨ 1ï¼‰å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾ 12345678910function* loadUI() &#123; showLoadingScreen(); yield loadUIDataAsynchronously(); hideLoadingScreen();&#125;var loader = loadUI();// åŠ è½½UIloader.next()// å¸è½½UIloader.next() 123456789101112function* main() &#123; var result = yield request(\"http://some.url\"); var resp = JSON.parse(result); console.log(resp.value);&#125;function request(url) &#123; makeAjaxCall(url, function(response)&#123; it.next(response); &#125;);&#125;var it = main();it.next(); 2ï¼‰æ§åˆ¶æµç®¡ç† 123456789step1(function (value1) &#123; step2(value1, function(value2) &#123; step3(value2, function(value3) &#123; step4(value3, function(value4) &#123; // Do something with value4 &#125;); &#125;); &#125;);&#125;); é‡‡ç”¨ Promise æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚12345678910Promise.resolve(step1) .then(step2) .then(step3) .then(step4) .then(function (value4) &#123; // Do something with value4 &#125;, function (error) &#123; // Handle any error from step1 through step4 &#125;) .done(); Generator å‡½æ•°å¯ä»¥è¿›ä¸€æ­¥æ”¹å–„ä»£ç è¿è¡Œæµç¨‹ã€‚1234567891011121314151617181920function* longRunningTask(value1) &#123; try &#123; var value2 = yield step1(value1); var value3 = yield step2(value2); var value4 = yield step3(value3); var value5 = yield step4(value4); // Do something with value4 &#125; catch (e) &#123; // Handle any error from step1 through step4 &#125;&#125;scheduler(longRunningTask(initialValue));function scheduler(task) &#123; var taskObj = task.next(task.value); // å¦‚æœGeneratorå‡½æ•°æœªç»“æŸï¼Œå°±ç»§ç»­è°ƒç”¨ if (!taskObj.done) &#123; task.value = taskObj.value scheduler(task); &#125;&#125;","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„","date":"2017-05-07T11:10:28.000Z","path":"2017/05/07/è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„/","text":"Setå’ŒMapæ•°æ®ç»“æ„ä¸€ã€Set å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚ 123456const s = new Set();[2, 3, 5, 4, 5, 2, 2].forEach(x =&gt; s.add(x));for (let i of s) &#123; console.log(i);&#125;// 2 3 5 4 Set å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚ 12345678910111213141516// ä¾‹ä¸€const set = new Set([1, 2, 3, 4, 4]);[...set]// [1, 2, 3, 4]// ä¾‹äºŒconst items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);items.size // 5// ä¾‹ä¸‰function divs () &#123; return [...document.querySelectorAll('div')];&#125;const set = new Set(divs());set.size // 56// ç±»ä¼¼äºdivs().forEach(div =&gt; set.add(div));set.size // 56 å»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„æ–¹æ³•ã€‚ 12// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜[...new Set(array)] äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³• å±æ€§ Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚ Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ æ–¹æ³• add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚ delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚ has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚ clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ ä¸‰ã€éå†æ“ä½œ keys()ï¼šè¿”å›é”®åçš„éå†å™¨ values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ 123456789101112131415161718192021222324252627282930313233let set = new Set(['red', 'green', 'blue']);for (let item of set.keys()) &#123; console.log(item);&#125;// red// green// bluefor (let item of set.values()) &#123; console.log(item);&#125;// red// green// bluefor (let item of set.entries()) &#123; console.log(item);&#125;// [\"red\", \"red\"]// [\"green\", \"green\"]// [\"blue\", \"blue\"]let set = new Set([1, 2, 3]);set.forEach((value, key) =&gt; console.log(value * 2) )// 2// 4// 6let set = new Set([1, 2, 3]);set = new Set([...set].map(x =&gt; x * 2));// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;let set = new Set([1, 2, 3, 4, 5]);set = new Set([...set].filter(x =&gt; (x % 2) == 0));// è¿”å›Setç»“æ„ï¼š&#123;2, 4&#125;let arr = [3, 5, 2, 2, 5, 5];let unique = [...new Set(arr)];// [3, 5, 2] å››ã€Map å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ 123456789const map = new Map([ ['name', 'å¼ ä¸‰'], ['title', 'Author']]);map.size // 2map.has('name') // truemap.get('name') // \"å¼ ä¸‰\"map.has('title') // truemap.get('title') // \"Author\" äº”ã€Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³• å±æ€§ Map.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Mapå‡½æ•°ã€‚ Map.prototype.sizeï¼šè¿”å›Mapå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ æ–¹æ³• set(key, value)ï¼šsetæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚ get(key)ï¼šgetæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚ has(key)ï¼šhasæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚ delete(key)ï¼šdeleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚ clear(): clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ å…­ã€éå†æ“ä½œå’Œ Set ä¸€æ ·","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•","date":"2017-05-06T02:17:56.000Z","path":"2017/05/06/è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•/","text":"å¯¹è±¡çš„æ‰©å±•ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•12345678910111213141516171819202122var foo = 'bar';var baz = &#123;foo&#125;;baz // &#123;foo: \"bar\"&#125;// ç­‰åŒäºvar baz = &#123;foo: foo&#125;;var o = &#123; method() &#123; return \"Hello!\"; &#125;&#125;;// ç­‰åŒäºvar o = &#123; method: function() &#123; return \"Hello!\"; &#125;&#125;;//å¦‚æœæŸä¸ªæ–¹æ³•çš„å€¼æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œå‰é¢éœ€è¦åŠ ä¸Šæ˜Ÿå·ã€‚var obj = &#123; * m()&#123; yield 'hello world'; &#125;&#125;; ç”¨äºå‡½æ•°çš„è¿”å›å€¼ï¼Œå°†ä¼šéå¸¸æ–¹ä¾¿ 1234567function getPoint() &#123; var x = 1; var y = 10; return &#123;x, y&#125;;&#125;getPoint()// &#123;x:1, y:10&#125; CommonJSæ¨¡å—è¾“å‡ºå˜é‡ï¼Œå°±éå¸¸åˆé€‚ä½¿ç”¨ç®€æ´å†™æ³•ã€‚ 1234567891011121314151617var ms = &#123;&#125;;function getItem (key) &#123; return key in ms ? ms[key] : null;&#125;function setItem (key, value) &#123; ms[key] = value;&#125;function clear () &#123; ms = &#123;&#125;;&#125;module.exports = &#123; getItem, setItem, clear &#125;;// ç­‰åŒäºmodule.exports = &#123; getItem: getItem, setItem: setItem, clear: clear&#125;; äºŒã€Object.is() Object.iså®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚ ä¸‰ã€Object.assign() Object.assignæ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ 123456var target = &#123; a: 1 &#125;;var source1 = &#123; b: 2 &#125;;var source2 = &#123; c: 3 &#125;;Object.assign(target, source1, source2);target // &#123;a:1, b:2, c:3&#125;//å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚ Object.assignæ–¹æ³•å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ 1234var obj1 = &#123;a: &#123;b: 1&#125;&#125;;var obj2 = Object.assign(&#123;&#125;, obj1);obj1.a.b = 2;obj2.a.b // 2 å¯¹äºè¿™ç§åµŒå¥—çš„å¯¹è±¡ï¼Œä¸€æ—¦é‡åˆ°åŒåå±æ€§ï¼ŒObject.assignçš„å¤„ç†æ–¹æ³•æ˜¯æ›¿æ¢ï¼Œè€Œä¸æ˜¯æ·»åŠ ã€‚ 1234var target = &#123; a: &#123; b: 'c', d: 'e' &#125; &#125;var source = &#123; a: &#123; b: 'hello' &#125; &#125;Object.assign(target, source)// &#123; a: &#123; b: 'hello' &#125; &#125; Object.assignå¸¸è§ç”¨é€” 1ï¼‰ä¸ºå¯¹è±¡æ·»åŠ å±æ€§ 12345class Point &#123; constructor(x, y) &#123; Object.assign(this, &#123;x, y&#125;); &#125;&#125; ä¸Šé¢æ–¹æ³•é€šè¿‡Object.assignæ–¹æ³•ï¼Œå°†xå±æ€§å’Œyå±æ€§æ·»åŠ åˆ°Pointç±»çš„å¯¹è±¡å®ä¾‹ã€‚ 2ï¼‰ä¸ºå¯¹è±¡æ·»åŠ æ–¹æ³• 123456789101112131415Object.assign(SomeClass.prototype, &#123; someMethod(arg1, arg2) &#123; Â·Â·Â· &#125;, anotherMethod() &#123; Â·Â·Â· &#125;&#125;);// ç­‰åŒäºä¸‹é¢çš„å†™æ³•SomeClass.prototype.someMethod = function (arg1, arg2) &#123; Â·Â·Â·&#125;;SomeClass.prototype.anotherMethod = function () &#123; Â·Â·Â·&#125;; 3ï¼‰å…‹éš†å¯¹è±¡ 123function clone(origin) &#123; return Object.assign(&#123;&#125;, origin);&#125; ä¸Šé¢ä»£ç å°†åŸå§‹å¯¹è±¡æ‹·è´åˆ°ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå°±å¾—åˆ°äº†åŸå§‹å¯¹è±¡çš„å…‹éš†ã€‚ ä¸è¿‡ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•å…‹éš†ï¼Œåªèƒ½å…‹éš†åŸå§‹å¯¹è±¡è‡ªèº«çš„å€¼ï¼Œä¸èƒ½å…‹éš†å®ƒç»§æ‰¿çš„å€¼ã€‚å¦‚æœæƒ³è¦ä¿æŒç»§æ‰¿é“¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„ä»£ç ã€‚1234function clone(origin) &#123; let originProto = Object.getPrototypeOf(origin); return Object.assign(Object.create(originProto), origin);&#125; 4ï¼‰åˆå¹¶å¤šä¸ªå¯¹è±¡ 12const merge = (target, ...sources) =&gt; Object.assign(target, ...sources); å¦‚æœå¸Œæœ›åˆå¹¶åè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯ä»¥æ”¹å†™ä¸Šé¢å‡½æ•°ï¼Œå¯¹ä¸€ä¸ªç©ºå¯¹è±¡åˆå¹¶ã€‚12const merge = (...sources) =&gt; Object.assign(&#123;&#125;, ...sources); å››ã€å±æ€§çš„éå† 1ï¼‰forâ€¦in forâ€¦inå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚ 2ï¼‰Object.keys(obj) Object.keysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚ 3ï¼‰Object.getOwnPropertyNames(obj) Object.getOwnPropertyNamesè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰ã€‚ 4ï¼‰Object.getOwnPropertySymbols(obj) Object.getOwnPropertySymbolsè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§ã€‚ 5ï¼‰Reflect.ownKeys(obj) Reflect.ownKeysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼Œä¸ç®¡å±æ€§åæ˜¯Symbolæˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ã€‚12Reflect.ownKeys(&#123; [Symbol()]:0, b:0, 10:0, 2:0, a:0 &#125;)// ['2', '10', 'b', 'a', Symbol()] äº”ã€Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries() Object.keysæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®åã€‚ Object.valuesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼ã€‚Object.valuesåªè¿”å›å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚Object.valuesä¼šè¿‡æ»¤å±æ€§åä¸º Symbol å€¼çš„å±æ€§ã€‚å¦‚æœObject.valuesæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›å„ä¸ªå­—ç¬¦ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚ Object.entriesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚å¦‚æœåŸå¯¹è±¡çš„å±æ€§åæ˜¯ä¸€ä¸ª Symbol å€¼ï¼Œè¯¥å±æ€§ä¼šè¢«å¿½ç•¥ã€‚Object.entriesçš„åŸºæœ¬ç”¨é€”æ˜¯éå†å¯¹è±¡çš„å±æ€§ã€‚å¦ä¸€ä¸ªç”¨å¤„æ˜¯ï¼Œå°†å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„Mapç»“æ„ã€‚ 1234567891011121314151617181920212223var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.keys(obj)// [\"foo\", \"baz\"]var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.values(obj)// [\"bar\", 42]var obj = &#123; 100: 'a', 2: 'b', 7: 'c' &#125;;Object.values(obj)// [\"b\", \"c\", \"a\"]var obj = &#123; foo: 'bar', baz: 42 &#125;;Object.entries(obj)// [ [\"foo\", \"bar\"], [\"baz\", 42] ]let &#123;keys, values, entries&#125; = Object;let obj = &#123; a: 1, b: 2, c: 3 &#125;;for (let key of keys(obj)) &#123; console.log(key); // 'a', 'b', 'c'&#125;for (let value of values(obj)) &#123; console.log(value); // 1, 2, 3&#125;for (let [key, value] of entries(obj)) &#123; console.log([key, value]); // ['a', 1], ['b', 2], ['c', 3]&#125; å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚ 12345678910let z = &#123; a: 3, b: 4 &#125;;let n = &#123; ...z &#125;;n // &#123; a: 3, b: 4 &#125;let aClone = &#123; ...a &#125;;// ç­‰åŒäºlet aClone = Object.assign(&#123;&#125;, a);//åˆå¹¶ä¸¤ä¸ªå¯¹è±¡let ab = &#123; ...a, ...b &#125;;// ç­‰åŒäºlet ab = Object.assign(&#123;&#125;, a, b); Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"JavaScrip","slug":"JavaScrip","permalink":"http://yoursite.com/tags/JavaScrip/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•","date":"2017-05-05T08:26:01.000Z","path":"2017/05/05/è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•/","text":"å‡½æ•°çš„æ‰©å±•ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜ é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•° 123456function log(x, y = 'World') &#123; console.log(x, y);&#125;log('Hello') // Hello Worldlog('Hello', 'China') // Hello Chinalog('Hello', '') // Hello äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨1234567function foo(&#123;x, y = 5&#125;) &#123; console.log(x, y);&#125;foo(&#123;&#125;) // undefined, 5foo(&#123;x: 1&#125;) // 1, 5foo(&#123;x: 1, y: 2&#125;) // 1, 2foo() // TypeError: Cannot read property 'x' of undefined ä¸‰ã€restå‚æ•° ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€œâ€¦å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚ rest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ 12345678910111213141516function add(...values) &#123; let sum = 0; for (var val of values) &#123; sum += val; &#125; return sum;&#125;add(2, 5, 3) // 10function push(array, ...items) &#123; items.forEach(function(item) &#123; array.push(item); console.log(item); &#125;);&#125;var a = [];push(a, 1, 2, 3) å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦) å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„Iteratoræ¥å£ 1234567891011121314console.log(...[1, 2, 3])// 1 2 3console.log(1, ...[2, 3, 4], 5)// 1 2 3 4 5[...document.querySelectorAll('div')]// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]function push(array, ...items) &#123; array.push(...items);&#125;function add(x, y) &#123; return x + y;&#125;let numbers = [4, 38];add(...numbers) // 42 æ —å­ï¼š æ›¿ä»£æ•°ç»„çš„applyæ–¹æ³• 123456// ES5çš„å†™æ³•Math.max.apply(null, [14, 3, 77])// ES6çš„å†™æ³•Math.max(...[14, 3, 77])// ç­‰åŒäºMath.max(14, 3, 77); åˆå¹¶æ•°ç»„ 12345678910111213// ES5[1, 2].concat(more)// ES6[1, 2, ...more]var arr1 = ['a', 'b'];var arr2 = ['c'];var arr3 = ['d', 'e'];// ES5çš„åˆå¹¶æ•°ç»„arr1.concat(arr2, arr3);// [ 'a', 'b', 'c', 'd', 'e' ]// ES6çš„åˆå¹¶æ•°ç»„[...arr1, ...arr2, ...arr3]// [ 'a', 'b', 'c', 'd', 'e' ] ä¸è§£æ„èµ‹å€¼ç»“åˆ 123456789const [first, ...rest] = [1, 2, 3, 4, 5];first // 1rest // [2, 3, 4, 5]const [first, ...rest] = [];first // undefinedrest // []:const [first, ...rest] = [\"foo\"];first // \"foo\"rest // [] äº”ã€ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•° ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚ ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚12345678910111213var f = () =&gt; 5;// ç­‰åŒäºvar f = function () &#123; return 5 &#125;;var f = v =&gt; v;//ç­‰åŒäºï¼švar f = function(v) &#123; return v;&#125;;var sum = (num1, num2) =&gt; num1 + num2;// ç­‰åŒäºvar sum = function(num1, num2) &#123; return num1 + num2;&#125;; ç®­å¤´å‡½æ•°ç®€åŒ–å›è°ƒå‡½æ•° 123456// æ­£å¸¸å‡½æ•°å†™æ³•[1,2,3].map(function (x) &#123; return x * x;&#125;);// ç®­å¤´å‡½æ•°å†™æ³•[1,2,3].map(x =&gt; x * x); ç®­å¤´å‡½æ•°å¯ä»¥è®©setTimeouté‡Œé¢çš„thisï¼Œç»‘å®šå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯æŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸ 123456789101112131415function Timer() &#123; this.s1 = 0; this.s2 = 0; // ç®­å¤´å‡½æ•° setInterval(() =&gt; this.s1++, 1000); // æ™®é€šå‡½æ•° setInterval(function () &#123; this.s2++; &#125;, 1000);&#125;var timer = new Timer();setTimeout(() =&gt; console.log('s1: ', timer.s1), 3100);setTimeout(() =&gt; console.log('s2: ', timer.s2), 3100);// s1: 3// s2: 0 å› ä¸ºæ‰€æœ‰çš„å†…å±‚å‡½æ•°éƒ½æ˜¯ç®­å¤´å‡½æ•°ï¼Œéƒ½æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä»¬çš„thiså…¶å®éƒ½æ˜¯æœ€å¤–å±‚fooå‡½æ•°çš„this 12345678910111213function foo() &#123; return () =&gt; &#123; return () =&gt; &#123; return () =&gt; &#123; console.log('id:', this.id); &#125;; &#125;; &#125;;&#125;var f = foo.call(&#123;id: 1&#125;);var t1 = f.call(&#123;id: 2&#125;)()(); // id: 1var t2 = f().call(&#123;id: 3&#125;)(); // id: 1var t3 = f()().call(&#123;id: 4&#125;); // id: 1 Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"JavaScrip","slug":"JavaScrip","permalink":"http://yoursite.com/tags/JavaScrip/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•","date":"2017-05-04T15:22:23.000Z","path":"2017/05/04/è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•/","text":"æ•°ç»„çš„æ‰©å±•ä¸€ã€Array.from() å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ES6æ–°å¢çš„æ•°æ®ç»“æ„Setå’ŒMapï¼‰ 123456789101112131415161718192021//ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡let arrayLike = &#123; '0': 'a', '1': 'b', '2': 'c', length: 3&#125;;// ES5çš„å†™æ³•var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']// ES6çš„å†™æ³•let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']// NodeListå¯¹è±¡let ps = document.querySelectorAll('p');Array.from(ps).forEach(function (p) &#123; console.log(p);&#125;);// argumentså¯¹è±¡function foo() &#123; var args = Array.from(arguments); // ...&#125; æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„ äºŒã€Array.of() ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ 123Array.of(3, 11, 8) // [3,11,8]Array.of(3) // [3]Array.of(3).length // 1 ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin() åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„ targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚ startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ 1234567[1, 2, 3, 4, 5].copyWithin(0, 3)// [4, 5, 3, 4, 5][1, 2, 3, 4, 5].copyWithin(0, 3, 4)// [4, 2, 3, 4, 5]// -2ç›¸å½“äº3å·ä½ï¼Œ-1ç›¸å½“äº4å·ä½[1, 2, 3, 4, 5].copyWithin(0, -2, -1)// [4, 2, 3, 4, 5] å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex() findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚ findIndexè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚ 12345678[1, 4, -5, 10].find((n) =&gt; n &lt; 0)// -5[1, 5, 10, 15].find(function(value, index, arr) &#123; return value &gt; 9;&#125;) // 10[1, 5, 10, 15].findIndex(function(value, index, arr) &#123; return value &gt; 9;&#125;) // 2 äº”ã€æ•°ç»„å®ä¾‹çš„fill() ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ 12345['a', 'b', 'c'].fill(7)// [7, 7, 7]//ä»1å·ä½å¼€å§‹ï¼Œå‘åŸæ•°ç»„å¡«å……7ï¼Œåˆ°2å·ä½ä¹‹å‰ç»“æŸ['a', 'b', 'c'].fill(7, 1, 2)// ['a', 7, 'c'] å…­ã€æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues() keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå† 123456789101112131415for (let index of ['a', 'b'].keys()) &#123; console.log(index);&#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem);&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 \"a\"// 1 \"b\" ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes() è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼,æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0 123[1, 2, 3].includes(2); // true[1, 2, 3].includes(4); // false[1, 2, NaN].includes(NaN); // true å…«ã€æ•°ç»„çš„ç©ºä½ forEach(), filter(), every() å’Œsome()éƒ½ä¼šè·³è¿‡ç©ºä½ map()ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼ join()å’ŒtoString()ä¼šå°†ç©ºä½è§†ä¸ºundefinedï¼Œè€Œundefinedå’Œnullä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸² 1234567891011121314// forEachæ–¹æ³•[,'a'].forEach((x,i) =&gt; console.log(i)); // 1// filteræ–¹æ³•['a',,'b'].filter(x =&gt; true) // ['a','b']// everyæ–¹æ³•[,'a'].every(x =&gt; x==='a') // true// someæ–¹æ³•[,'a'].some(x =&gt; x !== 'a') // false// mapæ–¹æ³•[,'a'].map(x =&gt; 1) // [,1]// joinæ–¹æ³•[,'a',undefined,null].join('#') // \"#a##\"// toStringæ–¹æ³•[,'a',undefined,null].toString() // \",a,,\" ES6åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸ºundefinedã€‚å°½é‡å»ºè®®é¿å…å‡ºç°ç©ºä½ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•","date":"2017-05-03T15:03:20.000Z","path":"2017/05/03/è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•/","text":"æ•°å€¼çš„æ‰©å±•ä¸€ã€Number.isFinite(), Number.isNaN() Number.isFinite() æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰ Number.isNaN() æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaN 1234567891011121314151617//Number.isFinite()Number.isFinite(15); // trueNumber.isFinite(0.8); // trueNumber.isFinite(NaN); // falseNumber.isFinite(Infinity); // falseNumber.isFinite(-Infinity); // falseNumber.isFinite('foo'); // falseNumber.isFinite('15'); // falseNumber.isFinite(true); // false//Number.isNaN()Number.isNaN(NaN) // trueNumber.isNaN(15) // falseNumber.isNaN('15') // falseNumber.isNaN(true) // falseNumber.isNaN(9/NaN) // trueNumber.isNaN('true'/0) // trueNumber.isNaN('true'/'true') // true äºŒã€Number.parseInt(), Number.parseFloat() å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚ 12Number.parseInt === parseInt // trueNumber.parseFloat === parseFloat // true ä¸‰ã€Number.isInteger() åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•° 12345Number.isInteger(25) // trueNumber.isInteger(25.0) // trueNumber.isInteger(25.1) // falseNumber.isInteger(\"15\") // falseNumber.isInteger(true) // false å››ã€å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger() JavaScriptèƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚Number.isSafeInteger() ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†… äº”ã€Math.trunc() å»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ† å…­ã€Math.sign() åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›+1ï¼› å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›-1ï¼› å‚æ•°ä¸º0ï¼Œè¿”å›0ï¼› å‚æ•°ä¸º-0ï¼Œè¿”å›-0; å…¶ä»–å€¼ï¼Œè¿”å›NaNã€‚ ä¸ƒã€Math.signbit() åˆ¤æ–­ä¸€ä¸ªæ•°çš„ç¬¦å·ä½æ˜¯å¦è®¾ç½®äº† å¦‚æœå‚æ•°æ˜¯NaNï¼Œè¿”å›false å¦‚æœå‚æ•°æ˜¯-0ï¼Œè¿”å›true å¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¿”å›true å…¶ä»–æƒ…å†µè¿”å›false 1234Math.signbit(2) //falseMath.signbit(-2) //trueMath.signbit(0) //falseMath.signbit(-0) //true å…«ã€æŒ‡æ•°è¿ç®—ç¬¦( ** )122 ** 2 // 42 ** 3 // 8 Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"JavaScrip","slug":"JavaScrip","permalink":"http://yoursite.com/tags/JavaScrip/"}]},{"title":"DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨","date":"2017-04-27T06:47:55.000Z","path":"2017/04/27/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨/","text":"å‰è¨€ï¼šåœ¨æœ€è¿‘çš„ä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­åŒ…è”ç›Ÿ(PCç«¯)ä¸­ä½¿ç”¨åˆ°äº†videoï¼Œé‡åˆ°äº†å¥½å¤šå‘ã€‚çªå‘å¥‡æƒ³æ¥è¸©ä¸€è¸©audioçš„å‘ğŸ˜€ï¼Œæœç„¶ä¸€å…¥æ·±ä¼¼æµ·ï¼ŒğŸ‘‡ä¸‹é¢å°†åˆ†äº«æˆ‘çš„DIYä¹‹è·¯-VueéŸ³ä¹æ’­æ”¾å™¨ã€‚æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ï¼Œä»…ä¾›å­¦ä¹ ã€‚æœ‰é—®é¢˜æˆ–å»ºè®®å‘æˆ‘é‚®ç®±ï¼šhjingren@aliyun.com [æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®] é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-musicGithubåœ°å€ï¼š https://github.com/hzzly/MagicMusicæ¬¢è¿å¤§å®¶çš„starå•¦ğŸ˜„~ å…ˆæ¥ä¸ªé¢„è§ˆï¼š æ›´å¤šé¢„è§ˆï¼šæ›´å¤š ğŸ‘‰è€é“ä»¬ï¼Œå‡†å¤‡å‘è½¦(æŠ€èƒ½ç‚¹)ï¼š vueæ–‡æ¡£ vue-routeræ–‡æ¡£ vuexæ–‡æ¡£ ä¸æƒ³çœ‹æ–‡æ¡£çš„å¯ä»¥çœ‹çœ‹æˆ‘è¿™ç¯‡åšå®¢vuexå­¦ä¹ å®è·µç¬”è®° axiosæ–‡æ¡£ æˆ–è€…è¿™ç¯‡åšå®¢ Vuex2 ä¸ Axios å¼€å‘(æˆ‘ä¹Ÿæ˜¯å‚è€ƒè¿™ç¯‡ï¼Œæ„Ÿè°¢ä½œè€…ğŸ˜) es6(é˜®ä¸€å³°çš„es6å…¥é—¨) å¯ä»¥å‚è€ƒæˆ‘çš„es6ä¹‹è·¯(è¿˜åœ¨ç»§ç»­,è½»å–·) flex (Webçš„flexå¼¹æ€§ç›’æ¨¡å‹) ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³ (flexible+rem) æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage) å›¾ç‰‡æ‡’åŠ è½½ ğŸ‘‰åå¥½ï¼Œå‡ºå‘ å®ç°çš„åŠŸèƒ½1ã€é¦–é¡µ [x] è½®æ’­ [x] ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ] [x] æ­Œæ›²æ“ä½œ [x] åŠ å…¥æ’­æ”¾åˆ—è¡¨ [ ] å–œæ¬¢ [ ] åˆ†äº« 2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶ [x] æ’­æ”¾ [x] æš‚åœ [x] ä¸‹ä¸€æ›² [x] æ’­æ”¾è¿›åº¦æ¡ 3ã€æ’­æ”¾é¡µé¢ [x] ä¸Šä¸€æ›² [x] æ’­æ”¾ [x] æš‚åœ [x] ä¸‹ä¸€æ›² [x] æ’­æ”¾è¿›åº¦æ¡[å¼§å½¢è¿›åº¦æ¡] [x] æ­Œè¯æ»šåŠ¨ [x] æ’­æ”¾çš„æ­Œè¯é«˜äº® [ ] æ’­æ”¾æ¨¡å¼[å•æ›²å¾ªç¯ã€åˆ—è¡¨å¾ªç¯ã€éšæœºæ’­æ”¾] 4ã€æ’­æ”¾åˆ—è¡¨ [x] æ’­æ”¾æ­Œæ›²é«˜äº® [x] åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ) [x] åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X) [ ] æ¸…ç©ºæ’­æ”¾åˆ—è¡¨ [ ] æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ 5ã€æ’è¡Œæ¦œ [x] çƒ­é—¨æ’è¡Œæ¦œ [x] æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾) 6ã€éŸ³ä¹æœç´¢è¾“å…¥æœç´¢å…³é”®è¯ï¼Œç‚¹å‡»æ”¾å¤§é•œå›¾æ ‡ [x] å•æ›²(å•å‡»æˆ–ç‚¹å‡»æ­Œæ›²æ“ä½œ(â€¦)æ·»åŠ è‡³éŸ³ä¹æ’­æ”¾åˆ—è¡¨ï¼Œéƒ¨åˆ†éŸ³ä¹ä¼šå­˜åœ¨ç‰ˆæƒé—®é¢˜æ— æ³•æ’­æ”¾) [x] æ­Œæ‰‹ [x] ä¸“è¾‘ [x] æ­Œå• [x] ç”¨æˆ· [x] æœ¬åœ°ç¼“å­˜æœç´¢åˆ—è¡¨ 7ã€ä¾§è¾¹æ  [x] å¤´åƒ [x] èœå• [x] ä¸ªäººä¸­å¿ƒ APIæ„Ÿè°¢ä½œè€…æŠŠapiæ•´ç†çš„è¿™ä¹ˆå¥½(ç‚¹ä¸ªèµğŸ‘) ç½‘æ˜“äº‘éŸ³ä¹ NodeJS ç‰ˆ API ç›®å½•ç»“æ„123456789101112131415161718192021222324252627282930313233343536|â€”â€”MagicMusic/| |â€”â€”build/| |â€”â€”confg/| |â€”â€”node_modules/| |â€”â€”src/| | |â€”â€”assets/ //é™æ€æ–‡ä»¶| | |â€”â€”components/ //å…¬å…±ç»„ä»¶| | |â€”â€”api/| | | |â€”â€”index.js //axioså°è£…ä¸api| | |â€”â€”pages/ //å­˜æ”¾é¡¹ç›®é¡µé¢| | | |â€”â€”classical.vue //å¤å…¸æ­Œæ›²é¡µé¢| | | |â€”â€”collection.vue //æ’è¡Œæ¦œ| | | |â€”â€”home.vue //é¦–é¡µ| | | |â€”â€”light.vue //è½»éŸ³ä¹æ­Œæ›²é¡µé¢| | | |â€”â€”login.vue //ç™»å½•é¡µé¢| | | |â€”â€”popular.vue //æµè¡Œæ­Œæ›²é¡µé¢| | | |â€”â€”radio.vue //ç”µå°æ­Œæ›²é¡µé¢| | | |â€”â€”rank.vue //æ’è¡Œæ¦œåˆ—è¡¨| | | |â€”â€”search.vue //æœç´¢é¡µ| | | |â€”â€”user.vue //ç”¨æˆ·| | |â€”â€”router/ | | | |â€”â€”index.js //é¡µé¢è·¯ç”±| | |â€”â€”util //å…¬ç”¨æ–¹æ³•| | |â€”â€”vuex / //å­˜æ”¾vuexä»£ç | | | |â€”â€”modules / //æ•°æ®æ¨¡å—| | | |â€”â€”store.js //vuexä¸»å…¥å£| | | |â€”â€”types.js //vuexçš„typesæ–‡ä»¶| | |â€”â€”App.vue //çˆ¶ç»„ä»¶| | |â€”â€”main.js //å…¥å£æ–‡ä»¶| |â€”â€”static/| |â€”â€”.babelrc| |â€”â€”.editorconfig| |â€”â€”.gitgnore| |â€”â€”index.html| |â€”â€”package.json| |â€”â€”README.md å¼€å‘å¿ƒå¾—ä¸æ€»ç»“1ã€è½®æ’­å›¾é¦–å…ˆæ„Ÿè°¢ä½œè€…ShanaMaid/vue-image-scrollå¼€æºçš„ä»£ç ï¼Œæˆ‘æŠŠä»£ç copyä¸‹æ¥è‡ªå·±è¿›è¡Œäº†ä¸€ç‚¹ä¿®æ”¹(æ²¡æœ‰æ‰‹æŒ‡æ»‘åŠ¨æ•ˆæœ)ï¼Œå› ä¸ºè¿™æ˜¯ç§»åŠ¨ç«¯ï¼Œå°‘ä¸äº†çš„æ‰‹æŒ‡æ»‘åŠ¨åˆ‡æ¢ï¼Œæ‰€ä»¥æ·»åŠ äº†vue-touch(å·å·å‘Šè¯‰ä½ ï¼Œvue-touchçš„nextåˆ†æ”¯è¿˜æ˜¯æ”¯æŒvue2.0çš„ğŸ˜œ)ã€‚ä»£ç ä¼ é€é—¨1234567891011121314151617&lt;li v-for=\"(item,index) in image\" :class=\"[move[index]]\"&gt; &lt;v-touch class=\"vuetouch\" v-on:swipeleft=\"nextPic\" v-on:swiperight=\"prePic\"&gt; ... &lt;/v-touch&gt;&lt;/li&gt;methods: &#123; nextPic(event) &#123; let temp = this.move.pop() this.move.unshift(temp) &#125;, prePic(event) &#123; let temp = this.move.shift() this.move.push(temp) &#125;,&#125; 2ã€æ­Œæ›²æ“ä½œ(å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨)åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”» Vueæä¾›äº†transitionçš„å°è£…ç»„ä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥ç»™ä»»ä½•å…ƒç´ å’Œç»„ä»¶æ·»åŠ  entering/leaving è¿‡æ¸¡ æ¡ä»¶æ¸²æŸ“ ï¼ˆä½¿ç”¨ v-ifï¼‰ æ¡ä»¶å±•ç¤º ï¼ˆä½¿ç”¨ v-showï¼‰ åŠ¨æ€ç»„ä»¶ ç»„ä»¶æ ¹èŠ‚ç‚¹ 12345678910&lt;transition name=\"move\"&gt; &lt;div class=\"menu\" v-show=\"item.menuShow\"&gt; ... &lt;/div&gt;&lt;/transition&gt;&lt;transition-group name=\"slide\" tag=\"div\" class=\"list-wrapper\"&gt; &lt;div class=\"item\" v-for=\"(item, index) in listenLists\" :key=\"item\"&gt; ... &lt;/div&gt;&lt;/transition-group&gt; transition-groupä¸€ç»„è¿‡åº¦åŠ¨ç”»ï¼Œè¿™é‡Œæœ‰ä¸ªå°å‘çš„ï¼Œä¹‹å‰çœ‹å®˜ç½‘åˆ—è¡¨è¿‡æ¸¡çš„æ —å­ï¼Œç»™æ¯ä¸€é¡¹è®¾ç½®å”¯ä¸€çš„keyå€¼ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨indexã€‚æ‰€ä»¥åœ¨åšçš„æ—¶å€™å°±æŠŠindexä¼ ç»™keyï¼Œç»“æœè¿‡æ¸¡è€æ˜¯ä¸å¯¹ï¼Œåæ¥æ¢æˆå¯¹åº”çš„itemå°±æ­£å¸¸äº†(ç”Ÿæ— å¯æ‹è„¸)ã€‚ 3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡ è¥¿ç­ç‰™å»ºç­‘å¤§å¸ˆæ›¾è¯´è¿‡ï¼šâ€œç›´çº¿å±äºäººç±»ï¼Œæ›²çº¿åˆ™å½’äºä¸Šå¸â€ã€‚åœ¨è¿™é‡Œæˆ‘å¤§èƒ†çš„ä½¿ç”¨äº†å¼§å½¢æ¥ä½œä¸ºè¿›åº¦æ¡ï¼Œ(å‡ å¤§çƒ­é—¨éŸ³ä¹APPè²Œä¼¼è¿˜æ²¡æœ‰å¼§å½¢è¿›åº¦æ¡ğŸ˜„)ã€‚ è¿™é‡Œæˆ‘ç”¨åˆ°äº†Vueçš„ç»‘å®šå†…è”æ ·å¼123456789101112//ç›´çº¿è¿›åº¦æ¡&lt;div class=\"progress-bar\"&gt; &lt;div class=\"play\" :style=\"&#123;width: (now / duration).toFixed(3)*100 + '%'&#125;\"&gt;&lt;/div&gt;&lt;/div&gt;//å¼§å½¢è¿›åº¦æ¡//å› ä¸ºç”¨åˆ°äº†å¼§å½¢ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç”¨åˆ°äº†`border-radius`æ¥ä½¿å®ƒå˜æˆä¸€ä¸ªå¤§åœ†ï¼Œç„¶åå¹³ç§»`translateX`å±…ä¸­ï¼Œå…¶å®ƒä¸è¦çš„éƒ¨åˆ†`overflow: hidden`ã€‚//è¿™é‡Œç”¨ä¸¤ä¸ªdivæ¥è¡¨ç¤ºè¿›åº¦æ¡ï¼Œä¸€æ¡å›ºå®šçš„è¿›åº¦æ¡ï¼Œä¸€æ¡æ…¢æ…¢å¢åŠ ã€‚&lt;div class=\"process\" @click=\"showToast\"&gt; &lt;div class=\"line\"&gt;&lt;/div&gt; &lt;div class=\"pro\" :style=\"&#123;transform: `translateX($&#123;translateX&#125;) rotate($&#123;deg*1 + 56.5*((now / size).toFixed(3))&#125;deg)`&#125;\"&gt;&lt;/div&gt;&lt;/div&gt; 4ã€æœ¬åœ°å­˜å‚¨ å°†ä¸€äº›æ•°æ®ç¼“å­˜åˆ°localStorageï¼Œå¯ä»¥å‡å°‘Httpè¯·æ±‚ï¼Œä»è€Œä¼˜åŒ–é¡µé¢åŠ è½½æ—¶é—´ã€‚ åœ¨è¿™ä¸ªé¡¹ç›®ä¸­é¦–é¡µæ­Œæ›²åˆ—è¡¨ä»¥åŠæœç´¢å†å²ç”¨åˆ°äº†æœ¬åœ°ç¼“å­˜ï¼Œæ‹¿æœç´¢å†å²æ¥ä¸¾æ —ï¼š12345678910111213141516created() &#123; if (!localStorage.searchHistory) &#123; let searchHistory = ['å‰ç«¯', 'ç«¥è¯é•‡', 'åˆšå¥½é‡è§ä½ '] localStorage.searchHistory = JSON.stringify(searchHistory) &#125; &#125;,methods: &#123; _search(keywords) &#123; //åˆ¤æ–­æœç´¢åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨ let searchHistory = JSON.parse(localStorage.searchHistory) let find = searchHistory.findIndex((val) =&gt; &#123; return val === keywords &#125;) find === -1 ? localStorage.searchHistory = JSON.stringify([keywords, ...searchHistory]) : '' &#125;&#125; 5ã€å›¾ç‰‡æ‡’åŠ è½½ä½¿ç”¨äº†vue-lazyloadæ’ä»¶ç”¨æ³•ğŸ‘‰ï¼š1$ npm install vue-lazyload 123456789//main.jsimport VueLazyLoad from 'vue-lazyload'import def_lazy_img from '../static/img/loading.gif' //æ‡’åŠ è½½çš„é»˜è®¤å›¾ç‰‡Vue.use(VueLazyLoad,&#123; loading: def_lazy_img&#125;) //ä½¿ç”¨æ‡’åŠ è½½ç»„ä»¶//åœ¨ä½¿ç”¨imgæ ‡ç­¾çš„åœ°æ–¹ä½¿ç”¨&lt;img v-lazy=\"item.al.picUrl\" alt=\"\"&gt; 6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®å› ä¸ºapiæä¾›çš„æ­Œè¯åŒ…æ‹¬æ—¶é—´ï¼Œå¦‚ï¼š[03:57.280]åŸè°…æˆ‘è¿™ä¸€ç”Ÿä¸ç¾æ”¾çºµçˆ±è‡ªç”±æ‰€ä»¥é¦–å…ˆè¦è¿›è¡Œå­—ç¬¦ä¸²åˆ‡å‰²ï¼š123456789101112131415161718192021222324&lt;div class=\"lyric\"&gt; &lt;div class=\"roll-lyric\" v-html=\"lyrics\" ref=\"lyric\"&gt;&lt;/div&gt;&lt;/div&gt;computed: &#123; lyrics() &#123; let lyrics = '' this.lyricArr = [] if (this.lyric) &#123; let arr = this.lyric.split('\\n') for (let item of arr) &#123; if (item) &#123; let arr2 = item.split(']') this.lyricArr.push(arr2[0].substring(1,3)*60+arr2[0].substring(4)*1) if (arr2) &#123; lyrics += `&lt;p class='lyrichook' style='margin: 10px 0'&gt;$&#123;arr2[1]&#125;&lt;/p&gt;` &#125; &#125; &#125; &#125; else &#123; lyrics = 'æš‚æ— æ­Œè¯~' &#125; return lyrics &#125;&#125; ç„¶ååœ¨æ’­æ”¾çš„ç›‘å¬äº‹ä»¶ä¸­ä¸æ’­æ”¾çš„å½“å‰åšå¯¹æ¯”ï¼š123456789101112131415this.$refs.myAudio.addEventListener('play', () =&gt; &#123; this.pDOM = [...document.querySelectorAll('.lyrichook')] timer = setInterval(() =&gt; &#123; this.now = audioDOM.currentTime this.lyricArr.forEach((item, index) =&gt; &#123; if (parseInt(item) == parseInt(this.now)) &#123; this.pDOM.forEach((p) =&gt; &#123; p.style.color = 'rgba(255,255,255,.8)' //å…¶å®ƒæ­Œè¯æ¸…é™¤é«˜äº® &#125;); this.pDOM[index].style.color = '#f12c61' //æ­Œè¯é«˜äº® this.$refs.lyric.style.transform = `translateY(-$&#123;(index-2)*25&#125;px)` //æ­Œè¯æ»šåŠ¨ &#125; &#125;); &#125;, 1000)&#125;) åˆ°è¿™å°±okäº†ğŸ˜œ 7ã€vuexçŠ¶æ€ç®¡ç†æ¨èå®˜æ–¹è°ƒè¯•å·¥å…· devtools extension æƒ³è¿›ä¸€æ­¥ç†è§£vuexï¼Œå¯ä»¥çœ‹è¿™ç¯‡åšå®¢vuexå­¦ä¹ å®è·µç¬”è®° ä¹‹å‰çœ‹åˆ°å¥½å¤šäººå†™çš„vuexï¼ŒæŠŠæ•´ä¸ªé¡¹ç›®çš„æ•°æ®æ”¾åˆ°äº†ä¸€ä¸ªstateé‡Œï¼Œå¯¼è‡´åº”ç”¨çš„æ‰€æœ‰çŠ¶æ€é›†ä¸­åˆ°ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå½“åº”ç”¨å˜å¾—å¾ˆå¤§æ—¶ï¼Œstore å¯¹è±¡ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªã€‚ æ‰€ä»¥æˆ‘å»ºè®®(ä¸ªäººè§è§£ï¼Œè½»å–·)ï¼šå°† store åˆ†å‰²åˆ°æ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€gettersã€‚è¿™æ ·æ–¹ä¾¿ç®¡ç†ä¸åæœŸçš„ç»´æŠ¤ã€‚ è½¦å·²åˆ°ç«™âœŒï¸ã€‚ ä¸çŸ¥ä¸è§‰å†™äº†è¿™ä¹ˆå¤šï¼Œè€é“ä»¬å‡‘åˆè¿™çœ‹å§ğŸ˜ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›ï¼Œè°¢è°¢ï¼ï¼ï¼ é¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/MagicMusicæ¬¢è¿å¤§å®¶çš„starå•¦~","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}]},{"title":"æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage","date":"2017-04-26T15:44:04.000Z","path":"2017/04/26/æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage/","text":"sessionStorage æ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚ localStorage æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„å­˜å‚¨ï¼Œå®ƒå¹¶ä¸å±€é™äºä¼šè¯ã€‚é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚ ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ localStorageå’ŒsessionStorageéƒ½å…·æœ‰ç›¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œä¾‹å¦‚setItemã€getItemå’ŒremoveItemç­‰ 1.setItemå­˜å‚¨value12sessionStorage.setItem(\"name\", \"hzzly\");localStorage.setItem(\"blog\", \"hzzly.github.io\"); 2.getItemè·å–value12let name = sessionStorage.getItem(\"name\");let blog = localStorage.getItem(\"blog\"); 3.removeItemåˆ é™¤key12sessionStorage.removeItem(\"name\");localStorage.removeItem(\"blog\"); 4.clearæ¸…é™¤æ‰€æœ‰çš„key/value12sessionStorage.clear();localStorage.clear(); 5.å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ[] web Storageä¸ä½†å¯ä»¥ç”¨è‡ªèº«çš„setItem,getItemç­‰æ–¹ä¾¿å­˜å–ï¼Œä¹Ÿå¯ä»¥åƒæ™®é€šå¯¹è±¡ä¸€æ ·ç”¨ç‚¹(.)æ“ä½œç¬¦ï¼ŒåŠ[]çš„æ–¹å¼è¿›è¡Œæ•°æ®å­˜å‚¨åŠè¯»å–ï¼Œåƒå¦‚ä¸‹çš„ä»£ç ï¼š 12345678910//å­˜localStorage.name = \"hzzly\"; localStorage[\"age\"] = \"21\"; sessionStorage.name = \"hzzly\"; sessionStorage[\"age\"] = \"21\";//å–let name1 = localStorage.namelet age1 = localStorage[\"age\"]let name2 = sessionStorage.namelet age2 = sessionStorage[\"age\"] 6.localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå† sessionStorageå’ŒlocalStorageæä¾›çš„key()å’Œlengthå¯ä»¥æ–¹ä¾¿çš„å®ç°å­˜å‚¨çš„æ•°æ®éå†ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š 123456var storage = window.localStorage; for (var i=0, len = storage.length; i &lt; len; i++)&#123; let key = storage.key(i); let value = storage.getItem(key); console.log(key + \"=\" + value); &#125; äºŒã€å®ä¾‹ storageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²çš„æ•°æ®ï¼Œå¯¹äºJSä¸­å¸¸ç”¨çš„æ•°ç»„æˆ–å¯¹è±¡å´ä¸èƒ½ç›´æ¥å­˜å‚¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œè½¬æ¢ï¼š JSON.stringify() ç”¨äºä»ä¸€ä¸ªå¯¹è±¡è§£æå‡ºå­—ç¬¦ä¸² JSON.parse() ç”¨äºä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡ºjsonå¯¹è±¡ 1.localStorage/sessionStorageå­˜å–æ•°ç»„123456//å­˜let language = ['HTML/HTML5', 'CSS/CSS3', 'JavaScript', 'Vue', 'React']localStorage.language = JSON.stringify(language)sessionStorag.language = JSON.stringify(language)//å–let storageLanguage = JSON.parse(localStorage.language) 2.localStorageå­˜å–å¯¹è±¡1234567891011//å­˜let myInfo = &#123; 'name': 'hzzly', 'age': 21, 'school': 'ECUT', 'city': 'NanChang'&#125;localStorage.myInfo = JSON.stringify(myInfo)sessionStorag.myInfo = JSON.stringify(myInfo)//å–let storageLanguage = JSON.parse(localStorage.myInfo)","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•","date":"2017-04-22T15:07:23.000Z","path":"2017/04/22/è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•/","text":"å­—ç¬¦ä¸²çš„æ‰©å±•ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£123456for (let codePoint of 'foo') &#123; console.log(codePoint)&#125;// \"f\"// \"o\"// \"o\" äºŒã€atè¿”å›å­—ç¬¦ä¸²ç»™å®šä½ç½®çš„å­—ç¬¦1234//es5'abc'.charAt(0) // \"a\"//es6'abc'.at(0) // \"a\" ä¸‰ã€indexOf(), includes(), startsWith(), endsWith() indexOf() ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­(es5) includes() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ startsWith() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ endsWith()è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 1234var s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®1234var s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true 1234var s = 'Hello world!';s.startsWith('world', 6) // trues.endsWith('Hello', 5) // trues.includes('Hello', 6) // false endsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚ å››ã€repeat() è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚ 12'x'.repeat(3) // \"xxx\"'hello'.repeat(2) // \"hellohello\" äº”ã€padStart()ï¼ŒpadEnd() å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ padStart() å¤´éƒ¨è¡¥å…¨ padEnd() å°¾éƒ¨è¡¥å…¨ç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ 1234'x'.padStart(5, 'ab') // 'ababx''x'.padStart(4, 'ab') // 'abax''x'.padEnd(5, 'ab') // 'xabab''x'.padEnd(4, 'ab') // 'xaba' å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²123// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡let name = \"hzzly\", time = \"today\";`Hello $&#123;name&#125;, how are you $&#123;time&#125;?` Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"JavaScrip","slug":"JavaScrip","permalink":"http://yoursite.com/tags/JavaScrip/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼","date":"2017-04-21T14:59:09.000Z","path":"2017/04/21/è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼/","text":"å˜é‡çš„è§£æ„èµ‹å€¼ è¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚ ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®š 1234567let [a, b, c] = [1, 2, 3]a // 1b // 2c // 3let [head, ...tail] = [1, 2, 3, 4]head // 1tail // [2, 3, 4] é»˜è®¤å€¼ 12let [foo = true] = [];foo // true æ —å­ï¼š12345// è¿”å›ä¸€ä¸ªæ•°ç»„function example() &#123; return [1, 2, 3];&#125;let [a, b, c] = example(); äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼å¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ 123let &#123; foo, bar &#125; = &#123; foo: \"aaa\", bar: \"bbb\" &#125;;foo // \"aaa\"bar // \"bbb\" é»˜è®¤å€¼ 12345var &#123;x = 3&#125; = &#123;&#125;;x // 3var &#123;x, y = 5&#125; = &#123;x: 1&#125;;x // 1y // 5 æ —å­ï¼š å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚ 12345678910//å°†Mathå¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Šlet &#123; log, sin, cos &#125; = Math // è¿”å›ä¸€ä¸ªå¯¹è±¡function example() &#123; return &#123; foo: 1, bar: 2 &#125;;&#125;let &#123; foo, bar &#125; = example(); æå–jsonæ•°æ® 12345678let jsonData = &#123; id: 42, status: \"OK\", data: [867, 5309]&#125;;let &#123; id, status, data: number &#125; = jsonData;console.log(id, status, number);// 42, \"OK\", [867, 5309] ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼123456const [a, b, c, d, e] = 'hzzly'a // \"h\"b // \"z\"c // \"z\"d // \"l\"e // \"y\" 123//lengthå±æ€§let &#123;length : len&#125; = 'hello';len // 5 å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼1234function add([x, y])&#123; return x + y;&#125;add([1, 2]); // 3 Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"JavaScrip","slug":"JavaScrip","permalink":"http://yoursite.com/tags/JavaScrip/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es6letä¸const","date":"2017-04-09T14:16:56.000Z","path":"2017/04/09/è¯»ä¹¦ç¬”è®°-es6letä¸const/","text":"letå’Œconst ä¸¤ç§æ–°çš„å£°æ˜å˜é‡çš„æ–¹æ³• ä¸€ã€letç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚ 1.å—çº§ä½œç”¨åŸŸ 2.ä¸å­˜åœ¨å˜é‡æå‡ 123456// var çš„æƒ…å†µconsole.log(foo); // è¾“å‡ºundefinedvar foo = 2;// let çš„æƒ…å†µconsole.log(bar); // æŠ¥é”™ReferenceErrorlet bar = 2; 3.æš‚æ—¶æ€§æ­»åŒº 12345var tmp = 123;if (true) &#123; tmp = 'abc'; // ReferenceError let tmp;&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡tmpï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡tmpï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹tmpèµ‹å€¼ä¼šæŠ¥é”™ã€‚ 4.ä¸å…è®¸é‡å¤å£°æ˜ 12345678910// æŠ¥é”™function () &#123; let a = 10; var a = 1;&#125;// æŠ¥é”™function () &#123; let a = 10; let a = 1;&#125; äºŒã€constconstå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚constä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚ constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚ 123456const foo = &#123;&#125;;// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸfoo.prop = 123;foo.prop // 123// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™foo = &#123;&#125;; // TypeError: \"foo\" is read-only ä¸Šé¢ä»£ç ä¸­ï¼Œå¸¸é‡fooå‚¨å­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚ä¸å¯å˜çš„åªæ˜¯è¿™ä¸ªåœ°å€ï¼Œå³ä¸èƒ½æŠŠfooæŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼Œä½†å¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥ä¸ºå…¶æ·»åŠ æ–°å±æ€§ã€‚ Githubåœ°å€ï¼š https://github.com/hzzly/learn-es6 æ–‡ç« æ¥æºhzzlyåšå®¢æŠ€æœ¯åˆ†äº«","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"}]},{"title":"vuexå­¦ä¹ å®è·µç¬”è®°","date":"2017-04-04T12:11:26.000Z","path":"2017/04/04/vuexå­¦ä¹ å®è·µç¬”è®°/","text":"Vuexæ˜¯ä»€ä¹ˆï¼Ÿ Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ æ —å¦‚(travel store)ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667import * as types from '../types'//æ•°æ®const state = &#123; travelsList: [], searchKey: &#123; page: 0, limit: 20 &#125;, scroll: true&#125;//ç”¨æˆ·è¡Œä¸º(å¯ä»¥å¤„ç†å¼‚æ­¥),è§¦å‘ mutations æ¥æ”¹å˜ stateconst actions = &#123; /** * è·å–çº¦è·‘æ­¥åˆ—è¡¨ */ getTravelsList(&#123; commit &#125;) &#123; if(state.scroll) &#123; commit(types.GET_TRAVELS_PAGE_NUM) commit(types.COM_LOADING_STATUS, true), commit(types.GET_TRAVELS_SCORLL_STATUS, false) api.TravelsList() .then(res =&gt; &#123; console.log(res) commit(types.COM_LOADING_STATUS, false), commit(types.GET_TRAVELS_SCORLL_STATUS, true) commit(types.GET_TRAVELS_LIST, res) &#125;) &#125; &#125;, /** * å‚åŠ  */ joinTravel(&#123; commit &#125;, id) &#123; ... &#125;&#125;//å¯ä»¥è¿‡æ»¤ state ä¸­çš„æ•°æ®const getters = &#123; travelsList: state =&gt; state.travelsList, travelListIndex: state =&gt; state.travelsList.slice(0,4)&#125;//å”¯ä¸€èƒ½æ”¹å˜ state çš„æ–¹æ³•(çº¯å‡½æ•°)const mutations = &#123; [types.GET_TRAVELS_LIST](state, res) &#123; if(state.searchKey.page &lt;= 1) &#123; state.travelsList = res.data &#125; else &#123; state.travelsList = state.travelsList.concat(res.data) &#125; &#125;, [types.GET_TRAVELS_SEARCH_KEY](state, params) &#123; state.searchKey = params &#125;, [types.GET_TRAVELS_PAGE_NUM](state) &#123; state.searchKey['page'] += 1 &#125;, [types.GET_TRAVELS_SCORLL_STATUS](state, status) &#123; state.scroll = status &#125;&#125;//å¯¼å‡ºä¸€ä¸ª travel store æ¨¡å—export default &#123; state, actions, getters, mutations&#125; æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€storeâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€(state)æ•°æ®ã€‚ Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤(commit) mutationsã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚ ç”¨ä¸€å¼ å›¾æ¥ç†è§£ä¸€ä¸‹ å®¢æˆ·ç«¯(Client) -&gt; action -&gt; mutations -&gt; state -&gt; å®¢æˆ·ç«¯ å¯ä»¥çœ‹å‡ºåœ¨vuexä¸­æ•°æ®æ˜¯å•ä¸€æµå‘çš„ï¼šè§†å›¾(view)è§¦å‘actionï¼Œactionæäº¤(commit)åˆ°mutationsï¼Œmutationsæ”¹å˜state(æ•°æ®)ï¼Œstateçš„æ”¹å˜ï¼Œç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”çš„æ›´æ–°ã€‚ 1.State å•ä¸€çŠ¶æ€æ ‘ï¼Œå”¯ä¸€æ•°æ®æºï¼Œèƒ½å¤Ÿç›´æ¥æ¸…æ™°çš„è¯»æ‡‚æ•°æ®çš„ç»“æ„ã€‚ 1.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—æ•°æ®123456789101112131415//storeconst state = &#123; travelsList: [], searchKey: &#123; page: 0, limit: 20 &#125;, scroll: true&#125;//åœ¨viewä¸­ç›´æ¥è·å–data () &#123; return &#123; scroll: this.$store.state.scroll &#125;&#125;, 1.2mapState è¾…åŠ©å‡½æ•°12345678910computed: mapState([ // æ˜ å°„ this.scroll ä¸º this.$store.state.scroll 'scroll'])//æˆ–å¯¹è±¡å±•å¼€è¿ç®—ç¬¦computed: &#123; ...mapState(&#123; 'scroll' &#125;)&#125; 2.Getters å¯¹stateæ•°æ®è¿›è¡Œè¿‡æ»¤æˆ–ç›´æ¥è¿”å› 2.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—Gettersæ•°æ®1234567891011//storeconst getters = &#123; travelsList: state =&gt; state.travelsList, travelListIndex: state =&gt; state.travelsList.slice(0,4)&#125;//åœ¨viewä¸­ç›´æ¥è·å–data () &#123; return &#123; travelListIndex: this.$store.getters.travelListIndex &#125;&#125;, 2.2mapGetters è¾…åŠ©å‡½æ•°12345678910computed: mapGetters([ // æ˜ å°„ this.travelListIndex ä¸º this.$store.state.travelListIndex 'travelListIndex'])//æˆ–å¯¹è±¡å±•å¼€è¿ç®—ç¬¦computed: &#123; ...mapGetters(&#123; 'travelListIndex' &#125;)&#125; 3.Mutations è¦æ›´æ”¹ Vuex çš„ store ä¸­çš„æ•°æ®ï¼Œå”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚æ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡Œæ•°æ®æ›´æ”¹çš„åœ°æ–¹ã€‚ 1234567891011const mutations = &#123; //ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹ [types.GET_TRAVELS_LIST](state, res) &#123; if(state.searchKey.page &lt;= 1) &#123; state.travelsList = res.data &#125; else &#123; state.travelsList = state.travelsList.concat(res.data) &#125; &#125;, ...&#125; å½“æˆ‘ä»¬åœ¨è¿™æ”¹å˜æ•°æ®æ—¶ï¼Œå…¶å®ƒå¼•ç”¨æ­¤stateæ•°æ®çš„ Vue ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨å¾—åˆ°æ›´æ–°ã€‚ 4.Actions ç”¨æˆ·çš„ä¸€äº›è¡Œä¸ºï¼Œæ¥æäº¤åˆ°mutationsæ”¹å˜æ•°æ®ã€‚å¯åœ¨è¿™è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚ 1234567891011121314151617181920const actions = &#123; //es6çš„å‚æ•°è§£æ„ getTravelsList(&#123; commit &#125;) &#123; if(state.scroll) &#123; commit(types.GET_TRAVELS_PAGE_NUM) commit(types.COM_LOADING_STATUS, true), commit(types.GET_TRAVELS_SCORLL_STATUS, false) api.TravelsList() .then(res =&gt; &#123; console.log(res) commit(types.COM_LOADING_STATUS, false), commit(types.GET_TRAVELS_SCORLL_STATUS, true) commit(types.GET_TRAVELS_LIST, res) &#125;) &#125; &#125;, joinTravel(&#123; commit &#125;, id) &#123; ... &#125;&#125; 4.1åˆ†å‘ Action12345created() &#123; if (this.travelListIndex.length == 0) &#123; this.$store.dispatch('getTravelsList') &#125;&#125;, 4.2mapActions è¾…åŠ©å‡½æ•°12345methods: &#123; ...mapActions([ 'getTravelsList' // æ˜ å°„ this.getTravelsList() ä¸º this.$store.dispatch('getTravelsList') ]),&#125; 5.Modules å½“åº”ç”¨å˜å¾—å¾ˆå¤§æ—¶ï¼Œstore å¯¹è±¡ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²åˆ°æ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getters 12345678910111213141516171819const moduleA = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;, getters: &#123; ... &#125;&#125;const moduleB = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;&#125;const store = new Vuex.Store(&#123; modules: &#123; a: moduleA, b: moduleB &#125;&#125;)store.state.a // -&gt; moduleA çš„çŠ¶æ€store.state.b // -&gt; moduleB çš„çŠ¶æ€ 6.é¡¹ç›®å®è·µ è¿›é˜¶vueå…¨å®¶æ¡¶ DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es5Arrayå¯¹è±¡","date":"2017-03-30T04:24:01.000Z","path":"2017/03/30/è¯»ä¹¦ç¬”è®°-es5Arrayå¯¹è±¡/","text":"1.åˆ›å»º Array å¯¹è±¡çš„è¯­æ³•ï¼š123new Array();new Array(size);new Array(element0, element1, ..., elementn) 2.å±æ€§ å±æ€§ æè¿° constructor è¿”å›å¯¹åˆ›å»ºæ­¤å¯¹è±¡çš„æ•°ç»„å‡½æ•°çš„å¼•ç”¨ length è®¾ç½®æˆ–è¿”å›æ•°ç»„ä¸­å…ƒç´ çš„æ•°ç›® prototype å…è®¸å‘å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³• 3.å¸¸ç”¨æ–¹æ³• æ–¹æ³• æè¿° concat() è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ join() æŠŠæ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš” pop() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´  push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº shift() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¼šä¿®æ”¹åŸæ•°ç»„ unshift() å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ slice() ä»æŸä¸ªå·²æœ‰çš„æ•°ç»„è¿”å›é€‰å®šçš„å…ƒç´ ï¼Œä¸ä¿®æ”¹åŸæ•°ç»„ sort() å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº splice() åˆ é™¤å…ƒç´ ï¼Œå¹¶å‘æ•°ç»„æ·»åŠ æ–°å…ƒç´ ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œä¼šä¿®æ”¹åŸæ•°ç»„ valueOf() è¿”å›æŸä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å€¼ 4.å¾ªç¯ æ–¹æ³• æè¿° entries() è¿”å›ä¸€ä¸ªæ•°ç»„çš„è¿­ä»£å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„çš„é”®å€¼å¯¹ (key/value) every() ä½¿ç”¨æŒ‡å®šå‡½æ•°æ£€æµ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæŒ‡å®šæ¡ä»¶ï¼ˆé€šè¿‡å‡½æ•°æä¾›ï¼‰ã€‚å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™è¿”å› false ï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å› trueï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ filter() æ£€æŸ¥æŒ‡å®šæ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶è¿”å›ç¬¦åˆæ¡ä»¶æ‰€æœ‰å…ƒç´ çš„æ•°ç»„(æ–°æ•°ç»„)ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ find() è¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶è¿”å› true æ—¶ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefined ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ findIndex() è¿”å›ä¼ å…¥ä¸€ä¸ªæµ‹è¯•æ¡ä»¶ï¼ˆå‡½æ•°ï¼‰ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ã€‚å½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶è¿”å› true æ—¶ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ä½ç½®ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› -1 ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ forEach() å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°ï¼Œä½†æ€»æ˜¯è¿”å›undefined map() æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åè¿”å›å¤„ç†è¿‡çš„ç»“æœã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ 4.æ —å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475//concat()let a = [1,2,3]a.concat(4,5) //[1,2,3,4,5] //join()let a = [1,2,3]a.join() //1,2,3 //shift()let a = [1,2,3,4]a.shift() //1a //[2,3,4] //unshift()let a = [1,2,3,4]a.unshift(6) //5a //[6,1,2,3,4] //slice()let a = [1,2,3]a.slice(1) //[2,3] let a = [1,2,3]a.slice(1,2) //[2] //splice()let a = [1,2,3,4,5]a.splice(1,1) //[2] let a = [1,2,3,4,5]a.splice(1,1,'hzzly') //[2]a //[1, \"hzzly\", 3, 4, 5] //entries()const fruits = [\"Banana\", \"Orange\", \"Apple\", \"Mango\"]fruits.entries()//[0, \"Banana\"]//[1, \"Orange\"]//[2, \"Apple\"]//[3, \"Mango\"] //every()const ages = [32, 33, 16, 40]ages.every((val, index) =&gt; val &gt;= 18) //false //filterconst ages = [32, 33, 16, 40]ages.filter((val, index) =&gt; val &gt;= 18) //[32, 33, 40]ages.filter((val, index) =&gt; val &gt;= 18).length //3 //find()const ages = [32, 33, 16, 40]ages.find((val, index) =&gt; val &gt;= 18) //32 //findIndex()const ages = [32, 33, 16, 40]ages.findIndex((val, index) =&gt; val &gt;= 18) //0ages.findIndex((val, index) =&gt; val === 16) //2ages.findIndex((val, index) =&gt; val &gt; 40) //-1 //forEach()const ages = [32, 33, 16, 40]const arr = ages.forEach((val, index) =&gt; &#123; console.log(val) //å¯éå†åˆ°æ‰€æœ‰æ•°ç»„å…ƒç´  return val + 10&#125;)//arr: æ€»æ˜¯è¿”å›undefined //mapconst ages = [32, 33, 16, 40]const arr = ages.map((val, index) =&gt; &#123; console.log(val) //å¯éå†åˆ°æ‰€æœ‰æ•°ç»„å…ƒç´  return val + 10&#125;)// arr: [42, 43, 26, 50]","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"es5","slug":"es5","permalink":"http://yoursite.com/tags/es5/"}]},{"title":"è¯»ä¹¦ç¬”è®°-es5Stringå¯¹è±¡","date":"2017-03-29T05:48:14.000Z","path":"2017/03/29/è¯»ä¹¦ç¬”è®°-es5Stringå¯¹è±¡/","text":"1.åˆ›å»º String å¯¹è±¡çš„è¯­æ³•ï¼š12new String(s);String(s); 2.å±æ€§ å±æ€§ æè¿° constructor å¯¹åˆ›å»ºè¯¥å¯¹è±¡çš„å‡½æ•°çš„å¼•ç”¨ length å­—ç¬¦ä¸²çš„é•¿åº¦ prototype å…è®¸å‘å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³• 3.å¸¸ç”¨æ–¹æ³• æ–¹æ³• æè¿° charAt() è¿”å›åœ¨æŒ‡å®šä½ç½®çš„å­—ç¬¦ concat() è¿æ¥å­—ç¬¦ä¸² indexOf() æ£€ç´¢å­—ç¬¦ä¸² lastIndexOf() ä»åå‘å‰æœç´¢å­—ç¬¦ä¸² match() æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é… slice() æå–å­—ç¬¦ä¸²çš„ç‰‡æ–­ï¼Œå¹¶åœ¨æ–°çš„å­—ç¬¦ä¸²ä¸­è¿”å›è¢«æå–çš„éƒ¨åˆ† split() æŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„ toLowerCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ toUpperCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ toString() è¿”å›å­—ç¬¦ä¸² valueOf() è¿”å›æŸä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å€¼ 4.æ —å­123456789101112131415161718192021222324//charAt()let str=\"Hello world!\"str.charAt(1) //e //concat()let str1=\"Hello \"let str2=\"world!\"str1.concat(str2) //Hello world! //indexOf()let str=\"Hello world!\"str.indexOf(\"Hello\") //0str.indexOf(\"World\") //-1 (æ²¡æœ‰å°±è¿”å›-1)str.indexOf(\"world\") //6 //slice()let str=\"Hello happy world!\"str.slice(6) //happy world! //split()let str=\"How are you doing today?\"str.split(\" \") //[\"How\", \"are\", \"you\", \"doing\", \"today?\"]str.split(\"\") //[\"H\", \"o\", \"w\", \" \", \"a\", \"r\", \"e\", \" \", \"y\", \"o\", \"u\", \" \", \"d\", \"o\", \"i\", \"n\", \"g\", \" \", \"t\", \"o\", \"d\", \"a\", \"y\", \"?\"]str.split(\" \",3) //[\"How\", \"are\", \"you\"]","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"es5","slug":"es5","permalink":"http://yoursite.com/tags/es5/"}]},{"title":"Expressä¸MongoDBçš„ç¼ ç»µ","date":"2017-03-25T11:00:36.000Z","path":"2017/03/25/Expressä¸MongoDBçš„ç¼ ç»µ/","text":"å‰å¥Express æ˜¯ä»€ä¹ˆï¼Ÿ Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚ å…¨å±€å®‰è£…expressè„šæ‰‹æ¶1$ npm install express-generator -g åˆ›å»ºexpressé¡¹ç›®1234$ express myapp$ cd myapp$ npm install$ DEBUG=myapp npm start MongoDBä¸Mongooseï¼Ÿ MongoDBæ˜¯ä¸€ä¸ªå¯¹è±¡æ•°æ®åº“ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼›å­˜å‚¨çš„æ•°æ®æ ¼å¼ä¸ºJSONã€‚ Mongooseæ˜¯å°è£…äº†MongoDBæ“ä½œ(å¢åˆ æ”¹æŸ¥ç­‰)çš„ä¸€ä¸ªå¯¹è±¡æ¨¡å‹åº“,æ˜¯ç”¨æ¥æ“ä½œè¿™äº›æ•°æ®çš„ã€‚ å®‰è£…MongoDBï¼šhttps://www.mongodb.com/download-center?jmp=nav å®‰è£…Mongooseï¼š1$ npm install mongoose --save ä¸€ã€è¿æ¥MongoDB åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º/lib/mongo.js 123var mongoose = require(\"mongoose\");var db = mongoose.connect('mongodb://localhost:27017/myblog');module.exports = db è¦è¿æ¥çš„æ•°æ®åº“ä¸ºmyblog äºŒã€Schema ä¸€ç§ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨çš„æ•°æ®åº“æ¨¡å‹éª¨æ¶ï¼Œæ— æ³•ç›´æ¥é€šå¾€æ•°æ®åº“ç«¯ï¼Œä¸å…·å¤‡å¯¹æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›ï¼Œä»…ä»…åªæ˜¯æ•°æ®åº“æ¨¡å‹åœ¨ç¨‹åºç‰‡æ®µä¸­çš„ä¸€ç§è¡¨ç°ï¼Œå¯ä»¥è¯´æ˜¯æ•°æ®å±æ€§æ¨¡å‹(ä¼ ç»Ÿæ„ä¹‰çš„è¡¨ç»“æ„)ï¼Œåˆæˆ–ç€æ˜¯â€œé›†åˆâ€çš„æ¨¡å‹éª¨æ¶ æ–°å»ºä¸€ä¸ªç”¨æˆ·Schema åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º/models/users.js 12345678910111213141516var mongoose = require(\"mongoose\");var db = require('../lib/mongo');//ä¸€ä¸ªç”¨æˆ·æ¨¡å‹var UserSchema = new mongoose.Schema(&#123; username : &#123; type:String &#125;, password : &#123;type: String&#125;, avatar : &#123;type: String&#125;, age : &#123; type:Number, default:0 &#125;, description : &#123; type: String&#125;, email : &#123; type: String &#125;, github : &#123; type: String &#125;, time : &#123; type:Date, default:Date.now &#125;&#125;);//åˆ›å»ºModelvar UserModel = db.model(\"user\", UserSchema );module.exports = UserModel userï¼šæ•°æ®åº“ä¸­çš„é›†åˆåç§°,å½“æˆ‘ä»¬å¯¹å…¶æ·»åŠ æ•°æ®æ—¶å¦‚æœuserå·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šä¿å­˜åˆ°å…¶ç›®å½•ä¸‹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºuseré›†åˆï¼Œç„¶ååœ¨ä¿å­˜æ•°æ®ã€‚ æ‹¥æœ‰äº†Modelï¼Œæˆ‘ä»¬ä¹Ÿå°±æ‹¥æœ‰äº†æ“ä½œæ•°æ®åº“çš„é‡‘é’¥åŒ™ï¼Œå°±å¯ä»¥ä½¿ç”¨Modelæ¥è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„å…·ä½“æ“ä½œã€‚ Entity Entityâ€“ç”±Modelåˆ›å»ºçš„å®ä½“ï¼Œä½¿ç”¨saveæ–¹æ³•ä¿å­˜æ•°æ®ï¼ŒModelå’ŒEntityéƒ½æœ‰èƒ½å½±å“æ•°æ®åº“çš„æ“ä½œï¼Œä½†Modelæ¯”Entityæ›´å…·æ“ä½œæ€§ã€‚æ‰€ä»¥æ­¤é¡¹ç›®ä¸»è¦ç”¨çš„Modelã€‚ 12345678910111213var UserEntity = new UserModel(&#123; name : \"hzzly\", age : 21, email: \"hjingren@aliyun.com\", github: 'https://github.com/hzzly'&#125;);UserEntity.save(function(error,doc)&#123; if(error)&#123; console.log(\"error :\" + error); &#125;else&#123; console.log(doc); &#125;&#125;); ä¸‰ã€å°è£…æ•°æ®åº“çš„CURD åœ¨libæ–‡ä»¶ä¸‹æ–°å»ºapi.js é‡‡ç”¨Promiseå°è£…å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œé¿å…å›è°ƒåœ°ç‹±ï¼Œä½¿å¾—ä»£ç èƒ½å¤Ÿæ›´å¥½çš„è¢«è¯»æ‡‚å’Œç»´æŠ¤ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879var UserModel = require('../models/users');module.exports = &#123; /** * æ·»åŠ æ•°æ® * @param &#123;[type]&#125; data éœ€è¦ä¿å­˜çš„æ•°æ®å¯¹è±¡ */ save(data) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.create(ä¿å­˜çš„å¯¹è±¡,callback) UserModel.create(data, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;, find(data=&#123;&#125;, fields=null, options=&#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.find(éœ€è¦æŸ¥æ‰¾çš„å¯¹è±¡(å¦‚æœä¸ºç©ºï¼Œåˆ™æŸ¥æ‰¾åˆ°æ‰€æœ‰æ•°æ®), å±æ€§è¿‡æ»¤å¯¹è±¡[å¯é€‰å‚æ•°], options[å¯é€‰å‚æ•°], callback) UserModel.find(data, fields, options, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;, findOne(data) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.findOne(éœ€è¦æŸ¥æ‰¾çš„å¯¹è±¡,callback) UserModel.findOne(data, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;, findById(data) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.findById(éœ€è¦æŸ¥æ‰¾çš„idå¯¹è±¡ ,callback) UserModel.findById(data, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;, update(conditions, update) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.update(æŸ¥è¯¢æ¡ä»¶,æ›´æ–°å¯¹è±¡,callback) UserModel.update(conditions, update, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;, remove(conditions) &#123; return new Promise((resolve, reject) =&gt; &#123; //model.update(æŸ¥è¯¢æ¡ä»¶,callback) UserModel.remove(conditions, (error, doc) =&gt; &#123; if(error)&#123; reject(error) &#125;else&#123; resolve(doc) &#125; &#125;) &#125;) &#125;&#125; å››ã€ä½¿ç”¨ åœ¨/routers/index.jsä¸­ä½¿ç”¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849var api = require('../lib/api');router.post('/login', function(req, res, next) &#123; var user = &#123; username : req.body.username, password: req.body.password &#125;; api.findOne(user) .then(result =&gt; &#123; console.log(result) &#125;)&#125;)router.post('/sign_up', function(req, res, next) &#123; var user = &#123; username : req.body.username, password: req.body.password, email: req.body.email &#125;; api.save(user) .then(result =&gt; &#123; console.log(result) &#125;)&#125;)router.get('/user_list', function(req, res, next) &#123; //è¿”å›æ‰€æœ‰ç”¨æˆ· api.find(&#123;&#125;) .then(result =&gt; &#123; console.log(result) &#125;) //è¿”å›åªåŒ…å«ä¸€ä¸ªé”®å€¼nameã€ageçš„æ‰€æœ‰è®°å½• api.find(&#123;&#125;,&#123;name:1, age:1, _id:0&#125;) .then(result =&gt; &#123; console.log(result) &#125;) //è¿”å›æ‰€æœ‰ageå¤§äº18çš„æ•°æ® api.find(&#123;\"age\":&#123;\"$gt\":18&#125;&#125;) .then(result =&gt; &#123; console.log(result) &#125;) //è¿”å›20æ¡æ•°æ® api.find(&#123;&#125;,null,&#123;limit:20&#125;) .then(result =&gt; &#123; console.log(result) &#125;) //æŸ¥è¯¢æ‰€æœ‰æ•°æ®ï¼Œå¹¶æŒ‰ç…§ageé™åºé¡ºåºè¿”å›æ•°æ® api.find(&#123;&#125;,null,&#123;sort:&#123;age:-1&#125;&#125;) //1æ˜¯å‡åºï¼Œ-1æ˜¯é™åº .then(result =&gt; &#123; console.log(result) &#125;)&#125;) é¡¹ç›®Githubåœ°å€ï¼š https://github.com/hzzly/express-mongodbå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿star æ–‡ç« æ¥æºhzzlyåšå®¢æŠ€æœ¯åˆ†äº«","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"æµ…è°ˆPromise","date":"2017-03-25T07:29:12.000Z","path":"2017/03/25/æµ…è°ˆPromise/","text":"è¯´è¯´promise Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚ æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨(å¯¹è±¡)ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ æ¥è§¦è¿‡promiseçš„çš„éƒ½çŸ¥é“å®ƒçš„åº”ç”¨åœºæ™¯å’Œç”¨é€”ï¼ŒPromiseå¯ä»¥ç”¨æ¥é¿å…å¼‚æ­¥æ“ä½œå‡½æ•°é‡Œçš„åµŒå¥—å›è°ƒï¼ˆcallback hellï¼‰é—®é¢˜ï¼Œå› ä¸ºè§£å†³å¼‚æ­¥æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯å›è°ƒåµŒå¥—ï¼Œå°†åä¸€ä¸ªçš„æ“ä½œæ”¾åœ¨å‰ä¸€ä¸ªæ“ä½œçš„å¼‚æ­¥å›è°ƒé‡Œï¼Œä½†å¦‚æœæ“ä½œå¤šäº†ï¼Œå°±ä¼šæœ‰å¾ˆå¤šå±‚çš„åµŒå¥—(å›è°ƒåœ°ç‹±)ã€‚ 12345678910$.ajax(url1, function(data1)&#123; // do something... $.ajax(url2, function(data2)&#123; // do something... $.ajax(url3, function(data3)&#123; // do something... done(data3); // è¿”å›æ•°æ® &#125;) &#125;);&#125;); Promiseå­¦æœ¯ç‚¹çš„æè¿°ï¼š promiseä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œè¿”å›çŠ¶æ€ï¼Œè¿™ä¸ªæ‰§è¡Œè¿”å›çŠ¶æ€åœ¨promiseå¯¹è±¡åˆ›å»ºæ—¶æœªå¿…å·²çŸ¥ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸæˆ–å¤±è´¥æŒ‡å®šå¤„ç†æ–¹æ³•ã€‚ è¿™ä½¿å¾—å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼šå¼‚æ­¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåŒ…å«äº†åŸè¿”å›çŠ¶æ€çš„ promise å¯¹è±¡æ¥æ›¿ä»£åŸè¿”å›çŠ¶æ€ã€‚ Promiseçš„è¡¨ç°å¦‚æœä½¿ç”¨å›è°ƒæ–¹æ³•å¤„ç†å¤šä¸ªæ“ä½œçš„å¼‚æ­¥åœºæ™¯ï¼Œåˆ¤æ–­æŸä¸ªæ“ä½œæˆåŠŸæˆ–å¤±è´¥çš„æ§åˆ¶åœ¨äºå£°æ˜çš„åŒ¿åå‡½æ•°é‡Œé¢ï¼Œä½¿ç”¨Promiseå¯¹è±¡åˆ™å¯ä»¥é‡æ–°å®šä¹‰å¼‚æ­¥æ‰§è¡Œçš„çŠ¶æ€å’Œæ§åˆ¶é€»è¾‘ã€‚ promiseçš„æœ€é‡è¦çš„ç‰¹ç‚¹å°±æ˜¯å®ƒæŠŠæˆ‘ä»¬å¤„ç†ä»»ä½•å‡½æ•°è°ƒç”¨çš„æˆåŠŸæˆ–è€…å¤±è´¥çš„æ–¹å¼è§„èŒƒæˆäº†å¯é¢„æµ‹çš„å½¢å¼ï¼Œç‰¹åˆ«æ˜¯å¦‚æœè¿™ä¸ªè°ƒç”¨å®é™…ä¸Šçš„å¼‚æ­¥çš„ã€‚ Promiseä¸­æœ‰å‡ ä¸ªçŠ¶æ€ï¼š pending: åˆå§‹çŠ¶æ€ã€‚ é fulfilled æˆ– rejectedã€‚ resolved: æˆåŠŸçš„æ“ä½œã€‚ä¹Ÿæœ‰çš„æˆä¸ºfulfilled ã€‚ rejected: å¤±è´¥çš„æ“ä½œã€‚ çŠ¶æ€è½¬æ¢å…³ç³»ä¸ºï¼š pending-&gt;resolved(fulfilled)ï¼Œpending-&gt;rejectedã€‚ Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹: å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰ ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚ ç”¨æ³•è¯´äº†è¿™ä¹ˆå¤šï¼Œç›´æ¥ä¸Šä»£ç ã€‚ 123456789101112131415var promise = new Promise((resolve, reject) =&gt; &#123; // do somthing, maybe async if (success)&#123; return resolve(res); &#125; else &#123; return reject(err); &#125;&#125;); promise.then(res =&gt; &#123; // do something... e.g console.log(res);&#125;, err =&gt; &#123; // deal the err.&#125;) æˆ–å°è£…æˆæ–¹æ³•1234567891011121314151617function fetch(data) &#123; return new Promise((resolve, reject) =&gt; &#123; // do somthing, maybe async if (success)&#123; resolve(res); &#125; else &#123; reject(err); &#125; &#125;)&#125; fetch(data) .then(res =&gt; &#123; console.log(res) &#125;, err =&gt; &#123; // deal the err. &#125;) å¼‚æ­¥åµŒå¥—å›è°ƒ123456789101112131415161718192021222324252627function loadAsync1()&#123; return new Promise((resolve, reject) =&gt; &#123; //å¼‚æ­¥æ“ä½œ setTimeout(() =&gt; &#123; console.log('å¼‚æ­¥ä»»åŠ¡1'); resolve('å¼‚æ­¥ä»»åŠ¡1ä¼ è¿‡æ¥çš„å€¼'); &#125;, 2000); &#125;); &#125;function loadAsync2(data1)&#123; return new Promise((resolve, reject) =&gt; &#123; //å¼‚æ­¥æ“ä½œ setTimeout(() =&gt; &#123; console.log('å¼‚æ­¥ä»»åŠ¡2'); resolve('å¼‚æ­¥ä»»åŠ¡2ä¼ è¿‡æ¥çš„å€¼'); &#125;, 2000); &#125;); &#125;function loadAsync3(data2)&#123; return new Promise((resolve, reject) =&gt; &#123; //å¼‚æ­¥æ“ä½œ setTimeout(() =&gt; &#123; console.log('å¼‚æ­¥ä»»åŠ¡3'); resolve('å¼‚æ­¥ä»»åŠ¡3ä¼ è¿‡æ¥çš„å€¼'); &#125;, 2000); &#125;); &#125; æœ‰è¿”å›å€¼12345678loadAsync1() .then(data1 =&gt; &#123; return loadAsync2(data1) &#125;) .then(data2 =&gt; &#123; return loadAsync3(data2) &#125;) .then(okFn, failFn) æ²¡æœ‰è¿”å›å€¼12345678loadAsync1() .then(data1 =&gt; &#123; loadAsync2(data1) &#125;) .then(data2 =&gt;&#123; loadAsync3(data2) &#125;) .then(res =&gt; console.log(res)) è¾“å‡ºçš„å€¼ä¸ºï¼š å¼‚æ­¥ä»»åŠ¡1å¼‚æ­¥ä»»åŠ¡1ä¼ è¿‡æ¥çš„å€¼å¼‚æ­¥ä»»åŠ¡2å¼‚æ­¥ä»»åŠ¡2ä¼ è¿‡æ¥çš„å€¼å¼‚æ­¥ä»»åŠ¡3å¼‚æ­¥ä»»åŠ¡3ä¼ è¿‡æ¥çš„å€¼ promise.allæ–¹æ³• Promise.all å¯ä»¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä¸º Promise å¯¹è±¡çš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå½“è¿™ä¸ªæ•°ç»„é‡Œé¢æ‰€æœ‰çš„ Promise å¯¹è±¡éƒ½å˜ä¸º resolve æ—¶ï¼Œè¯¥æ–¹æ³•æ‰ä¼šè¿”å›ã€‚ 12345678910111213141516var p1 = new Promise((resolve) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(\"ç¬¬ä¸€ä¸ªpromise\"); &#125;, 3000);&#125;); var p2 = new Promise((resolve) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(\"ç¬¬äºŒä¸ªpromise\"); &#125;, 1000);&#125;); Promise.all([p1, p2]) .then((result) =&gt; &#123; console.log(result); // [\"ç¬¬ä¸€ä¸ªpromise\", \"ç¬¬äºŒä¸ªpromise\"] &#125;); ä¸Šé¢çš„ä»£ç ä¸­ï¼Œallæ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œp1,p2æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œç­‰ä¸¤ä¸ªéƒ½æ‰§è¡Œå®Œäº†ï¼Œæ‰ä¼šè¿›å…¥åˆ°thenï¼Œallä¼šæŠŠæ‰€æœ‰çš„ç»“æœæ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­è¿”å›ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å°å‡ºæˆ‘ä»¬çš„ç»“æœä¸ºä¸€ä¸ªæ•°ç»„ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶p2çš„æ‰§è¡Œé¡ºåºæ¯”p1å¿«ï¼Œä½†æ˜¯allä¼šæŒ‰ç…§å‚æ•°é‡Œé¢çš„æ•°ç»„é¡ºåºæ¥è¿”å›ç»“æœã€‚allçš„ä½¿ç”¨åœºæ™¯ç±»ä¼¼äºï¼Œç©æ¸¸æˆçš„æ—¶å€™ï¼Œéœ€è¦æå‰å°†æ¸¸æˆéœ€è¦çš„èµ„æºæå‰å‡†å¤‡å¥½ï¼Œæ‰è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚ promise.raceæ–¹æ³• Promise.race å¯ä»¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä¸º Promise å¯¹è±¡çš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªæ•°ç»„é‡Œé¢æ‰€æœ‰çš„ Promise å¯¹è±¡è¿›è¡Œç«é€Ÿï¼Œå®Œæˆä¸€ä¸ªå³å¯ã€‚ 12345678910111213141516171819202122var p1 = new Promise((resolve) =&gt; &#123; setTimeout(() =&gt; &#123; console.log('å¼‚æ­¥ä»»åŠ¡1æ‰§è¡Œå®Œæˆ'); resolve(\"ç¬¬ä¸€ä¸ªpromise\"); &#125;, 3000);&#125;); var p2 = new Promise((resolve) =&gt; &#123; setTimeout(() =&gt; &#123; console.log('å¼‚æ­¥ä»»åŠ¡2æ‰§è¡Œå®Œæˆ'); resolve(\"ç¬¬äºŒä¸ªpromise\"); &#125;, 1000);&#125;); Promise.race([p1, p2]) .then((result) =&gt; &#123; console.log(result); &#125;);//å¼‚æ­¥ä»»åŠ¡2æ‰§è¡Œå®Œæˆ//ç¬¬äºŒä¸ªpromise//å¼‚æ­¥ä»»åŠ¡1æ‰§è¡Œå®Œæˆ åœ¨thené‡Œé¢çš„å›è°ƒå¼€å§‹æ‰§è¡Œæ—¶ï¼Œp1 å¹¶æ²¡æœ‰åœæ­¢ï¼Œä»æ—§åœ¨æ‰§è¡Œã€‚äºæ˜¯å†è¿‡2ç§’åï¼Œè¾“å‡ºäº†ä»–ä»¬ç»“æŸçš„æ ‡å¿—ã€‚ è¿™ä¸ªraceæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½¿ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930/è¯·æ±‚æŸä¸ªå›¾ç‰‡èµ„æºfunction requestImg()&#123; var p = new Promise(function(resolve, reject)&#123; var img = new Image(); img.onload = function()&#123; resolve(img); &#125; img.src = 'xxxxxx'; &#125;); return p;&#125;//å»¶æ—¶å‡½æ•°ï¼Œç”¨äºç»™è¯·æ±‚è®¡æ—¶function timeout()&#123; var p = new Promise(function(resolve, reject)&#123; setTimeout(function()&#123; reject('å›¾ç‰‡è¯·æ±‚è¶…æ—¶'); &#125;, 5000); &#125;); return p;&#125;Promise .race([requestImg(), timeout()]) .then(function(results)&#123; console.log(results); &#125;) .catch(function(err)&#123; console.log(err); &#125;); requestImgå‡½æ•°ä¼šå¼‚æ­¥è¯·æ±‚ä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘æŠŠåœ°å€å†™ä¸ºâ€xxxxxxâ€ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯æ— æ³•æˆåŠŸè¯·æ±‚åˆ°çš„ã€‚timeoutå‡½æ•°æ˜¯ä¸€ä¸ªå»¶æ—¶5ç§’çš„å¼‚æ­¥æ“ä½œã€‚æˆ‘ä»¬æŠŠè¿™ä¸¤ä¸ªè¿”å›Promiseå¯¹è±¡çš„å‡½æ•°æ”¾è¿›raceï¼Œäºæ˜¯ä»–ä¿©å°±ä¼šèµ›è·‘ï¼Œå¦‚æœ5ç§’ä¹‹å†…å›¾ç‰‡è¯·æ±‚æˆåŠŸäº†ï¼Œé‚£ä¹ˆéè¿›å…¥thenæ–¹æ³•ï¼Œæ‰§è¡Œæ­£å¸¸çš„æµç¨‹ã€‚å¦‚æœ5ç§’é’Ÿå›¾ç‰‡è¿˜æœªæˆåŠŸè¿”å›ï¼Œé‚£ä¹ˆtimeoutå°±è·‘èµ¢äº†ï¼Œåˆ™è¿›å…¥catchï¼ŒæŠ¥å‡ºâ€œå›¾ç‰‡è¯·æ±‚è¶…æ—¶â€çš„ä¿¡æ¯ã€‚ ä¸€é“å¸¸è§é¢è¯•é¢˜1234567891011121314151617setTimeout(function() &#123; console.log(1)&#125;, 0); new Promise(function executor(resolve) &#123; console.log(2); for( var i=0 ; i&lt;10000 ; i++ ) &#123; i == 9999 &amp;&amp; resolve(); &#125; console.log(3);&#125;).then(function() &#123; console.log(4);&#125;); console.log(5);â€œ2 3 5 4 1â€ æƒ…æ™¯ä¼ å…¥ä¸€ä¸ªtokenï¼Œæ ¹æ®è¿™ä¸ªtokenè¯·æ±‚ä¸€æ¬¡ç½‘ç»œï¼Œç„¶åè·å–ç”¨æˆ·IDï¼Œå°†è·å–çš„ç”¨æˆ·IDè®¿é—®æ•°æ®åº“ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031323334353637var request = function (token) &#123; return new Promise((resolve, reject)=&gt; &#123; setTimeout(()=&gt; &#123; token ? resolve(2) : reject('token error'); &#125;,1000) &#125;);&#125;; var find = function (id) &#123; return new Promise((resolve, reject)=&gt; &#123; setTimeout(()=&gt; &#123; id ? resolve(id + '-info') : reject('id error'); &#125;,1000) &#125;);&#125;; request('token') .then(function (id) &#123; return find(id); &#125;) .then(function (info) &#123; console.log( info); &#125;); co(function *() &#123; var id = yield request('token'); var info = yield find(id); console.log(id, info);&#125;); (async function () &#123; var id = await request('token'); var info = await find(id); console.log(id, info);&#125;)(); ä¹‹åä¼šæœ‰expressæ“ä½œmongondbçš„åŸºäºPromiseçš„å°è£…ï¼Œæ•¬è¯·æœŸå¾…ï¼","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"promise","slug":"promise","permalink":"http://yoursite.com/tags/promise/"}]},{"title":"ç§»åŠ¨ç«¯touchäº‹ä»¶","date":"2017-03-22T14:08:21.000Z","path":"2017/03/22/ç§»åŠ¨ç«¯touchäº‹ä»¶/","text":"4ä¸ªtouchäº‹ä»¶touchstart äº‹ä»¶ï¼šå½“æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶å€™è§¦å‘ï¼Œå³ä½¿å·²ç»æœ‰ä¸€ä¸ªæ‰‹æŒ‡æ”¾åœ¨å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚touchmove äº‹ä»¶ï¼šå½“æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨çš„æ—¶å€™è¿ç»­åœ°è§¦å‘ã€‚è°ƒç”¨preventDefault()äº‹ä»¶å¯ä»¥é˜»æ­¢æ»šåŠ¨ã€‚touchend äº‹ä»¶ï¼šå½“æ‰‹æŒ‡ä»å±å¹•ä¸Šç¦»å¼€çš„æ—¶å€™è§¦å‘ã€‚touchcancel äº‹ä»¶ï¼šè§¦æ‘¸ç»“æŸçš„æ—¶å€™è§¦å‘ è§¦æ‘¸äº‹ä»¶ï¼štouchesï¼šå½“å‰ä½äºå±å¹•ä¸Šçš„æ‰€æœ‰æ‰‹æŒ‡çš„åˆ—è¡¨ã€‚targetTouchesï¼šä½äºå½“å‰DOMå…ƒç´ ä¸Šæ‰‹æŒ‡çš„åˆ—è¡¨ã€‚changedTouchesï¼šæ¶‰åŠå½“å‰äº‹ä»¶æ‰‹æŒ‡çš„åˆ—è¡¨ã€‚ Touchå¯¹è±¡å±æ€§æ¯ä¸ªTouchå¯¹è±¡åŒ…å«çš„å±æ€§å¦‚ä¸‹ï¼š clientXï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„xåæ ‡ã€‚clientYï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„yåæ ‡ã€‚identifierï¼šæ ‡è¯†è§¦æ‘¸çš„å”¯ä¸€IDã€‚pageXï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„xåæ ‡ã€‚pageYï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„yåæ ‡ã€‚screenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚screenYï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„yåæ ‡ã€‚targetï¼šè§¦æ‘¸çš„DOMèŠ‚ç‚¹ç›®æ ‡ã€‚ 12345678910111213141516171819document.addEventListener('touchstart',touch,false);document.addEventListener('touchmove',touch,false);document.addEventListener('touchend',touch,false); function touch (event)&#123; var event = event || window.event; var oInp = document.getElementById(\"inp\"); switch(event.type)&#123; case \"touchstart\": oInp.innerHTML =`Touch started ( $&#123;event.touches[0].clientX&#125; , $&#123;event.touches[0].clientY&#125; )`; break; case \"touchend\": oInp.innerHTML =`&lt;br&gt;Touch end ( $&#123;event.changedTouches[0].clientX&#125; , $&#123;event.changedTouches[0].clientY&#125; )`; break; case \"touchmove\": event.preventDefault(); oInp.innerHTML =`&lt;br&gt;Touch moved ( $&#123;event.touches[0].clientX&#125; , $&#123;event.touches[0].clientY&#125; )`; break; &#125;&#125; äº‹ä»¶(åŒ…æ‹¬é¼ æ ‡äº‹ä»¶)å‘ç”Ÿçš„é¡ºåºå¦‚ä¸‹ï¼š(1) touchstart(2) mouseover(3) mousemove(ä¸€æ¬¡)(4) mousedown(5) mouseup(6) click(7) touchend","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"ä¸€ä¸ªVue+Canvasçš„é…·ç‚«åå°ç®¡ç†","date":"2017-03-21T09:10:38.000Z","path":"2017/03/21/ä¸€ä¸ªVue-Canvasçš„é…·ç‚«åå°ç®¡ç†/","text":"åˆä¸€ä¸ªVue+Cnavasé…·ç‚«çš„åå°ç®¡ç†ï¼Œä¾ç„¶å‰åç«¯åˆ†ç¦»ï¼ˆç”¨PCæ‰“å¼€ï¼Œè¿˜æ²¡é€‚é…ç§»åŠ¨ç«¯ï¼‰ã€‚ é¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/canvas-vuedemoåœ°å€ï¼š http://hjingren.cn/curriculum-design/è´¦å·ï¼šhzzly å¯†ç ï¼š123456æ¬¢è¿å¤§å®¶çš„starå•¦~ æŠ€æœ¯æ ˆå‰å°: vue-cli vue vue-router webpack canvas ajax åå°: wamp PHP(ThinkPHP) mysql åŠŸèƒ½è¯´æ˜ ç™»å½• ç”¨æˆ·ç™»å½• ç®¡ç†å‘˜ç™»å½• æ³¨å†Œ ç”¨æˆ·æ³¨å†Œ Canvas æµæ˜Ÿæ»‘è¿‡ æ˜Ÿæ˜Ÿé—ªé—ª åå°æŠ˜çº¿ æŠ˜çº¿è·Ÿç€é¼ æ ‡æ»‘åŠ¨ Vue å¼¹å‡ºæ¡†ç»„ä»¶ è·¯ç”±åˆ‡æ¢åŠ¨ç”» é€šè¿‡Ajaxè°ƒç”¨åå°æ¥å£ ç•™è¨€æ¿(æ—¶é—´è½´) æ·»åŠ æˆ¿å±‹ä¿¡æ¯ å‡ºç§Ÿ æ±‚ç§Ÿ å‡ºå”® æ±‚è´­ ä¸ªäººä¿¡æ¯ä¿®æ”¹ å¯†ç ä¿®æ”¹ â€¦â€¦ 1.ç™»å½•æ³¨å†Œæ¨¡å— 2.åå°ç®¡ç†é¡µé¢ 3.ç•™è¨€æ¿(æ—¶é—´è½´ç‰¹æ•ˆ) ç›®å½•ç»“æ„12345678910111213141516171819202122232425|â€”â€”canvas-vue/| |â€”â€”build/| |â€”â€”confg/| |â€”â€”node_modules/| |â€”â€”src/| | |â€”â€”assets/ //é™æ€æ–‡ä»¶| | |â€”â€”components/ //é¡µé¢ç»„ä»¶| | | |â€”â€”Menu.vue //ç™»å½•æ³¨å†ŒåŠ è½½é¡µé¢| | | |â€”â€”Home.vue //åå°é¦–é¡µ| | | |â€”â€”Login.vue //ç™»å½•é¡µé¢| | | |â€”â€”Regist.vue //æ³¨å†Œé¡µé¢| | | |â€”â€”Navbar.vue //æˆ‘çš„å‘å¸ƒ| | | |â€”â€”Messageboard.vue //ç•™è¨€æ¿é¡µé¢| | | |â€”â€”... //ç­‰ç­‰| | |â€”â€”router/ | | | |â€”â€”index.js //é¡µé¢è·¯ç”±| | |â€”â€”App.vue //çˆ¶ç»„ä»¶| | |â€”â€”main.js //å…¥å£æ–‡ä»¶| |â€”â€”static/ | |â€”â€”.babelrc| |â€”â€”.editorconfig| |â€”â€”.gitgnore| |â€”â€”index.html| |â€”â€”package.json| |â€”â€”README.md æŠ€æœ¯ç‚¹ ç™»å½•æ³¨å†Œåˆ‡æ¢åŠ¨ç”»â€“vueçš„transitionè½¬æ¢åŠ¨ç”» 123456789101112131415&lt;template&gt; &lt;transition name=&quot;fade-out&quot;&gt; ... &lt;/transition&gt;&lt;/template&gt;&lt;style&gt;.fade-out-enter-active, .fade-out-leave-active &#123; transition: all .5s&#125;.fade-out-enter, .fade-out-leave-active &#123; opacity: 0; transform: translateX(-400px);&#125;&lt;/style&gt; ç™»å½•æ³¨å†Œæ˜Ÿæ˜Ÿä¸æµæ˜Ÿâ€“canvas 123456789101112131415161718192021222324252627282930313233343536373839404142let canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d'), width = window.innerWidth, height = window.innerHeight, //å®ä¾‹åŒ–æœˆäº®å’Œæ˜Ÿæ˜Ÿã€‚æµæ˜Ÿæ˜¯éšæœºæ—¶é—´ç”Ÿæˆï¼Œæ‰€ä»¥åªåˆå§‹åŒ–æ•°ç»„ moon = new Moon(ctx, width, height), stars = new Stars(ctx, width, height, 200), meteors = [], count = 0 canvas.width = width; canvas.height = height; const meteorGenerator = ()=&gt; &#123; //xä½ç½®åç§»ï¼Œä»¥å…ç»è¿‡æœˆäº® let x = Math.random() * width + 800 meteors.push(new Meteor(ctx, x, height)) //æ¯éš”éšæœºæ—¶é—´ï¼Œç”Ÿæˆæ–°æµæ˜Ÿ setTimeout(()=&gt; &#123; meteorGenerator() &#125;, Math.random() * 2000)&#125; const frame = ()=&gt;&#123; count++ count % 10 == 0 &amp;&amp; stars.blink() moon.draw() stars.draw() meteors.forEach((meteor, index, arr)=&gt; &#123; //å¦‚æœæµæ˜Ÿç¦»å¼€è§†é‡ä¹‹å†…ï¼Œé”€æ¯æµæ˜Ÿå®ä¾‹ï¼Œå›æ”¶å†…å­˜ if (meteor.flow()) &#123; meteor.draw() &#125; else &#123; arr.splice(index, 1) &#125; &#125;) requestAnimationFrame(frame)&#125;meteorGenerator()frame() æ€»ç»“è¿™ä¸ªé¡¹ç›®è¿˜æ²¡æœ‰å®Œæˆï¼ŒåæœŸå°†ä¸å®šæœŸæ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿staré¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/canvas-vueé¡¹ç›®åå°(PHP)åœ°å€ï¼š https://github.com/hzzly/canvas-vue-backstage å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"}]},{"title":"ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³","date":"2017-03-15T14:01:18.000Z","path":"2017/03/15/ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³/","text":"éšç€æ‰‹æœºç¡¬ä»¶é…ç½®çš„é£é€Ÿå¢é•¿ã€å±å¹•å°ºå¯¸çš„è¶Šæ¥è¶Šå¤§å’Œç½‘ç»œå¸¦å®½çš„é€æ¸æå‡ï¼Œè¶Šæ¥è¶Šå¤šçš„PCä¸šåŠ¡å’ŒæœåŠ¡åœ¨å‘ç§»åŠ¨ç«¯è½¬ç§»ã€‚ç„¶è€Œåœ¨è¿™ç§»åŠ¨ç«¯çš„æ—¶ä»£ï¼Œä¸ºäº†å¤„ç†å„ç»ˆç«¯å±å¹•çš„é€‚é…ï¼Œæ˜¯å¦ä¹±äº†æ‰‹è„šå‘¢ï¼Ÿ è™½ç„¶ç§»åŠ¨ç«¯çš„é¡µé¢ä¸PCçš„é¡µé¢ç›¸æ¯”ç®€å•äº†ä¸å°‘ï¼Œä½†è®©æˆ‘ä»¬å¤´ç—›çš„äº‹æƒ…è¿˜æ˜¯è¦æƒ³å°½åŠæ³•è®©é¡µé¢èƒ½é€‚é…ä¼—å¤šä¸åŒçš„ç»ˆç«¯è®¾å¤‡ã€‚åœ¨å‰å‡ ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œæˆ‘åšçš„ä¸»è¦éƒ½æ˜¯ç§»åŠ¨å¾®ä¿¡ç«¯çš„ã€‚æœŸé—´ä¹Ÿé‡åˆ°äº†ä¸åŒå±å¹•å¤§å°çš„é€‚é…é—®é¢˜ï¼Œæ‰€ä»¥ä»Šå¤©ç‰¹æ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„è§£å†³æ–¹æ³•ã€‚ é¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/xyy-vuedemoåœ°å€ï¼š http://hjingren.cn/xyy-vue/æ¬¢è¿å¤§å®¶çš„starå•¦~ ä¸€ã€metaæ ‡ç­¾ metaä¹‹viewportï¼Œå…¶ä¸»è¦ç”¨æ¥å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§„èŒƒçš„æ¸²æŸ“Webé¡µé¢ï¼Œè€Œä½ åˆ™éœ€è¦å‘Šè¯‰å®ƒè§†çª—æœ‰å¤šå¤§ã€‚åœ¨å¼€å‘ç§»åŠ¨ç«¯é¡µé¢ï¼Œæˆ‘ä»¬éœ€è¦åœ¨htmlä¸­è®¾ç½®metaæ ‡ç­¾å¦‚ä¸‹ï¼š 1&lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt; äºŒã€æ‰‹æ·˜çš„flexible flexibleæ˜¯ä¸€ä¸ªåˆ¶ä½œH5é€‚é…çš„å¼€æºåº“ï¼Œéœ€è¦åœ¨htmlä¸­å¼•å…¥ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é˜¿é‡ŒCDNï¼š 1&lt;script src=\"http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js\"&gt;&lt;/script&gt; æ‰§è¡Œè¿™ä¸ªJSåï¼Œä¼šåœ¨å…ƒç´ ä¸Šå¢åŠ ä¸€ä¸ªdata-dprå±æ€§ï¼Œä»¥åŠä¸€ä¸ªfont-sizeæ ·å¼ã€‚JSä¼šæ ¹æ®ä¸åŒçš„è®¾å¤‡æ·»åŠ ä¸åŒçš„data-dprå€¼ï¼Œæ¯”å¦‚è¯´1ã€2æˆ–è€…3ï¼ŒåŒæ—¶ä¼šç»™htmlåŠ ä¸Šå¯¹åº”çš„font-sizeçš„å€¼ï¼Œæ¯”å¦‚è¯´37.5pxã€‚ ä¸‰ã€æ”¾å¼ƒpxæ‹¥æŠ±rem ç”¨pxå†™çš„æ˜¯ç»å¯¹å•ä½ï¼Œè¿™ç§æ–¹æ³•è‚¯å®šä¸è¡Œã€‚è®©æˆ‘ä»¬æ¥æ‹¥æŠ±remå§ï¼ï¼ï¼ æˆ‘ä»¬çŸ¥é“ em çš„è®¡ç®—æ˜¯åŸºäºçˆ¶çº§å…ƒç´ çš„ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ç»™æˆ‘ä»¬çš„è®¡ç®—å¸¦æ¥äº†å¾ˆå¤§çš„ä¸ä¾¿ã€‚æ‰€ä»¥ rem çš„å‡ºç°è§£æ•‘äº†æˆ‘è¿™æ ·ä¸ä¼šç®—æœ¯çš„äººï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçˆ¶çº§å…ƒç´ çš„ font-size äº†ï¼Œå› ä¸ºå®ƒå§‹ç»ˆæ˜¯åŸºäºæ ¹å…ƒç´ ï¼ˆhtmlï¼‰ çš„ã€‚æ¯”å¦‚é»˜è®¤çš„ html font-size=16pxï¼Œé‚£ä¹ˆæˆ‘æƒ³è®¾ç½®12px çš„æ–‡å­—å°±æ˜¯ï¼š12Ã·16=0.75ï¼ˆremï¼‰ å¦‚æœå¯¹remè¿˜æœ‰ä¸æ‡‚çš„å¯ä»¥å…ˆçœ‹çœ‹è¿™ä¸ªCSS3çš„REMè®¾ç½®å­—ä½“å¤§å° åˆšåˆšæˆ‘ä»¬å¼•å…¥äº†æ‰‹æ·˜çš„flexibleï¼Œå¹¶ç»™htmlåŠ äº†font-sizeï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œé¡µé¢ä¸­çš„å…ƒç´ ï¼Œéƒ½å¯ä»¥é€šè¿‡remå•ä½æ¥è®¾ç½®ã€‚ä»–ä»¬ä¼šæ ¹æ®htmlå…ƒç´ çš„font-sizeå€¼åšç›¸åº”çš„è®¡ç®—ï¼Œä»è€Œå®ç°å±å¹•çš„é€‚é…æ•ˆæœã€‚ å››ã€CSSå¤„ç†å™¨(SASS) ä½¿ç”¨Sassçš„åŒå­¦ï¼Œå¯ä»¥ä½¿ç”¨Sassçš„å‡½æ•°ã€æ··åˆå®è¿™äº›åŠŸèƒ½æ¥å®ç°ï¼š 123@function px2rem($px, $base-font-size: 75px) &#123; @return ($px / $base-font-size) * 1rem;&#125; è¿™é‡Œçš„è¿™ä¸ªå‚æ•°$base-font-size: 75pxï¼Œå¯ä»¥é€šè¿‡(psdæ–‡ä»¶çš„å®½åº¦/10)æ¥è®¡ç®—ã€‚å‡å¦‚psdå®½750ï¼Œåˆ™$base-font-sizeä¸º75pxã€‚ ä½¿ç”¨ï¼š psdä¸­é‡å¤šå°‘å°±å†™å¤šå°‘ 12345//æ¯”å¦‚é‡å–boxå®½ä¸º190ï¼Œé«˜ä¸º190ï¼Œåˆ™ä»£ç ï¼š.box &#123; width: px2rem(190px); height: px2rem(190px);&#125; æ²¡ç”¨è¿‡çš„å¯ä»¥ç”¨sublimeçš„cssremçš„æ’ä»¶å®ç°ã€‚ äº”ã€å›¾ç¤º å…­ã€å›¾ç¤ºä»£ç  å› ä¸ºè¿™æ˜¯å•†ä¸šä»£ç ï¼Œæ‰€ä»¥å°±åªè´´äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œå¿˜è§è°…ï¼Œè°¢è°¢æœ€ä¸‹é¢æœ‰æˆ‘å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œå¯ä»¥å‚è€ƒï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œç»™ä¸ªstarã€‚ 123456789101112131415161718192021222324252627//index.html&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt; &lt;title&gt;Demo&lt;/title&gt; &lt;script src=\"http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js\"&gt;&lt;/script&gt; &lt;link rel=\"stylesheet\" href=\"index.css\"&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"home\"&gt; &lt;div class=\"home-list\"&gt; &lt;div class=\"list-item\"&gt; &lt;a href=\"/\"&gt; &lt;div class=\"item-l\"&gt; &lt;img src=\"../assets/images/check.png\" alt=\"\"&gt; &lt;span&gt;å¾…å®¡æ ¸&lt;/span&gt; &lt;/div&gt; &lt;div class=\"item-r isnew\"&gt;6&lt;/div&gt; &lt;/a&gt; &lt;/div&gt; ... &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041//index.scss@function px2rem($px, $base-font-size: 75px) &#123; @return ($px / $base-font-size) * 1rem;&#125;.home-list &#123; padding-bottom: px2rem(45px); .list-item &#123; box-sizing: border-box; width: px2rem(690px); height: px2rem(190px); line-height: px2rem(190px); margin: px2rem(45px) auto 0; padding: 0 px2rem(50px) 0 px2rem(30px); background: #fff; border-radius: px2rem(20px); a &#123; display: flex; justify-content: space-between; font-size: px2rem(40px); img &#123; width: px2rem(90px); height: px2rem(65px); vertical-align: middle; margin-right: px2rem(30px); &#125; span &#123; color: #000; vertical-align: middle; &#125; .item-r &#123; color: #666666; &amp;.isnew &#123; color: #ff5500; &#125; &#125; &amp;:link,&amp;:visited,&amp;:hover,&amp;:active &#123; text-decoration: none; &#125; &#125; &#125;&#125; ä¸ƒã€å¼€æºç¤ºä¾‹å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿staré¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/xyy-vue å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"ç§»åŠ¨ç«¯1pxçš„è§£å†³æ–¹æ³•","date":"2017-03-13T13:22:43.000Z","path":"2017/03/13/ç§»åŠ¨ç«¯1pxçš„è§£å†³æ–¹æ³•/","text":"åœ¨ä¸Šä¸ªé¡¹ç›®ä¸­ï¼Œç§»åŠ¨ç«¯1pxé—®é¢˜è¢«å›°æ‰°äº†å¥½ä¹…ï¼Œè®¾ç½®1pxè¾¹æ¡†ï¼Œå®é™…æ˜¾ç¤º2pxã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­çš„è§£å†³æ–¹æ³•ï¼Œæ‰ç–å­¦æµ…ï¼Œè½»å–·ã€‚ å…³äºä»€ä¹ˆæ˜¯ç§»åŠ¨ç«¯1åƒç´ è¾¹æ¡†é—®é¢˜ï¼Œå…ˆä¸Šä¸¤å¼ å›¾ï¼Œå¤§å®¶å°±æ˜ç™½äº†ã€‚ å‡çš„1px: çœŸçš„1px: åŸæ¥Retineå±çš„åˆ†è¾¨ç‡å§‹ç»ˆæ˜¯æ™®é€šå±å¹•çš„2å€ï¼Œ1pxçš„è¾¹æ¡†åœ¨devicePixelRatio=2çš„retinaå±ä¸‹ä¼šæ˜¾ç¤ºæˆ2pxã€‚ è§£å†³æ–¹æ¡ˆ transform: scaleY() 12345678910111213141516171819202122232425262728293031323334&lt;div class=&quot;border-1px&quot;&gt;&lt;/div&gt; &lt;style type=&quot;text/scss&quot;&gt;.border-1px &#123; position: relative; &amp;:after&#123; display: block; position: absolute; left: 0; bottom: 0; width: 100%; border-top: 1px solid #000; content: &apos;&apos;; &#125;&#125; @media (-webkit-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5) &#123; .border-1px&#123; &amp;::after&#123; -webkit-transform: scaleY(0.7); transform: scaleY(0.7); &#125; &#125;&#125; @media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2) &#123; .border-1px&#123; &amp;::after&#123; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); &#125; &#125;&#125;&lt;/style&gt; åˆ°è¿™å·²ç»æˆåŠŸè§£å†³äº†1pxé—®é¢˜ã€‚ å¥½äº†ï¼Œåƒé¥­å»å–½ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"axiosåœ¨vueä¸­çš„ç®€å•é…ç½®ä¸ä½¿ç”¨","date":"2017-03-12T13:34:08.000Z","path":"2017/03/12/axiosåœ¨vueä¸­çš„ç®€å•é…ç½®ä¸ä½¿ç”¨/","text":"å°¤é›¨æºªä¹‹å‰åœ¨å¾®åšå‘å¸ƒæ¶ˆæ¯ï¼Œä¸å†ç»§ç»­ç»´æŠ¤vue-resourceï¼Œå¹¶æ¨èå¤§å®¶å¼€å§‹ä½¿ç”¨ axios ã€‚ ä¸€ã€axios ç®€ä»‹axios æ˜¯ä¸€ä¸ªåŸºäºPromise ç”¨äºæµè§ˆå™¨å’Œ nodejs çš„ HTTP å®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest ä» node.js å‘å‡º http è¯·æ±‚ æ”¯æŒ Promise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢JSONæ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ CSRF/XSRF äºŒã€å¼•å…¥æ–¹å¼ï¼šnpm:123$ npm install axios//æ·˜å®æº$ cnpm install axios bower:1$ bower install axios cdn:1&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt; ä¸‰ã€vueä¸­axiosçš„é…ç½® ä¹‹å‰é‚£ä¸ªå¼€æºé¡¹ç›®ä¸€å¼€å§‹å°±æ‰“ç®—ç”¨axiosï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¥½å¤šæ–‡ç« ä¸æ”»ç•¥ï¼Œå‘ç°å¥½å¤šéƒ½ä¸å¤ªè¯¦ç»†ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±åŠ¨æ‰‹é…ç½®ä¸€ä¸ªï¼Œ(ä¸è¦æ€‚ï¼Œæ’¸èµ·è¢–å­å°±æ˜¯å¹²)ã€‚ æˆ‘çš„é…ç½®ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263import axios from 'axios'import qs from 'qs' import * as _ from '../util/tool' axios.defaults.timeout = 5000; //å“åº”æ—¶é—´axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8'; //é…ç½®è¯·æ±‚å¤´axios.defaults.baseURL = 'ä½ çš„æ¥å£åœ°å€'; //é…ç½®æ¥å£åœ°å€ //POSTä¼ å‚åºåˆ—åŒ–(æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨)axios.interceptors.request.use((config) =&gt; &#123; //åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšæŸä»¶äº‹ if(config.method === 'post')&#123; config.data = qs.stringify(config.data); &#125; return config;&#125;,(error) =&gt;&#123; _.toast(\"é”™è¯¯çš„ä¼ å‚\", 'fail'); return Promise.reject(error);&#125;); //è¿”å›çŠ¶æ€åˆ¤æ–­(æ·»åŠ å“åº”æ‹¦æˆªå™¨)axios.interceptors.response.use((res) =&gt;&#123; //å¯¹å“åº”æ•°æ®åšäº›äº‹ if(!res.data.success)&#123; // _.toast(res.data.msg); return Promise.reject(res); &#125; return res;&#125;, (error) =&gt; &#123; _.toast(\"ç½‘ç»œå¼‚å¸¸\", 'fail'); return Promise.reject(error);&#125;); //è¿”å›ä¸€ä¸ªPromise(å‘é€postè¯·æ±‚)export function fetchPost(url, params) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.post(url, params) .then(response =&gt; &#123; resolve(response.data); &#125;, err =&gt; &#123; reject(err); &#125;) .catch((error) =&gt; &#123; reject(error) &#125;) &#125;)&#125;////è¿”å›ä¸€ä¸ªPromise(å‘é€getè¯·æ±‚)export function fetchGet(url, param) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.get(url, &#123;params: param&#125;) .then(response =&gt; &#123; resolve(response.data) &#125;, err =&gt; &#123; reject(err) &#125;) .catch((error) =&gt; &#123; reject(error) &#125;) &#125;)&#125; å››ã€vueä¸­ä½¿ç”¨é…ç½®å¥½çš„axios123456789101112131415161718192021export default &#123; /** * ç”¨æˆ·ç™»å½• */ Login(params) &#123; return fetchPost('/users/api/userLogin', params) &#125;, /** * ç”¨æˆ·æ³¨å†Œ */ Regist(params) &#123; return fetchPost('/users/api/userRegist', params) &#125;, /** * å‘é€æ³¨å†ŒéªŒè¯ç  */ RegistVerifiCode(tellphone) &#123; return fetchPost('/users/api/registVerifiCode', &#123;tellphone: tellphone&#125;) &#125;, ......&#125; å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿staré¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/xyy-vuedemoåœ°å€ï¼š http://hjingren.cn/xyy-vue/ å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"axios","slug":"axios","permalink":"http://yoursite.com/tags/axios/"}]},{"title":"å¼€æºçš„æ”¶è·","date":"2017-03-09T15:57:05.000Z","path":"2017/03/09/å¼€æºçš„æ”¶è·/","text":"ç¬¬ä¸€æ¬¡åœ¨githubä¸Šå‘å¸ƒäº†å¼€æºã€ŠQuçº¦ã€‹åï¼Œä¸åˆ°ä¸¤å¤©ï¼Œè¢«äººstaräº†137æ¬¡ï¼Œforkäº†25æ¬¡ï¼Œè¿™ä¸ªæˆç»©å¤§å¤§å‡ºä¹äº†æˆ‘è‡ªå·±çš„æ„æ–™ï¼ Githubåœ°å€ï¼š https://github.com/hzzly/xyy-vuedemoåœ°å€ï¼š http://hjingren.cn/xyy-vue/æ¬¢è¿å¤§å®¶çš„starå•¦~ åŒæ—¶ä¹Ÿè®©æˆ‘æ”¶è·åˆ°äº†è®¸å¤šï¼š githubé¦–æ¬¡ç ´ç™¾ æ˜é‡‘çš„é˜…è¯»é‡ä¸å–œæ¬¢é‡åŒæ—¶ç»™ä»–äººå¸¦æ¥äº†ä¸ä¸€æ ·çš„ä»·å€¼ segmentfaultçš„é˜…è¯»é‡ã€æ”¶è—é‡ä¸å£°æœ›å€¼ï¼ŒæŠŠå…¶ä¸­çš„ä»·å€¼ä¼ ç»™ä»–äºº æ”¶è·äº†ä¸€ä¸ªoffer ç»™æˆ‘ä»¥åå°±ä¸šå¢åŠ äº†ä¸€ä»½ä¿è¯ ç»“äº¤äº†å¥½å¤šåŒè¡Œå¼€å‘è€… åˆ†äº«ä¸å¼€æºï¼Œè®©æŠ€æœ¯ç”Ÿç”Ÿä¸æ¯ã€‚å€Ÿç”¨ä¸€æœ¬ä¹¦deåå­—ï¼ŒJust for funã€‚å¼€æºæ˜¯ä¸€ç§æƒ…æ€€ï¼Œhappy hackingï¼ é©å‘½å°šæœªæˆåŠŸï¼Œæˆ‘ä»¬è¿˜éœ€åŠªåŠ›ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"è¿›é˜¶vueå…¨å®¶æ¡¶","date":"2017-03-08T01:47:54.000Z","path":"2017/03/08/è¿›é˜¶vueå…¨å®¶æ¡¶/","text":"æœ‰äººè¯´åªä¼švueä¸ä¼švuexè¿˜åªæ˜¯ä¸ªåˆ‡å›¾ä»”ï¼Œæ‰€ä»¥æœ¬é¡¹ç›®å°†å¸¦é¢†ä½ è¿›é˜¶vueå…¨å®¶æ¡¶ã€‚å‰ç«¯ç»“åˆVue2.0å…¨å®¶æ¡¶(vue+vue-router+vuex+axios+es6+sass)ä»¥åŠåç«¯Node,ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„ç»ƒæ‰‹é¡¹ç›®ã€‚æœ¬é¡¹ç›®å¯ä»¥ä½œä¸ºä¸€ä¸ªå‰ç«¯vueè¿›é˜¶é¡¹ç›®ï¼Œä»å‰ç«¯flexå¸ƒå±€åˆ°å‰ç«¯vueä»¥åŠç»„ä»¶åˆ†ç¦»çš„ä½¿ç”¨ï¼Œå†åˆ°åç«¯Nodeä»¥åŠLeancloudçš„ç»“åˆï¼Œæ˜¯ä¸€ä¸ªæ‰“é€šå‰åç«¯æµç¨‹çš„ä¸€ä¸ªé¡¹ç›®ã€‚æ¬¢è¿å¤§å®¶å‰æ¥starã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ è®¨è®ºï¼Œä¸€èµ·è¿›æ­¥ã€‚æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œéæœ¬äººåŒæ„ä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ã€‚ é¢„è§ˆåœ°å€ï¼š http://hzzly.net/xyy-vue/Githubåœ°å€ï¼š https://github.com/hzzly/xyy-vueæ¬¢è¿å¤§å®¶çš„starå•¦~ åŠŸèƒ½è¯´æ˜ é¦–é¡µè½®æ’­å›¾ é¦–é¡µçƒ­é—¨æ´»åŠ¨ çº¦è·‘æ­¥æ´»åŠ¨åˆ—è¡¨ çº¦å‡ºè¡Œæ´»åŠ¨åˆ—è¡¨ ä¸ªäººä¸­å¿ƒ æŸ¥çœ‹ä¸ªäººæ´»åŠ¨ å­¦ç”Ÿè®¤è¯(å¾…å¼€å‘) å­¦ç”Ÿä¿¡æ¯ä¿®æ”¹ æ¶ˆæ¯é€šçŸ¥(åå°æ¥å£å¾…å¼€å‘) é€‰æ‹©é«˜æ ¡(å¾…å¼€å‘) ç™»å½• æ³¨å†Œ æ´»åŠ¨è¯¦æƒ… æ´»åŠ¨æŠ¥å æ´»åŠ¨å‘å¸ƒ æ—¶é—´é€‰æ‹©ç»„ä»¶ åœ°å€é€‰æ‹©ç»„ä»¶ æ–‡ä»¶ä¸Šä¼  axiosçš„å°è£… â€¦â€¦ å…¬å…±ç»„ä»¶ å¼¹å‡ºæ–‡å­—ç»„ä»¶ å¼¹å‡ºæ¡†ç»„ä»¶ loadingç»„ä»¶ toastç»„ä»¶ æ—¶é—´é€‰æ‹©å™¨ç»„ä»¶ åœ°å€é€‰æ‹©å™¨ç»„ä»¶ â€¦â€¦ ç›®å½•ç»“æ„ 123456789101112131415161718192021222324252627282930313233343536373839|â€”â€”xyy-vue/| |â€”â€”build/| |â€”â€”confg/| |â€”â€”node_modules/| |â€”â€”src/| | |â€”â€”assets/ //é™æ€æ–‡ä»¶| | |â€”â€”components/ //å…¬å…±ç»„ä»¶| | |â€”â€”fetch/| | | |â€”â€”api.js //axioså°è£…ä¸api| | |â€”â€”pages/ //å­˜æ”¾é¡¹ç›®é¡µé¢| | | |â€”â€”Detail.vue //æ´»åŠ¨è¯¦æƒ…é¡µé¢| | | |â€”â€”Home.vue //é¦–é¡µ| | | |â€”â€”Login.vue //ç™»å½•é¡µé¢| | | |â€”â€”Navbar.vue //æˆ‘çš„å‘å¸ƒ| | | |â€”â€”NotFound.vue //å‡ºé”™é¡µé¢| | | |â€”â€”Post.vue //å‘å¸ƒæ´»åŠ¨é¡µé¢| | | |â€”â€”Regist.vue //æ³¨å†Œé¡µé¢| | | |â€”â€”Set.vue //è®¾ç½®é¡µé¢| | | |â€”â€”Sport.vue //çº¦è·‘æ­¥æ´»åŠ¨åˆ—è¡¨é¡µé¢| | | |â€”â€”Travel.vue //çº¦å‡ºè¡Œæ´»åŠ¨åˆ—è¡¨é¡µé¢| | | |â€”â€”User.vue //ä¸ªäººä¸­å¿ƒé¡µé¢| | | |â€”â€”UserInfo.vue //ä¸ªäººè¯¦æƒ…é¡µé¢| | | |â€”â€”UserMsg.vue //æ¶ˆæ¯åˆ—è¡¨é¡µé¢| | |â€”â€”router/ | | | |â€”â€”index.js //é¡µé¢è·¯ç”±| | |â€”â€”util //å…¬ç”¨æ–¹æ³•| | |â€”â€”vuex / //å­˜æ”¾vuexä»£ç | | | |â€”â€”modules / //æ•°æ®æ¨¡å—| | | |â€”â€”store.js //vuexä¸»å…¥å£| | | |â€”â€”types.js //vuexçš„typesæ–‡ä»¶| | |â€”â€”App.vue //çˆ¶ç»„ä»¶| | |â€”â€”main.js //å…¥å£æ–‡ä»¶| |â€”â€”static/| |â€”â€”.babelrc| |â€”â€”.editorconfig| |â€”â€”.gitgnore| |â€”â€”index.html| |â€”â€”package.json| |â€”â€”README.md ä¸»è¦éš¾ç‚¹1.å„ä¸ªç»„ä»¶æ•°æ®çš„å…±äº« ä¼ å‚çš„æ–¹æ³•å¯¹äºå¤šå±‚åµŒå¥—çš„ç»„ä»¶å°†ä¼šéå¸¸ç¹çï¼Œå¹¶ä¸”å¯¹äºå…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼ é€’æ— èƒ½ä¸ºåŠ›ã€‚è€Œä¸”ä¹Ÿä¼šå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ è§£å†³æ–¹æ³•ï¼šé‡‡ç”¨vuexè¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼ŒæŠŠæ‰€æœ‰äº‹ä»¶å’ŒçŠ¶æ€å­˜å‚¨åœ¨storeå¯¹è±¡ä¸­ï¼Œåœ¨ç»„ä»¶ä¸­é€šè¿‡è®¡ç®—å±æ€§è·å¾—äº‹ä»¶ï¼Œå› æ­¤å°±æœ‰äº†å®æ—¶æ€§ã€‚ Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€storeâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€(state)ã€‚ Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤(commit) mutationsã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚ ä»£ç å¦‚ä¸‹(ä»¥ä¸€ä¸ªuser moduleä¸ºä¾‹)ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566//vuex/modules/user.jsimport api from '../../fetch/api'import * as types from '../types' const state = &#123; // ç”¨æˆ·ç™»å½•çŠ¶æ€ loginStatus: JSON.parse(localStorage.getItem('loginStatus')) || false,&#125; const actions = &#123; /** * ç”¨æˆ·ç™»å½• */ setUserInfo(&#123; commit &#125;, res) &#123; localStorage.setItem('loginStatus', true) commit(types.SET_LOGIN_STATUS, true) &#125;, /** * é€€å‡ºç™»å½• */ setSignOut(&#123; commit &#125;) &#123; localStorage.removeItem('loginStatus') commit(types.SET_LOGIN_STATUS, false) &#125;,&#125; const getters = &#123; loginStatus: state =&gt; state.loginStatus&#125; const mutations = &#123; [types.SET_LOGIN_STATUS](state, status) &#123; state.loginStatus = status &#125; &#125; export default &#123; state, actions, getters, mutations&#125; //User.vue&lt;template&gt; &lt;div class=\"user\"&gt; &lt;div v-if=\"!loginStatus\"&gt; ... &lt;/div&gt; &lt;div v-else&gt; ... &lt;/div&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import &#123; mapGetters &#125; from 'vuex'export default &#123; computed: &#123; ...mapGetters([ 'loginStatus' ]) &#125;&#125;&lt;/script&gt; 2.æ—¶é—´é€‰æ‹©ç»„ä»¶(è¦å¯é€‰æ‹©æ—¶é—´æ®µ) è§„åˆ™ï¼š é»˜è®¤å€¼ä¸ºï¼šå¼€å§‹æ—¥æœŸåœ¨åå¤©ï¼Œç»“æŸæ—¥æœŸåœ¨ç¬¬å…­å¤© ä»Šå¤©ä»¥å‰ä¸å¯é€‰æ‹© ç‚¹å‡»æŸä¸ªæ—¥å­ï¼Œåˆ™å°†æœ€è¿‘çš„èŠ‚ç‚¹ç§»åŠ¨è¿‡ å¦‚æœç¦»ä¸¤ä¸ªèŠ‚ç‚¹ä¸€æ ·ï¼Œåˆ™å°†å¼€å§‹æ—¥æœŸç§»åŠ¨è¿‡å» ä¸¤ä¸ªèŠ‚ç‚¹ä¹Ÿå¯é€‰åˆ°1å¤©é‡Œï¼›æ˜¾ç¤ºä¸ºå„ä¸€åŠ ä¸€å¼€å§‹æ‰“ç®—åœ¨githubä¸Šæœç´¢ä¸€ä¸ªç„¶åç›´æ¥æ‹¿æ¥ç”¨ï¼Œå‘ç°éƒ½æ˜¯ä¸ç¬¦åˆæˆ‘çš„è®¾è®¡ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±æ’¸ä¸€ä¸ªï¼Œ(ä¸è¦æ€‚ï¼Œæ’¸èµ·è¢–å­å°±æ˜¯å¹²)ã€‚ç»ˆäºç»è¿‡å‡ ä¸ªæ™šä¸Šçš„å¥‹æˆ˜å†™å‡ºæ¥äº†(æœŸé—´é‡åˆ°äº†å„ç§å‘)ã€‚ä»£ç å°±ä¸è´´å‡ºæ¥äº† ä»£ç ä¼ é€é—¨ æ€»ç»“è™½ç„¶åªæ˜¯åšäº†ä¸ªå°å°çš„ä¸ªäººå¼€æºé¡¹ç›®ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰æ”¶è·è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œå¾ˆå¤šçŸ¥è¯†ç‚¹æŒæ¡å¾—æ›´åŠ çš„ç‰¢å›ºï¼Œå¯¹ vueå…¨å®¶æ¡¶ çš„ç†è§£åˆæ›´æ·±äº†ä¸€äº›ã€‚è¿™ä¸ªé¡¹ç›®è¿˜æ²¡æœ‰å®Œæˆï¼ŒåæœŸå°†ä¸å®šæœŸæ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿staré¡¹ç›®åœ°å€ï¼š https://github.com/hzzly/xyy-vue å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"vue","slug":"vue","permalink":"http://yoursite.com/tags/vue/"},{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}]},{"title":"webpackå·¥ç¨‹åŒ–","date":"2017-03-07T12:01:48.000Z","path":"2017/03/07/webpackå·¥ç¨‹åŒ–/","text":"ä¸€ã€webpackæ˜¯ä»€ä¹ˆ webpack is a module bundler. webpack takes modules with dependencies and generates static assets representing those modules webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œè¾“å…¥ä¸ºåŒ…å«ä¾èµ–å…³ç³»çš„æ¨¡å—é›†ï¼Œè¾“å‡ºä¸ºæ‰“åŒ…åˆå¹¶çš„å‰ç«¯é™æ€èµ„æºã€‚åœ¨ä¸Šä¸€èŠ‚çš„å‰ç«¯å·¥ç¨‹åŒ–ä¸­ï¼Œå·²ç»ä»‹ç»è¿‡ï¼Œwebpack æ˜¯åŒæ—¶æ”¯æŒ AMD å’Œ CommonJs çš„æ¨¡å—å®šä¹‰æ–¹å¼ï¼Œä¸ä»…å¦‚æ­¤ï¼Œwebpack å¯ä»¥å°†ä»»ä½•å‰ç«¯èµ„æºè§†ä¸ºæ¨¡å—ï¼Œå¦‚ cssï¼Œå›¾ç‰‡ï¼Œæ–‡æœ¬ã€‚ äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒåœ¨ webpack å‡ºç°ä¹‹å‰ï¼Œå·²ç»æœ‰äº†ä¸€äº›æ‰“åŒ…å·¥å…·ï¼Œå¦‚ Browserifyã€gruntã€gulpâ€¦ è¿™äº›æ‰“åŒ…å·¥å…·å·¥å…·åŠŸèƒ½å•ä¸€ï¼Œåªèƒ½å®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œç„¶è€Œ web å‰ç«¯å·¥ç¨‹æ˜¯å¤æ‚çš„ï¼Œä¸€ä¸ª webapp å¯¹äºä¸šåŠ¡ä»£ç çš„è¦æ±‚å¯èƒ½æœ‰ï¼š ä»£ç å¯ä»¥åˆ†å—ï¼Œå®ç°æŒ‰éœ€åŠ è½½ é¦–å±åŠ è½½æ—¶é—´è¦å°½é‡å‡å°‘ éœ€è¦é›†æˆä¸€äº›ç¬¬ä¸‰æ–¹åº“ webpack çš„å‡ºç°æ­£å¼ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨ webpack ä¸­ï¼Œæä¾›äº†ä¸€ä¸‹è¿™äº›åŠŸèƒ½ï¼š 1.ä»£ç åˆ†å—ï¼š webpack æœ‰ä¸¤ç§ç±»å‹çš„æ¨¡å—ä¾èµ–ï¼Œä¸€ç§æ˜¯åŒæ­¥çš„ï¼Œä¸€ç§æ˜¯å¼‚æ­¥çš„ã€‚åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­å¯ä»¥å°†ä»£ç è¾“å‡ºä¸ºä»£ç å—ï¼ˆchunkï¼‰ï¼Œä»£ç å—å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€‚ å¼‚æ­¥åŠ è½½çš„ä»£ç å—é€šè¿‡åˆ†å‰²ç‚¹ï¼ˆspliting pointï¼‰æ¥ç¡®å®šã€‚2.Loadersï¼š Webpack æœ¬èº«åªä¼šå¤„ç† Javascriptï¼Œä¸ºäº†å®ç°å°†å…¶ä»–èµ„æºä¹Ÿå®šä¹‰ä¸ºæ¨¡å—ï¼Œå¹¶è½¬åŒ–ä¸º Javascriptï¼Œ Webpack å®šä¹‰ loaders , ä¸åŒçš„ loader å¯ä»¥å°†å¯¹åº”çš„èµ„æºè½¬åŒ–ä¸º Javascript æ¨¡å—ã€‚3.æ™ºèƒ½çš„æ¨¡å—è§£æï¼š webpack å¯ä»¥å¾ˆå®¹æ˜“å°†ç¬¬ä¸‰æ–¹åº“è½¬åŒ–ä¸ºæ¨¡å—é›†æˆåˆ°é¡¹ç›®ä»£ç ä¸­ï¼Œæ¨¡å—çš„ä¾èµ–å¯ä»¥ç”¨è¡¨è¾¾å¼çš„æ–¹å¼ï¼ˆè¿™åœ¨å…¶ä»–æ‰“åŒ…å·¥å…·ä¸­æ˜¯æ²¡æœ‰æ”¯æŒçš„ï¼‰ï¼Œè¿™ç§æ¨¡å—ä¾èµ–å«åšåŠ¨æ€æ¨¡å—ä¾èµ–ã€‚4.æ’ä»¶ç³»ç»Ÿï¼š webpack çš„å¯å®šåˆ¶åŒ–åœ¨äºå…¶æ’ä»¶ç³»ç»Ÿï¼Œå…¶æœ¬èº«çš„å¾ˆå¤šåŠŸèƒ½ä¹Ÿæ˜¯é€šè¿‡æ’ä»¶çš„æ–¹å¼å®ç°ï¼Œæ’ä»¶ç³»ç»Ÿå½¢æˆäº† webpack çš„ç”Ÿæ€ï¼Œæ˜¯çš„å¯ä»¥ä½¿ç”¨å¾ˆå¤šå¼€æºçš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚ ä¸‰ã€webpack æ ¸å¿ƒæ€æƒ³1.ä¸‡ç‰©çš†æ¨¡å—ï¼š åœ¨ webpack çš„ä¸–ç•Œä¸­ï¼Œé™¤äº† Javascriptï¼Œå…¶ä»–ä»»ä½•èµ„æºéƒ½å¯ä»¥å½“åšæ¨¡å—çš„æ–¹å¼å¼•ç”¨ã€‚2.æŒ‰éœ€åŠ è½½ï¼š webapp çš„ä¼˜åŒ–å…³é”®åœ¨äºä»£ç ä½“ç§¯ï¼Œå½“åº”ç”¨ä½“ç§¯å¢å¤§ï¼Œå®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½æ˜¯æ¯•éœ€ï¼Œè¿™ä¹Ÿæ˜¯ webpack å‡ºç°çš„æ ¹æœ¬åŸå› ã€‚3.å¯å®šåˆ¶åŒ–ï¼š ä»»ä½•ä¸€ä¸ªå·¥å…·éƒ½ä¸å¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œæä¾›è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ€å¯è¡Œçš„ï¼Œwebpack åŸºäºå¯å®šåˆ¶åŒ–çš„ç†å¿µæ„å»ºï¼Œé€šè¿‡æ’ä»¶ç³»ç»Ÿï¼Œé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å®ç°å¤§å‹é¡¹ç›®çš„å®šåˆ¶éœ€æ±‚ã€‚ å››ã€å®‰è£…é…ç½®åœ¨æ­¤ä¹‹å‰ä½ åº”è¯¥å·²ç»å®‰è£…äº† node.js. å…¨å±€å®‰è£…webapckæˆ–webpack-dev-server(å¼€å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡)12$ npm install webpack -g$ npm install webpack-dev-server -g åœ¨é¡¹ç›®ä¸­å®‰è£…webpackå’Œwebpack-dev-server12$ npm install webpack --save-dev$ npm install webpack-dev-server --save-dev webpackä½¿ç”¨1234567//name.jslet name = 'hzzly'export default name//index.jsimport name from './name'document.getElementById('app').textContent = `hello~$&#123;name&#125;` 1.å‘½ä»¤è¡Œçš„ä½¿ç”¨1$ webpack src/index.js dist/bundle.js è¯­æ³•ï¼šwebpack è¦æ‰“åŒ…çš„æ–‡ä»¶ æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶ 2.é…ç½®æ–‡ä»¶çš„ä½¿ç”¨åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º webpack.config.jså¦‚ä¸‹(ç®€å•çš„é…ç½®)ï¼š12345678910111213141516171819202122232425262728var webpack = require('webpack')module.exports = &#123; entry: './src/index.js', //å…¥å£ output: &#123; path: './dist/', //è¾“å‡ºè·¯å¾„ filename: 'bundle.js' //è¾“å‡ºæ–‡ä»¶å &#125;, module: &#123; loaders: [ &#123; test: /\\.js[x]?$/, exclude: /node_modules/, loader: 'babel-loader', //å¤„ç†.jsæˆ–.jsxæ–‡ä»¶loader query: &#123; presets: ['env'] &#125; &#125;, &#123; test: /\\.css$/, loader: \"style-loader!css-loader\" //å¤„ç†.cssæ–‡ä»¶loader &#125;, &#123; test: /\\.(png|jpg)$/, loader: 'url-loader?limit=8192' //å¤„ç†å›¾ç‰‡loader &#125; ] &#125;&#125; æ‰§è¡Œï¼š123$ webpack//æˆ–å¼€å¯æœ¬åœ°æœåŠ¡å™¨å¹¶å®æ—¶ç›‘å¬æ–‡ä»¶å˜åŒ–$ webpack-dev-server --inline --colors --hot Githubåœ°å€ï¼š https://github.com/hzzly/webpackæ¬¢è¿å¤§å®¶çš„starå•¦~ å¥½äº†ï¼Œè£…äº†ä¸€å¤§æ³¢ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"å‰åç«¯åˆ†ç¦»çš„å°è¯•","date":"2017-03-06T02:21:49.000Z","path":"2017/03/06/å‰åç«¯åˆ†ç¦»çš„å°è¯•/","text":"é¦–æ¬¡å°è¯•å‰åç«¯åˆ†ç¦»æ˜¯åœ¨ä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­: ç‚¹åŒ ç§‘æŠ€ o2oçš„å®¶è£…ç±» ç§»åŠ¨é¡¹ç›®å¾®ä¿¡å¹³å°å‰ç«¯å¼€å‘ä¸»è¦å·¥ä½œå†…å®¹æ˜¯å°†åŸæœ‰çš„androidã€ios åº”ç”¨ é…åˆåç«¯å·¥ç¨‹å¸ˆå¼€å‘ä¸€å¥— å¾®ä¿¡äº§å“,ä¸ªäººè§’è‰²ä¸º å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ è´Ÿè´£ç•Œé¢ html css vue å‰åç«¯æ•°æ®è”è°ƒç­‰å·¥ä½œ é¡¹ç›®åœ°å€(æµ‹è¯•è´¦å·:15103585135 æµ‹è¯•å¯†ç :123456) è¿™æ¬¡çš„é¡¹ç›®æŠ€æœ¯æ ˆ vue vue-router vuex weui sass es6 ajax é€šè¿‡è¿™æ¬¡é¡¹ç›®ï¼Œè®©æˆ‘ä½“ä¼šåˆ°äº†è¿™ç§å‰åç«¯åˆ†ç¦»çš„å¿«æ„Ÿï¼Œæ‰€ä»¥ç‰¹æ¥åˆ†äº«ä¸€æ³¢ã€‚ å¦‚æœä½ æ²¡æœ‰å°è¯•è¿‡å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæµç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆè¯•æƒ³ä¸€ä¸‹è¿™æ ·çš„æµç¨‹æ”¹å˜ï¼š æŠŠæµç¨‹ä» PMï¼šâ€œæˆ‘è¦è¿™ä¸ªåŠŸèƒ½â€ åç«¯ï¼šâ€œè¿™ä¸ªå…ˆæ‰¾å‰ç«¯åšä¸ªæ¨¡æ¿â€ å‰ç«¯ï¼šâ€œæ¨¡æ¿åšå®Œäº†â€ åç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼Œè¿™é‡Œæ ·å¼ä¸å¯¹â€ å‰ç«¯ï¼šâ€œæˆ‘æ”¹å®Œäº†â€ åç«¯ï¼šâ€œåŠŸèƒ½äº¤ä»˜â€ PMï¼šâ€œæ˜¥èŠ‚è¦åŠ è¿™ä¸ªæ´»åŠ¨â€ åç«¯ï¼šâ€œè¿™ä¸ªå…ˆæ‰¾å‰ç«¯æ”¹ä¸ªæ¨¡æ¿â€ å‰ç«¯ï¼šâ€œæ¨¡æ¿åšå®Œäº†â€ åç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼Œè¿™é‡Œæ ·å¼ä¸å¯¹â€ å‰ç«¯ï¼šâ€œæˆ‘æ”¹å®Œäº†â€ åç«¯ï¼šâ€œåŠŸèƒ½äº¤ä»˜â€ å˜æˆ PMï¼šâ€œæˆ‘è¦è¿™ä¸ªåŠŸèƒ½â€ å‰ç«¯ï¼šâ€œæˆ‘è¦æ¥å£â€ åç«¯ï¼šâ€œæ¥å£å®Œæˆäº†â€ å‰ç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼ŒåŠŸèƒ½äº¤ä»˜â€ PMï¼šâ€œæ˜¥èŠ‚è¦åŠ è¿™ä¸ªæ´»åŠ¨â€ å‰ç«¯ï¼šâ€œéœ€è¦å¢åŠ æ¥å£â€ åç«¯ï¼šâ€œæ¥å£å®Œæˆäº†â€ å‰ç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼ŒåŠŸèƒ½äº¤ä»˜â€ ç”±æ­¤å¯è§ï¼Œå‰åç«¯åˆ†ç¦»çš„ä¸»è¦æ¦‚å¿µå°±æ˜¯ï¼šåå°åªéœ€æä¾›APIæ¥å£ï¼Œå‰ç«¯è°ƒç”¨AJAXå®ç°æ•°æ®å‘ˆç°ã€‚ å‰åç«¯åˆ†ç¦»çš„å®ç°å¯¹æŠ€æœ¯äººå‘˜å°¤å…¶æ˜¯å‰ç«¯äººå‘˜çš„è¦æ±‚ä¼šä¸Šå‡ä¸€ä¸ªå±‚æ¬¡ï¼Œå‰ç«¯çš„å·¥ä½œä¸åªæ˜¯åˆ‡é¡µé¢å†™æ¨¡æ¿æˆ–æ˜¯å¤„ç†ä¸€äº›ç®€å•çš„jsé€»è¾‘ï¼Œå‰ç«¯éœ€è¦å¤„ç†æœåŠ¡å™¨è¿”å›çš„å„ç§æ•°æ®æ ¼å¼ï¼Œè¿˜éœ€è¦æŒæ¡ä¸€ç³»åˆ—çš„æ•°æ®å¤„ç†é€»è¾‘ã€MVVMæ€æƒ³å’Œå„ç§ä¸»æµå‰ç«¯æ¡†æ¶(React, Vue..)ã€‚ æ„ä¹‰å¯¹äºå‰åç«¯åˆ†ç¦»çš„æ„ä¹‰æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åšæ˜¯å‰ç«¯æ¸²æŸ“çš„æ„ä¹‰ï¼Œæˆ‘ä¸»è¦æ€»ç»“äº†ä¸‹é¢å››ç‚¹ï¼š 1. å½»åº•è§£æ”¾å‰ç«¯ å‰ç«¯ä¸å†éœ€è¦å‘åå°æä¾›æ¨¡æ¿æˆ–æ˜¯åå°åœ¨å‰ç«¯htmlä¸­åµŒå…¥åå°ä»£ç ï¼Œå‰åç«¯è§£è€¦ï¼Œå¢åŠ å¯è¯»æ€§ã€‚ 2. æé«˜å·¥ä½œæ•ˆç‡ï¼Œåˆ†å·¥æ›´åŠ æ˜ç¡® å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæµç¨‹å¯ä»¥ä½¿å‰ç«¯åªå…³æ³¨å‰ç«¯çš„äº‹ï¼Œåå°åªå…³å¿ƒåå°çš„æ´»ï¼Œä¸¤è€…å¼€å‘å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œåœ¨åå°è¿˜æ²¡æœ‰æ—¶é—´æä¾›æ¥å£çš„æ—¶å€™ï¼Œå‰ç«¯å¯ä»¥å…ˆå°†æ•°æ®å†™æ­»æˆ–è€…è°ƒç”¨æœ¬åœ°çš„jsonæ–‡ä»¶å³å¯ï¼Œé¡µé¢çš„å¢åŠ å’Œè·¯ç”±çš„ä¿®æ”¹ä¹Ÿä¸å¿…å†å»éº»çƒ¦åå°ï¼Œå¼€å‘æ›´åŠ çµæ´»ã€‚ 3. å±€éƒ¨æ€§èƒ½æå‡ é€šè¿‡å‰ç«¯è·¯ç”±çš„é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°é¡µé¢çš„æŒ‰éœ€åŠ è½½ï¼Œæ— éœ€ä¸€å¼€å§‹åŠ è½½é¦–é¡µä¾¿åŠ è½½ç½‘ç«™çš„æ‰€æœ‰çš„èµ„æºï¼ŒæœåŠ¡å™¨ä¹Ÿä¸å†éœ€è¦è§£æå‰ç«¯é¡µé¢ï¼Œåœ¨é¡µé¢äº¤äº’åŠç”¨æˆ·ä½“éªŒä¸Šæœ‰æ‰€æå‡ã€‚ 4. é™ä½ç»´æŠ¤æˆæœ¬ é€šè¿‡ç›®å‰ä¸»æµçš„å‰ç«¯MVVMæ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸å¿«é€Ÿçš„å®šä½åŠå‘ç°é—®é¢˜çš„æ‰€åœ¨ï¼Œå®¢æˆ·ç«¯çš„é—®é¢˜ä¸å†éœ€è¦åå°äººå‘˜å‚ä¸åŠè°ƒè¯•ï¼Œä»£ç é‡æ„åŠå¯ç»´æŠ¤æ€§å¢å¼ºã€‚ é¢å¯¹å¿«é€Ÿå‘å±•çš„å‰ç«¯ï¼Œæˆ‘ä»¬åº”è¯¥å»é€‚åº”å…¶å¸¦æ¥çš„å·¥ä½œæ–¹å¼å’Œæµç¨‹çš„æ”¹å˜ï¼Œç›®å‰çš„å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæ–¹å¼å¿…ç„¶æ˜¯ä»Šåçš„è¶‹åŠ¿æ‰€åœ¨ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬åº”å½“æ‰¿æ‹…è¿™ä¸ªæ™®åŠå‰ç«¯æ–°çŸ¥è¯†å’Œæ”¹å˜ç°çŠ¶çš„èŒè´£ã€‚ æˆ‘çš„Github å¥½äº†ï¼Œè£…äº†ä¸€å¤§æ³¢ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"å‰ç«¯å…¥å‘ç¬”è®°â€“JavaScriptç±»å‹æ£€æµ‹","date":"2017-03-05T12:29:59.000Z","path":"2017/03/05/å‰ç«¯å…¥å‘ç¬”è®°â€“JavaScriptç±»å‹æ£€æµ‹/","text":"JavaScriptå˜é‡å¯ä»¥ç”¨æ¥ä¿å­˜ä¸¤ç§ç±»å‹çš„å€¼ï¼šåŸºæœ¬ç±»å‹å€¼å’Œå¼•ç”¨ç±»å‹å€¼ 5ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼šString Number Boolean Undefined Null å¼•ç”¨ç±»å‹ï¼šObject Array Data RegExp Function Error Map â€¦ ES6å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ ä¸€ã€typeof typeof ç”¨æ¥åˆ¤æ–­å„ç§æ•°æ®ç±»å‹,æœ‰ä¸¤ç§å†™æ³•ï¼štypeof xxx, typeof(xxx) 123456789101112131415161718var a = 'hzzly';var b = true;var c = 22;var d;var e = null;var o = new Object();var f = function () &#123;&#125; console.log( typeof a ); //stringconsole.log( typeof b ); //booleanconsole.log( typeof c ); //numberconsole.log( typeof d ); //undefinedconsole.log( typeof e ); //objectconsole.log( typeof o ); //objectconsole.log( typeof f ); //function console.log( typeof &#123;&#125; ); //objectconsole.log( typeof [] ); //object è¿™é‡Œé¢åŒ…å«äº†jsé‡Œé¢çš„äº”ç§æ•°æ®ç±»å‹ number string boolean undefined objectå’Œå‡½æ•°ç±»å‹ function çœ‹åˆ°è¿™é‡Œä½ è‚¯å®šä¼šé—®äº†ï¼šæˆ‘æ€ä¹ˆå»åŒºåˆ†å¯¹è±¡ï¼Œæ•°ç»„å’Œnullå‘¢? æ¥ä¸‹æ¥æˆ‘ä»¬å°±ç”¨åˆ°å¦å¤–ä¸¤ä¸ªåˆ©å™¨ï¼šObject.prototype.toString.call instanceof/constructor äºŒã€Object.prototype.toString.call1234567891011121314151617var gettype=Object.prototype.toString gettype.call('hzzly') è¾“å‡º [object String] gettype.call(22) è¾“å‡º [object Number] gettype.call(true) è¾“å‡º [object Boolean] gettype.call(undefined) è¾“å‡º [object Undefined] gettype.call(null) è¾“å‡º [object Null] gettype.call(&#123;&#125;) è¾“å‡º [object Object] gettype.call([]) è¾“å‡º [object Array] gettype.call(function()&#123;&#125;) è¾“å‡º [object Function] ä¸‰ã€instanceof/constructoræ ¹æ®è§„å®šï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹çš„å€¼éƒ½æ˜¯Objectçš„å®ä¾‹ã€‚å› æ­¤ï¼Œåœ¨æ£€æµ‹ä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼å’ŒObject æ„é€ å‡½æ•°æ—¶ï¼Œinstanceof æ“ä½œç¬¦å§‹ç»ˆä¼šè¿”å›trueã€‚å½“ç„¶ï¼Œå¦‚æœä½¿ç”¨instanceof æ“ä½œç¬¦æ£€æµ‹åŸºæœ¬ç±»å‹çš„å€¼ï¼Œåˆ™è¯¥æ“ä½œç¬¦å§‹ç»ˆä¼šè¿”å›falseï¼Œå› ä¸ºåŸºæœ¬ç±»å‹ä¸æ˜¯å¯¹è±¡ã€‚ 123456789console.log([] instanceof Array); //trueconsole.log(/^$/ instanceof RegExp); //trueconsole.log([] instanceof Object); //true console.log([].constructor === Array); //trueconsole.log([].constructor === Object); //false æˆ‘ä»¬çš„constructorå¯ä»¥é¿å…instanceofæ£€æµ‹çš„æ—¶å€™,ç”¨Objectä¹Ÿæ˜¯trueçš„é—®é¢˜console.log(&#123;&#125;.constructor === Object); //true console.log(1 instanceof Number); //false çœ‹åˆ°è¿™é‡Œï¼Œåˆšæ‰çš„é—®é¢˜æˆ‘ä»¬è§£å†³äº† æ£€æµ‹æ•°ç»„ï¼ŒECMAScript5æ–°å¢äº†Array.isArray() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯æœ€ç»ˆç¡®å®šæŸä¸ªå€¼åˆ°åº•æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œè€Œä¸ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­åˆ›å»ºã€‚è¿™ä¸ªæ–¹æ³•çš„ç”¨æ³•å¦‚ä¸‹ï¼š 123if( Array.isArray(value) )&#123; //å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ&#125; å››ã€é¢˜å¤–è¯åŸºæœ¬ç±»å‹å€¼ä¸å¼•ç”¨ç±»å‹å€¼å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š åŸºæœ¬ç±»å‹å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œå› æ­¤è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼å¾—ä¸€ä¸ªå‰¯æœ¬ å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­ åŒ…å«å¼•ç”¨ç±»å‹å€¼å¾—å˜é‡å®é™…ä¸ŠåŒ…å«çš„å¹¶ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆ ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¤åˆ¶çš„å…¶å®æ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"æ‰‹æŠŠæ‰‹ç”¨Nodeçš„socket.ioæ’¸ä¸€ä¸ªç®€å•èŠå¤©å®¤","date":"2017-03-04T14:51:43.000Z","path":"2017/03/04/æ‰‹æŠŠæ‰‹ç”¨Nodeçš„socket.ioæ’¸ä¸€ä¸ªç®€å•èŠå¤©å®¤/","text":"ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ Socket.IOç”¨äºæµè§ˆå™¨ä¸Node.jsä¹‹é—´å®ç°å®æ—¶é€šä¿¡ã€‚ Socket.IOè®¾è®¡çš„ç›®æ ‡æ˜¯æ”¯æŒä»»ä½•çš„æµè§ˆå™¨ï¼Œä»»ä½•Mobileè®¾å¤‡ã€‚ æ”¯æŒä¸»æµçš„PCæµè§ˆå™¨ (IE,Safari,Chrome,Firefox,Operaç­‰)ï¼Œ Mobileæµè§ˆå™¨(iphone Safari/ipad Safari/Android WebKit/WebOS WebKitç­‰)ã€‚ Socket.IOè§£å†³äº†å®æ—¶çš„é€šä¿¡é—®é¢˜ï¼Œå¹¶ç»Ÿä¸€äº†æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯çš„ç¼–ç¨‹æ–¹å¼ã€‚ å¯åŠ¨äº†socketä»¥åï¼Œå°±åƒå»ºç«‹äº†ä¸€æ¡å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„ç®¡é“ï¼Œä¸¤è¾¹å¯ä»¥äº’é€šæœ‰æ— ã€‚ ä¸€ã€åˆå§‹åŒ–ä¸€ä¸ªExpressé¡¹ç›®é€šè¿‡åº”ç”¨ç”Ÿæˆå™¨å·¥å…· express å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨çš„éª¨æ¶ã€‚ 123456789101112// å…¨å±€å®‰è£…express è„šæ‰‹æ¶$ npm install express-generator -g //åœ¨å½“å‰å·¥ä½œç›®å½•åˆ›å»ºä¸€ä¸ªå‘½åä¸º chat-node çš„åº”ç”¨$ express -e chat-node //å®‰è£…æ‰€æœ‰ä¾èµ–$ cd chat-node $ npm install //å¯åŠ¨è¿™ä¸ªåº”ç”¨ï¼ˆMacOS æˆ– Linux å¹³å°ï¼‰ï¼š$ npm start ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000/ ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº† äºŒã€å®‰è£…Socket.IOè¿™é‡Œä½¿ç”¨ npm å®‰è£…åˆ°é¡¹ç›®ä¾èµ–ä¸­ 1$ npm install socket.io --save ä¸‰ã€æ•´åˆSocket.IOåˆ°é¡¹ç›®ä¸­æ‰¾åˆ°æœåŠ¡å¼€å¯çš„wwwæ–‡ä»¶ æ ¹ç›®å½• &gt; bin &gt; www 1234567891011121314151617181920212223//åœ¨åˆ›å»ºæœåŠ¡å™¨(var server = http.createServer(app))ä¹‹åæ·»åŠ å¦‚ä¸‹ä»£ç  var io = require('socket.io')(server); // åœ¨çº¿ç”¨æˆ·var onlineUser = &#123;&#125;;// åœ¨çº¿äººæ•°var onlineCount = 0; io.on('connection', (socket) =&gt; &#123; // ç›‘å¬æ–°ç”¨æˆ·åŠ å…¥ console.log('a user connected'); socket.on('disconnect', () =&gt; &#123; console.log('user disconnected'); &#125;); //ç›‘å¬postæ•°æ®åŠ å…¥ socket.on('post', function(say) &#123; io.emit('post', say) //é€šè¿‡ioçš„emitæŠŠæ•°æ®å‘é€åˆ°å‰å° &#125;);&#125;); é€šè¿‡ä¼ é€’server(HTTPæœåŠ¡å™¨)æ¥åˆå§‹åŒ–socket.ioçš„ä¸€ä¸ªæ–°å®ä¾‹ï¼Œç„¶åç›‘å¬è¿æ¥socketsçš„connectionäº‹ä»¶ï¼Œå¹¶å°†å…¶è®°å½•åˆ°æ§åˆ¶å°ã€‚ ä¸‰ã€ä¿®æ”¹å‰å°ä»£ç åœ¨ views ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.html 12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt; &lt;title&gt;èŠå¤©å®¤&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=\"chat\" id=\"chatApp\" v-cloak&gt; &lt;ul class=\"room-list\"&gt; &lt;li v-for=\"item in msgList\"&gt; &lt;div class=\"msg-detail\"&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;div class=\"send-box\"&gt; &lt;input type=\"text\" placeholder=\"å†™ç‚¹ä»€ä¹ˆå–ƒ...\" v-model=\"sendMsg\"&gt; &lt;button type=\"button\" @click=\"doSendMsg\"&gt;å‘é€&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js\"&gt;&lt;/script&gt;&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.3/vue.js\"&gt;&lt;/script&gt;&lt;script src=\"/javascripts/index.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; æˆ‘åœ¨é‡Œé¢å¼•å…¥äº†socket.ioä»¥åŠvue(æ›´å¥½çš„æ¸²æŸ“æ•°æ®) å››ã€ç¼–å†™ä¸šåŠ¡ä»£ç  åœ¨ public &gt; javascripts ä¸‹æ–°å»ºä¸€ä¸ªindex.js 12345678910111213141516171819202122const socket = io(); //åŠ è½½socket.io-clientä¼šæš´éœ²ä¸€ä¸ªå…¨å±€ioå¹¶è¿æ¥ã€‚ const vue = new Vue(&#123; //å®ä¾‹åŒ–ä¸€ä¸ªVueå®ä¾‹ el: \"#chatApp\", data() &#123; return &#123; //æ•°æ®é©±åŠ¨ sendMsg: '', msgList: [] &#125; &#125;, mounted() &#123; socket.on('post', (say) =&gt; &#123; //æ¥æ”¶æœåŠ¡ç«¯çš„ post å‘½ä»¤ this.msgList.push(say) //æ·»åŠ åˆ°msgListä¸­ç»™å‰å°æ¸²æŸ“å‡ºæ¥ &#125;) &#125;, methods: &#123; doSendMsg() &#123; //ç›‘å¬æŒ‰é’®å‘é€çš„äº‹ä»¶ socket.emit('post', this.sendMsg) //æŠŠè¦å‘é€çš„æ•°æ®emitåˆ°æœåŠ¡ç«¯ this.sendMsg = '' &#125; &#125;&#125;) äº”ã€åœ¨å¯¹åº”è·¯ç”±ä¸­æ‰“å¼€index.html åœ¨ routes &gt; index.js ä¿®æ”¹å¦‚ä¸‹ä»£ç  1234/* GET home page. */router.get('/', function(req, res, next) &#123; res.sendFile(path.join(__dirname, '../views', 'index.html'));&#125;); ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000/ ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨deæ•ˆæœäº† Github Demoæ¬¢è¿star å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"Webçš„Flexå¼¹æ€§ç›’æ¨¡å‹","date":"2017-03-03T01:24:26.000Z","path":"2017/03/03/Webçš„Flexå¼¹æ€§ç›’æ¨¡å‹/","text":"ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼ŸFlexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€ã€‚ 123.box&#123; display: flex;&#125; è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚ 123.box&#123; display: inline-flex;&#125; äºŒã€å®¹å™¨çš„å±æ€§ [ flex-direction ] [ flex-wrap ] [ flex-flow ] [ justify-content ] [ align-self ] [ align-items ] [ align-content ] [ order ] ç‚¹å‡»æŸ¥çœ‹å®ä¾‹ ä¸‹æ–¹ä¸ºç®€ç•¥å›¾ å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]},{"title":"åšå®¢æ­£å¼ä¸Šçº¿","date":"2017-03-02T00:49:45.000Z","path":"2017/03/02/åšå®¢æ­£å¼ä¸Šçº¿/","text":"æŠ˜è…¾äº†ä¸€ä¸ªæ™šä¸Šï¼Œç»ˆäºæŠŠGithub Pageä¸Šçš„åšå®¢æ­èµ·æ¥äº†ï¼Œæœ‰ç‚¹å°æ¿€åŠ¨ã€‚å“ˆå“ˆå“ˆï¼Œè›‹å®šè›‹å®šã€‚ä¹‹å‰ä¸€ç›´æƒ³å¼„ä¸€ä¸ªåšå®¢æ¥ç€ï¼Œå¶ç„¶é—´å‘ç°äº†è¿™ä¸ªåŸºäºNodeçš„Hexoåšå®¢ï¼Œè¿˜å¯ä»¥æ”¾åˆ°Githubä¸Šï¼Œå¾ˆæ–¹ä¾¿ã€‚ä½ ä¹Ÿå¯ä»¥è¯•ä¸€è¯• (:å¥½äº†ï¼Œä¸æ‰¯è¿™ä¹ˆå¤šäº†ï¼Œæ­¤åšå®¢å°†è®°å½•æˆ‘å­¦ä¹ çš„ç¬”è®°ã€çŸ¥è¯†ï¼Œå¹¶å°†å…¶ä¸­æ‰¿è½½çš„ä»·å€¼ä¼ ç»™ä»–äººã€‚ æ•´ç†çŸ¥è¯†ï¼Œå­¦ä¹ ç¬”è®° å‘å¸ƒæ—¥æŠ¥ï¼Œæ‚æ–‡ï¼Œæ‰€è§æ‰€æƒ³ æ’°å†™å‘å¸ƒæŠ€æœ¯åšå®¢ï¼ˆä»£ç æ”¯æŒï¼‰ æ’°å†™å‘å¸ƒå­¦æœ¯è®ºæ–‡ 1234567891011class Refuel &#123; constructor (refuel) &#123; this.refuel = refuel &#125; refuel () &#123; alert(this.refuel) &#125;&#125;new Refuel('åŠ æ²¹ï¼ï¼ï¼'); å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]}]