<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hzzly</title>
  <subtitle>ä¸Šå–„è‹¥æ°´ï¼Œç¬ƒå­¦æ•¦è¡Œ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-05-23T15:14:03.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>hzzly</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HTML5å›¾ç‰‡ä¸Šä¼ ã€é¢„è§ˆ</title>
    <link href="http://yoursite.com/2017/05/23/HTML5%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E3%80%81%E9%A2%84%E8%A7%88/"/>
    <id>http://yoursite.com/2017/05/23/HTML5å›¾ç‰‡ä¸Šä¼ ã€é¢„è§ˆ/</id>
    <published>2017-05-23T15:09:24.000Z</published>
    <updated>2017-05-23T15:14:03.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="File-API"><a href="#File-API" class="headerlink" title="File API"></a>File API</h2><blockquote>
<ul>
<li>File - ç‹¬ç«‹æ–‡ä»¶ï¼›æä¾›åªè¯»ä¿¡æ¯ï¼Œä¾‹å¦‚åç§°ã€æ–‡ä»¶å¤§å°ã€mimetype å’Œå¯¹æ–‡ä»¶å¥æŸ„çš„å¼•ç”¨ã€‚</li>
<li>FileList - File å¯¹è±¡çš„ç±»æ•°ç»„åºåˆ—ï¼ˆè€ƒè™‘å¤šæ–‡ä»¶ä¸Šä¼ æˆ–è€…ä»æ¡Œé¢æ‹–åŠ¨ç›®å½•æˆ–æ–‡ä»¶ï¼‰ã€‚</li>
<li>Blob - å¯å°†æ–‡ä»¶åˆ†å‰²ä¸ºå­—èŠ‚èŒƒå›´ã€‚</li>
<li>FileReader - è¯»å–Fileæˆ–Blob</li>
<li>URL scheme</li>
</ul>
</blockquote>
<h2 id="æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ"><a href="#æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ" class="headerlink" title="æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ"></a>æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ£€æµ‹æ˜¯å¦æ”¯æŒFile API</span></div><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.File &amp;&amp; <span class="built_in">window</span>.FileReader &amp;&amp; <span class="built_in">window</span>.FileList &amp;&amp; <span class="built_in">window</span>.Blob) &#123;</div><div class="line">	<span class="comment">//  æ”¯æŒ</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	alert(<span class="string">'ä¸æ”¯æŒ'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="é€‰å–ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶é¢„è§ˆ"><a href="#é€‰å–ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶é¢„è§ˆ" class="headerlink" title="é€‰å–ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶é¢„è§ˆ"></a>é€‰å–ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶é¢„è§ˆ</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"img_input"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"image/*"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"img_input"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"preview_box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line">.preview_box img &#123;</div><div class="line">	width: 200px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#img_input"</span>).on(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"> </div><div class="line">	<span class="keyword">let</span> file = e.target.files[<span class="number">0</span>]; <span class="comment">//è·å–å›¾ç‰‡èµ„æº</span></div><div class="line"> </div><div class="line">	<span class="comment">// åªé€‰æ‹©å›¾ç‰‡æ–‡ä»¶</span></div><div class="line">	<span class="keyword">if</span> (!file.type.match(<span class="string">'image.*'</span>)) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line"> </div><div class="line">	<span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader();</div><div class="line">	reader.readAsDataURL(file); <span class="comment">// è¯»å–æ–‡ä»¶</span></div><div class="line"> </div><div class="line">	<span class="comment">// æ¸²æŸ“æ–‡ä»¶</span></div><div class="line">	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</div><div class="line">		<span class="keyword">let</span> img = <span class="string">'&lt;img class="preview" src="'</span> + arg.target.result + <span class="string">'" alt="preview"/&gt;'</span>;</div><div class="line">		$(<span class="string">".preview_box"</span>).empty().append(img);</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ä¸Šä¼ åˆ°æœåŠ¡å™¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> form_data = <span class="keyword">new</span> FormData();</div><div class="line"><span class="keyword">let</span> file_data = $(<span class="string">"#img_input"</span>).prop(<span class="string">"files"</span>)[<span class="number">0</span>];</div><div class="line"> </div><div class="line"><span class="comment">// æŠŠä¸Šä¼ çš„æ•°æ®æ”¾å…¥form_data</span></div><div class="line">form_data.append(<span class="string">"user"</span>, <span class="string">"hzzly"</span>);</div><div class="line">form_data.append(<span class="string">"img"</span>, file_data);</div><div class="line"> </div><div class="line">$.ajax(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">"POST"</span>, <span class="comment">// ä¸Šä¼ æ–‡ä»¶è¦ç”¨POST</span></div><div class="line">    url: <span class="string">""</span>,</div><div class="line">    <span class="attr">dataType</span> : <span class="string">"json"</span>,</div><div class="line">    <span class="attr">crossDomain</span>: <span class="literal">true</span>, <span class="comment">// å¦‚æœç”¨åˆ°è·¨åŸŸï¼Œéœ€è¦åå°å¼€å¯CORS</span></div><div class="line">  	processData: <span class="literal">false</span>,  <span class="comment">// æ³¨æ„ï¼šä¸è¦ process data</span></div><div class="line">  	contentType: <span class="literal">false</span>,  <span class="comment">// æ³¨æ„ï¼šä¸è®¾ç½® contentType</span></div><div class="line">    data: form_data</div><div class="line">&#125;).success(<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(msg);</div><div class="line">&#125;).fail(<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(msg);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="æ‹–æ‹½ä¸Šä¼ "><a href="#æ‹–æ‹½ä¸Šä¼ " class="headerlink" title="æ‹–æ‹½ä¸Šä¼ "></a>æ‹–æ‹½ä¸Šä¼ </h2><p>ä¸‰ä¸ªç›¸å…³äº‹ä»¶ï¼š</p>
<blockquote>
<ul>
<li>dragenter</li>
<li>dragover</li>
<li>drop</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"drop_zone"</span>&gt;</span>Drop files here<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å¿…é¡»é˜»æ­¢dragenterå’Œdragoveräº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œè¿™æ ·æ‰èƒ½è§¦å‘ drop äº‹ä»¶</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fileSelect</span>(<span class="params">evt</span>) </span>&#123;</div><div class="line"> </div><div class="line">	evt.stopPropagation();</div><div class="line">	evt.preventDefault();</div><div class="line"> </div><div class="line">	<span class="keyword">let</span> files = evt.dataTransfer.files; <span class="comment">// æ–‡ä»¶å¯¹è±¡</span></div><div class="line">	<span class="keyword">let</span> output = [];</div><div class="line"> </div><div class="line">	<span class="comment">// å¤„ç†å¤šæ–‡ä»¶</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, f; f = files[i]; i++) &#123;</div><div class="line">		output.push(<span class="string">'&lt;li&gt;&lt;strong&gt;'</span>, <span class="built_in">escape</span>(f.name), <span class="string">'&lt;/strong&gt; ('</span>, f.type || <span class="string">'n/a'</span>, <span class="string">') - '</span>,f.size, <span class="string">' bytes, last modified: '</span>,f.lastModifiedDate.toLocaleDateString(), <span class="string">'&lt;/li&gt;'</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯</span></div><div class="line">	<span class="built_in">document</span>.getElementById(<span class="string">'list'</span>).innerHTML = output.join(<span class="string">''</span>);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dragOver</span>(<span class="params">evt</span>) </span>&#123;</div><div class="line">	evt.stopPropagation();</div><div class="line">	evt.preventDefault();</div><div class="line">	evt.dataTransfer.dropEffect = <span class="string">'copy'</span>;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// ç›‘å¬å™¨</span></div><div class="line"><span class="keyword">let</span> dropZone = <span class="built_in">document</span>.getElementById(<span class="string">'drop_zone'</span>);</div><div class="line">dropZone.addEventListener(<span class="string">'dragover'</span>, dragOver, <span class="literal">false</span>);</div><div class="line">dropZone.addEventListener(<span class="string">'drop'</span>, fileSelect, <span class="literal">false</span>);</div></pre></td></tr></table></figure>
<h2 id="ç¾åŒ–ä¸Šä¼ æ¡†"><a href="#ç¾åŒ–ä¸Šä¼ æ¡†" class="headerlink" title="ç¾åŒ–ä¸Šä¼ æ¡†"></a>ç¾åŒ–ä¸Šä¼ æ¡†</h2><blockquote>
<p>æ–¹æ³•ä¸€ï¼š åœ¨éšè—çš„æ–‡ä»¶è¾“å…¥æ¡†ä¸Šè°ƒç”¨click()æ–¹æ³•</p>
</blockquote>
<p>éšè—æ‰é»˜è®¤çš„çš„æ–‡ä»¶è¾“å…¥æ¡†<code>&lt;input&gt;</code>å…ƒç´ ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ç•Œé¢æ¥å……å½“æ‰“å¼€æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†çš„æŒ‰é’®ã€‚è¦ä½¿ç”¨æ ·å¼display:noneæŠŠåŸæœ¬çš„æ–‡ä»¶è¾“å…¥æ¡†éšè—æ‰ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨å®ƒçš„click()æ–¹æ³•å°±è¡Œäº†ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"fileElem"</span> <span class="attr">multiple</span> <span class="attr">accept</span>=<span class="string">"image/*"</span> <span class="attr">style</span>=<span class="string">"displayï¼šnone"</span> <span class="attr">onchange</span>=<span class="string">"handleFiles(this.files)"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"fileSelect"</span>&gt;</span>é€‰æ‹©æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> fileSelect = <span class="built_in">document</span>.getElementById(<span class="string">"fileSelect"</span>),</div><div class="line">	fileElem = <span class="built_in">document</span>.getElementById(<span class="string">"fileElem"</span>);</div><div class="line"> </div><div class="line">fileSelect.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (fileElem) &#123;</div><div class="line">		fileElem.click();  <span class="comment">// jQueryå¯ä»¥ä½¿ç”¨ trigger()</span></div><div class="line">	&#125;</div><div class="line">	e.preventDefault(); <span class="comment">// prevent navigation to "#"</span></div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>æ–¹æ³•äºŒï¼šç”¨label</p>
</blockquote>
<p>éšè—inputï¼ŒæŠŠæ ·å¼å†™åˆ°labelä¸Šï¼Œç‚¹å‡»labelå°±æ˜¯å¯¹inputè¿›è¡Œæ“ä½œã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"img_input2"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"image/*"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"img_input2"</span> <span class="attr">id</span>=<span class="string">"img_label2"</span>&gt;</span>é€‰æ‹©æ–‡ä»¶</div><div class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-plus fa-lg"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"preview_box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line"> </div><div class="line">#img_input2 &#123;</div><div class="line">	display: none;</div><div class="line">&#125;</div><div class="line">#img_label2 &#123;</div><div class="line">	background-color: #f2d547;</div><div class="line">	border-radius: 5px;</div><div class="line">	display: inline-block;</div><div class="line">	padding: 10px;</div><div class="line">&#125;</div><div class="line">#preview_box2 img &#123;</div><div class="line">	width: 200px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"#img_input2"</span>).on(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line"> </div><div class="line">	<span class="keyword">let</span> file = e.target.files[<span class="number">0</span>]; <span class="comment">//è·å–å›¾ç‰‡èµ„æº</span></div><div class="line"> </div><div class="line">	<span class="comment">// åªé€‰æ‹©å›¾ç‰‡æ–‡ä»¶</span></div><div class="line">	<span class="keyword">if</span> (!file.type.match(<span class="string">'image.*'</span>)) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line"> </div><div class="line">	<span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader();</div><div class="line">	reader.readAsDataURL(file); <span class="comment">// è¯»å–æ–‡ä»¶</span></div><div class="line"> </div><div class="line">	<span class="comment">// æ¸²æŸ“æ–‡ä»¶</span></div><div class="line">	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</div><div class="line"> </div><div class="line">		<span class="keyword">let</span> img = <span class="string">'&lt;img class="preview" src="'</span> + arg.target.result + <span class="string">'" alt="preview"/&gt;'</span>;</div><div class="line">		$(<span class="string">"#preview_box2"</span>).empty().append(img);</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨Base64çš„æ–¹å¼-å®ç°æœ¬åœ°é¢„è§ˆ"><a href="#ä½¿ç”¨Base64çš„æ–¹å¼-å®ç°æœ¬åœ°é¢„è§ˆ" class="headerlink" title="ä½¿ç”¨Base64çš„æ–¹å¼,å®ç°æœ¬åœ°é¢„è§ˆ"></a>ä½¿ç”¨Base64çš„æ–¹å¼,å®ç°æœ¬åœ°é¢„è§ˆ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.FileReader) &#123;</div><div class="line">	<span class="keyword">let</span> oFileReader = <span class="keyword">new</span> FileReader(),</div><div class="line">	oFile = e.target.files[<span class="number">0</span>];</div><div class="line">	<span class="keyword">if</span> (<span class="regexp">/^image*/</span>.test(oFile.type)) &#123;</div><div class="line">		oFileReader.onloadend = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">			<span class="keyword">let</span> binfo64 = e.target.result;</div><div class="line">			<span class="keyword">let</span> postinfo = &#123;</div><div class="line">				<span class="attr">image</span>: binfo64,</div><div class="line">				<span class="attr">filename</span>: <span class="string">`passport-<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()&#125;</span>`</span></div><div class="line">			&#125;</div><div class="line">    	&#125;;</div><div class="line">		oFileReader.readAsDataURL(oFile);</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		alert(<span class="string">'ä¼ å…¥å›¾ç‰‡æ–‡ä»¶'</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨Ajaxä¸Šä¼ å›¾ç‰‡ä¿¡æ¯ï¼Œå¹¶æ˜¾ç¤ºå›¾ç‰‡ä¸Šä¼ çš„è¿›åº¦"><a href="#ä½¿ç”¨Ajaxä¸Šä¼ å›¾ç‰‡ä¿¡æ¯ï¼Œå¹¶æ˜¾ç¤ºå›¾ç‰‡ä¸Šä¼ çš„è¿›åº¦" class="headerlink" title="ä½¿ç”¨Ajaxä¸Šä¼ å›¾ç‰‡ä¿¡æ¯ï¼Œå¹¶æ˜¾ç¤ºå›¾ç‰‡ä¸Šä¼ çš„è¿›åº¦"></a>ä½¿ç”¨Ajaxä¸Šä¼ å›¾ç‰‡ä¿¡æ¯ï¼Œå¹¶æ˜¾ç¤ºå›¾ç‰‡ä¸Šä¼ çš„è¿›åº¦</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"fileupload-form"</span>&gt;</span>    </div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"fileupload"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> &gt;</span>   </div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç»‘å®šäº†`submit`äº‹ä»¶ã€‚    </span></div><div class="line">   $(<span class="string">'#fileupload-form'</span>).on(<span class="string">'submit'</span>,(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">       e.preventDefault();</div><div class="line">       <span class="comment">//åºåˆ—åŒ–è¡¨å•   </span></div><div class="line">      <span class="keyword">var</span> serializeData = $(<span class="keyword">this</span>).serialize();</div><div class="line">      </div><div class="line">      <span class="comment">// var formData = new FormData(this);</span></div><div class="line">      $(<span class="keyword">this</span>).ajaxSubmit(&#123;</div><div class="line">           <span class="attr">type</span>:<span class="string">'POST'</span>,</div><div class="line">           <span class="attr">url</span>: *yoururl*,</div><div class="line">           <span class="attr">dataType</span>: <span class="string">'json'</span>, </div><div class="line">           <span class="attr">data</span>: serializeData,            </div><div class="line">           <span class="comment">// data: formData,</span></div><div class="line">           </div><div class="line">           <span class="comment">//attention!!!   </span></div><div class="line">           contentType: <span class="literal">false</span>,      </div><div class="line">           <span class="attr">cache</span>: <span class="literal">false</span>,             </div><div class="line">           <span class="attr">processData</span>:<span class="literal">false</span>,      </div><div class="line">             </div><div class="line">           <span class="attr">beforeSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                   <span class="comment">//ä¸Šä¼ å›¾ç‰‡ä¹‹å‰çš„å¤„ç†   </span></div><div class="line">           &#125;,</div><div class="line">           <span class="attr">uploadProgress</span>: <span class="function"><span class="keyword">function</span> (<span class="params">event, position, total, percentComplete</span>)</span>&#123; </div><div class="line">               <span class="comment">//åœ¨è¿™é‡Œæ§åˆ¶è¿›åº¦æ¡   </span></div><div class="line">           &#125;,</div><div class="line">           <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">               </div><div class="line">           &#125;,</div><div class="line">           <span class="attr">error</span>:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">               alert(<span class="string">'ä¸Šä¼ å›¾ç‰‡å‡ºé”™'</span>);</div><div class="line">           &#125;</div><div class="line">       &#125;);</div><div class="line">   &#125;));</div><div class="line"> </div><div class="line"><span class="comment">//ç»‘å®šæ–‡ä»¶é€‰æ‹©äº‹ä»¶ï¼Œä¸€é€‰æ‹©äº†å›¾ç‰‡ï¼Œå°±è®©`form`æäº¤ã€‚   </span></div><div class="line"> </div><div class="line">   $(<span class="string">"#fileupload"</span>).on(<span class="string">"change"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       $(<span class="keyword">this</span>).parent().submit();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br>1.ä½¿ç”¨.serialize()è·å–è¡¨å•çš„æ•°æ®ï¼Œä¸åŒé€šè¿‡valå’Œtextè·å–å€¼<br>2.ajaxä¸Šä¼ å›¾ç‰‡è¿™ä¸‰ä¸ªå‚æ•°å¿…é¡»é…ç½®contentType: false, cache: false, processData:false<br>3.è¯¥å¤„ä½¿ç”¨äº†uploadProgress æ¥è·å–æ–‡ä»¶ä¸Šä¼ çš„è¿›åº¦ï¼ˆæœ¬äººæ²¡å®éªŒï¼Œå¾…æµ‹ï¼‰</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;File-API&quot;&gt;&lt;a href=&quot;#File-API&quot; class=&quot;headerlink&quot; title=&quot;File API&quot;&gt;&lt;/a&gt;File API&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;File - ç‹¬ç«‹æ–‡ä»¶ï¼›æä¾›åªè¯»ä¿¡æ¯ï¼Œä¾‹å¦‚åç§°ã€æ–‡ä»¶å¤§
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="html5" scheme="http://yoursite.com/tags/html5/"/>
    
  </entry>
  
  <entry>
    <title>Fetchå­¦ä¹ ç¬”è®°</title>
    <link href="http://yoursite.com/2017/05/20/Fetch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/05/20/Fetchå­¦ä¹ ç¬”è®°/</id>
    <published>2017-05-20T15:52:22.000Z</published>
    <updated>2017-05-21T11:53:07.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚</p>
</blockquote>
<h1 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h1><blockquote>
<p>ä¸XMLHttpRequest(XHR)ç±»ä¼¼ï¼Œfetch()æ–¹æ³•å…è®¸ä½ å‘å‡ºAJAXè¯·æ±‚ã€‚åŒºåˆ«åœ¨äºFetch APIä½¿ç”¨Promiseï¼Œå› æ­¤æ˜¯ä¸€ç§ç®€æ´æ˜äº†çš„APIï¼Œæ¯”XMLHttpRequestæ›´åŠ ç®€å•æ˜“ç”¨ã€‚</p>
</blockquote>
<p>å¦‚æœè¿˜ä¸äº†è§£<code>Promise</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href="https://hzzly.github.io/2017/03/25/%E6%B5%85%E8%B0%88Promise/" target="_blank" rel="external">æµ…è°ˆPromise</a>è¿™ç¯‡åšå®¢</p>
<h2 id="æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰"><a href="#æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰" class="headerlink" title="æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰"></a>æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰</h2><p>åˆ›å»ºæ­¥éª¤ï¼š</p>
<blockquote>
<ul>
<li>åˆ›å»º<code>XMLHttpRequest</code>å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡</li>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>HTTP</code>è¯·æ±‚ï¼Œå¹¶æŒ‡å®šè¯¥<code>HTTP</code>è¯·æ±‚çš„æ–¹æ³•ã€<code>URL</code>åŠéªŒè¯ä¿¡æ¯</li>
<li>å‘é€<code>HTTP</code>è¯·æ±‚</li>
<li>å¤„ç†å“åº”ï¼Œè·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®</li>
</ul>
</blockquote>
<p>å¯ä»¥å‘ç°ï¼Œä¸»è¦çš„ä¸åŒç‚¹åœ¨äºï¼šä¼ ç»ŸAjaxä½¿ç”¨äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯Promiseå¯¹è±¡ï¼Œå¹¶ä¸”è¯·æ±‚çš„å‘èµ·å®Œå…¨ä¾èµ–äºxhrå¯¹è±¡æ‰€æä¾›çš„æ–¹æ³•ã€‚</p>
<p>æƒ³è¯¦ç»†äº†è§£ Ajaxçš„å°è£…å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšå®¢ï¼Œä¸€æ­¥æ­¥æ•™ä½  Ajaxçš„å°è£…ğŸ‘‰<a href="https://hzzly.github.io/2017/05/17/Ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" target="_blank" rel="external">Ajaxå­¦ä¹ ç¬”è®°</a></p>
<h2 id="fetchè¯­æ³•"><a href="#fetchè¯­æ³•" class="headerlink" title="fetchè¯­æ³•"></a>fetchè¯­æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">fetch(url)</div><div class="line">	.then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> response.json();</div><div class="line">	&#125;)</div><div class="line">	.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(data);</div><div class="line">	&#125;)</div><div class="line">	.catch(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>);</div><div class="line">	&#125;);</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ ES6 çš„ <code>ç®­å¤´å‡½æ•°</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">fetch(url)</div><div class="line">	.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</div><div class="line">	.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</div><div class="line">	.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</div></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <code>async/await</code> æ¥åšæœ€ç»ˆä¼˜åŒ–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">try</span> &#123;</div><div class="line">		<span class="keyword">let</span> response = <span class="keyword">await</span> fetch(url);</div><div class="line">		<span class="keyword">let</span> data = response.json();</div><div class="line">		<span class="built_in">console</span>.log(data);</div><div class="line">	&#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">		<span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e);</div><div class="line">	&#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ await åï¼Œ<strong>å†™å¼‚æ­¥ä»£ç å°±åƒå†™åŒæ­¥ä»£ç ä¸€æ ·çˆ½</strong>ã€‚await åé¢å¯ä»¥è·Ÿ Promise å¯¹è±¡ï¼Œè¡¨ç¤ºç­‰å¾… Promise resolve() æ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦‚æœ Promise è¢« reject() æˆ–æŠ›å‡ºå¼‚å¸¸åˆ™ä¼šè¢«å¤–é¢çš„ tryâ€¦catch æ•è·ã€‚</p>
<p>å¦‚æœè¿˜ä¸äº†è§£<code>async/await</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href="https://hzzly.github.io/2017/05/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Async%E5%87%BD%E6%95%B0/" target="_blank" rel="external">es6Async</a>è¿™ç¯‡åšå®¢</p>
<h2 id="GETè¯·æ±‚"><a href="#GETè¯·æ±‚" class="headerlink" title="GETè¯·æ±‚"></a>GETè¯·æ±‚</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">fetch(url, &#123;</div><div class="line">    <span class="attr">method</span>: <span class="string">"GET"</span>, <span class="comment">//é»˜è®¤</span></div><div class="line">    headers:&#123;</div><div class="line">    	<span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</div><div class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</div><div class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</div></pre></td></tr></table></figure>
<h2 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">fetch(url, &#123;</div><div class="line">    <span class="attr">method</span>: <span class="string">"POST"</span>,</div><div class="line">    <span class="attr">headers</span>: &#123;</div><div class="line">    	<span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span>,</div><div class="line">        <span class="string">"Content-type"</span>:<span class="string">"application:/x-www-form-urlencoded; charset=UTF-8"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">body</span>: <span class="string">"name=hzzly&amp;age=22"</span></div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</div><div class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</div><div class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</div></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯"><a href="#ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯" class="headerlink" title="ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯"></a>ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯</h2><blockquote>
<p>è¦ä½¿ç”¨Fetchå‘é€å¸¦æœ‰è¯¸å¦‚cookieä¹‹ç±»çš„å‡­è¯çš„è¯·æ±‚ã€‚ä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä¸­å°†credentialså±æ€§å€¼è®¾ç½®ä¸ºâ€œincludeâ€ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fetch(url,&#123;</div><div class="line">	<span class="attr">credentials</span>: <span class="string">"include"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="å°è£…POSTè¯·æ±‚"><a href="#å°è£…POSTè¯·æ±‚" class="headerlink" title="å°è£…POSTè¯·æ±‚"></a>å°è£…POSTè¯·æ±‚</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å°†å¯¹è±¡æ‹¼æ¥æˆ name=hzzly&amp;age=22 çš„å­—ç¬¦ä¸²å½¢å¼</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">params</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">	<span class="keyword">let</span> result = <span class="string">''</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> obj) &#123;</div><div class="line">		result += <span class="string">`&amp;<span class="subst">$&#123;item&#125;</span>=<span class="subst">$&#123;obj[item]&#125;</span>`</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(result) &#123;</div><div class="line">		result = result.slice(<span class="number">1</span>)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url, paramsObj</span>) </span>&#123;</div><div class="line">	<span class="keyword">let</span> result = fetch(url, &#123;</div><div class="line">		<span class="attr">methods</span>: <span class="string">'POST'</span>,</div><div class="line">		<span class="attr">credentials</span>: <span class="string">"include"</span></div><div class="line">		headers: &#123;</div><div class="line">	    	<span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span>,</div><div class="line">	        <span class="string">"Content-type"</span>:<span class="string">"application:/x-www-form-urlencoded; charset=UTF-8"</span></div><div class="line">	    &#125;,</div><div class="line">	    <span class="attr">body</span>: params(paramsObj)</div><div class="line">	&#125;)</div><div class="line">	<span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'hzzly'</span>,</div><div class="line">	<span class="attr">age</span>: <span class="number">22</span></div><div class="line">&#125;</div><div class="line">post(url, obj)</div><div class="line">	.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</div><div class="line">	.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</div><div class="line">	.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;fetch&quot;&gt;&lt;a href=&quot;#fetch&quot; class=&quot;headerlink
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
      <category term="Fetch" scheme="http://yoursite.com/tags/Fetch/"/>
    
  </entry>
  
  <entry>
    <title>Ajaxå­¦ä¹ ç¬”è®°</title>
    <link href="http://yoursite.com/2017/05/17/Ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/05/17/Ajaxå­¦ä¹ ç¬”è®°/</id>
    <published>2017-05-17T14:53:25.000Z</published>
    <updated>2017-05-17T14:56:06.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>åœ¨ä¸Šä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œå› ä¸ºç”¨åˆ°äº†å‰åç«¯åˆ†ç¦»çš„æ€è·¯ï¼Œæ‰€ä»¥éƒ½è¦é€šè¿‡Ajaxæ¥è¯·æ±‚æ•°æ®ç„¶åæŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œä¸€å¼€å§‹æƒ³è¿‡ç›´æ¥å¼•ç”¨Jqueryï¼Œä½†æ„Ÿè§‰å°±ä½¿ç”¨Jqueryçš„Ajaxå‡½æ•°ï¼Œæœ‰ç‚¹å¤ªæµªè´¹ï¼Œæ‰€ä»¥å°±è‡ªå·±æ’¸äº†ä¸€ä¸ªAjaxå‡½æ•°ã€‚æœ¬æ–‡ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦ä½ å°è£…å±äºè‡ªå·±çš„Ajaxåº“ã€‚</p>
</blockquote>
<h2 id="Ajaxç®€ä»‹"><a href="#Ajaxç®€ä»‹" class="headerlink" title="Ajaxç®€ä»‹"></a>Ajaxç®€ä»‹</h2><blockquote>
<ul>
<li>Asynchronous Javascript And XML ï¼ˆå¼‚æ­¥çš„JavaScriptå’ŒXMLï¼‰</li>
<li>å®ƒå¹¶ä¸æ˜¯ä¸€ç§å•ä¸€çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æœ‰æœºåˆ©ç”¨ä¸€ç³»åˆ—äº¤äº’å¼ç½‘é¡µåº”ç”¨ç›¸å…³çš„æŠ€æœ¯æ‰€å½¢æˆçš„ç»“åˆä½“</li>
<li>Ajaxæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚åœ¨å‰å°ä¸åå°è¿›è¡Œæ•°æ®äº¤æ¢ï¼ŒAjaxå¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ã€‚</li>
</ul>
</blockquote>
<h3 id="1ã€ä¼˜ç‚¹"><a href="#1ã€ä¼˜ç‚¹" class="headerlink" title="1ã€ä¼˜ç‚¹"></a>1ã€ä¼˜ç‚¹</h3><blockquote>
<ul>
<li>é¡µé¢æ— åˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚</li>
<li>å¼‚æ­¥é€šä¿¡ï¼Œæ›´åŠ å¿«çš„å“åº”èƒ½åŠ›ã€‚</li>
<li>å‡å°‘å†—ä½™è¯·æ±‚ï¼Œå‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…ã€‚</li>
<li>åŸºäºæ ‡å‡†åŒ–çš„å¹¶è¢«å¹¿æ³›æ”¯æŒçš„æŠ€æœ¯</li>
</ul>
</blockquote>
<h3 id="2ã€åº”ç”¨åœºæ™¯"><a href="#2ã€åº”ç”¨åœºæ™¯" class="headerlink" title="2ã€åº”ç”¨åœºæ™¯"></a>2ã€åº”ç”¨åœºæ™¯</h3><blockquote>
<ul>
<li>åœºæ™¯ 1. æ•°æ®éªŒè¯</li>
<li>åœºæ™¯ 2. æŒ‰éœ€å–æ•°æ®</li>
<li>åœºæ™¯ 3. è‡ªåŠ¨æ›´æ–°é¡µé¢</li>
<li>â€¦</li>
</ul>
</blockquote>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æ¥ç‚¹å¹²è´§ã€‚</p>
<h2 id="åˆ›å»ºajaxçš„æ­¥éª¤"><a href="#åˆ›å»ºajaxçš„æ­¥éª¤" class="headerlink" title="åˆ›å»ºajaxçš„æ­¥éª¤"></a>åˆ›å»ºajaxçš„æ­¥éª¤</h2><blockquote>
<p>Ajaxçš„åŸç†ç®€å•æ¥è¯´é€šè¿‡<code>XMLHttpRequest</code>å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨javascriptæ¥æ“ä½œDOMè€Œæ›´æ–°é¡µé¢ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®ã€‚åŸç”Ÿåˆ›å»ºajaxå¯åˆ†ä¸ºä»¥ä¸‹å››æ­¥</p>
</blockquote>
<h3 id="1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡"><a href="#1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡" class="headerlink" title="1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡"></a>1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createRequest</span> (<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</div><div class="line">        <span class="comment">//IE6ä»¥ä¸Š</span></div><div class="line">        xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> xhr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2ã€å‡†å¤‡è¯·æ±‚"><a href="#2ã€å‡†å¤‡è¯·æ±‚" class="headerlink" title="2ã€å‡†å¤‡è¯·æ±‚"></a>2ã€å‡†å¤‡è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xhr.open(method,url,<span class="keyword">async</span>);</div></pre></td></tr></table></figure>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¯·æ±‚ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå…¶å€¼å¯ä»¥æ˜¯<code>GET</code>æˆ–è€…<code>POST</code><br><code>GET</code>è¯·æ±‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xhr.open(<span class="string">"GET"</span>,demo.php?name=hzzly&amp;age=<span class="number">21</span>,<span class="literal">true</span>);</div></pre></td></tr></table></figure>
<p><code>POST</code>è¯·æ±‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xhr.open(<span class="string">"POST"</span>,demo.php,<span class="literal">true</span>);</div></pre></td></tr></table></figure>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä½œä¸ºè¯·æ±‚å‘é€ç›®æ ‡çš„URLã€‚</p>
</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯trueæˆ–falseï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯ä»¥å¼‚æ­¥è¿˜æ˜¯åŒæ­¥çš„æ¨¡å¼å‘å‡ºã€‚ï¼ˆé»˜è®¤ä¸ºtrueï¼Œä¸€èˆ¬ä¸å»ºè®®ä¸ºfalseï¼‰</li>
</ul>
<h3 id="3ã€å‘é€è¯·æ±‚"><a href="#3ã€å‘é€è¯·æ±‚" class="headerlink" title="3ã€å‘é€è¯·æ±‚"></a>3ã€å‘é€è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xhr.send();</div></pre></td></tr></table></figure>
<ul>
<li><p><code>GET</code>è¯·æ±‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xhr.open(<span class="string">"GET"</span>,demo.php?name=hzzly&amp;age=<span class="number">21</span>,<span class="literal">true</span>);</div><div class="line">xhr.send();</div></pre></td></tr></table></figure>
</li>
<li><p><code>POST</code>è¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">xhr.open(<span class="string">"POST"</span>,demo.php,<span class="literal">true</span>);</div><div class="line">xhr.setRequestHeder(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded;charset=UTF-8"</span>);</div><div class="line">xhr.send(param)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4ã€å¤„ç†å“åº”"><a href="#4ã€å¤„ç†å“åº”" class="headerlink" title="4ã€å¤„ç†å“åº”"></a>4ã€å¤„ç†å“åº”</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(xhr.responseText);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><code>onreadystatechange</code>ï¼šå½“å¤„ç†è¿‡ç¨‹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰§è¡Œä¸‹é¢çš„å‡½æ•°</li>
<li><code>readyState</code>ï¼šajaxå¤„ç†è¿‡ç¨‹<ul>
<li>0ï¼šè¯·æ±‚æœªåˆå§‹åŒ–ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ <code>open()</code>ï¼‰</li>
<li>1ï¼šè¯·æ±‚å·²ç»å»ºç«‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘é€ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ <code>send()</code>ï¼‰</li>
<li>2ï¼šè¯·æ±‚å·²å‘é€ï¼Œæ­£åœ¨å¤„ç†ä¸­ï¼ˆé€šå¸¸ç°åœ¨å¯ä»¥ä»å“åº”ä¸­è·å–å†…å®¹å¤´ï¼‰</li>
<li>3ï¼šè¯·æ±‚åœ¨å¤„ç†ä¸­ï¼›é€šå¸¸å“åº”ä¸­å·²æœ‰éƒ¨åˆ†æ•°æ®å¯ç”¨äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿˜æ²¡æœ‰å®Œæˆå“åº”çš„ç”Ÿæˆ</li>
<li>4ï¼šå“åº”å·²å®Œæˆï¼›æ‚¨å¯ä»¥è·å–å¹¶ä½¿ç”¨æœåŠ¡å™¨çš„å“åº”äº†</li>
</ul>
</li>
<li><code>status</code>å±æ€§:<ul>
<li>200: â€œOKâ€</li>
<li>404: æœªæ‰¾åˆ°é¡µé¢</li>
</ul>
</li>
<li><code>responseText</code>ï¼šè·å¾—å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®ï¼Œå¯ä»¥ç”¨<code>JSON.parse(xhr.responseText)</code>è½¬åŒ–ä¸º<code>JSON</code>å¯¹è±¡</li>
</ul>
</blockquote>
<h2 id="å°è£…ä¾‹å­"><a href="#å°è£…ä¾‹å­" class="headerlink" title="å°è£…ä¾‹å­"></a>å°è£…ä¾‹å­</h2><blockquote>
<p>1.getè¯·æ±‚å‡½æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * ä¸€ä¸ªç®€å•çš„getè¯·æ±‚</div><div class="line"> * @param &#123;String&#125;   url     è¯·æ±‚åœ°å€,æ–‡ä»¶å</div><div class="line"> * @param &#123;Function&#125; fnSucc  è¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œçš„å‡½æ•°</div><div class="line"> * @param &#123;Function&#125; fnFaild è¯·æ±‚å¤±è´¥æ‰§è¡Œçš„å‡½æ•°</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get</span>(<span class="params">url, fnSucc, fnFaild</span>) </span>&#123;</div><div class="line">    <span class="comment">//1.åˆ›å»ºajaxå¯¹è±¡</span></div><div class="line">    <span class="keyword">var</span> xhr = <span class="literal">null</span>;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined.</div><div class="line">         * è¿›å…¥elseè‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequeståœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™</div><div class="line">         **/</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</div><div class="line">        <span class="comment">//IE6ä»¥ä¸Š</span></div><div class="line">        xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//2.è¿æ¥æœåŠ¡å™¨</span></div><div class="line">    <span class="comment">//open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥)</span></div><div class="line">    xhr.open(<span class="string">"GET"</span>, url, <span class="literal">true</span>);</div><div class="line">    <span class="comment">//3.å‘é€è¯·æ±‚</span></div><div class="line">    xhr.send();</div><div class="line">    <span class="comment">//4.æ¥æ”¶è¿”å›</span></div><div class="line">    <span class="comment">//OnRedayStateChangeäº‹ä»¶</span></div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</div><div class="line">                <span class="comment">//alert("æˆåŠŸ" + xhr.responseText);</span></div><div class="line">                fnSucc(xhr.responseText);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">//alert("æœåŠ¡å™¨å“åº”å¤±è´¥!");</span></div><div class="line">                <span class="keyword">if</span> (fnFaild) &#123;</div><div class="line">                    fnFaild();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>2.getä¸postç»“åˆçš„è¯·æ±‚å‡½æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * AJAXå‡½æ•°å°è£…</div><div class="line"> * @param &#123;string&#125; url     è¯·æ±‚åœ°å€ï¼ˆå¿…é¡»ï¼‰</div><div class="line"> * @param &#123;object&#125; options å‘é€è¯·æ±‚çš„é€‰é¡¹å‚æ•°</div><div class="line"> *   @config &#123;string&#125; [options.type] è¯·æ±‚å‘é€çš„ç±»å‹ã€‚é»˜è®¤ä¸ºGETã€‚</div><div class="line"> *   @config &#123;Object&#125; [options.data] éœ€è¦å‘é€çš„æ•°æ®ã€‚</div><div class="line"> *   @config &#123;Function&#125; [options.onsuccess] è¯·æ±‚æˆåŠŸæ—¶è§¦å‘ã€‚ï¼ˆå¿…é¡»ï¼‰</div><div class="line"> *   @config &#123;Function&#125; [options.onfail] è¯·æ±‚å¤±è´¥æ—¶è§¦å‘ã€‚</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">AJAX</span>(<span class="params">url, options</span>) </span>&#123;</div><div class="line">    <span class="comment">//1.åˆ›å»ºajaxå¯¹è±¡</span></div><div class="line">    <span class="keyword">var</span> xhr = <span class="literal">null</span>;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined,è¿›å…¥else</div><div class="line">         * è‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequest,åœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™</div><div class="line">         **/</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</div><div class="line">        <span class="comment">//IE6ä»¥ä¸Š</span></div><div class="line">        xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//2.è¿æ¥æœåŠ¡å™¨</span></div><div class="line">    <span class="comment">//open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥)</span></div><div class="line">    <span class="keyword">var</span> param = <span class="string">""</span>; <span class="comment">//è¯·æ±‚å‚æ•°ã€‚</span></div><div class="line">    <span class="comment">//åªæœ‰dataå­˜åœ¨ï¼Œä¸”ä¸ºå¯¹è±¡ä½¿æ‰æ‰§è¡Œ</span></div><div class="line">    <span class="keyword">var</span> data = options.data ? options.data : <span class="number">-1</span>; <span class="comment">//ç¼“å­˜data</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> (data) === <span class="string">"object"</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> data) &#123; <span class="comment">//è¯·æ±‚å‚æ•°æ‹¼æ¥</span></div><div class="line">            <span class="keyword">if</span> (data.hasOwnProperty(key)) &#123;</div><div class="line">                param += <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;data[key]&#125;</span>&amp;`</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        param.replace(<span class="regexp">/&amp;$/</span>, <span class="string">""</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        param = <span class="string">"timestamp="</span> + <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//3.å‘é€è¯·æ±‚</span></div><div class="line">    <span class="keyword">var</span> type = options.type ? options.type.toUpperCase() : <span class="string">"GET"</span>;</div><div class="line">    <span class="keyword">if</span> (type === <span class="string">"GET"</span>) &#123;</div><div class="line">        xhr.open(<span class="string">"GET"</span>, <span class="string">`<span class="subst">$&#123;url&#125;</span>?<span class="subst">$&#123;param&#125;</span>`</span>, <span class="literal">true</span>);</div><div class="line">        xhr.send();</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        xhr.open(<span class="string">"POST"</span>, url, <span class="literal">true</span>);</div><div class="line">        xhr.setRequestHeder(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded;charset=UTF-8"</span>);</div><div class="line">        xhr.send(param);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//4.æ¥æ”¶è¿”å›</span></div><div class="line">    <span class="comment">//OnRedayStateChangeäº‹ä»¶</span></div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</div><div class="line">                <span class="comment">//è¯·æ±‚æˆåŠŸã€‚å½¢å‚ä¸ºè·å–åˆ°çš„å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®</span></div><div class="line">                options.onsuccess(xhr.responseText);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">//å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯·æ±‚å¤±è´¥å‡½æ•°</span></div><div class="line">                <span class="comment">//å­˜åœ¨æ—¶ï¼Œå½¢å‚ä¸ºXMLHttpRequestå¯¹è±¡ï¼Œä¾¿äºè¿›è¡Œé”™è¯¯è¿›è¡Œå¤„ç†</span></div><div class="line">                <span class="keyword">if</span> (options.onfail) &#123;</div><div class="line">                    options.onfail(xhr);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åœ¨ä¸Šä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œå› ä¸ºç”¨åˆ°äº†å‰åç«¯åˆ†ç¦»çš„æ€è·¯ï¼Œæ‰€ä»¥éƒ½è¦é€šè¿‡Ajaxæ¥è¯·æ±‚æ•°æ®ç„¶åæŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œä¸€å¼€å§‹æƒ³è¿‡ç›´æ¥å¼•ç”¨Jqueryï¼Œä½†æ„Ÿè§‰å°±ä½¿ç”¨Jqueryçš„Ajaxå‡½æ•°ï¼Œæœ‰ç‚¹å¤ªæµªè´¹ï¼Œæ‰€ä»¥å°±è‡ªå·±æ’¸äº†ä¸€ä¸ªAjaxå‡½æ•°ã€‚æœ¬æ–‡ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦ä½ å°è£…
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼</title>
    <link href="http://yoursite.com/2017/05/15/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E7%BC%96%E7%A8%8B%E9%A3%8E%E6%A0%BC/"/>
    <id>http://yoursite.com/2017/05/15/è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼/</id>
    <published>2017-05-15T12:48:47.000Z</published>
    <updated>2017-05-21T13:51:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¼–ç¨‹é£æ ¼"><a href="#ç¼–ç¨‹é£æ ¼" class="headerlink" title="ç¼–ç¨‹é£æ ¼"></a><strong>ç¼–ç¨‹é£æ ¼</strong></h1><h2 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h2><blockquote>
<ul>
<li>let å–ä»£ var</li>
</ul>
</blockquote>
<p>ES6æå‡ºäº†ä¸¤ä¸ªæ–°çš„å£°æ˜å˜é‡çš„å‘½ä»¤ï¼šletå’Œconstã€‚å…¶ä¸­ï¼Œletå®Œå…¨å¯ä»¥å–ä»£varï¼Œå› ä¸ºä¸¤è€…è¯­ä¹‰ç›¸åŒï¼Œè€Œä¸”letæ²¡æœ‰å‰¯ä½œç”¨ã€‚</p>
<blockquote>
<ul>
<li>å…¨å±€å¸¸é‡å’Œçº¿ç¨‹å®‰å…¨</li>
</ul>
</blockquote>
<p>åœ¨letå’Œconstä¹‹é—´ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨constï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±€ç¯å¢ƒï¼Œä¸åº”è¯¥è®¾ç½®å˜é‡ï¼Œåªåº”è®¾ç½®å¸¸é‡ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>;</div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> b = <span class="number">2</span>;</div><div class="line"><span class="keyword">const</span> c = <span class="number">3</span>;</div><div class="line"><span class="comment">// best</span></div><div class="line"><span class="keyword">const</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div></pre></td></tr></table></figure></p>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/04/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6let%E4%B8%8Econst/" target="_blank" rel="external">letä¸const</a></p>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><blockquote>
<ul>
<li>é™æ€å­—ç¬¦ä¸²ä¸€å¾‹ä½¿ç”¨å•å¼•å·æˆ–åå¼•å·ï¼Œä¸ä½¿ç”¨åŒå¼•å·ã€‚åŠ¨æ€å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> a = <span class="string">"foobar"</span>;</div><div class="line"><span class="keyword">const</span> b = <span class="string">'foo'</span> + a + <span class="string">'bar'</span>;</div><div class="line"><span class="comment">// acceptable</span></div><div class="line"><span class="keyword">const</span> c = <span class="string">`foobar`</span>;</div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> a = <span class="string">'foobar'</span>;</div><div class="line"><span class="keyword">const</span> b = <span class="string">`foo<span class="subst">$&#123;a&#125;</span>bar`</span>;</div><div class="line"><span class="keyword">const</span> c = <span class="string">'foobar'</span>;</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/04/22/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/" target="_blank" rel="external">å­—ç¬¦ä¸²çš„æ‰©å±•</a></p>
<h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h2><blockquote>
<ul>
<li>ä½¿ç”¨æ•°ç»„æˆå‘˜å¯¹å˜é‡èµ‹å€¼æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</li>
<li>å‡½æ•°çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„æˆå‘˜ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</li>
<li>å¦‚æœå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚è¿™æ ·ä¾¿äºä»¥åæ·»åŠ è¿”å›å€¼ï¼Œä»¥åŠæ›´æ”¹è¿”å›å€¼çš„é¡ºåºã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> [first, second] = arr;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123; &#125;</div><div class="line"><span class="keyword">const</span> &#123; left, right &#125; = processInput(input);</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/04/21/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/" target="_blank" rel="external">è§£æ„èµ‹å€¼</a></p>
<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><blockquote>
<ul>
<li>å•è¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä¸ä»¥é€—å·ç»“å°¾ã€‚å¤šè¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä»¥é€—å·ç»“å°¾ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> a = &#123; <span class="attr">k1</span>: v1, <span class="attr">k2</span>: v2 &#125;;</div><div class="line"><span class="keyword">const</span> b = &#123;</div><div class="line">  <span class="attr">k1</span>: v1,</div><div class="line">  <span class="attr">k2</span>: v2,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°½é‡é‡‡ç”¨ç®€æ´è¡¨è¾¾æ³•ï¼Œè¿™æ ·æ˜“äºæè¿°å’Œä¹¦å†™</li>
</ul>
</blockquote>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ref = <span class="string">'some value'</span>;</div><div class="line"><span class="keyword">const</span> atom = &#123;</div><div class="line">  ref,</div><div class="line">  <span class="attr">value</span>: <span class="number">1</span>,</div><div class="line">  addValue(value) &#123;</div><div class="line">    <span class="keyword">return</span> atom.value + value;</div><div class="line">  &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/05/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/" target="_blank" rel="external">å¯¹è±¡çš„æ‰©å±•</a></p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><blockquote>
<ul>
<li>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰æ‹·è´æ•°ç»„ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> itemsCopy = [...items];</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>ä½¿ç”¨Array.fromæ–¹æ³•ï¼Œå°†ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡è½¬ä¸ºæ•°ç»„ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.foo'</span>);</div><div class="line"><span class="keyword">const</span> nodes = <span class="built_in">Array</span>.from(foo);</div><div class="line"><span class="comment">//æˆ–è€…æ‰©å±•è¿ç®—ç¬¦(...)</span></div><div class="line"><span class="keyword">const</span> nodes = [...foo];</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/05/04/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/" target="_blank" rel="external">æ•°ç»„çš„æ‰©å±•</a></p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><blockquote>
<ul>
<li>é‚£äº›éœ€è¦ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼çš„åœºåˆï¼Œå°½é‡ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿ã€‚å› ä¸ºè¿™æ ·æ›´ç®€æ´ï¼Œè€Œä¸”ç»‘å®šäº†thisã€‚</li>
<li>ä½¿ç”¨restè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä»£æ›¿å‚æ•°</li>
<li>ä½¿ç”¨é»˜è®¤å€¼è¯­æ³•è®¾ç½®å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">concatenateAll</span>(<span class="params">...args</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> args.join(<span class="string">''</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span>(<span class="params">opts = &#123;&#125;</span>) </span>&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/05/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95/" target="_blank" rel="external">å‡½æ•°çš„æ‰©å±•</a></p>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><blockquote>
<ul>
<li>æ€»æ˜¯ç”¨Classï¼Œå–ä»£éœ€è¦prototypeçš„æ“ä½œã€‚å› ä¸ºClassçš„å†™æ³•æ›´ç®€æ´ï¼Œæ›´æ˜“äºç†è§£ã€‚</li>
<li>ä½¿ç”¨extendså®ç°ç»§æ‰¿ï¼Œå› ä¸ºè¿™æ ·æ›´ç®€å•ï¼Œä¸ä¼šæœ‰ç ´åinstanceofè¿ç®—çš„å±é™©ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(contents = []) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">  getA() &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>()</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">  getB() &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/05/11/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Class/" target="_blank" rel="external">Class</a></p>
<h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><blockquote>
<ul>
<li>ä½¿ç”¨importå–ä»£requireã€‚</li>
<li>ä½¿ç”¨exportå–ä»£module.exportsã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; func1, func2 &#125; <span class="keyword">from</span> <span class="string">'moduleA'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href="https://hzzly.github.io/2017/05/14/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Module/" target="_blank" rel="external">Module</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç¼–ç¨‹é£æ ¼&quot;&gt;&lt;a href=&quot;#ç¼–ç¨‹é£æ ¼&quot; class=&quot;headerlink&quot; title=&quot;ç¼–ç¨‹é£æ ¼&quot;&gt;&lt;/a&gt;&lt;strong&gt;ç¼–ç¨‹é£æ ¼&lt;/strong&gt;&lt;/h1&gt;&lt;h2 id=&quot;å—çº§ä½œç”¨åŸŸ&quot;&gt;&lt;a href=&quot;#å—çº§ä½œç”¨åŸŸ&quot; class=&quot;headerlink&quot; title=&quot;å—çº§ä½œç”¨åŸŸ&quot;&gt;&lt;/a&gt;å—çº§ä½œç”¨åŸŸ&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;let å–ä»£ var&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ES6æå‡ºäº†ä¸¤ä¸ªæ–°çš„å£°æ˜å˜é‡çš„å‘½ä»¤ï¼šletå’Œconstã€‚å…¶ä¸­ï¼Œletå®Œå…¨å¯ä»¥å–ä»£varï¼Œå› ä¸ºä¸¤è€…è¯­ä¹‰ç›¸åŒï¼Œè€Œä¸”letæ²¡æœ‰å‰¯ä½œç”¨ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å…¨å±€å¸¸é‡å’Œçº¿ç¨‹å®‰å…¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨letå’Œconstä¹‹é—´ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨constï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±€ç¯å¢ƒï¼Œä¸åº”è¯¥è®¾ç½®å˜é‡ï¼Œåªåº”è®¾ç½®å¸¸é‡ã€‚&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// bad&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, b = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, c = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// good&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; b = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; c = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// best&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; [a, b, c] = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;äº†è§£æ›´å¤šğŸ‘‰ï¼š&lt;a href=&quot;https://hzzly.github.io/2017/04/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6let%E4%B8%8Econst/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;letä¸const&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;å­—ç¬¦ä¸²&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é™æ€å­—ç¬¦ä¸²ä¸€å¾‹ä½¿ç”¨å•å¼•å·æˆ–åå¼•å·ï¼Œä¸ä½¿ç”¨åŒå¼•å·ã€‚åŠ¨æ€å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// bad&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; a = &lt;span class=&quot;string&quot;&gt;&quot;foobar&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; b = &lt;span class=&quot;string&quot;&gt;&#39;foo&#39;&lt;/span&gt; + a + &lt;span class=&quot;string&quot;&gt;&#39;bar&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// acceptable&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; c = &lt;span class=&quot;string&quot;&gt;`foobar`&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// good&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; a = &lt;span class=&quot;string&quot;&gt;&#39;foobar&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; b = &lt;span class=&quot;string&quot;&gt;`foo&lt;span class=&quot;subst&quot;&gt;$&amp;#123;a&amp;#125;&lt;/span&gt;bar`&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; c = &lt;span class=&quot;string&quot;&gt;&#39;foobar&#39;&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;äº†è§£æ›´å¤šğŸ‘‰ï¼š&lt;a href=&quot;https://hzzly.github.io/2017/04/22/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å­—ç¬¦ä¸²çš„æ‰©å±•&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;è§£æ„èµ‹å€¼&quot;&gt;&lt;a href=&quot;#è§£æ„èµ‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;è§£æ„èµ‹å€¼&quot;&gt;&lt;/a&gt;è§£æ„èµ‹å€¼&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æ•°ç»„æˆå‘˜å¯¹å˜é‡èµ‹å€¼æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å‡½æ•°çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„æˆå‘˜ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚è¿™æ ·ä¾¿äºä»¥åæ·»åŠ è¿”å›å€¼ï¼Œä»¥åŠæ›´æ”¹è¿”å›å€¼çš„é¡ºåºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; [first, second] = arr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getFullName&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&amp;#123; firstName, lastName &amp;#125;&lt;/span&gt;) &lt;/span&gt;&amp;#123; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &amp;#123; left, right &amp;#125; = processInput(input);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;äº†è§£æ›´å¤šğŸ‘‰ï¼š&lt;a href=&quot;https://hzzly.github.io/2017/04/21/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è§£æ„èµ‹å€¼&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¯¹è±¡&quot;&gt;&lt;a href=&quot;#å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;å¯¹è±¡&quot;&gt;&lt;/a&gt;å¯¹è±¡&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å•è¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä¸ä»¥é€—å·ç»“å°¾ã€‚å¤šè¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä»¥é€—å·ç»“å°¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; a = &amp;#123; &lt;span class=&quot;attr&quot;&gt;k1&lt;/span&gt;: v1, &lt;span class=&quot;attr&quot;&gt;k2&lt;/span&gt;: v2 &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; b = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;k1&lt;/span&gt;: v1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;k2&lt;/span&gt;: v2,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°½é‡é‡‡ç”¨ç®€æ´è¡¨è¾¾æ³•ï¼Œè¿™æ ·æ˜“äºæè¿°å’Œä¹¦å†™&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Module</title>
    <link href="http://yoursite.com/2017/05/14/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Module/"/>
    <id>http://yoursite.com/2017/05/14/è¯»ä¹¦ç¬”è®°-es6Module/</id>
    <published>2017-05-14T11:13:48.000Z</published>
    <updated>2017-05-21T13:51:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Module"><a href="#Module" class="headerlink" title="Module"></a><strong>Module</strong></h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote>
<p>åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ã€‚ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼ŒES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼ŒCommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// CommonJSæ¨¡å—</span></div><div class="line"><span class="keyword">let</span> &#123; stat, exists, readFile &#125; = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">let</span> _fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">let</span> stat = _fs.stat;</div><div class="line"><span class="keyword">let</span> exists = _fs.exists;</div><div class="line"><span class="keyword">let</span> readfile = _fs.readfile;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—ï¼ˆå³åŠ è½½fsçš„æ‰€æœ‰æ–¹æ³•ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼ˆ_fsï¼‰ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–3ä¸ªæ–¹æ³•ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ï¼Œå› ä¸ºåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå¯¼è‡´å®Œå…¨æ²¡åŠæ³•åœ¨ç¼–è¯‘æ—¶åšâ€œé™æ€ä¼˜åŒ–â€ã€‚</p>
<blockquote>
<p>ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œå†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6æ¨¡å—</span></div><div class="line"><span class="keyword">import</span> &#123; stat, exists, readFile &#125; <span class="keyword">from</span> <span class="string">'fs'</span>;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯ä»fsæ¨¡å—åŠ è½½3ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½ï¼Œå³ ES6 å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½ï¼Œæ•ˆç‡è¦æ¯” CommonJS æ¨¡å—çš„åŠ è½½æ–¹å¼é«˜ã€‚</p>
<h2 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h2><blockquote>
<p>ES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Šâ€use strictâ€;ã€‚</p>
</blockquote>
<p>ä¸¥æ ¼æ¨¡å¼ä¸»è¦æœ‰ä»¥ä¸‹é™åˆ¶:</p>
<blockquote>
<ul>
<li>å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨</li>
<li>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ä¸èƒ½ä½¿ç”¨withè¯­å¥</li>
<li>ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ä¸èƒ½åˆ é™¤å˜é‡delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§delete global[prop]</li>
<li>evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡</li>
<li>evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼</li>
<li>argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–</li>
<li>ä¸èƒ½ä½¿ç”¨arguments.callee</li>
<li>ä¸èƒ½ä½¿ç”¨arguments.caller</li>
<li>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡</li>
<li>ä¸èƒ½ä½¿ç”¨fn.callerå’Œfn.argumentsè·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ</li>
<li>å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚protectedã€staticå’Œinterfaceï¼‰</li>
</ul>
</blockquote>
<h2 id="export-å‘½ä»¤"><a href="#export-å‘½ä»¤" class="headerlink" title="export å‘½ä»¤"></a>export å‘½ä»¤</h2><blockquote>
<p>exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¾“å‡ºå˜é‡</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">let</span> firstName = <span class="string">'Michael'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">let</span> lastName = <span class="string">'Jackson'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">let</span> year = <span class="number">1958</span>;</div><div class="line"><span class="comment">//æˆ–è€…ç®€å†™</span></div><div class="line"><span class="keyword">let</span> firstName = <span class="string">'Michael'</span>;</div><div class="line"><span class="keyword">let</span> lastName = <span class="string">'Jackson'</span>;</div><div class="line"><span class="keyword">let</span> year = <span class="number">1958</span>;</div><div class="line"><span class="keyword">export</span> &#123;firstName, lastName, year&#125;;</div><div class="line"><span class="comment">//è¾“å‡ºå‡½æ•°æˆ–ç±»ï¼ˆclassï¼‰</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> x * y;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="import-å‘½ä»¤"><a href="#import-å‘½ä»¤" class="headerlink" title="import å‘½ä»¤"></a>import å‘½ä»¤</h2><blockquote>
<p>importå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ï¼Œimportå‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;firstName, lastName, year&#125; <span class="keyword">from</span> <span class="string">'./index'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">element</span>) </span>&#123;</div><div class="line">  element.textContent = firstName + <span class="string">' '</span> + lastName;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>aså…³é”®å­—</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¸ºè¾“å…¥çš„å˜é‡é‡æ–°å–ä¸€ä¸ªåå­—</span></div><div class="line"><span class="keyword">import</span> &#123; lastName <span class="keyword">as</span> surname &#125; <span class="keyword">from</span> <span class="string">'./index'</span>;</div><div class="line"><span class="comment">//æ¨¡å—æ•´ä½“åŠ è½½</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> circle <span class="keyword">from</span> <span class="string">'./circle'</span></div></pre></td></tr></table></figure></p>
<h2 id="export-default-å‘½ä»¤"><a href="#export-default-å‘½ä»¤" class="headerlink" title="export default å‘½ä»¤"></a>export default å‘½ä»¤</h2><blockquote>
<p>ä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡º</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// export-default.js</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// import-default.js</span></div><div class="line"><span class="keyword">import</span> customName <span class="keyword">from</span> <span class="string">'./export-default'</span>;</div><div class="line">customName(); <span class="comment">// 'foo'</span></div></pre></td></tr></table></figure>
<h2 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a>æ —å­</h2><p>ä¸€ä¸ª vuex æ¨¡å—ï¼ˆmoduleï¼‰å®ä¾‹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//com.js</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">'../types'</span></div><div class="line"><span class="keyword">const</span> state = &#123;</div><div class="line">    <span class="attr">showLoading</span>: <span class="literal">false</span>,</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> actions = &#123;</div><div class="line">    setShowLoading(&#123; commit &#125;, status) &#123;</div><div class="line">        commit(types.COM_SHOW_LOADING, status)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> getters = &#123;</div><div class="line">    <span class="attr">showLoading</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.showLoading,</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">    [types.COM_SHOW_LOADING](state, status) &#123;</div><div class="line">        state.showLoading = status</div><div class="line">    &#125;,</div><div class="line">&#125;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    state,</div><div class="line">    actions,</div><div class="line">    getters,</div><div class="line">    mutations</div><div class="line">&#125;</div><div class="line"><span class="comment">//serach.vue</span></div><div class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line">computed: &#123;</div><div class="line">	<span class="comment">//mapGetters(map: Array&lt;string&gt; | Object): Object,åˆ›å»ºç»„ä»¶çš„è®¡ç®—å±æ€§è¿”å› getter çš„è¿”å›å€¼</span></div><div class="line">	<span class="comment">//ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getters æ··å…¥ computed å¯¹è±¡ä¸­</span></div><div class="line">    ...mapGetters([</div><div class="line">        <span class="string">'showLoading'</span></div><div class="line">	])</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Module&quot;&gt;&lt;a href=&quot;#Module&quot; class=&quot;headerlink&quot; title=&quot;Module&quot;&gt;&lt;/a&gt;&lt;strong&gt;Module&lt;/strong&gt;&lt;/h1&gt;&lt;h2 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerl
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿</title>
    <link href="http://yoursite.com/2017/05/13/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Class%E7%9A%84%E7%BB%A7%E6%89%BF/"/>
    <id>http://yoursite.com/2017/05/13/è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿/</id>
    <published>2017-05-13T14:14:52.000Z</published>
    <updated>2017-05-21T13:55:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Classçš„ç»§æ‰¿"><a href="#Classçš„ç»§æ‰¿" class="headerlink" title="Classçš„ç»§æ‰¿"></a><strong>Classçš„ç»§æ‰¿</strong></h2><h3 id="ä¸€ã€åŸºæœ¬ç”¨æ³•"><a href="#ä¸€ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€ã€åŸºæœ¬ç”¨æ³•"></a>ä¸€ã€åŸºæœ¬ç”¨æ³•</h3><blockquote>
<p>Classä¹‹é—´å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯”ES5çš„é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y, color) &#123;</div><div class="line">    <span class="keyword">super</span>(x, y); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„constructor(x, y)</span></div><div class="line">    <span class="keyword">this</span>.color = color;</div><div class="line">  &#125;</div><div class="line">  toString() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.color + <span class="string">' '</span> + <span class="keyword">super</span>.toString(); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„toString()</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</p>
<blockquote>
<p>ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šé¢ï¼ˆParent.apply(this)ï¼‰ã€‚ES6çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼ˆæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨superæ–¹æ³•ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚</p>
</blockquote>
<p>åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼Œæ˜¯åŸºäºå¯¹çˆ¶ç±»å®ä¾‹åŠ å·¥ï¼Œåªæœ‰superæ–¹æ³•æ‰èƒ½è¿”å›çˆ¶ç±»å®ä¾‹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y) &#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y, color) &#123;</div><div class="line">    <span class="keyword">this</span>.color = color; <span class="comment">// ReferenceError</span></div><div class="line">    <span class="keyword">super</span>(x, y);</div><div class="line">    <span class="keyword">this</span>.color = color; <span class="comment">// æ­£ç¡®</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸‹é¢æ˜¯ç”Ÿæˆå­ç±»å®ä¾‹çš„ä»£ç ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cp = <span class="keyword">new</span> ColorPoint(<span class="number">25</span>, <span class="number">8</span>, <span class="string">'green'</span>);</div><div class="line">cp <span class="keyword">instanceof</span> ColorPoint <span class="comment">// true</span></div><div class="line">cp <span class="keyword">instanceof</span> Point <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<h3 id="äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§"><a href="#äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§" class="headerlink" title="äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§"></a>äºŒã€ç±»çš„prototypeå±æ€§å’Œ<strong>proto</strong>å±æ€§</h3><blockquote>
<p>å¤§å¤šæ•°æµè§ˆå™¨çš„ES5å®ç°ä¹‹ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰<strong>proto</strong>å±æ€§ï¼ŒæŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚Classä½œä¸ºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼ŒåŒæ—¶æœ‰prototypeå±æ€§å’Œ<strong>proto</strong>å±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚<br>1ï¼‰å­ç±»çš„<strong>proto</strong>å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚<br>2ï¼‰å­ç±»prototypeå±æ€§çš„<strong>proto</strong>å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">&#125;</div><div class="line">B.__proto__ === A <span class="comment">// true</span></div><div class="line">B.prototype.__proto__ === A.prototype <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€Object-getPrototypeOf"><a href="#ä¸‰ã€Object-getPrototypeOf" class="headerlink" title="ä¸‰ã€Object.getPrototypeOf()"></a>ä¸‰ã€Object.getPrototypeOf()</h3><blockquote>
<p>Object.getPrototypeOfæ–¹æ³•å¯ä»¥ç”¨æ¥ä»å­ç±»ä¸Šè·å–çˆ¶ç±»ã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­ï¼Œä¸€ä¸ªç±»æ˜¯å¦ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.getPrototypeOf(ColorPoint) === Point</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="å››ã€super-å…³é”®å­—"><a href="#å››ã€super-å…³é”®å­—" class="headerlink" title="å››ã€super å…³é”®å­—"></a>å››ã€super å…³é”®å­—</h3><blockquote>
<p>superè¿™ä¸ªå…³é”®å­—ï¼Œæ—¢å¯ä»¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•å®Œå…¨ä¸åŒã€‚<br>1) superä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ES6 è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œsuperè™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³superå†…éƒ¨çš„thisæŒ‡çš„æ˜¯Bï¼Œå› æ­¤super()åœ¨è¿™é‡Œç›¸å½“äºA.prototype.constructor.call(this)ã€‚</p>
<blockquote>
<p>2) superä½œä¸ºå¯¹è±¡æ—¶ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  p() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.p()); <span class="comment">// 2</span></div><div class="line">    <span class="comment">//super.p() ç›¸å½“äº A.prototype.p()</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div></pre></td></tr></table></figure>
<p>ç”±äºsuperæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡superè°ƒç”¨çš„ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.p = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  get m() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.p;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div><div class="line">b.m <span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<p>å¦‚æœå±æ€§å®šä¹‰åœ¨çˆ¶ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œsuperå°±å¯ä»¥å–åˆ°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</div><div class="line">A.prototype.x = <span class="number">2</span>;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x) <span class="comment">// 2</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div></pre></td></tr></table></figure></p>
<blockquote>
<p>ES6 è§„å®šï¼Œé€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œsuperä¼šç»‘å®šå­ç±»çš„thisã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  print() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">  &#125;</div><div class="line">  m() &#123;</div><div class="line">    <span class="keyword">super</span>.print();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div><div class="line">b.m() <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œsuper.print()è™½ç„¶è°ƒç”¨çš„æ˜¯A.prototype.print()ï¼Œä½†æ˜¯A.prototype.print()ä¼šç»‘å®šå­ç±»Bçš„thisï¼Œå¯¼è‡´è¾“å‡ºçš„æ˜¯2ï¼Œè€Œä¸æ˜¯1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯super.print.call(this)ã€‚</p>
<h3 id="äº”ã€å®ä¾‹çš„protoå±æ€§"><a href="#äº”ã€å®ä¾‹çš„protoå±æ€§" class="headerlink" title="äº”ã€å®ä¾‹çš„protoå±æ€§"></a>äº”ã€å®ä¾‹çš„<strong>proto</strong>å±æ€§</h3><blockquote>
<p>å­ç±»å®ä¾‹çš„<strong>proto</strong>å±æ€§çš„<strong>proto</strong>å±æ€§ï¼ŒæŒ‡å‘çˆ¶ç±»å®ä¾‹çš„<strong>proto</strong>å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»çš„åŸå‹çš„åŸå‹ï¼Œæ˜¯çˆ¶ç±»çš„åŸå‹</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> ColorPoint(<span class="number">2</span>, <span class="number">3</span>, <span class="string">'red'</span>);</div><div class="line">p2.__proto__ === p1.__proto__ <span class="comment">// false</span></div><div class="line">p2.__proto__.__proto__ === p1.__proto__ <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>å› æ­¤ï¼Œé€šè¿‡å­ç±»å®ä¾‹çš„<strong>proto</strong>.<strong>proto</strong>å±æ€§ï¼Œå¯ä»¥ä¿®æ”¹çˆ¶ç±»å®ä¾‹çš„è¡Œä¸ºã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">p2.__proto__.__proto__.printName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Ha'</span>);</div><div class="line">&#125;;</div><div class="line">p1.printName() <span class="comment">// "Ha"</span></div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢ä»£ç åœ¨ColorPointçš„å®ä¾‹p2ä¸Šå‘Pointç±»æ·»åŠ æ–¹æ³•ï¼Œç»“æœå½±å“åˆ°äº†Pointçš„å®ä¾‹p1ã€‚</p>
<h3 id="å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿"><a href="#å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿" class="headerlink" title="å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿"></a>å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿</h3><blockquote>
<ul>
<li>Boolean()</li>
<li>Number()</li>
<li>String()</li>
<li>Array()</li>
<li>Date()</li>
<li>Function()</li>
<li>RegExp()</li>
<li>Error()</li>
<li>Object()</li>
</ul>
</blockquote>
<p>ä»¥å‰ï¼Œè¿™äº›åŸç”Ÿæ„é€ å‡½æ•°æ˜¯æ— æ³•ç»§æ‰¿çš„ï¼Œæ¯”å¦‚ï¼Œä¸èƒ½è‡ªå·±å®šä¹‰ä¸€ä¸ªArrayçš„å­ç±»ã€‚ES6å¯ä»¥è‡ªå®šä¹‰åŸç”Ÿæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚Arrayã€Stringç­‰ï¼‰çš„å­ç±»ï¼Œè¿™æ˜¯ES5æ— æ³•åšåˆ°çš„ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VersionedArray</span> <span class="keyword">extends</span> <span class="title">Array</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">this</span>.history = [[]];</div><div class="line">  &#125;</div><div class="line">  commit() &#123;</div><div class="line">    <span class="keyword">this</span>.history.push(<span class="keyword">this</span>.slice());</div><div class="line">  &#125;</div><div class="line">  revert() &#123;</div><div class="line">    <span class="keyword">this</span>.splice(<span class="number">0</span>, <span class="keyword">this</span>.length, ...this.history[<span class="keyword">this</span>.history.length - <span class="number">1</span>]);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> VersionedArray();</div><div class="line">x.push(<span class="number">1</span>);</div><div class="line">x.push(<span class="number">2</span>);</div><div class="line">x <span class="comment">// [1, 2]</span></div><div class="line">x.history <span class="comment">// [[]]</span></div><div class="line">x.commit();</div><div class="line">x.history <span class="comment">// [[], [1, 2]]</span></div><div class="line">x.push(<span class="number">3</span>);</div><div class="line">x <span class="comment">// [1, 2, 3]</span></div><div class="line">x.revert();</div><div class="line">x <span class="comment">// [1, 2]</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Classçš„ç»§æ‰¿&quot;&gt;&lt;a href=&quot;#Classçš„ç»§æ‰¿&quot; class=&quot;headerlink&quot; title=&quot;Classçš„ç»§æ‰¿&quot;&gt;&lt;/a&gt;&lt;strong&gt;Classçš„ç»§æ‰¿&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºæœ¬ç”¨æ³•
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Class</title>
    <link href="http://yoursite.com/2017/05/11/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Class/"/>
    <id>http://yoursite.com/2017/05/11/è¯»ä¹¦ç¬”è®°-es6Class/</id>
    <published>2017-05-11T15:46:21.000Z</published>
    <updated>2017-05-21T13:56:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a><strong>Class</strong></h2><h3 id="ä¸€ã€ClassåŸºæœ¬è¯­æ³•"><a href="#ä¸€ã€ClassåŸºæœ¬è¯­æ³•" class="headerlink" title="ä¸€ã€ClassåŸºæœ¬è¯­æ³•"></a>ä¸€ã€ClassåŸºæœ¬è¯­æ³•</h3><p>ä¼ ç»Ÿæ–¹æ³•:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.x = x;</div><div class="line">  <span class="keyword">this</span>.y = y;</div><div class="line">&#125;</div><div class="line">Point.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'('</span> + <span class="keyword">this</span>.x + <span class="string">', '</span> + <span class="keyword">this</span>.y + <span class="string">')'</span>;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">1</span>, <span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<p>ES6:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y) &#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">  &#125;</div><div class="line">  toString() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'('</span> + <span class="keyword">this</span>.x + <span class="string">', '</span> + <span class="keyword">this</span>.y + <span class="string">')'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">1</span>, <span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>ES6çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">typeof</span> Point <span class="comment">// "function"</span></div><div class="line">Point === Point.prototype.constructor <span class="comment">// true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼Œåœ¨ES6çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  &#125;</div><div class="line">  toString()&#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  &#125;</div><div class="line">  toValue()&#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line">Point.prototype = &#123;</div><div class="line">  toString()&#123;&#125;,</div><div class="line">  toValue()&#123;&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;&#125;</div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div><div class="line">b.constructor === B.prototype.constructor <span class="comment">// true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨prototypeå¯¹è±¡ä¸Šé¢ã€‚Object.assignæ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>()&#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">Object</span>.assign(Point.prototype, &#123;</div><div class="line">  toString()&#123;&#125;,</div><div class="line">  toValue()&#123;&#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">//prototypeå¯¹è±¡çš„constructorå±æ€§ï¼Œç›´æ¥æŒ‡å‘â€œç±»â€çš„æœ¬èº«ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</span></div><div class="line">Point.prototype.constructor === Point <span class="comment">// true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼ˆnon-enumerableï¼‰ã€‚<strong>è¿™ä¸€ç‚¹ä¸ES5çš„è¡Œä¸ºä¸ä¸€è‡´</strong>ã€‚</p>
</blockquote>
<h3 id="äºŒã€constructoræ–¹æ³•"><a href="#äºŒã€constructoræ–¹æ³•" class="headerlink" title="äºŒã€constructoræ–¹æ³•"></a>äºŒã€constructoræ–¹æ³•</h3><blockquote>
<p>constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚</p>
</blockquote>
<h3 id="ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡"><a href="#ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡" class="headerlink" title="ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡"></a>ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡</h3><blockquote>
<p>ç”Ÿæˆç±»çš„å®ä¾‹å¯¹è±¡çš„å†™æ³•ï¼Œä¸ES5å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨newå‘½ä»¤ã€‚å¦‚æœå¿˜è®°åŠ ä¸Šnewï¼Œåƒå‡½æ•°é‚£æ ·è°ƒç”¨Classï¼Œå°†ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æŠ¥é”™</span></div><div class="line"><span class="keyword">var</span> point = Point(<span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="comment">// æ­£ç¡®</span></div><div class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</div></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ES5ä¸€æ ·ï¼Œå®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆå³å®šä¹‰åœ¨thiså¯¹è±¡ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆå³å®šä¹‰åœ¨classä¸Šï¼‰ã€‚</p>
</blockquote>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y) &#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">  &#125;</div><div class="line">  toString() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'('</span> + <span class="keyword">this</span>.x + <span class="string">', '</span> + <span class="keyword">this</span>.y + <span class="string">')'</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</div><div class="line">point.toString() <span class="comment">// (2, 3)</span></div><div class="line">point.hasOwnProperty(<span class="string">'x'</span>) <span class="comment">// true</span></div><div class="line">point.hasOwnProperty(<span class="string">'y'</span>) <span class="comment">// true</span></div><div class="line">point.hasOwnProperty(<span class="string">'toString'</span>) <span class="comment">// false</span></div><div class="line">point.__proto__.hasOwnProperty(<span class="string">'toString'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œxå’Œyéƒ½æ˜¯å®ä¾‹å¯¹è±¡pointè‡ªèº«çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨thiså˜é‡ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›trueï¼Œè€ŒtoStringæ˜¯åŸå‹å¯¹è±¡çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨Pointç±»ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›falseã€‚è¿™äº›éƒ½ä¸ES5çš„è¡Œä¸ºä¿æŒä¸€è‡´ã€‚</p>
<blockquote>
<p>ä¸ES5ä¸€æ ·ï¼Œç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Point(<span class="number">3</span>,<span class="number">2</span>);</div><div class="line">p1.__proto__ === p2.__proto__   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯Pointçš„å®ä¾‹ï¼Œå®ƒä»¬çš„åŸå‹éƒ½æ˜¯Point.prototypeï¼Œæ‰€ä»¥<strong>proto</strong>å±æ€§æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹çš„<strong>proto</strong>å±æ€§ä¸ºClassæ·»åŠ æ–¹æ³•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Point(<span class="number">3</span>,<span class="number">2</span>);</div><div class="line">p1.__proto__.printName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">'Oops'</span> &#125;;</div><div class="line">p1.printName() <span class="comment">// "Oops"</span></div><div class="line">p2.printName() <span class="comment">// "Oops"</span></div><div class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> Point(<span class="number">4</span>,<span class="number">2</span>);</div><div class="line">p3.printName() <span class="comment">// "Oops"</span></div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢ä»£ç åœ¨p1çš„åŸå‹ä¸Šæ·»åŠ äº†ä¸€ä¸ªprintNameæ–¹æ³•ï¼Œç”±äºp1çš„åŸå‹å°±æ˜¯p2çš„åŸå‹ï¼Œå› æ­¤p2ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è€Œä¸”ï¼Œæ­¤åæ–°å»ºçš„å®ä¾‹p3ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨å®ä¾‹çš„<strong>proto</strong>å±æ€§æ”¹å†™åŸå‹ï¼Œå¿…é¡»ç›¸å½“è°¨æ…ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šæ”¹å˜Classçš„åŸå§‹å®šä¹‰ï¼Œå½±å“åˆ°æ‰€æœ‰å®ä¾‹ã€‚</p>
<h3 id="å››ã€ä¸å­˜åœ¨å˜é‡æå‡"><a href="#å››ã€ä¸å­˜åœ¨å˜é‡æå‡" class="headerlink" title="å››ã€ä¸å­˜åœ¨å˜é‡æå‡"></a>å››ã€ä¸å­˜åœ¨å˜é‡æå‡</h3><blockquote>
<p>Classä¸å­˜åœ¨å˜é‡æå‡ï¼ˆhoistï¼‰ï¼Œè¿™ä¸€ç‚¹ä¸ES5å®Œå…¨ä¸åŒã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Foo(); <span class="comment">// ReferenceError</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;&#125;</div></pre></td></tr></table></figure>
<h3 id="äº”ã€Classè¡¨è¾¾å¼"><a href="#äº”ã€Classè¡¨è¾¾å¼" class="headerlink" title="äº”ã€Classè¡¨è¾¾å¼"></a>äº”ã€Classè¡¨è¾¾å¼</h3><blockquote>
<p>é‡‡ç”¨Classè¡¨è¾¾å¼ï¼Œå¯ä»¥å†™å‡ºç«‹å³æ‰§è¡Œçš„Classã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  sayName() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;(<span class="string">'å¼ ä¸‰'</span>);</div><div class="line">person.sayName(); <span class="comment">// "å¼ ä¸‰"</span></div></pre></td></tr></table></figure>
<h3 id="å…­ã€ç§æœ‰æ–¹æ³•"><a href="#å…­ã€ç§æœ‰æ–¹æ³•" class="headerlink" title="å…­ã€ç§æœ‰æ–¹æ³•"></a>å…­ã€ç§æœ‰æ–¹æ³•</h3><blockquote>
<p>ç§æœ‰æ–¹æ³•æ˜¯å¸¸è§éœ€æ±‚ï¼Œä½† ES6 ä¸æä¾›ï¼Œåªèƒ½é€šè¿‡å˜é€šæ–¹æ³•æ¨¡æ‹Ÿå®ç°ã€‚</p>
</blockquote>
<p>åœ¨å‘½åä¸ŠåŠ ä»¥åŒºåˆ«:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Widget</span> </span>&#123;</div><div class="line">  <span class="comment">// å…¬æœ‰æ–¹æ³•</span></div><div class="line">  foo (baz) &#123;</div><div class="line">    <span class="keyword">this</span>._bar(baz);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ç§æœ‰æ–¹æ³•</span></div><div class="line">  _bar(baz) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.snaf = baz;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ_baræ–¹æ³•å‰é¢çš„ä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåªé™äºå†…éƒ¨ä½¿ç”¨çš„ç§æœ‰æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§å‘½åæ˜¯ä¸ä¿é™©çš„ï¼Œåœ¨ç±»çš„å¤–éƒ¨ï¼Œè¿˜æ˜¯å¯ä»¥è°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="ä¸ƒã€thisçš„æŒ‡å‘"><a href="#ä¸ƒã€thisçš„æŒ‡å‘" class="headerlink" title="ä¸ƒã€thisçš„æŒ‡å‘"></a>ä¸ƒã€thisçš„æŒ‡å‘</h3><blockquote>
<p>ç±»çš„æ–¹æ³•å†…éƒ¨å¦‚æœå«æœ‰thisï¼Œå®ƒé»˜è®¤æŒ‡å‘ç±»çš„å®ä¾‹</p>
</blockquote>
<h3 id="å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰"><a href="#å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰" class="headerlink" title="å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰"></a>å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰</h3><blockquote>
<p>ä¸ES5ä¸€æ ·ï¼Œåœ¨Classå†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸ºã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  &#125;</div><div class="line">  get prop() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'getter'</span>;</div><div class="line">  &#125;</div><div class="line">  set prop(value) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'setter: '</span>+value);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> inst = <span class="keyword">new</span> MyClass();</div><div class="line">inst.prop = <span class="number">123</span>;</div><div class="line"><span class="comment">// setter: 123</span></div><div class="line">inst.prop</div><div class="line"><span class="comment">// 'getter'</span></div></pre></td></tr></table></figure>
<p><strong>Githubåœ°å€ï¼š</strong> <a href="https://github.com/hzzly/learn-es6" target="_blank" rel="external">https://github.com/hzzly/learn-es6</a></p>
<p>æ–‡ç« æ¥æº<a href="https://hzzly.github.io/" target="_blank" rel="external">hzzlyåšå®¢æŠ€æœ¯åˆ†äº«</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Class&quot;&gt;&lt;a href=&quot;#Class&quot; class=&quot;headerlink&quot; title=&quot;Class&quot;&gt;&lt;/a&gt;&lt;strong&gt;Class&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€ClassåŸºæœ¬è¯­æ³•&quot;&gt;&lt;a href=&quot;#ä¸€ã€ClassåŸºæœ¬è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ClassåŸºæœ¬è¯­æ³•&quot;&gt;&lt;/a&gt;ä¸€ã€ClassåŸºæœ¬è¯­æ³•&lt;/h3&gt;&lt;p&gt;ä¼ ç»Ÿæ–¹æ³•:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.x = x;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.y = y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Point.prototype.toString = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;(&#39;&lt;/span&gt; + &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.x + &lt;span class=&quot;string&quot;&gt;&#39;, &#39;&lt;/span&gt; + &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.y + &lt;span class=&quot;string&quot;&gt;&#39;)&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; p = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Point(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ES6:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;(x, y) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.x = x;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.y = y;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toString() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;(&#39;&lt;/span&gt; + &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.x + &lt;span class=&quot;string&quot;&gt;&#39;, &#39;&lt;/span&gt; + &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.y + &lt;span class=&quot;string&quot;&gt;&#39;)&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; p = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Point(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ES6çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; Point &lt;span class=&quot;comment&quot;&gt;// &quot;function&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Point === Point.prototype.constructor &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼Œåœ¨ES6çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toString()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toValue()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç­‰åŒäº&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Point.prototype = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toString()&amp;#123;&amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toValue()&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;B&lt;/span&gt; &lt;/span&gt;&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; b = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; B();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;b.constructor === B.prototype.constructor &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨prototypeå¯¹è±¡ä¸Šé¢ã€‚Object.assignæ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Point&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;constructor&lt;/span&gt;()&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign(Point.prototype, &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toString()&amp;#123;&amp;#125;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  toValue()&amp;#123;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//prototypeå¯¹è±¡çš„constructorå±æ€§ï¼Œç›´æ¥æŒ‡å‘â€œç±»â€çš„æœ¬èº«ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Point.prototype.constructor === Point &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼ˆnon-enumerableï¼‰ã€‚&lt;strong&gt;è¿™ä¸€ç‚¹ä¸ES5çš„è¡Œä¸ºä¸ä¸€è‡´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;äºŒã€constructoræ–¹æ³•&quot;&gt;&lt;a href=&quot;#äºŒã€constructoræ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€constructoræ–¹æ³•&quot;&gt;&lt;/a&gt;äºŒã€constructoræ–¹æ³•&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡&quot;&gt;&lt;a href=&quot;#ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡&quot;&gt;&lt;/a&gt;ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç”Ÿæˆç±»çš„å®ä¾‹å¯¹è±¡çš„å†™æ³•ï¼Œä¸ES5å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨newå‘½ä»¤ã€‚å¦‚æœå¿˜è®°åŠ ä¸Šnewï¼Œåƒå‡½æ•°é‚£æ ·è°ƒç”¨Classï¼Œå°†ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æŠ¥é”™&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; point = Point(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ­£ç¡®&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; point = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Point(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ES5ä¸€æ ·ï¼Œå®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆå³å®šä¹‰åœ¨thiså¯¹è±¡ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆå³å®šä¹‰åœ¨classä¸Šï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­</title>
    <link href="http://yoursite.com/2017/05/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Async%E5%87%BD%E6%95%B0%E6%A0%97%E5%AD%90/"/>
    <id>http://yoursite.com/2017/05/10/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­/</id>
    <published>2017-05-10T12:07:22.000Z</published>
    <updated>2017-05-21T13:58:08.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="asyncå‡½æ•°æ —å­"><a href="#asyncå‡½æ•°æ —å­" class="headerlink" title="asyncå‡½æ•°æ —å­"></a><strong>asyncå‡½æ•°æ —å­</strong></h2><h3 id="æ —å­ä¸€ï¼šä»è±†ç“£-API-è·å–æ•°æ®"><a href="#æ —å­ä¸€ï¼šä»è±†ç“£-API-è·å–æ•°æ®" class="headerlink" title="æ —å­ä¸€ï¼šä»è±†ç“£ API è·å–æ•°æ®"></a>æ —å­ä¸€ï¼šä»è±†ç“£ API è·å–æ•°æ®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fetchDoubanApi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (xhr.status &gt;= <span class="number">200</span> &amp;&amp; xhr.status &lt; <span class="number">300</span>) &#123;</div><div class="line">          <span class="keyword">var</span> response;</div><div class="line">          <span class="keyword">try</span> &#123;</div><div class="line">            response = <span class="built_in">JSON</span>.parse(xhr.responseText);</div><div class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">            reject(e);</div><div class="line">          &#125;</div><div class="line">          <span class="keyword">if</span> (response) &#123;</div><div class="line">            resolve(response, xhr.status, xhr);</div><div class="line">          &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">          reject(xhr);</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;;</div><div class="line">    xhr.open(<span class="string">'GET'</span>, <span class="string">'https://api.douban.com/v2/user/aisk'</span>, <span class="literal">true</span>);</div><div class="line">    xhr.setRequestHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/plain"</span>);</div><div class="line">    xhr.send(data);</div><div class="line">  &#125;);</div><div class="line">&#125;;</div><div class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> fetchDoubanApi();</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="built_in">console</span>.log(e);</div><div class="line">  &#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<h3 id="æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥"><a href="#æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥" class="headerlink" title="æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥"></a>æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">'fs'</span>;</div><div class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">'path'</span>;</div><div class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">'request'</span>;</div><div class="line"><span class="keyword">var</span> movieDir = __dirname + <span class="string">'/movies'</span>,</div><div class="line">    exts     = [<span class="string">'.mkv'</span>, <span class="string">'.avi'</span>, <span class="string">'.mp4'</span>, <span class="string">'.rm'</span>, <span class="string">'.rmvb'</span>, <span class="string">'.wmv'</span>];</div><div class="line"><span class="comment">// è¯»å–æ–‡ä»¶åˆ—è¡¨</span></div><div class="line"><span class="keyword">var</span> readFiles = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        fs.readdir(movieDir, <span class="function"><span class="keyword">function</span> (<span class="params">err, files</span>) </span>&#123;</div><div class="line">            resolve(files.filter(<span class="function">(<span class="params">v</span>) =&gt;</span> exts.includes(path.parse(v).ext)));</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// è·å–æµ·æŠ¥</span></div><div class="line"><span class="keyword">var</span> getPoster = <span class="function"><span class="keyword">function</span> (<span class="params">movieName</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> url = <span class="string">`https://api.douban.com/v2/movie/search?q=<span class="subst">$&#123;<span class="built_in">encodeURI</span>(movieName)&#125;</span>`</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        request(&#123;<span class="attr">url</span>: url, <span class="attr">json</span>: <span class="literal">true</span>&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error, response, body</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (error) <span class="keyword">return</span> reject(error);</div><div class="line">            resolve(body.subjects[<span class="number">0</span>].images.large);</div><div class="line">        &#125;)</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ä¿å­˜æµ·æŠ¥</span></div><div class="line"><span class="keyword">var</span> savePoster = <span class="function"><span class="keyword">function</span> (<span class="params">movieName, url</span>) </span>&#123;</div><div class="line">    request.get(url).pipe(fs.createWriteStream(path.join(movieDir, movieName + <span class="string">'.jpg'</span>)));</div><div class="line">&#125;;</div><div class="line"><span class="function">(<span class="params"><span class="keyword">async</span> (</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">let</span> files = <span class="keyword">await</span> readFiles();</div><div class="line">    <span class="comment">// awaitåªèƒ½ä½¿ç”¨åœ¨åŸç”Ÿè¯­æ³•</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> file <span class="keyword">of</span> files) &#123;</div><div class="line">        <span class="keyword">let</span> name = path.parse(file).name;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">`æ­£åœ¨è·å–ã€<span class="subst">$&#123;name&#125;</span>ã€‘çš„æµ·æŠ¥`</span>);</div><div class="line">        savePoster(name, <span class="keyword">await</span> getPoster(name));</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'=== è·å–æµ·æŠ¥å®Œæˆ ==='</span>);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;asyncå‡½æ•°æ —å­&quot;&gt;&lt;a href=&quot;#asyncå‡½æ•°æ —å­&quot; class=&quot;headerlink&quot; title=&quot;asyncå‡½æ•°æ —å­&quot;&gt;&lt;/a&gt;&lt;strong&gt;asyncå‡½æ•°æ —å­&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;æ —å­ä¸€ï¼šä»è±†ç“£-API-è·å–æ•°æ®&quot;&gt;&lt;a
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°</title>
    <link href="http://yoursite.com/2017/05/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Async%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2017/05/09/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°/</id>
    <published>2017-05-09T06:41:45.000Z</published>
    <updated>2017-05-21T13:59:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="async-å‡½æ•°"><a href="#async-å‡½æ•°" class="headerlink" title="async å‡½æ•°"></a><strong>async å‡½æ•°</strong></h2><blockquote>
<p>async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚å®ƒæ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p>
</blockquote>
<p>Generator å‡½æ•°ï¼Œä¾æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> readFile = <span class="function"><span class="keyword">function</span> (<span class="params">fileName</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    fs.readFile(fileName, <span class="function"><span class="keyword">function</span>(<span class="params">error, data</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (error) reject(error);</div><div class="line">      resolve(data);</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> gen = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> f1 = <span class="keyword">yield</span> readFile(<span class="string">'/etc/fstab'</span>);</div><div class="line">  <span class="keyword">var</span> f2 = <span class="keyword">yield</span> readFile(<span class="string">'/etc/shells'</span>);</div><div class="line">  <span class="built_in">console</span>.log(f1.toString());</div><div class="line">  <span class="built_in">console</span>.log(f2.toString());</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> asyncReadFile = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> f1 = <span class="keyword">await</span> readFile(<span class="string">'/etc/fstab'</span>);</div><div class="line">  <span class="keyword">var</span> f2 = <span class="keyword">await</span> readFile(<span class="string">'/etc/shells'</span>);</div><div class="line">  <span class="built_in">console</span>.log(f1.toString());</div><div class="line">  <span class="built_in">console</span>.log(f2.toString());</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p><strong>asyncå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“ç°åœ¨ä»¥ä¸‹å››ç‚¹:</strong></p>
<blockquote>
<p>1ï¼‰å†…ç½®æ‰§è¡Œå™¨</p>
</blockquote>
<p>Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> result = asyncReadFile();</div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åç»“æœã€‚è¿™å®Œå…¨ä¸åƒ Generator å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åç»“æœã€‚</p>
<blockquote>
<p>2ï¼‰æ›´å¥½çš„è¯­ä¹‰</p>
</blockquote>
<p>asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</p>
<blockquote>
<p>3ï¼‰æ›´å¹¿çš„é€‚ç”¨æ€§</p>
</blockquote>
<p>coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚</p>
<blockquote>
<p>4ï¼‰è¿”å›å€¼æ˜¯ Promise</p>
</blockquote>
<p>asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚</p>
<p>è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚</p>
<h3 id="ä¸€ã€åŸºæœ¬ç”¨æ³•"><a href="#ä¸€ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€ã€åŸºæœ¬ç”¨æ³•"></a>ä¸€ã€åŸºæœ¬ç”¨æ³•</h3><blockquote>
<p>asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeout</span>(<span class="params">ms</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</div><div class="line">    setTimeout(resolve, ms);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncPrint</span>(<span class="params">value, ms</span>) </span>&#123;</div><div class="line">  <span class="keyword">await</span> timeout(ms);</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line">asyncPrint(<span class="string">'hello world'</span>, <span class="number">5000</span>);</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç æŒ‡å®š5000æ¯«ç§’ä»¥åï¼Œè¾“å‡ºhello worldã€‚</p>
<p>ç”±äºasyncå‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">timeout</span>(<span class="params">ms</span>) </span>&#123;</div><div class="line">  <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</div><div class="line">    setTimeout(resolve, ms);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncPrint</span>(<span class="params">value, ms</span>) </span>&#123;</div><div class="line">  <span class="keyword">await</span> timeout(ms);</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line">asyncPrint(<span class="string">'hello world'</span>, <span class="number">5000</span>);</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p><strong>async å‡½æ•°å¤šç§ä½¿ç”¨å½¢å¼</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></div><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></div><div class="line"><span class="keyword">const</span> foo = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line"><span class="comment">// å¯¹è±¡çš„æ–¹æ³•</span></div><div class="line"><span class="keyword">let</span> obj = &#123; <span class="keyword">async</span> foo() &#123;&#125; &#125;;</div><div class="line">obj.foo().then(...)</div><div class="line"><span class="comment">// Class çš„æ–¹æ³•</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Storage</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.cachePromise = caches.open(<span class="string">'avatars'</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">async</span> getAvatar(name) &#123;</div><div class="line">    <span class="keyword">const</span> cache = <span class="keyword">await</span> <span class="keyword">this</span>.cachePromise;</div><div class="line">    <span class="keyword">return</span> cache.match(<span class="string">`/avatars/<span class="subst">$&#123;name&#125;</span>.jpg`</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> storage = <span class="keyword">new</span> Storage();</div><div class="line">storage.getAvatar(<span class="string">'hzzly'</span>).then(â€¦);</div><div class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></div><div class="line"><span class="keyword">const</span> foo = <span class="keyword">async</span> () =&gt; &#123;&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="äºŒã€è¯­æ³•"><a href="#äºŒã€è¯­æ³•" class="headerlink" title="äºŒã€è¯­æ³•"></a>äºŒã€è¯­æ³•</h3><blockquote>
<p>asyncå‡½æ•°çš„è¯­æ³•è§„åˆ™æ€»ä½“ä¸Šæ¯”è¾ƒç®€å•ï¼Œéš¾ç‚¹æ˜¯é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
</blockquote>
<p><strong>è¿”å› Promise å¯¹è±¡</strong></p>
<blockquote>
<p>asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚asyncå‡½æ•°å†…éƒ¨returnè¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'hello world'</span>;</div><div class="line">&#125;</div><div class="line">f().then(<span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v))</div><div class="line"><span class="comment">// "hello world"</span></div></pre></td></tr></table></figure>
<p><strong>Promise å¯¹è±¡çš„çŠ¶æ€å˜åŒ–</strong></p>
<blockquote>
<p>asyncå‡½æ•°è¿”å›çš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ°returnè¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰asyncå‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getTitle</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> response = <span class="keyword">await</span> fetch(url);</div><div class="line">  <span class="keyword">let</span> html = <span class="keyword">await</span> response.text();</div><div class="line">  <span class="keyword">return</span> html.match(<span class="regexp">/&lt;title&gt;([\s\S]+)&lt;\/title&gt;/i</span>)[<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line">getTitle(<span class="string">'https://tc39.github.io/ecma262/'</span>).then(<span class="built_in">console</span>.log)</div><div class="line"><span class="comment">// "ECMAScript 2017 Language Specification"</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°getTitleå†…éƒ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼šæŠ“å–ç½‘é¡µã€å–å‡ºæ–‡æœ¬ã€åŒ¹é…é¡µé¢æ ‡é¢˜ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•é‡Œé¢çš„console.logã€‚</p>
<h3 id="ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹"><a href="#ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹" class="headerlink" title="ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹"></a>ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹</h3><blockquote>
<ul>
<li>awaitå‘½ä»¤åé¢çš„Promiseå¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">await</span> somethingThatReturnsAPromise();</div><div class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</div><div class="line">    <span class="built_in">console</span>.log(err);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å¦ä¸€ç§å†™æ³•</span></div><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">await</span> somethingThatReturnsAPromise()</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(err);</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>å¤šä¸ªawaitå‘½ä»¤åé¢çš„å¼‚æ­¥æ“ä½œï¼Œå¦‚æœä¸å­˜åœ¨ç»§å‘å…³ç³»ï¼Œæœ€å¥½è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å¼‚æ­¥æ“ä½œï¼ˆå³äº’ä¸ä¾èµ–ï¼‰ï¼Œè¢«å†™æˆç»§å‘å…³ç³»ã€‚è¿™æ ·æ¯”è¾ƒè€—æ—¶ï¼Œå› ä¸ºåªæœ‰getFooå®Œæˆä»¥åï¼Œæ‰ä¼šæ‰§è¡ŒgetBarï¼Œå®Œå…¨å¯ä»¥è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚</span></div><div class="line"><span class="keyword">let</span> foo = <span class="keyword">await</span> getFoo();</div><div class="line"><span class="keyword">let</span> bar = <span class="keyword">await</span> getBar();</div><div class="line"><span class="comment">// å†™æ³•ä¸€</span></div><div class="line"><span class="keyword">let</span> [foo, bar] = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([getFoo(), getBar()]);</div><div class="line"><span class="comment">// å†™æ³•äºŒ</span></div><div class="line"><span class="keyword">let</span> fooPromise = getFoo();</div><div class="line"><span class="keyword">let</span> barPromise = getBar();</div><div class="line"><span class="keyword">let</span> foo = <span class="keyword">await</span> fooPromise;</div><div class="line"><span class="keyword">let</span> bar = <span class="keyword">await</span> barPromise;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>awaitå‘½ä»¤åªèƒ½ç”¨åœ¨asyncå‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</li>
</ul>
</blockquote>
<p>ä¸‹ä¸€èŠ‚å°†ä»‹ç» async å‡½æ•°çš„æ —å­(ğŸŒ°)ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;async-å‡½æ•°&quot;&gt;&lt;a href=&quot;#async-å‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;async å‡½æ•°&quot;&gt;&lt;/a&gt;&lt;strong&gt;async å‡½æ•°&lt;/strong&gt;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚å®ƒæ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Generator å‡½æ•°ï¼Œä¾æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; fs = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;fs&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; readFile = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;fileName&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;resolve, reject&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fs.readFile(fileName, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;error, data&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (error) reject(error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      resolve(data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; gen = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;* (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; f1 = &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; readFile(&lt;span class=&quot;string&quot;&gt;&#39;/etc/fstab&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; f2 = &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; readFile(&lt;span class=&quot;string&quot;&gt;&#39;/etc/shells&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(f1.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(f2.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; asyncReadFile = &lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; f1 = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; readFile(&lt;span class=&quot;string&quot;&gt;&#39;/etc/fstab&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; f2 = &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; readFile(&lt;span class=&quot;string&quot;&gt;&#39;/etc/shells&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(f1.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(f2.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;asyncå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“ç°åœ¨ä»¥ä¸‹å››ç‚¹:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1ï¼‰å†…ç½®æ‰§è¡Œå™¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result = asyncReadFile();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åç»“æœã€‚è¿™å®Œå…¨ä¸åƒ Generator å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åç»“æœã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2ï¼‰æ›´å¥½çš„è¯­ä¹‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;3ï¼‰æ›´å¹¿çš„é€‚ç”¨æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;4ï¼‰è¿”å›å€¼æ˜¯ Promise&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸€ã€åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºæœ¬ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;/a&gt;ä¸€ã€åŸºæœ¬ç”¨æ³•&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;timeout&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;ms&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;resolve&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setTimeout(resolve, ms);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;asyncPrint&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;value, ms&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; timeout(ms);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(value);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;asyncPrint(&lt;span class=&quot;string&quot;&gt;&#39;hello world&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢ä»£ç æŒ‡å®š5000æ¯«ç§’ä»¥åï¼Œè¾“å‡ºhello worldã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºasyncå‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;timeout&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;ms&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;resolve&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setTimeout(resolve, ms);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;asyncPrint&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;value, ms&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; timeout(ms);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(value);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;asyncPrint(&lt;span class=&quot;string&quot;&gt;&#39;hello world&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°</title>
    <link href="http://yoursite.com/2017/05/08/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Generator%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2017/05/08/è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°/</id>
    <published>2017-05-08T14:27:47.000Z</published>
    <updated>2017-05-21T14:00:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Generatorå‡½æ•°"><a href="#Generatorå‡½æ•°" class="headerlink" title="Generatorå‡½æ•°"></a><strong>Generatorå‡½æ•°</strong></h2><blockquote>
<p>ä»è¯­æ³•ä¸Šï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚<br>è°ƒç”¨ Generator å‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)ã€‚<br>Generator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚<br>Generator å‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">helloWorldGenerator</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'hello'</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'world'</span>;</div><div class="line">  <span class="keyword">return</span> <span class="string">'ending'</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> hw = helloWorldGenerator();</div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: 'hello', done: false &#125;</span></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: 'world', done: false &#125;</span></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: 'ending', done: true &#125;</span></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚</p>
</blockquote>
<p><strong>å†™æ³•</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; Â·Â·Â· &#125;</div><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; Â·Â·Â· &#125;</div><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; Â·Â·Â· &#125;</div><div class="line"><span class="function"><span class="keyword">function</span>*<span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; Â·Â·Â· &#125;</div></pre></td></tr></table></figure></p>
<h3 id="ä¸€ã€yield-è¡¨è¾¾å¼"><a href="#ä¸€ã€yield-è¡¨è¾¾å¼" class="headerlink" title="ä¸€ã€yield è¡¨è¾¾å¼"></a>ä¸€ã€yield è¡¨è¾¾å¼</h3><blockquote>
<p>ç”±äº Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥å…¶å®æä¾›äº†ä¸€ç§å¯ä»¥æš‚åœæ‰§è¡Œçš„å‡½æ•°ã€‚yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚</p>
</blockquote>
<p>éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹:<br>1ï¼‰é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚<br>2ï¼‰ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ã€‚<br>3ï¼‰å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚<br>4ï¼‰å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span>  <span class="number">123</span> + <span class="number">456</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> g = gen()</div><div class="line">gen.next()</div><div class="line"><span class="comment">//&#123; value: 579, done: false &#125;</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="äºŒã€forâ€¦of-å¾ªç¯"><a href="#äºŒã€forâ€¦of-å¾ªç¯" class="headerlink" title="äºŒã€forâ€¦of å¾ªç¯"></a>äºŒã€forâ€¦of å¾ªç¯</h3><blockquote>
<p>forâ€¦ofå¾ªç¯å¯ä»¥è‡ªåŠ¨éå† Generator å‡½æ•°æ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ï¼Œä¸”æ­¤æ—¶ä¸å†éœ€è¦è°ƒç”¨nextæ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="number">2</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="number">3</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="number">4</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="number">5</span>;</div><div class="line">  <span class="keyword">return</span> <span class="number">6</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> foo()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(v);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1 2 3 4 5</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸€æ—¦nextæ–¹æ³•çš„è¿”å›å¯¹è±¡çš„doneå±æ€§ä¸ºtrueï¼Œforâ€¦ofå¾ªç¯å°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›å¯¹è±¡ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç çš„returnè¯­å¥è¿”å›çš„6ï¼Œä¸åŒ…æ‹¬åœ¨forâ€¦ofå¾ªç¯ä¹‹ä¸­ã€‚</p>
<blockquote>
<p>é™¤äº†forâ€¦ofå¾ªç¯ä»¥å¤–ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€è§£æ„èµ‹å€¼å’ŒArray.fromæ–¹æ³•å†…éƒ¨è°ƒç”¨çš„ï¼Œéƒ½æ˜¯éå†å™¨æ¥å£ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä»¬éƒ½å¯ä»¥å°† Generator å‡½æ•°è¿”å›çš„ Iterator å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">numbers</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="number">1</span></div><div class="line">  <span class="keyword">yield</span> <span class="number">2</span></div><div class="line">  <span class="keyword">return</span> <span class="number">3</span></div><div class="line">  <span class="keyword">yield</span> <span class="number">4</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// æ‰©å±•è¿ç®—ç¬¦</span></div><div class="line">[...numbers()] <span class="comment">// [1, 2]</span></div><div class="line"><span class="comment">// Array.from æ–¹æ³•</span></div><div class="line"><span class="built_in">Array</span>.from(numbers()) <span class="comment">// [1, 2]</span></div><div class="line"><span class="comment">// è§£æ„èµ‹å€¼</span></div><div class="line"><span class="keyword">let</span> [x, y] = numbers();</div><div class="line">x <span class="comment">// 1</span></div><div class="line">y <span class="comment">// 2</span></div><div class="line"><span class="comment">// for...of å¾ªç¯</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> n <span class="keyword">of</span> numbers()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(n)</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°"><a href="#ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°" class="headerlink" title="ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°"></a>ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  * myGeneratorMethod() &#123;</div><div class="line">    Â·Â·Â·</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//ç­‰åŒäº</span></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">myGeneratorMethod</span>: <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Â·Â·Â·</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="å››ã€åº”ç”¨"><a href="#å››ã€åº”ç”¨" class="headerlink" title="å››ã€åº”ç”¨"></a>å››ã€åº”ç”¨</h3><blockquote>
<p>1ï¼‰å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">loadUI</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  showLoadingScreen();</div><div class="line">  <span class="keyword">yield</span> loadUIDataAsynchronously();</div><div class="line">  hideLoadingScreen();</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> loader = loadUI();</div><div class="line"><span class="comment">// åŠ è½½UI</span></div><div class="line">loader.next()</div><div class="line"><span class="comment">// å¸è½½UI</span></div><div class="line">loader.next()</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">main</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> result = <span class="keyword">yield</span> request(<span class="string">"http://some.url"</span>);</div><div class="line">  <span class="keyword">var</span> resp = <span class="built_in">JSON</span>.parse(result);</div><div class="line">    <span class="built_in">console</span>.log(resp.value);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">  makeAjaxCall(url, <span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;</div><div class="line">    it.next(response);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> it = main();</div><div class="line">it.next();</div></pre></td></tr></table></figure>
<blockquote>
<p>2ï¼‰æ§åˆ¶æµç®¡ç†</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">step1(<span class="function"><span class="keyword">function</span> (<span class="params">value1</span>) </span>&#123;</div><div class="line">  step2(value1, <span class="function"><span class="keyword">function</span>(<span class="params">value2</span>) </span>&#123;</div><div class="line">    step3(value2, <span class="function"><span class="keyword">function</span>(<span class="params">value3</span>) </span>&#123;</div><div class="line">      step4(value3, <span class="function"><span class="keyword">function</span>(<span class="params">value4</span>) </span>&#123;</div><div class="line">        <span class="comment">// Do something with value4</span></div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>é‡‡ç”¨ Promise æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Promise</span>.resolve(step1)</div><div class="line">  .then(step2)</div><div class="line">  .then(step3)</div><div class="line">  .then(step4)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">value4</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something with value4</span></div><div class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="comment">// Handle any error from step1 through step4</span></div><div class="line">  &#125;)</div><div class="line">  .done();</div></pre></td></tr></table></figure></p>
<p>Generator å‡½æ•°å¯ä»¥è¿›ä¸€æ­¥æ”¹å–„ä»£ç è¿è¡Œæµç¨‹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">longRunningTask</span>(<span class="params">value1</span>) </span>&#123;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">var</span> value2 = <span class="keyword">yield</span> step1(value1);</div><div class="line">    <span class="keyword">var</span> value3 = <span class="keyword">yield</span> step2(value2);</div><div class="line">    <span class="keyword">var</span> value4 = <span class="keyword">yield</span> step3(value3);</div><div class="line">    <span class="keyword">var</span> value5 = <span class="keyword">yield</span> step4(value4);</div><div class="line">    <span class="comment">// Do something with value4</span></div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="comment">// Handle any error from step1 through step4</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">scheduler(longRunningTask(initialValue));</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">scheduler</span>(<span class="params">task</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> taskObj = task.next(task.value);</div><div class="line">  <span class="comment">// å¦‚æœGeneratorå‡½æ•°æœªç»“æŸï¼Œå°±ç»§ç»­è°ƒç”¨</span></div><div class="line">  <span class="keyword">if</span> (!taskObj.done) &#123;</div><div class="line">    task.value = taskObj.value</div><div class="line">    scheduler(task);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Generatorå‡½æ•°&quot;&gt;&lt;a href=&quot;#Generatorå‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;Generatorå‡½æ•°&quot;&gt;&lt;/a&gt;&lt;strong&gt;Generatorå‡½æ•°&lt;/strong&gt;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä»è¯­æ³•ä¸Šï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚&lt;br&gt;è°ƒç”¨ Generator å‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)ã€‚&lt;br&gt;Generator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚&lt;br&gt;Generator å‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;title&quot;&gt;helloWorldGenerator&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;hello&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;world&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;ending&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; hw = helloWorldGenerator();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;hw.next()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; value: &#39;hello&#39;, done: false &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;hw.next()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; value: &#39;world&#39;, done: false &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;hw.next()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; value: &#39;ending&#39;, done: true &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;hw.next()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; value: undefined, done: true &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å†™æ³•&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; * &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y&lt;/span&gt;) &lt;/span&gt;&amp;#123; Â·Â·Â· &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; *&lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y&lt;/span&gt;) &lt;/span&gt;&amp;#123; Â·Â·Â· &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y&lt;/span&gt;) &lt;/span&gt;&amp;#123; Â·Â·Â· &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;*&lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y&lt;/span&gt;) &lt;/span&gt;&amp;#123; Â·Â·Â· &amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸€ã€yield-è¡¨è¾¾å¼&quot;&gt;&lt;a href=&quot;#ä¸€ã€yield-è¡¨è¾¾å¼&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€yield è¡¨è¾¾å¼&quot;&gt;&lt;/a&gt;ä¸€ã€yield è¡¨è¾¾å¼&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç”±äº Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥å…¶å®æä¾›äº†ä¸€ç§å¯ä»¥æš‚åœæ‰§è¡Œçš„å‡½æ•°ã€‚yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹:&lt;br&gt;1ï¼‰é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚&lt;br&gt;2ï¼‰ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ã€‚&lt;br&gt;3ï¼‰å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚&lt;br&gt;4ï¼‰å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;title&quot;&gt;gen&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;456&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; g = gen()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;gen.next()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//&amp;#123; value: 579, done: false &amp;#125;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„</title>
    <link href="http://yoursite.com/2017/05/07/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Set%E5%92%8CMap%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    <id>http://yoursite.com/2017/05/07/è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„/</id>
    <published>2017-05-07T11:10:28.000Z</published>
    <updated>2017-05-21T14:01:27.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Setå’ŒMapæ•°æ®ç»“æ„"><a href="#Setå’ŒMapæ•°æ®ç»“æ„" class="headerlink" title="Setå’ŒMapæ•°æ®ç»“æ„"></a><strong>Setå’ŒMapæ•°æ®ç»“æ„</strong></h2><h3 id="ä¸€ã€Set"><a href="#ä¸€ã€Set" class="headerlink" title="ä¸€ã€Set"></a>ä¸€ã€Set</h3><blockquote>
<p>å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</div><div class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>].forEach(<span class="function"><span class="params">x</span> =&gt;</span> s.add(x));</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 2 3 5 4</span></div></pre></td></tr></table></figure>
<p>Set å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¾‹ä¸€</span></div><div class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]);</div><div class="line">[...set]</div><div class="line"><span class="comment">// [1, 2, 3, 4]</span></div><div class="line"><span class="comment">// ä¾‹äºŒ</span></div><div class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>]);</div><div class="line">items.size <span class="comment">// 5</span></div><div class="line"><span class="comment">// ä¾‹ä¸‰</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">divs</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> [...document.querySelectorAll(<span class="string">'div'</span>)];</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>(divs());</div><div class="line">set.size <span class="comment">// 56</span></div><div class="line"><span class="comment">// ç±»ä¼¼äº</span></div><div class="line">divs().forEach(<span class="function"><span class="params">div</span> =&gt;</span> set.add(div));</div><div class="line">set.size <span class="comment">// 56</span></div></pre></td></tr></table></figure>
<p>å»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜</span></div><div class="line">[...new <span class="built_in">Set</span>(array)]</div></pre></td></tr></table></figure>
<h3 id="äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"><a href="#äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"></a>äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h3><blockquote>
<ul>
<li>å±æ€§<ul>
<li>Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚</li>
<li>Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</li>
</ul>
</li>
<li>æ–¹æ³•<ul>
<li>add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚</li>
<li>delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</li>
<li>has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</li>
<li>clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="ä¸‰ã€éå†æ“ä½œ"><a href="#ä¸‰ã€éå†æ“ä½œ" class="headerlink" title="ä¸‰ã€éå†æ“ä½œ"></a>ä¸‰ã€éå†æ“ä½œ</h3><blockquote>
<ul>
<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨</li>
<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>
<li>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>
<li>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>
</ul>
</blockquote>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]);</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.keys()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// red</span></div><div class="line"><span class="comment">// green</span></div><div class="line"><span class="comment">// blue</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.values()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// red</span></div><div class="line"><span class="comment">// green</span></div><div class="line"><span class="comment">// blue</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.entries()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(item);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ["red", "red"]</span></div><div class="line"><span class="comment">// ["green", "green"]</span></div><div class="line"><span class="comment">// ["blue", "blue"]</span></div><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line">set.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> <span class="built_in">console</span>.log(value * <span class="number">2</span>) )</div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 4</span></div><div class="line"><span class="comment">// 6</span></div><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].map(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>));</div><div class="line"><span class="comment">// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;</span></div><div class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</div><div class="line">set = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].filter(<span class="function"><span class="params">x</span> =&gt;</span> (x % <span class="number">2</span>) == <span class="number">0</span>));</div><div class="line"><span class="comment">// è¿”å›Setç»“æ„ï¼š&#123;2, 4&#125;</span></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>];</div><div class="line"><span class="keyword">let</span> unique = [...new <span class="built_in">Set</span>(arr)];</div><div class="line"><span class="comment">// [3, 5, 2]</span></div></pre></td></tr></table></figure>
<h3 id="å››ã€Map"><a href="#å››ã€Map" class="headerlink" title="å››ã€Map"></a>å››ã€Map</h3><blockquote>
<p>å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">  [<span class="string">'name'</span>, <span class="string">'å¼ ä¸‰'</span>],</div><div class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</div><div class="line">]);</div><div class="line">map.size <span class="comment">// 2</span></div><div class="line">map.has(<span class="string">'name'</span>) <span class="comment">// true</span></div><div class="line">map.get(<span class="string">'name'</span>) <span class="comment">// "å¼ ä¸‰"</span></div><div class="line">map.has(<span class="string">'title'</span>) <span class="comment">// true</span></div><div class="line">map.get(<span class="string">'title'</span>) <span class="comment">// "Author"</span></div></pre></td></tr></table></figure>
<h3 id="äº”ã€Map-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"><a href="#äº”ã€Map-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="äº”ã€Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"></a>äº”ã€Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h3><blockquote>
<ul>
<li>å±æ€§<ul>
<li>Map.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Mapå‡½æ•°ã€‚</li>
<li>Map.prototype.sizeï¼šè¿”å›Mapå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</li>
</ul>
</li>
<li>æ–¹æ³•<ul>
<li>set(key, value)ï¼šsetæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚</li>
<li>get(key)ï¼šgetæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚</li>
<li>has(key)ï¼šhasæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚</li>
<li>delete(key)ï¼šdeleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚</li>
<li>clear(): clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="å…­ã€éå†æ“ä½œ"><a href="#å…­ã€éå†æ“ä½œ" class="headerlink" title="å…­ã€éå†æ“ä½œ"></a>å…­ã€éå†æ“ä½œ</h3><p>å’Œ Set ä¸€æ ·</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Setå’ŒMapæ•°æ®ç»“æ„&quot;&gt;&lt;a href=&quot;#Setå’ŒMapæ•°æ®ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;Setå’ŒMapæ•°æ®ç»“æ„&quot;&gt;&lt;/a&gt;&lt;strong&gt;Setå’ŒMapæ•°æ®ç»“æ„&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€Set&quot;&gt;&lt;a href=&quot;#ä¸€ã€Set&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Set&quot;&gt;&lt;/a&gt;ä¸€ã€Set&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; s = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;].forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; s.add(x));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; s) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 2 3 5 4&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Set å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¾‹ä¸€&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; set = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[...set]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¾‹äºŒ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; items = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;items.size &lt;span class=&quot;comment&quot;&gt;// 5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¾‹ä¸‰&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;divs&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [...document.querySelectorAll(&lt;span class=&quot;string&quot;&gt;&#39;div&#39;&lt;/span&gt;)];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; set = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;(divs());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;set.size &lt;span class=&quot;comment&quot;&gt;// 56&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç±»ä¼¼äº&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;divs().forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;div&lt;/span&gt; =&amp;gt;&lt;/span&gt; set.add(div));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;set.size &lt;span class=&quot;comment&quot;&gt;// 56&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[...new &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;(array)]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•&quot;&gt;&lt;a href=&quot;#äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•&quot;&gt;&lt;/a&gt;äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å±æ€§&lt;ul&gt;
&lt;li&gt;Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ–¹æ³•&lt;ul&gt;
&lt;li&gt;add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚&lt;/li&gt;
&lt;li&gt;delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚&lt;/li&gt;
&lt;li&gt;has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚&lt;/li&gt;
&lt;li&gt;clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸‰ã€éå†æ“ä½œ&quot;&gt;&lt;a href=&quot;#ä¸‰ã€éå†æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€éå†æ“ä½œ&quot;&gt;&lt;/a&gt;ä¸‰ã€éå†æ“ä½œ&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;keys()ï¼šè¿”å›é”®åçš„éå†å™¨&lt;/li&gt;
&lt;li&gt;values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨&lt;/li&gt;
&lt;li&gt;entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨&lt;/li&gt;
&lt;li&gt;forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•</title>
    <link href="http://yoursite.com/2017/05/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://yoursite.com/2017/05/06/è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•/</id>
    <published>2017-05-06T02:17:56.000Z</published>
    <updated>2017-05-21T14:04:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a><strong>å¯¹è±¡çš„æ‰©å±•</strong></h2><h3 id="ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•"><a href="#ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•" class="headerlink" title="ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•"></a>ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="string">'bar'</span>;</div><div class="line"><span class="keyword">var</span> baz = &#123;foo&#125;;</div><div class="line">baz <span class="comment">// &#123;foo: "bar"&#125;</span></div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">var</span> baz = &#123;<span class="attr">foo</span>: foo&#125;;</div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">  method() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"Hello!"</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">  <span class="attr">method</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"Hello!"</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//å¦‚æœæŸä¸ªæ–¹æ³•çš„å€¼æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œå‰é¢éœ€è¦åŠ ä¸Šæ˜Ÿå·ã€‚</span></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  * m()&#123;</div><div class="line">    <span class="keyword">yield</span> <span class="string">'hello world'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>ç”¨äºå‡½æ•°çš„è¿”å›å€¼ï¼Œå°†ä¼šéå¸¸æ–¹ä¾¿</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPoint</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line">  <span class="keyword">var</span> y = <span class="number">10</span>;</div><div class="line">  <span class="keyword">return</span> &#123;x, y&#125;;</div><div class="line">&#125;</div><div class="line">getPoint()</div><div class="line"><span class="comment">// &#123;x:1, y:10&#125;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>CommonJSæ¨¡å—è¾“å‡ºå˜é‡ï¼Œå°±éå¸¸åˆé€‚ä½¿ç”¨ç®€æ´å†™æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ms = &#123;&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getItem</span> (<span class="params">key</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> key <span class="keyword">in</span> ms ? ms[key] : <span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setItem</span> (<span class="params">key, value</span>) </span>&#123;</div><div class="line">  ms[key] = value;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  ms = &#123;&#125;;</div><div class="line">&#125;</div><div class="line"><span class="built_in">module</span>.exports = &#123; getItem, setItem, clear &#125;;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">getItem</span>: getItem,</div><div class="line">  <span class="attr">setItem</span>: setItem,</div><div class="line">  <span class="attr">clear</span>: clear</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="äºŒã€Object-is"><a href="#äºŒã€Object-is" class="headerlink" title="äºŒã€Object.is()"></a>äºŒã€Object.is()</h3><blockquote>
<p>Object.iså®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚</p>
</blockquote>
<h3 id="ä¸‰ã€Object-assign"><a href="#ä¸‰ã€Object-assign" class="headerlink" title="ä¸‰ã€Object.assign()"></a>ä¸‰ã€Object.assign()</h3><blockquote>
<p>Object.assignæ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</div><div class="line"><span class="keyword">var</span> source1 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</div><div class="line"><span class="keyword">var</span> source2 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</div><div class="line"><span class="built_in">Object</span>.assign(target, source1, source2);</div><div class="line">target <span class="comment">// &#123;a:1, b:2, c:3&#125;</span></div><div class="line"><span class="comment">//å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Object.assignæ–¹æ³•å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: <span class="number">1</span>&#125;&#125;;</div><div class="line"><span class="keyword">var</span> obj2 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj1);</div><div class="line">obj1.a.b = <span class="number">2</span>;</div><div class="line">obj2.a.b <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<blockquote>
<p>å¯¹äºè¿™ç§åµŒå¥—çš„å¯¹è±¡ï¼Œä¸€æ—¦é‡åˆ°åŒåå±æ€§ï¼ŒObject.assignçš„å¤„ç†æ–¹æ³•æ˜¯æ›¿æ¢ï¼Œè€Œä¸æ˜¯æ·»åŠ ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> target = &#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'c'</span>, <span class="attr">d</span>: <span class="string">'e'</span> &#125; &#125;</div><div class="line"><span class="keyword">var</span> source = &#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'hello'</span> &#125; &#125;</div><div class="line"><span class="built_in">Object</span>.assign(target, source)</div><div class="line"><span class="comment">// &#123; a: &#123; b: 'hello' &#125; &#125;</span></div></pre></td></tr></table></figure>
<p><strong>Object.assignå¸¸è§ç”¨é€”</strong></p>
<blockquote>
<p>1ï¼‰ä¸ºå¯¹è±¡æ·»åŠ å±æ€§</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y) &#123;</div><div class="line">    <span class="built_in">Object</span>.assign(<span class="keyword">this</span>, &#123;x, y&#125;);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢æ–¹æ³•é€šè¿‡Object.assignæ–¹æ³•ï¼Œå°†xå±æ€§å’Œyå±æ€§æ·»åŠ åˆ°Pointç±»çš„å¯¹è±¡å®ä¾‹ã€‚</p>
<blockquote>
<p>2ï¼‰ä¸ºå¯¹è±¡æ·»åŠ æ–¹æ³•</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.assign(SomeClass.prototype, &#123;</div><div class="line">  someMethod(arg1, arg2) &#123;</div><div class="line">    Â·Â·Â·</div><div class="line">  &#125;,</div><div class="line">  anotherMethod() &#123;</div><div class="line">    Â·Â·Â·</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// ç­‰åŒäºä¸‹é¢çš„å†™æ³•</span></div><div class="line">SomeClass.prototype.someMethod = <span class="function"><span class="keyword">function</span> (<span class="params">arg1, arg2</span>) </span>&#123;</div><div class="line">  Â·Â·Â·</div><div class="line">&#125;;</div><div class="line">SomeClass.prototype.anotherMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  Â·Â·Â·</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>3ï¼‰å…‹éš†å¯¹è±¡</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, origin);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç å°†åŸå§‹å¯¹è±¡æ‹·è´åˆ°ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå°±å¾—åˆ°äº†åŸå§‹å¯¹è±¡çš„å…‹éš†ã€‚</p>
<p>ä¸è¿‡ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•å…‹éš†ï¼Œåªèƒ½å…‹éš†åŸå§‹å¯¹è±¡è‡ªèº«çš„å€¼ï¼Œä¸èƒ½å…‹éš†å®ƒç»§æ‰¿çš„å€¼ã€‚å¦‚æœæƒ³è¦ä¿æŒç»§æ‰¿é“¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„ä»£ç ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> originProto = <span class="built_in">Object</span>.getPrototypeOf(origin);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.assign(<span class="built_in">Object</span>.create(originProto), origin);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>4ï¼‰åˆå¹¶å¤šä¸ªå¯¹è±¡</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> merge =</div><div class="line">  <span class="function">(<span class="params">target, ...sources</span>) =&gt;</span> <span class="built_in">Object</span>.assign(target, ...sources);</div></pre></td></tr></table></figure>
<p>å¦‚æœå¸Œæœ›åˆå¹¶åè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯ä»¥æ”¹å†™ä¸Šé¢å‡½æ•°ï¼Œå¯¹ä¸€ä¸ªç©ºå¯¹è±¡åˆå¹¶ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> merge =</div><div class="line">  <span class="function">(<span class="params">...sources</span>) =&gt;</span> <span class="built_in">Object</span>.assign(&#123;&#125;, ...sources);</div></pre></td></tr></table></figure></p>
<h3 id="å››ã€å±æ€§çš„éå†"><a href="#å››ã€å±æ€§çš„éå†" class="headerlink" title="å››ã€å±æ€§çš„éå†"></a>å››ã€å±æ€§çš„éå†</h3><blockquote>
<p>1ï¼‰forâ€¦in</p>
</blockquote>
<p>forâ€¦inå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</p>
<blockquote>
<p>2ï¼‰Object.keys(obj)</p>
</blockquote>
<p>Object.keysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</p>
<blockquote>
<p>3ï¼‰Object.getOwnPropertyNames(obj)</p>
</blockquote>
<p>Object.getOwnPropertyNamesè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰ã€‚</p>
<blockquote>
<p>4ï¼‰Object.getOwnPropertySymbols(obj)</p>
</blockquote>
<p>Object.getOwnPropertySymbolsè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§ã€‚</p>
<blockquote>
<p>5ï¼‰Reflect.ownKeys(obj)</p>
</blockquote>
<p>Reflect.ownKeysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼Œä¸ç®¡å±æ€§åæ˜¯Symbolæˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Reflect</span>.ownKeys(&#123; [<span class="built_in">Symbol</span>()]:<span class="number">0</span>, <span class="attr">b</span>:<span class="number">0</span>, <span class="number">10</span>:<span class="number">0</span>, <span class="number">2</span>:<span class="number">0</span>, <span class="attr">a</span>:<span class="number">0</span> &#125;)</div><div class="line"><span class="comment">// ['2', '10', 'b', 'a', Symbol()]</span></div></pre></td></tr></table></figure></p>
<h3 id="äº”ã€Object-keys-ï¼ŒObject-values-ï¼ŒObject-entries"><a href="#äº”ã€Object-keys-ï¼ŒObject-values-ï¼ŒObject-entries" class="headerlink" title="äº”ã€Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()"></a>äº”ã€Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()</h3><blockquote>
<ul>
<li>Object.keysæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®åã€‚</li>
<li>Object.valuesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼ã€‚Object.valuesåªè¿”å›å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚Object.valuesä¼šè¿‡æ»¤å±æ€§åä¸º Symbol å€¼çš„å±æ€§ã€‚å¦‚æœObject.valuesæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›å„ä¸ªå­—ç¬¦ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚</li>
<li>Object.entriesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚å¦‚æœåŸå¯¹è±¡çš„å±æ€§åæ˜¯ä¸€ä¸ª Symbol å€¼ï¼Œè¯¥å±æ€§ä¼šè¢«å¿½ç•¥ã€‚Object.entriesçš„åŸºæœ¬ç”¨é€”æ˜¯éå†å¯¹è±¡çš„å±æ€§ã€‚å¦ä¸€ä¸ªç”¨å¤„æ˜¯ï¼Œå°†å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„Mapç»“æ„ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</div><div class="line"><span class="built_in">Object</span>.keys(obj)</div><div class="line"><span class="comment">// ["foo", "baz"]</span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</div><div class="line"><span class="built_in">Object</span>.values(obj)</div><div class="line"><span class="comment">// ["bar", 42]</span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;;</div><div class="line"><span class="built_in">Object</span>.values(obj)</div><div class="line"><span class="comment">// ["b", "c", "a"]</span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</div><div class="line"><span class="built_in">Object</span>.entries(obj)</div><div class="line"><span class="comment">// [ ["foo", "bar"], ["baz", 42] ]</span></div><div class="line"><span class="keyword">let</span> &#123;keys, values, entries&#125; = <span class="built_in">Object</span>;</div><div class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> keys(obj)) &#123;</div><div class="line">  <span class="built_in">console</span>.log(key); <span class="comment">// 'a', 'b', 'c'</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> values(obj)) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value); <span class="comment">// 1, 2, 3</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> entries(obj)) &#123;</div><div class="line">  <span class="built_in">console</span>.log([key, value]); <span class="comment">// ['a', 1], ['b', 2], ['c', 3]</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦"><a href="#å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦"></a>å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦</h3><blockquote>
<p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> z = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span> &#125;;</div><div class="line"><span class="keyword">let</span> n = &#123; ...z &#125;;</div><div class="line">n <span class="comment">// &#123; a: 3, b: 4 &#125;</span></div><div class="line"><span class="keyword">let</span> aClone = &#123; ...a &#125;;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">let</span> aClone = <span class="built_in">Object</span>.assign(&#123;&#125;, a);</div><div class="line"><span class="comment">//åˆå¹¶ä¸¤ä¸ªå¯¹è±¡</span></div><div class="line"><span class="keyword">let</span> ab = &#123; ...a, ...b &#125;;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">let</span> ab = <span class="built_in">Object</span>.assign(&#123;&#125;, a, b);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¯¹è±¡çš„æ‰©å±•&quot;&gt;&lt;a href=&quot;#å¯¹è±¡çš„æ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;å¯¹è±¡çš„æ‰©å±•&quot;&gt;&lt;/a&gt;&lt;strong&gt;å¯¹è±¡çš„æ‰©å±•&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•&quot;&gt;&lt;a href=&quot;#ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•</title>
    <link href="http://yoursite.com/2017/05/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://yoursite.com/2017/05/05/è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•/</id>
    <published>2017-05-05T08:26:01.000Z</published>
    <updated>2017-05-21T14:05:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‡½æ•°çš„æ‰©å±•"><a href="#å‡½æ•°çš„æ‰©å±•" class="headerlink" title="å‡½æ•°çš„æ‰©å±•"></a><strong>å‡½æ•°çš„æ‰©å±•</strong></h2><h3 id="ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼"><a href="#ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼" class="headerlink" title="ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼"></a>ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</h3><blockquote>
<ul>
<li>å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜</li>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x, y = <span class="string">'World'</span></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(x, y);</div><div class="line">&#125;</div><div class="line">log(<span class="string">'Hello'</span>) <span class="comment">// Hello World</span></div><div class="line">log(<span class="string">'Hello'</span>, <span class="string">'China'</span>) <span class="comment">// Hello China</span></div><div class="line">log(<span class="string">'Hello'</span>, <span class="string">''</span>) <span class="comment">// Hello</span></div></pre></td></tr></table></figure>
<h3 id="äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨"><a href="#äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨" class="headerlink" title="äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨"></a>äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">&#123;x, y = <span class="number">5</span>&#125;</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(x, y);</div><div class="line">&#125;</div><div class="line">foo(&#123;&#125;) <span class="comment">// undefined, 5</span></div><div class="line">foo(&#123;<span class="attr">x</span>: <span class="number">1</span>&#125;) <span class="comment">// 1, 5</span></div><div class="line">foo(&#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;) <span class="comment">// 1, 2</span></div><div class="line">foo() <span class="comment">// TypeError: Cannot read property 'x' of undefined</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€restå‚æ•°"><a href="#ä¸‰ã€restå‚æ•°" class="headerlink" title="ä¸‰ã€restå‚æ•°"></a>ä¸‰ã€restå‚æ•°</h3><blockquote>
<p>ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€œâ€¦å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p>
<ul>
<li>rest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</div><div class="line">    sum += val;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> sum;</div><div class="line">&#125;</div><div class="line">add(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>) <span class="comment">// 10</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">array, ...items</span>) </span>&#123;</div><div class="line">  items.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</div><div class="line">    array.push(item);</div><div class="line">    <span class="built_in">console</span>.log(item);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> a = [];</div><div class="line">push(a, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div></pre></td></tr></table></figure>
<h3 id="å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦"><a href="#å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦" class="headerlink" title="å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)"></a>å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)</h3><blockquote>
<p>å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚<br>æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„Iteratoræ¥å£</p>
</blockquote>
<a id="more"></a>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="comment">// 1 2 3</span></div><div class="line"><span class="built_in">console</span>.log(<span class="number">1</span>, ...[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>)</div><div class="line"><span class="comment">// 1 2 3 4 5</span></div><div class="line">[...document.querySelectorAll(<span class="string">'div'</span>)]</div><div class="line"><span class="comment">// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">array, ...items</span>) </span>&#123;</div><div class="line">  array.push(...items);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> x + y;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> numbers = [<span class="number">4</span>, <span class="number">38</span>];</div><div class="line">add(...numbers) <span class="comment">// 42</span></div></pre></td></tr></table></figure>
<p>æ —å­ï¼š</p>
<blockquote>
<ul>
<li>æ›¿ä»£æ•°ç»„çš„applyæ–¹æ³•</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5çš„å†™æ³•</span></div><div class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</div><div class="line"><span class="comment">// ES6çš„å†™æ³•</span></div><div class="line"><span class="built_in">Math</span>.max(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="built_in">Math</span>.max(<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>);</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>åˆå¹¶æ•°ç»„</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>].concat(more)</div><div class="line"><span class="comment">// ES6</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, ...more]</div><div class="line"><span class="keyword">var</span> arr1 = [<span class="string">'a'</span>, <span class="string">'b'</span>];</div><div class="line"><span class="keyword">var</span> arr2 = [<span class="string">'c'</span>];</div><div class="line"><span class="keyword">var</span> arr3 = [<span class="string">'d'</span>, <span class="string">'e'</span>];</div><div class="line"><span class="comment">// ES5çš„åˆå¹¶æ•°ç»„</span></div><div class="line">arr1.concat(arr2, arr3);</div><div class="line"><span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></div><div class="line"><span class="comment">// ES6çš„åˆå¹¶æ•°ç»„</span></div><div class="line">[...arr1, ...arr2, ...arr3]</div><div class="line"><span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>ä¸è§£æ„èµ‹å€¼ç»“åˆ</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line">first <span class="comment">// 1</span></div><div class="line">rest  <span class="comment">// [2, 3, 4, 5]</span></div><div class="line"><span class="keyword">const</span> [first, ...rest] = [];</div><div class="line">first <span class="comment">// undefined</span></div><div class="line">rest  <span class="comment">// []:</span></div><div class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="string">"foo"</span>];</div><div class="line">first  <span class="comment">// "foo"</span></div><div class="line">rest   <span class="comment">// []</span></div></pre></td></tr></table></figure>
<h3 id="äº”ã€ç®­å¤´å‡½æ•°"><a href="#äº”ã€ç®­å¤´å‡½æ•°" class="headerlink" title="äº”ã€ç®­å¤´å‡½æ•°"></a>äº”ã€ç®­å¤´å‡½æ•°</h3><blockquote>
<p>ç®­å¤´å‡½æ•°å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°</p>
</blockquote>
<p>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> f = <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">5</span>;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">5</span> &#125;;</div><div class="line"><span class="keyword">var</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v;</div><div class="line"><span class="comment">//ç­‰åŒäºï¼š</span></div><div class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> v;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 + num2;</div><div class="line"><span class="comment">// ç­‰åŒäº</span></div><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> num1 + num2;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<blockquote>
<ul>
<li>ç®­å¤´å‡½æ•°ç®€åŒ–å›è°ƒå‡½æ•°</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ­£å¸¸å‡½æ•°å†™æ³•</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> x * x;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// ç®­å¤´å‡½æ•°å†™æ³•</span></div><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>ç®­å¤´å‡½æ•°å¯ä»¥è®©setTimeouté‡Œé¢çš„thisï¼Œç»‘å®šå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯æŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸ</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Timer</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.s1 = <span class="number">0</span>;</div><div class="line">  <span class="keyword">this</span>.s2 = <span class="number">0</span>;</div><div class="line">  <span class="comment">// ç®­å¤´å‡½æ•°</span></div><div class="line">  setInterval(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.s1++, <span class="number">1000</span>);</div><div class="line">  <span class="comment">// æ™®é€šå‡½æ•°</span></div><div class="line">  setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.s2++;</div><div class="line">  &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> timer = <span class="keyword">new</span> Timer();</div><div class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'s1: '</span>, timer.s1), <span class="number">3100</span>);</div><div class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'s2: '</span>, timer.s2), <span class="number">3100</span>);</div><div class="line"><span class="comment">// s1: 3</span></div><div class="line"><span class="comment">// s2: 0</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>å› ä¸ºæ‰€æœ‰çš„å†…å±‚å‡½æ•°éƒ½æ˜¯ç®­å¤´å‡½æ•°ï¼Œéƒ½æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä»¬çš„thiså…¶å®éƒ½æ˜¯æœ€å¤–å±‚fooå‡½æ•°çš„this</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'id:'</span>, <span class="keyword">this</span>.id);</div><div class="line">      &#125;;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = foo.call(&#123;<span class="attr">id</span>: <span class="number">1</span>&#125;);</div><div class="line"><span class="keyword">var</span> t1 = f.call(&#123;<span class="attr">id</span>: <span class="number">2</span>&#125;)()(); <span class="comment">// id: 1</span></div><div class="line"><span class="keyword">var</span> t2 = f().call(&#123;<span class="attr">id</span>: <span class="number">3</span>&#125;)(); <span class="comment">// id: 1</span></div><div class="line"><span class="keyword">var</span> t3 = f()().call(&#123;<span class="attr">id</span>: <span class="number">4</span>&#125;); <span class="comment">// id: 1</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‡½æ•°çš„æ‰©å±•&quot;&gt;&lt;a href=&quot;#å‡½æ•°çš„æ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;å‡½æ•°çš„æ‰©å±•&quot;&gt;&lt;/a&gt;&lt;strong&gt;å‡½æ•°çš„æ‰©å±•&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼&quot;&gt;&lt;a href=&quot;#ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼&quot;&gt;&lt;/a&gt;ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜&lt;/li&gt;
&lt;li&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y = &lt;span class=&quot;string&quot;&gt;&#39;World&#39;&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(x, y);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log(&lt;span class=&quot;string&quot;&gt;&#39;Hello&#39;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// Hello World&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log(&lt;span class=&quot;string&quot;&gt;&#39;Hello&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;China&#39;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// Hello China&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;log(&lt;span class=&quot;string&quot;&gt;&#39;Hello&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// Hello&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨&quot;&gt;&lt;a href=&quot;#äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨&quot;&gt;&lt;/a&gt;äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&amp;#123;x, y = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&amp;#125;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(x, y);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo(&amp;#123;&amp;#125;) &lt;span class=&quot;comment&quot;&gt;// undefined, 5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo(&amp;#123;&lt;span class=&quot;attr&quot;&gt;x&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;#125;) &lt;span class=&quot;comment&quot;&gt;// 1, 5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo(&amp;#123;&lt;span class=&quot;attr&quot;&gt;x&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;y&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&amp;#125;) &lt;span class=&quot;comment&quot;&gt;// 1, 2&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;foo() &lt;span class=&quot;comment&quot;&gt;// TypeError: Cannot read property &#39;x&#39; of undefined&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä¸‰ã€restå‚æ•°&quot;&gt;&lt;a href=&quot;#ä¸‰ã€restå‚æ•°&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€restå‚æ•°&quot;&gt;&lt;/a&gt;ä¸‰ã€restå‚æ•°&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€œâ€¦å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;...values&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; sum = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; val &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; values) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sum += val;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sum;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;add(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;array, ...items&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  items.forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    array.push(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(item);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = [];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;push(a, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦&quot;&gt;&lt;a href=&quot;#å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦&quot; class=&quot;headerlink&quot; title=&quot;å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)&quot;&gt;&lt;/a&gt;å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚&lt;br&gt;æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„Iteratoræ¥å£&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•</title>
    <link href="http://yoursite.com/2017/05/04/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://yoursite.com/2017/05/04/è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•/</id>
    <published>2017-05-04T15:22:23.000Z</published>
    <updated>2017-05-21T14:06:20.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°ç»„çš„æ‰©å±•"><a href="#æ•°ç»„çš„æ‰©å±•" class="headerlink" title="æ•°ç»„çš„æ‰©å±•"></a><strong>æ•°ç»„çš„æ‰©å±•</strong></h2><h3 id="ä¸€ã€Array-from"><a href="#ä¸€ã€Array-from" class="headerlink" title="ä¸€ã€Array.from()"></a>ä¸€ã€Array.from()</h3><blockquote>
<p>å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ES6æ–°å¢çš„æ•°æ®ç»“æ„Setå’ŒMapï¼‰</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</span></div><div class="line"><span class="keyword">let</span> arrayLike = &#123;</div><div class="line">    <span class="string">'0'</span>: <span class="string">'a'</span>,</div><div class="line">    <span class="string">'1'</span>: <span class="string">'b'</span>,</div><div class="line">    <span class="string">'2'</span>: <span class="string">'c'</span>,</div><div class="line">    <span class="attr">length</span>: <span class="number">3</span></div><div class="line">&#125;;</div><div class="line"><span class="comment">// ES5çš„å†™æ³•</span></div><div class="line"><span class="keyword">var</span> arr1 = [].slice.call(arrayLike); <span class="comment">// ['a', 'b', 'c']</span></div><div class="line"><span class="comment">// ES6çš„å†™æ³•</span></div><div class="line"><span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.from(arrayLike); <span class="comment">// ['a', 'b', 'c']</span></div><div class="line"><span class="comment">// NodeListå¯¹è±¡</span></div><div class="line"><span class="keyword">let</span> ps = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</div><div class="line"><span class="built_in">Array</span>.from(ps).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">p</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(p);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// argumentså¯¹è±¡</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„</p>
</blockquote>
<h3 id="äºŒã€Array-of"><a href="#äºŒã€Array-of" class="headerlink" title="äºŒã€Array.of()"></a>äºŒã€Array.of()</h3><blockquote>
<p>ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3,11,8]</span></div><div class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>) <span class="comment">// [3]</span></div><div class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>).length <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin"><a href="#ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin" class="headerlink" title="ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()"></a>ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()</h3><blockquote>
<p>åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„</p>
<ul>
<li>targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚</li>
<li>startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>
<li>endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>)</div><div class="line"><span class="comment">// [4, 5, 3, 4, 5]</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line"><span class="comment">// [4, 2, 3, 4, 5]</span></div><div class="line"><span class="comment">// -2ç›¸å½“äº3å·ä½ï¼Œ-1ç›¸å½“äº4å·ä½</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">-2</span>, <span class="number">-1</span>)</div><div class="line"><span class="comment">// [4, 2, 3, 4, 5]</span></div></pre></td></tr></table></figure>
<h3 id="å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex"><a href="#å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex" class="headerlink" title="å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()"></a>å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()</h3><blockquote>
<ul>
<li>findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„<strong>æ•°ç»„æˆå‘˜</strong>ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚</li>
<li>findIndexè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„<strong>ä½ç½®</strong>ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">-5</span>, <span class="number">10</span>].find(<span class="function">(<span class="params">n</span>) =&gt;</span> n &lt; <span class="number">0</span>)</div><div class="line"><span class="comment">// -5</span></div><div class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> value &gt; <span class="number">9</span>;</div><div class="line">&#125;) <span class="comment">// 10</span></div><div class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> value &gt; <span class="number">9</span>;</div><div class="line">&#125;) <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="äº”ã€æ•°ç»„å®ä¾‹çš„fill"><a href="#äº”ã€æ•°ç»„å®ä¾‹çš„fill" class="headerlink" title="äº”ã€æ•°ç»„å®ä¾‹çš„fill()"></a>äº”ã€æ•°ç»„å®ä¾‹çš„fill()</h3><blockquote>
<p>ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].fill(<span class="number">7</span>)</div><div class="line"><span class="comment">// [7, 7, 7]</span></div><div class="line"><span class="comment">//ä»1å·ä½å¼€å§‹ï¼Œå‘åŸæ•°ç»„å¡«å……7ï¼Œåˆ°2å·ä½ä¹‹å‰ç»“æŸ</span></div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].fill(<span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>)</div><div class="line"><span class="comment">// ['a', 7, 'c']</span></div></pre></td></tr></table></figure>
<h3 id="å…­ã€æ•°ç»„å®ä¾‹çš„entries-ï¼Œkeys-å’Œvalues"><a href="#å…­ã€æ•°ç»„å®ä¾‹çš„entries-ï¼Œkeys-å’Œvalues" class="headerlink" title="å…­ã€æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()"></a>å…­ã€æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()</h3><blockquote>
<p>keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].keys()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(index);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> elem <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].values()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(elem);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 'a'</span></div><div class="line"><span class="comment">// 'b'</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [index, elem] <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].entries()) &#123;</div><div class="line">  <span class="built_in">console</span>.log(index, elem);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 0 "a"</span></div><div class="line"><span class="comment">// 1 "b"</span></div></pre></td></tr></table></figure>
<h3 id="ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes"><a href="#ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes" class="headerlink" title="ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes()"></a>ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes()</h3><blockquote>
<p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼,æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">2</span>);     <span class="comment">// true</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">4</span>);     <span class="comment">// false</span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].includes(<span class="literal">NaN</span>); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="å…«ã€æ•°ç»„çš„ç©ºä½"><a href="#å…«ã€æ•°ç»„çš„ç©ºä½" class="headerlink" title="å…«ã€æ•°ç»„çš„ç©ºä½"></a>å…«ã€æ•°ç»„çš„ç©ºä½</h3><blockquote>
<ul>
<li>forEach(), filter(), every() å’Œsome()éƒ½ä¼šè·³è¿‡ç©ºä½</li>
<li>map()ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼</li>
<li>join()å’ŒtoString()ä¼šå°†ç©ºä½è§†ä¸ºundefinedï¼Œè€Œundefinedå’Œnullä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸²</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// forEachæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>].forEach(<span class="function">(<span class="params">x,i</span>) =&gt;</span> <span class="built_in">console</span>.log(i)); <span class="comment">// 1</span></div><div class="line"><span class="comment">// filteræ–¹æ³•</span></div><div class="line">[<span class="string">'a'</span>,,<span class="string">'b'</span>].filter(<span class="function"><span class="params">x</span> =&gt;</span> <span class="literal">true</span>) <span class="comment">// ['a','b']</span></div><div class="line"><span class="comment">// everyæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x===<span class="string">'a'</span>) <span class="comment">// true</span></div><div class="line"><span class="comment">// someæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>].some(<span class="function"><span class="params">x</span> =&gt;</span> x !== <span class="string">'a'</span>) <span class="comment">// false</span></div><div class="line"><span class="comment">// mapæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="number">1</span>) <span class="comment">// [,1]</span></div><div class="line"><span class="comment">// joinæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].join(<span class="string">'#'</span>) <span class="comment">// "#a##"</span></div><div class="line"><span class="comment">// toStringæ–¹æ³•</span></div><div class="line">[,<span class="string">'a'</span>,<span class="literal">undefined</span>,<span class="literal">null</span>].toString() <span class="comment">// ",a,,"</span></div></pre></td></tr></table></figure>
<blockquote>
<p>ES6åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸ºundefinedã€‚å°½é‡å»ºè®®é¿å…å‡ºç°ç©ºä½ã€‚</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•°ç»„çš„æ‰©å±•&quot;&gt;&lt;a href=&quot;#æ•°ç»„çš„æ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;æ•°ç»„çš„æ‰©å±•&quot;&gt;&lt;/a&gt;&lt;strong&gt;æ•°ç»„çš„æ‰©å±•&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€Array-from&quot;&gt;&lt;a href=&quot;#ä¸€ã€Array-from&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Array.from()&quot;&gt;&lt;/a&gt;ä¸€ã€Array.from()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ES6æ–°å¢çš„æ•°æ®ç»“æ„Setå’ŒMapï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; arrayLike = &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;a&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;b&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;c&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;length&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ES5çš„å†™æ³•&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; arr1 = [].slice.call(arrayLike); &lt;span class=&quot;comment&quot;&gt;// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ES6çš„å†™æ³•&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; arr2 = &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(arrayLike); &lt;span class=&quot;comment&quot;&gt;// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// NodeListå¯¹è±¡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; ps = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.querySelectorAll(&lt;span class=&quot;string&quot;&gt;&#39;p&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(ps).forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;p&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(p);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// argumentså¯¹è±¡&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; args = &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(&lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;äºŒã€Array-of&quot;&gt;&lt;a href=&quot;#äºŒã€Array-of&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Array.of()&quot;&gt;&lt;/a&gt;äºŒã€Array.of()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.of(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// [3,11,8]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.of(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// [3]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.of(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;).length &lt;span class=&quot;comment&quot;&gt;// 1&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin&quot;&gt;&lt;a href=&quot;#ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()&quot;&gt;&lt;/a&gt;ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚&lt;/li&gt;
&lt;li&gt;endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;].copyWithin(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [4, 5, 3, 4, 5]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;].copyWithin(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [4, 2, 3, 4, 5]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// -2ç›¸å½“äº3å·ä½ï¼Œ-1ç›¸å½“äº4å·ä½&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;].copyWithin(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [4, 2, 3, 4, 5]&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex&quot;&gt;&lt;a href=&quot;#å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex&quot; class=&quot;headerlink&quot; title=&quot;å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()&quot;&gt;&lt;/a&gt;å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„&lt;strong&gt;æ•°ç»„æˆå‘˜&lt;/strong&gt;ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚&lt;/li&gt;
&lt;li&gt;findIndexè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„&lt;strong&gt;ä½ç½®&lt;/strong&gt;ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;].find(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;n&lt;/span&gt;) =&amp;gt;&lt;/span&gt; n &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// -5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;].find(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;value, index, arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; value &amp;gt; &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;) &lt;span class=&quot;comment&quot;&gt;// 10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;].findIndex(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;value, index, arr&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; value &amp;gt; &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;) &lt;span class=&quot;comment&quot;&gt;// 2&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•</title>
    <link href="http://yoursite.com/2017/05/03/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E6%95%B0%E5%80%BC%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://yoursite.com/2017/05/03/è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•/</id>
    <published>2017-05-03T15:03:20.000Z</published>
    <updated>2017-05-21T14:06:38.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°å€¼çš„æ‰©å±•"><a href="#æ•°å€¼çš„æ‰©å±•" class="headerlink" title="æ•°å€¼çš„æ‰©å±•"></a><strong>æ•°å€¼çš„æ‰©å±•</strong></h2><h3 id="ä¸€ã€Number-isFinite-Number-isNaN"><a href="#ä¸€ã€Number-isFinite-Number-isNaN" class="headerlink" title="ä¸€ã€Number.isFinite(), Number.isNaN()"></a>ä¸€ã€Number.isFinite(), Number.isNaN()</h3><blockquote>
<ul>
<li>Number.isFinite()  æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰</li>
<li>Number.isNaN()  æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaN</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Number.isFinite()</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="number">15</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="number">0.8</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">NaN</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">Infinity</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isFinite(-<span class="literal">Infinity</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="string">'foo'</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="string">'15'</span>); <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">true</span>); <span class="comment">// false</span></div><div class="line"><span class="comment">//Number.isNaN()</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>) <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="number">15</span>) <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'15'</span>) <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">true</span>) <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="number">9</span>/<span class="literal">NaN</span>) <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'true'</span>/<span class="number">0</span>) <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isNaN(<span class="string">'true'</span>/<span class="string">'true'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="äºŒã€Number-parseInt-Number-parseFloat"><a href="#äºŒã€Number-parseInt-Number-parseFloat" class="headerlink" title="äºŒã€Number.parseInt(), Number.parseFloat()"></a>äºŒã€Number.parseInt(), Number.parseFloat()</h3><blockquote>
<p>å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Number</span>.parseInt === <span class="built_in">parseInt</span> <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.parseFloat === <span class="built_in">parseFloat</span> <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€Number-isInteger"><a href="#ä¸‰ã€Number-isInteger" class="headerlink" title="ä¸‰ã€Number.isInteger()"></a>ä¸‰ã€Number.isInteger()</h3><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25</span>) <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>) <span class="comment">// true</span></div><div class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.1</span>) <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isInteger(<span class="string">"15"</span>) <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">true</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="å››ã€å®‰å…¨æ•´æ•°å’ŒNumber-isSafeInteger"><a href="#å››ã€å®‰å…¨æ•´æ•°å’ŒNumber-isSafeInteger" class="headerlink" title="å››ã€å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()"></a>å››ã€å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()</h3><blockquote>
<p>JavaScriptèƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚Number.isSafeInteger() ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…</p>
</blockquote>
<h3 id="äº”ã€Math-trunc"><a href="#äº”ã€Math-trunc" class="headerlink" title="äº”ã€Math.trunc()"></a>äº”ã€Math.trunc()</h3><blockquote>
<p>å»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†</p>
</blockquote>
<h3 id="å…­ã€Math-sign"><a href="#å…­ã€Math-sign" class="headerlink" title="å…­ã€Math.sign()"></a>å…­ã€Math.sign()</h3><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶</p>
<ul>
<li>å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›+1ï¼›</li>
<li>å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›-1ï¼›</li>
<li>å‚æ•°ä¸º0ï¼Œè¿”å›0ï¼›</li>
<li>å‚æ•°ä¸º-0ï¼Œè¿”å›-0;</li>
<li>å…¶ä»–å€¼ï¼Œè¿”å›NaNã€‚</li>
</ul>
</blockquote>
<h3 id="ä¸ƒã€Math-signbit"><a href="#ä¸ƒã€Math-signbit" class="headerlink" title="ä¸ƒã€Math.signbit()"></a>ä¸ƒã€Math.signbit()</h3><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªæ•°çš„ç¬¦å·ä½æ˜¯å¦è®¾ç½®äº†</p>
<ul>
<li>å¦‚æœå‚æ•°æ˜¯NaNï¼Œè¿”å›false</li>
<li>å¦‚æœå‚æ•°æ˜¯-0ï¼Œè¿”å›true</li>
<li>å¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¿”å›true</li>
<li>å…¶ä»–æƒ…å†µè¿”å›false</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Math</span>.signbit(<span class="number">2</span>) <span class="comment">//false</span></div><div class="line"><span class="built_in">Math</span>.signbit(<span class="number">-2</span>) <span class="comment">//true</span></div><div class="line"><span class="built_in">Math</span>.signbit(<span class="number">0</span>) <span class="comment">//false</span></div><div class="line"><span class="built_in">Math</span>.signbit(<span class="number">-0</span>) <span class="comment">//true</span></div></pre></td></tr></table></figure>
<h3 id="å…«ã€æŒ‡æ•°è¿ç®—ç¬¦"><a href="#å…«ã€æŒ‡æ•°è¿ç®—ç¬¦" class="headerlink" title="å…«ã€æŒ‡æ•°è¿ç®—ç¬¦( ** )"></a>å…«ã€æŒ‡æ•°è¿ç®—ç¬¦( ** )</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span> ** <span class="number">2</span> <span class="comment">// 4</span></div><div class="line"><span class="number">2</span> ** <span class="number">3</span> <span class="comment">// 8</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•°å€¼çš„æ‰©å±•&quot;&gt;&lt;a href=&quot;#æ•°å€¼çš„æ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;æ•°å€¼çš„æ‰©å±•&quot;&gt;&lt;/a&gt;&lt;strong&gt;æ•°å€¼çš„æ‰©å±•&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€Number-isFinite-Number-isNaN&quot;&gt;&lt;a href=&quot;#ä¸€ã€Number-isFinite-Number-isNaN&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Number.isFinite(), Number.isNaN()&quot;&gt;&lt;/a&gt;ä¸€ã€Number.isFinite(), Number.isNaN()&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Number.isFinite()  æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰&lt;/li&gt;
&lt;li&gt;Number.isNaN()  æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaN&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Number.isFinite()&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;number&quot;&gt;0.8&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;literal&quot;&gt;NaN&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;literal&quot;&gt;Infinity&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(-&lt;span class=&quot;literal&quot;&gt;Infinity&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;string&quot;&gt;&#39;foo&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;string&quot;&gt;&#39;15&#39;&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isFinite(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Number.isNaN()&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;literal&quot;&gt;NaN&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;string&quot;&gt;&#39;15&#39;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;/&lt;span class=&quot;literal&quot;&gt;NaN&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isNaN(&lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;/&lt;span class=&quot;string&quot;&gt;&#39;true&#39;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;äºŒã€Number-parseInt-Number-parseFloat&quot;&gt;&lt;a href=&quot;#äºŒã€Number-parseInt-Number-parseFloat&quot; class=&quot;headerlink&quot; title=&quot;äºŒã€Number.parseInt(), Number.parseFloat()&quot;&gt;&lt;/a&gt;äºŒã€Number.parseInt(), Number.parseFloat()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.parseInt === &lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.parseFloat === &lt;span class=&quot;built_in&quot;&gt;parseFloat&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä¸‰ã€Number-isInteger&quot;&gt;&lt;a href=&quot;#ä¸‰ã€Number-isInteger&quot; class=&quot;headerlink&quot; title=&quot;ä¸‰ã€Number.isInteger()&quot;&gt;&lt;/a&gt;ä¸‰ã€Number.isInteger()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isInteger(&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isInteger(&lt;span class=&quot;number&quot;&gt;25.0&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isInteger(&lt;span class=&quot;number&quot;&gt;25.1&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isInteger(&lt;span class=&quot;string&quot;&gt;&quot;15&quot;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Number&lt;/span&gt;.isInteger(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨</title>
    <link href="http://yoursite.com/2017/04/27/%E2%80%99DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    <id>http://yoursite.com/2017/04/27/â€™DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨/</id>
    <published>2017-04-27T06:47:55.000Z</published>
    <updated>2017-05-21T14:09:57.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å‰è¨€ï¼šåœ¨æœ€è¿‘çš„ä¸€ä¸ªå¤–åŒ…é¡¹ç›®<a href="http://www.zblmchina.com/#/post" target="_blank" rel="external">ä¸­åŒ…è”ç›Ÿ</a>(PCç«¯)ä¸­ä½¿ç”¨åˆ°äº†videoï¼Œé‡åˆ°äº†å¥½å¤šå‘ã€‚çªå‘å¥‡æƒ³æ¥è¸©ä¸€è¸©audioçš„å‘ğŸ˜€ï¼Œæœç„¶ä¸€å…¥æ·±ä¼¼æµ·ï¼ŒğŸ‘‡ä¸‹é¢å°†åˆ†äº«æˆ‘çš„DIYä¹‹è·¯-VueéŸ³ä¹æ’­æ”¾å™¨ã€‚<br>æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ï¼Œä»…ä¾›å­¦ä¹ ã€‚æœ‰é—®é¢˜æˆ–å»ºè®®å‘æˆ‘é‚®ç®±ï¼šhjingren@aliyun.com</p>
</blockquote>
<p>[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®]</p>
<h3 id="é¢„è§ˆåœ°å€ï¼š-http-hjingren-cn-magic-music"><a href="#é¢„è§ˆåœ°å€ï¼š-http-hjingren-cn-magic-music" class="headerlink" title="é¢„è§ˆåœ°å€ï¼š http://hjingren.cn/magic-music"></a><strong>é¢„è§ˆåœ°å€ï¼š</strong> <a href="http://hjingren.cn/magic-music" target="_blank" rel="external">http://hjingren.cn/magic-music</a></h3><h3 id="Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic"><a href="#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic" class="headerlink" title="Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic"></a><strong>Githubåœ°å€ï¼š</strong> <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="external">https://github.com/hzzly/MagicMusic</a></h3><p>æ¬¢è¿å¤§å®¶çš„starå•¦ğŸ˜„~</p>
<p>å…ˆæ¥ä¸ªé¢„è§ˆï¼š</p>
<p><img src="http://omt3u4bph.bkt.clouddn.com/magic-music1.gif" alt="magic-music1"></p>
<p>æ›´å¤šé¢„è§ˆï¼š<a href="http://hjingren.cn/magic-music/pic.html" target="_blank" rel="external">æ›´å¤š</a></p>
<p>ğŸ‘‰è€é“ä»¬ï¼Œå‡†å¤‡å‘è½¦(æŠ€èƒ½ç‚¹)ï¼š</p>
<blockquote>
<ul>
<li><a href="https://cn.vuejs.org/" target="_blank" rel="external">vueæ–‡æ¡£</a></li>
<li><a href="https://router.vuejs.org/zh-cn/" target="_blank" rel="external">vue-routeræ–‡æ¡£</a></li>
<li><a href="https://vuex.vuejs.org/zh-cn/" target="_blank" rel="external">vuexæ–‡æ¡£</a> ä¸æƒ³çœ‹æ–‡æ¡£çš„å¯ä»¥çœ‹çœ‹æˆ‘è¿™ç¯‡åšå®¢<a href="https://hzzly.github.io/2017/04/04/vuex%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/" target="_blank" rel="external">vuexå­¦ä¹ å®è·µç¬”è®°</a></li>
<li><a href="https://www.npmjs.com/package/axios" target="_blank" rel="external">axiosæ–‡æ¡£</a> æˆ–è€…è¿™ç¯‡åšå®¢ <a href="https://blog.ygxdxx.com/2017/02/01/Vuex2&amp;Axios-Develop/" target="_blank" rel="external">Vuex2 ä¸ Axios å¼€å‘</a>(æˆ‘ä¹Ÿæ˜¯å‚è€ƒè¿™ç¯‡ï¼Œæ„Ÿè°¢ä½œè€…ğŸ˜)</li>
<li><a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">es6(é˜®ä¸€å³°çš„es6å…¥é—¨)</a> å¯ä»¥å‚è€ƒ<a href="https://hzzly.github.io/tags/es6/" target="_blank" rel="external">æˆ‘çš„es6ä¹‹è·¯</a>(è¿˜åœ¨ç»§ç»­,è½»å–·)</li>
<li><a href="https://doc.webpack-china.org/" target="_blank" rel="external">webpack2(ä¸­æ–‡ç½‘ç«™)</a></li>
<li><a href="https://hzzly.github.io/2017/03/25/%E6%B5%85%E8%B0%88Promise/" target="_blank" rel="external">Promise (æµ…è°ˆPromise)</a></li>
<li><a href="https://hzzly.github.io/2017/03/03/Web%E7%9A%84Flex%E5%BC%B9%E6%80%A7%E7%9B%92%E6%A8%A1%E5%9E%8B/" target="_blank" rel="external">flex (Webçš„flexå¼¹æ€§ç›’æ¨¡å‹)</a></li>
<li><a href="https://hzzly.github.io/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/" target="_blank" rel="external">ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³ (flexible+rem)</a></li>
<li><a href="https://hzzly.github.io/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/" target="_blank" rel="external">æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)</a></li>
<li><a href="https://github.com/hilongjw/vue-lazyload?from=gold" target="_blank" rel="external">å›¾ç‰‡æ‡’åŠ è½½</a></li>
</ul>
</blockquote>
<p>ğŸ‘‰åå¥½ï¼Œå‡ºå‘</p>
<h3 id="å®ç°çš„åŠŸèƒ½"><a href="#å®ç°çš„åŠŸèƒ½" class="headerlink" title="å®ç°çš„åŠŸèƒ½"></a>å®ç°çš„åŠŸèƒ½</h3><h4 id="1ã€é¦–é¡µ"><a href="#1ã€é¦–é¡µ" class="headerlink" title="1ã€é¦–é¡µ"></a>1ã€é¦–é¡µ</h4><blockquote>
<ul>
<li>[x] è½®æ’­</li>
<li>[x] ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]</li>
<li>[x] æ­Œæ›²æ“ä½œ<ul>
<li>[x] åŠ å…¥æ’­æ”¾åˆ—è¡¨</li>
<li>[ ] å–œæ¬¢</li>
<li>[ ] åˆ†äº«</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶"><a href="#2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶" class="headerlink" title="2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶"></a>2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶</h4><blockquote>
<ul>
<li>[x] æ’­æ”¾</li>
<li>[x] æš‚åœ</li>
<li>[x] ä¸‹ä¸€æ›²</li>
<li>[x] æ’­æ”¾è¿›åº¦æ¡</li>
</ul>
</blockquote>
<a id="more"></a>
<h4 id="3ã€æ’­æ”¾é¡µé¢"><a href="#3ã€æ’­æ”¾é¡µé¢" class="headerlink" title="3ã€æ’­æ”¾é¡µé¢"></a>3ã€æ’­æ”¾é¡µé¢</h4><blockquote>
<ul>
<li>[x] ä¸Šä¸€æ›²</li>
<li>[x] æ’­æ”¾</li>
<li>[x] æš‚åœ</li>
<li>[x] ä¸‹ä¸€æ›²</li>
<li>[x] æ’­æ”¾è¿›åº¦æ¡[å¼§å½¢è¿›åº¦æ¡]</li>
<li>[x] æ­Œè¯æ»šåŠ¨</li>
<li>[x] æ’­æ”¾çš„æ­Œè¯é«˜äº®</li>
<li>[ ] æ’­æ”¾æ¨¡å¼[å•æ›²å¾ªç¯ã€åˆ—è¡¨å¾ªç¯ã€éšæœºæ’­æ”¾]</li>
</ul>
</blockquote>
<h4 id="4ã€æ’­æ”¾åˆ—è¡¨"><a href="#4ã€æ’­æ”¾åˆ—è¡¨" class="headerlink" title="4ã€æ’­æ”¾åˆ—è¡¨"></a>4ã€æ’­æ”¾åˆ—è¡¨</h4><blockquote>
<ul>
<li>[x] æ’­æ”¾æ­Œæ›²é«˜äº®</li>
<li>[x] åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ)</li>
<li>[x] åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X)</li>
<li>[ ] æ¸…ç©ºæ’­æ”¾åˆ—è¡¨</li>
<li>[ ] æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨</li>
</ul>
</blockquote>
<h4 id="5ã€æ’è¡Œæ¦œ"><a href="#5ã€æ’è¡Œæ¦œ" class="headerlink" title="5ã€æ’è¡Œæ¦œ"></a>5ã€æ’è¡Œæ¦œ</h4><blockquote>
<ul>
<li>[x] çƒ­é—¨æ’è¡Œæ¦œ</li>
<li>[x] æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)</li>
</ul>
</blockquote>
<h4 id="6ã€éŸ³ä¹æœç´¢"><a href="#6ã€éŸ³ä¹æœç´¢" class="headerlink" title="6ã€éŸ³ä¹æœç´¢"></a>6ã€éŸ³ä¹æœç´¢</h4><p>è¾“å…¥æœç´¢å…³é”®è¯ï¼Œç‚¹å‡»<code>æ”¾å¤§é•œ</code>å›¾æ ‡</p>
<blockquote>
<ul>
<li>[x] å•æ›²(å•å‡»æˆ–ç‚¹å‡»æ­Œæ›²æ“ä½œ(â€¦)æ·»åŠ è‡³éŸ³ä¹æ’­æ”¾åˆ—è¡¨ï¼Œéƒ¨åˆ†éŸ³ä¹ä¼šå­˜åœ¨ç‰ˆæƒé—®é¢˜æ— æ³•æ’­æ”¾)</li>
<li>[x] æ­Œæ‰‹</li>
<li>[x] ä¸“è¾‘</li>
<li>[x] æ­Œå•</li>
<li>[x] ç”¨æˆ·</li>
<li>[x] æœ¬åœ°ç¼“å­˜æœç´¢åˆ—è¡¨</li>
</ul>
</blockquote>
<h4 id="7ã€ä¾§è¾¹æ "><a href="#7ã€ä¾§è¾¹æ " class="headerlink" title="7ã€ä¾§è¾¹æ "></a>7ã€ä¾§è¾¹æ </h4><blockquote>
<ul>
<li>[x] å¤´åƒ</li>
<li>[x] èœå•<ul>
<li>[x] ä¸ªäººä¸­å¿ƒ</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>æ„Ÿè°¢ä½œè€…æŠŠapiæ•´ç†çš„è¿™ä¹ˆå¥½(ç‚¹ä¸ªèµğŸ‘)</p>
<blockquote>
<p><a href="https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=%e6%90%9c%e7%b4%a2%e9%9f%b3%e4%b9%90" target="_blank" rel="external">ç½‘æ˜“äº‘éŸ³ä¹ NodeJS ç‰ˆ API</a></p>
</blockquote>
<h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">|â€”â€”MagicMusic/</div><div class="line">|   |â€”â€”build/</div><div class="line">|   |â€”â€”confg/</div><div class="line">|   |â€”â€”node_modules/</div><div class="line">|   |â€”â€”src/</div><div class="line">|   |   |â€”â€”assets/                 //é™æ€æ–‡ä»¶</div><div class="line">|   |   |â€”â€”components/             //å…¬å…±ç»„ä»¶</div><div class="line">|   |   |â€”â€”api/</div><div class="line">|   |   |   |â€”â€”index.js            //axioså°è£…ä¸api</div><div class="line">|   |   |â€”â€”pages/                  //å­˜æ”¾é¡¹ç›®é¡µé¢</div><div class="line">|   |   |   |â€”â€”classical.vue       //å¤å…¸æ­Œæ›²é¡µé¢</div><div class="line">|   |   |   |â€”â€”collection.vue      //æ’è¡Œæ¦œ</div><div class="line">|   |   |   |â€”â€”home.vue            //é¦–é¡µ</div><div class="line">|   |   |   |â€”â€”light.vue           //è½»éŸ³ä¹æ­Œæ›²é¡µé¢</div><div class="line">|   |   |   |â€”â€”login.vue           //ç™»å½•é¡µé¢</div><div class="line">|   |   |   |â€”â€”popular.vue         //æµè¡Œæ­Œæ›²é¡µé¢</div><div class="line">|   |   |   |â€”â€”radio.vue           //ç”µå°æ­Œæ›²é¡µé¢</div><div class="line">|   |   |   |â€”â€”rank.vue            //æ’è¡Œæ¦œåˆ—è¡¨</div><div class="line">|   |   |   |â€”â€”search.vue          //æœç´¢é¡µ</div><div class="line">|   |   |   |â€”â€”user.vue            //ç”¨æˆ·</div><div class="line">|   |   |â€”â€”router/                 </div><div class="line">|   |   |   |â€”â€”index.js            //é¡µé¢è·¯ç”±</div><div class="line">|   |   |â€”â€”util                    //å…¬ç”¨æ–¹æ³•</div><div class="line">|   |   |â€”â€”vuex /                  //å­˜æ”¾vuexä»£ç </div><div class="line">|   |   |   |â€”â€”modules /           //æ•°æ®æ¨¡å—</div><div class="line">|   |   |   |â€”â€”store.js            //vuexä¸»å…¥å£</div><div class="line">|   |   |   |â€”â€”types.js            //vuexçš„typesæ–‡ä»¶</div><div class="line">|   |   |â€”â€”App.vue                 //çˆ¶ç»„ä»¶</div><div class="line">|   |   |â€”â€”main.js                 //å…¥å£æ–‡ä»¶</div><div class="line">|   |â€”â€”static/</div><div class="line">|   |â€”â€”.babelrc</div><div class="line">|   |â€”â€”.editorconfig</div><div class="line">|   |â€”â€”.gitgnore</div><div class="line">|   |â€”â€”index.html</div><div class="line">|   |â€”â€”package.json</div><div class="line">|   |â€”â€”README.md</div></pre></td></tr></table></figure>
<h3 id="å¼€å‘å¿ƒå¾—ä¸æ€»ç»“"><a href="#å¼€å‘å¿ƒå¾—ä¸æ€»ç»“" class="headerlink" title="å¼€å‘å¿ƒå¾—ä¸æ€»ç»“"></a>å¼€å‘å¿ƒå¾—ä¸æ€»ç»“</h3><h4 id="1ã€è½®æ’­å›¾"><a href="#1ã€è½®æ’­å›¾" class="headerlink" title="1ã€è½®æ’­å›¾"></a>1ã€è½®æ’­å›¾</h4><p>é¦–å…ˆæ„Ÿè°¢ä½œè€…<a href="https://github.com/ShanaMaid/vue-image-scroll" target="_blank" rel="external">ShanaMaid/vue-image-scroll</a>å¼€æºçš„ä»£ç ï¼Œæˆ‘æŠŠä»£ç copyä¸‹æ¥è‡ªå·±è¿›è¡Œäº†ä¸€ç‚¹ä¿®æ”¹(æ²¡æœ‰æ‰‹æŒ‡æ»‘åŠ¨æ•ˆæœ)ï¼Œå› ä¸ºè¿™æ˜¯ç§»åŠ¨ç«¯ï¼Œå°‘ä¸äº†çš„æ‰‹æŒ‡æ»‘åŠ¨åˆ‡æ¢ï¼Œæ‰€ä»¥æ·»åŠ äº†<a href="https://github.com/vuejs/vue-touch#next" target="_blank" rel="external">vue-touch</a>(å·å·å‘Šè¯‰ä½ ï¼Œvue-touchçš„nextåˆ†æ”¯è¿˜æ˜¯æ”¯æŒvue2.0çš„ğŸ˜œ)ã€‚<a href="https://github.com/hzzly/MagicMusic/blob/master/src/components/banner.vue" target="_blank" rel="external">ä»£ç ä¼ é€é—¨</a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item,index) in image"</span> <span class="attr">:class</span>=<span class="string">"[move[index]]"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">v-touch</span> <span class="attr">class</span>=<span class="string">"vuetouch"</span></span></div><div class="line">            <span class="attr">v-on:swipeleft</span>=<span class="string">"nextPic"</span></div><div class="line">            <span class="attr">v-on:swiperight</span>=<span class="string">"prePic"</span>&gt;</div><div class="line">        ...</div><div class="line">    <span class="tag">&lt;/<span class="name">v-touch</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">methods: &#123;</div><div class="line">    nextPic(event) &#123;</div><div class="line">        let temp = this.move.pop()</div><div class="line">        this.move.unshift(temp)</div><div class="line">    &#125;,</div><div class="line">    prePic(event) &#123;</div><div class="line">        let temp = this.move.shift()</div><div class="line">        this.move.push(temp)</div><div class="line">    &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="2ã€æ­Œæ›²æ“ä½œ-å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨-åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»"><a href="#2ã€æ­Œæ›²æ“ä½œ-å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨-åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»" class="headerlink" title="2ã€æ­Œæ›²æ“ä½œ(å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨)åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»"></a>2ã€æ­Œæ›²æ“ä½œ(å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨)åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»</h4><blockquote>
<p><code>Vue</code>æä¾›äº†<code>transition</code>çš„å°è£…ç»„ä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥ç»™ä»»ä½•å…ƒç´ å’Œç»„ä»¶æ·»åŠ  entering/leaving è¿‡æ¸¡</p>
<ul>
<li>æ¡ä»¶æ¸²æŸ“ ï¼ˆä½¿ç”¨ v-ifï¼‰</li>
<li>æ¡ä»¶å±•ç¤º ï¼ˆä½¿ç”¨ v-showï¼‰</li>
<li>åŠ¨æ€ç»„ä»¶</li>
<li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li>
</ul>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;transition name="move"&gt;</div><div class="line">    &lt;div class="menu" v-show="item.menuShow"&gt;</div><div class="line">        ...</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/transition&gt;</div><div class="line">&lt;transition-group name="slide" tag="div" class="list-wrapper"&gt;</div><div class="line">    &lt;div class="item" v-for="(item, index) in listenLists" :key="item"&gt;</div><div class="line">        ...</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/transition-group&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p><code>transition-group</code>ä¸€ç»„è¿‡åº¦åŠ¨ç”»ï¼Œè¿™é‡Œæœ‰ä¸ªå°å‘çš„ï¼Œä¹‹å‰çœ‹å®˜ç½‘åˆ—è¡¨è¿‡æ¸¡çš„æ —å­ï¼Œç»™æ¯ä¸€é¡¹è®¾ç½®å”¯ä¸€çš„keyå€¼ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨indexã€‚æ‰€ä»¥åœ¨åšçš„æ—¶å€™å°±æŠŠindexä¼ ç»™keyï¼Œç»“æœè¿‡æ¸¡è€æ˜¯ä¸å¯¹ï¼Œåæ¥æ¢æˆå¯¹åº”çš„<code>item</code>å°±æ­£å¸¸äº†(ç”Ÿæ— å¯æ‹è„¸)ã€‚</p>
</blockquote>
<h4 id="3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡"><a href="#3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡" class="headerlink" title="3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡"></a>3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡</h4><blockquote>
<p>è¥¿ç­ç‰™å»ºç­‘å¤§å¸ˆæ›¾è¯´è¿‡ï¼šâ€œç›´çº¿å±äºäººç±»ï¼Œæ›²çº¿åˆ™å½’äºä¸Šå¸â€ã€‚åœ¨è¿™é‡Œæˆ‘å¤§èƒ†çš„ä½¿ç”¨äº†å¼§å½¢æ¥ä½œä¸ºè¿›åº¦æ¡ï¼Œ(å‡ å¤§çƒ­é—¨éŸ³ä¹APPè²Œä¼¼è¿˜æ²¡æœ‰å¼§å½¢è¿›åº¦æ¡ğŸ˜„)ã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ç”¨åˆ°äº†Vueçš„<strong>ç»‘å®šå†…è”æ ·å¼</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">//ç›´çº¿è¿›åº¦æ¡</div><div class="line">&lt;div class="progress-bar"&gt;</div><div class="line">    &lt;div class="play"</div><div class="line">        :style="&#123;width: (now / duration).toFixed(3)*100 + '%'&#125;"&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">//å¼§å½¢è¿›åº¦æ¡</div><div class="line">//å› ä¸ºç”¨åˆ°äº†å¼§å½¢ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç”¨åˆ°äº†`border-radius`æ¥ä½¿å®ƒå˜æˆä¸€ä¸ªå¤§åœ†ï¼Œç„¶åå¹³ç§»`translateX`å±…ä¸­ï¼Œå…¶å®ƒä¸è¦çš„éƒ¨åˆ†`overflow: hidden`ã€‚</div><div class="line">//è¿™é‡Œç”¨ä¸¤ä¸ªdivæ¥è¡¨ç¤ºè¿›åº¦æ¡ï¼Œä¸€æ¡å›ºå®šçš„è¿›åº¦æ¡ï¼Œä¸€æ¡æ…¢æ…¢å¢åŠ ã€‚</div><div class="line">&lt;div class="process" @click="showToast"&gt;</div><div class="line">    &lt;div class="line"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="pro" :style="&#123;transform: `translateX($&#123;translateX&#125;) rotate($&#123;deg*1 + 56.5*((now / size).toFixed(3))&#125;deg)`&#125;"&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h4 id="4ã€æœ¬åœ°å­˜å‚¨"><a href="#4ã€æœ¬åœ°å­˜å‚¨" class="headerlink" title="4ã€æœ¬åœ°å­˜å‚¨"></a>4ã€æœ¬åœ°å­˜å‚¨</h4><blockquote>
<p>å°†ä¸€äº›æ•°æ®ç¼“å­˜åˆ°localStorageï¼Œå¯ä»¥å‡å°‘Httpè¯·æ±‚ï¼Œä»è€Œä¼˜åŒ–é¡µé¢åŠ è½½æ—¶é—´ã€‚</p>
</blockquote>
<p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­é¦–é¡µæ­Œæ›²åˆ—è¡¨ä»¥åŠæœç´¢å†å²ç”¨åˆ°äº†æœ¬åœ°ç¼“å­˜ï¼Œæ‹¿æœç´¢å†å²æ¥ä¸¾æ —ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">created() &#123;</div><div class="line">    <span class="keyword">if</span> (!localStorage.searchHistory) &#123;</div><div class="line">        <span class="keyword">let</span> searchHistory = [<span class="string">'å‰ç«¯'</span>, <span class="string">'ç«¥è¯é•‡'</span>, <span class="string">'åˆšå¥½é‡è§ä½ '</span>]</div><div class="line">        localStorage.searchHistory = <span class="built_in">JSON</span>.stringify(searchHistory)</div><div class="line">    &#125; </div><div class="line">&#125;,</div><div class="line"><span class="attr">methods</span>: &#123;</div><div class="line">    _search(keywords) &#123;</div><div class="line">        <span class="comment">//åˆ¤æ–­æœç´¢åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨</span></div><div class="line">        <span class="keyword">let</span> searchHistory = <span class="built_in">JSON</span>.parse(localStorage.searchHistory)</div><div class="line">        <span class="keyword">let</span> find = searchHistory.findIndex(<span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</div><div class="line">            <span class="keyword">return</span> val === keywords</div><div class="line">        &#125;)</div><div class="line">        find === <span class="number">-1</span> ? localStorage.searchHistory = <span class="built_in">JSON</span>.stringify([keywords, ...searchHistory]) : <span class="string">''</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="5ã€å›¾ç‰‡æ‡’åŠ è½½"><a href="#5ã€å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="5ã€å›¾ç‰‡æ‡’åŠ è½½"></a>5ã€å›¾ç‰‡æ‡’åŠ è½½</h4><p>ä½¿ç”¨äº†<a href="https://github.com/hilongjw/vue-lazyload?from=gold" target="_blank" rel="external">vue-lazyload</a>æ’ä»¶<br>ç”¨æ³•ğŸ‘‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install vue-lazyload</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//main.js</span></div><div class="line"><span class="keyword">import</span> VueLazyLoad <span class="keyword">from</span> <span class="string">'vue-lazyload'</span></div><div class="line"><span class="keyword">import</span> def_lazy_img <span class="keyword">from</span> <span class="string">'../static/img/loading.gif'</span> <span class="comment">//æ‡’åŠ è½½çš„é»˜è®¤å›¾ç‰‡</span></div><div class="line">Vue.use(VueLazyLoad,&#123;</div><div class="line">    <span class="attr">loading</span>: def_lazy_img</div><div class="line">&#125;) <span class="comment">//ä½¿ç”¨æ‡’åŠ è½½ç»„ä»¶</span></div><div class="line"></div><div class="line"><span class="comment">//åœ¨ä½¿ç”¨imgæ ‡ç­¾çš„åœ°æ–¹ä½¿ç”¨</span></div><div class="line">&lt;img v-lazy=<span class="string">"item.al.picUrl"</span> alt=<span class="string">""</span>&gt;</div></pre></td></tr></table></figure>
<h4 id="6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®"><a href="#6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®" class="headerlink" title="6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®"></a>6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®</h4><p>å› ä¸ºapiæä¾›çš„æ­Œè¯åŒ…æ‹¬æ—¶é—´ï¼Œå¦‚ï¼š<code>[03:57.280]åŸè°…æˆ‘è¿™ä¸€ç”Ÿä¸ç¾æ”¾çºµçˆ±è‡ªç”±</code><br>æ‰€ä»¥é¦–å…ˆè¦è¿›è¡Œå­—ç¬¦ä¸²åˆ‡å‰²ï¼š<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;div class="lyric"&gt;</div><div class="line">    &lt;div class="roll-lyric" v-html="lyrics" ref="lyric"&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">computed: &#123;</div><div class="line">    lyrics() &#123;</div><div class="line">        let lyrics = ''</div><div class="line">        this.lyricArr = []</div><div class="line">        if (this.lyric) &#123;</div><div class="line">            let arr = this.lyric.split('\n')</div><div class="line">            for (let item of arr) &#123;</div><div class="line">                if (item) &#123;</div><div class="line">                    let arr2 = item.split(']')</div><div class="line">                    this.lyricArr.push(arr2[0].substring(1,3)*60+arr2[0].substring(4)*1)</div><div class="line">                    if (arr2) &#123;</div><div class="line">                        lyrics += `&lt;p class='lyrichook' style='margin: 10px 0'&gt;$&#123;arr2[1]&#125;&lt;/p&gt;`</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125; else &#123;</div><div class="line">            lyrics = 'æš‚æ— æ­Œè¯~'</div><div class="line">        &#125;</div><div class="line">        return lyrics</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨æ’­æ”¾çš„ç›‘å¬äº‹ä»¶ä¸­ä¸æ’­æ”¾çš„å½“å‰åšå¯¹æ¯”ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.$refs.myAudio.addEventListener(<span class="string">'play'</span>, () =&gt; &#123;</div><div class="line">    <span class="keyword">this</span>.pDOM = [...document.querySelectorAll(<span class="string">'.lyrichook'</span>)]</div><div class="line">    timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">this</span>.now = audioDOM.currentTime</div><div class="line">        <span class="keyword">this</span>.lyricArr.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="built_in">parseInt</span>(item) == <span class="built_in">parseInt</span>(<span class="keyword">this</span>.now)) &#123;</div><div class="line">                <span class="keyword">this</span>.pDOM.forEach(<span class="function">(<span class="params">p</span>) =&gt;</span> &#123;</div><div class="line">                    p.style.color = <span class="string">'rgba(255,255,255,.8)'</span> <span class="comment">//å…¶å®ƒæ­Œè¯æ¸…é™¤é«˜äº®</span></div><div class="line">                &#125;);</div><div class="line">                <span class="keyword">this</span>.pDOM[index].style.color = <span class="string">'#f12c61'</span> <span class="comment">//æ­Œè¯é«˜äº®</span></div><div class="line">                <span class="keyword">this</span>.$refs.lyric.style.transform = <span class="string">`translateY(-<span class="subst">$&#123;(index<span class="number">-2</span>)*<span class="number">25</span>&#125;</span>px)`</span> <span class="comment">//æ­Œè¯æ»šåŠ¨</span></div><div class="line">            &#125; </div><div class="line">        &#125;);</div><div class="line">    &#125;, <span class="number">1000</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>åˆ°è¿™å°±okäº†ğŸ˜œ</p>
<h4 id="7ã€vuexçŠ¶æ€ç®¡ç†"><a href="#7ã€vuexçŠ¶æ€ç®¡ç†" class="headerlink" title="7ã€vuexçŠ¶æ€ç®¡ç†"></a>7ã€vuexçŠ¶æ€ç®¡ç†</h4><p>æ¨èå®˜æ–¹è°ƒè¯•å·¥å…· <a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">devtools extension</a></p>
<blockquote>
<p>æƒ³è¿›ä¸€æ­¥ç†è§£vuexï¼Œå¯ä»¥çœ‹è¿™ç¯‡åšå®¢<a href="https://hzzly.github.io/2017/04/04/vuex%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/" target="_blank" rel="external">vuexå­¦ä¹ å®è·µç¬”è®°</a></p>
</blockquote>
<p>ä¹‹å‰çœ‹åˆ°å¥½å¤šäººå†™çš„vuexï¼ŒæŠŠæ•´ä¸ªé¡¹ç›®çš„æ•°æ®æ”¾åˆ°äº†ä¸€ä¸ªstateé‡Œï¼Œå¯¼è‡´åº”ç”¨çš„æ‰€æœ‰çŠ¶æ€é›†ä¸­åˆ°ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå½“åº”ç”¨å˜å¾—å¾ˆå¤§æ—¶ï¼Œstore å¯¹è±¡ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªã€‚</p>
<blockquote>
<p>æ‰€ä»¥æˆ‘å»ºè®®(ä¸ªäººè§è§£ï¼Œè½»å–·)ï¼šå°† store åˆ†å‰²åˆ°æ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€gettersã€‚è¿™æ ·æ–¹ä¾¿ç®¡ç†ä¸åæœŸçš„ç»´æŠ¤ã€‚</p>
</blockquote>
<p>è½¦å·²åˆ°ç«™âœŒï¸ã€‚</p>
<p>ä¸çŸ¥ä¸è§‰å†™äº†è¿™ä¹ˆå¤šï¼Œè€é“ä»¬å‡‘åˆè¿™çœ‹å§ğŸ˜ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œ<strong>ä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›</strong>ï¼Œè°¢è°¢ï¼ï¼ï¼</p>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="external">https://github.com/hzzly/MagicMusic</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šåœ¨æœ€è¿‘çš„ä¸€ä¸ªå¤–åŒ…é¡¹ç›®&lt;a href=&quot;http://www.zblmchina.com/#/post&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸­åŒ…è”ç›Ÿ&lt;/a&gt;(PCç«¯)ä¸­ä½¿ç”¨åˆ°äº†videoï¼Œé‡åˆ°äº†å¥½å¤šå‘ã€‚çªå‘å¥‡æƒ³æ¥è¸©ä¸€è¸©audioçš„å‘ğŸ˜€ï¼Œæœç„¶ä¸€å…¥æ·±ä¼¼æµ·ï¼ŒğŸ‘‡ä¸‹é¢å°†åˆ†äº«æˆ‘çš„DIYä¹‹è·¯-VueéŸ³ä¹æ’­æ”¾å™¨ã€‚&lt;br&gt;æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ï¼Œä»…ä¾›å­¦ä¹ ã€‚æœ‰é—®é¢˜æˆ–å»ºè®®å‘æˆ‘é‚®ç®±ï¼šhjingren@aliyun.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®]&lt;/p&gt;
&lt;h3 id=&quot;é¢„è§ˆåœ°å€ï¼š-http-hjingren-cn-magic-music&quot;&gt;&lt;a href=&quot;#é¢„è§ˆåœ°å€ï¼š-http-hjingren-cn-magic-music&quot; class=&quot;headerlink&quot; title=&quot;é¢„è§ˆåœ°å€ï¼š http://hjingren.cn/magic-music&quot;&gt;&lt;/a&gt;&lt;strong&gt;é¢„è§ˆåœ°å€ï¼š&lt;/strong&gt; &lt;a href=&quot;http://hjingren.cn/magic-music&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://hjingren.cn/magic-music&lt;/a&gt;&lt;/h3&gt;&lt;h3 id=&quot;Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic&quot;&gt;&lt;a href=&quot;#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic&quot; class=&quot;headerlink&quot; title=&quot;Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic&quot;&gt;&lt;/a&gt;&lt;strong&gt;Githubåœ°å€ï¼š&lt;/strong&gt; &lt;a href=&quot;https://github.com/hzzly/MagicMusic&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/hzzly/MagicMusic&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;æ¬¢è¿å¤§å®¶çš„starå•¦ğŸ˜„~&lt;/p&gt;
&lt;p&gt;å…ˆæ¥ä¸ªé¢„è§ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://omt3u4bph.bkt.clouddn.com/magic-music1.gif&quot; alt=&quot;magic-music1&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ›´å¤šé¢„è§ˆï¼š&lt;a href=&quot;http://hjingren.cn/magic-music/pic.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ›´å¤š&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ğŸ‘‰è€é“ä»¬ï¼Œå‡†å¤‡å‘è½¦(æŠ€èƒ½ç‚¹)ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cn.vuejs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;vueæ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://router.vuejs.org/zh-cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;vue-routeræ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://vuex.vuejs.org/zh-cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;vuexæ–‡æ¡£&lt;/a&gt; ä¸æƒ³çœ‹æ–‡æ¡£çš„å¯ä»¥çœ‹çœ‹æˆ‘è¿™ç¯‡åšå®¢&lt;a href=&quot;https://hzzly.github.io/2017/04/04/vuex%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;vuexå­¦ä¹ å®è·µç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/axios&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;axiosæ–‡æ¡£&lt;/a&gt; æˆ–è€…è¿™ç¯‡åšå®¢ &lt;a href=&quot;https://blog.ygxdxx.com/2017/02/01/Vuex2&amp;amp;Axios-Develop/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Vuex2 ä¸ Axios å¼€å‘&lt;/a&gt;(æˆ‘ä¹Ÿæ˜¯å‚è€ƒè¿™ç¯‡ï¼Œæ„Ÿè°¢ä½œè€…ğŸ˜)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://es6.ruanyifeng.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;es6(é˜®ä¸€å³°çš„es6å…¥é—¨)&lt;/a&gt; å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://hzzly.github.io/tags/es6/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æˆ‘çš„es6ä¹‹è·¯&lt;/a&gt;(è¿˜åœ¨ç»§ç»­,è½»å–·)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://doc.webpack-china.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;webpack2(ä¸­æ–‡ç½‘ç«™)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hzzly.github.io/2017/03/25/%E6%B5%85%E8%B0%88Promise/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Promise (æµ…è°ˆPromise)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hzzly.github.io/2017/03/03/Web%E7%9A%84Flex%E5%BC%B9%E6%80%A7%E7%9B%92%E6%A8%A1%E5%9E%8B/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;flex (Webçš„flexå¼¹æ€§ç›’æ¨¡å‹)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hzzly.github.io/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³ (flexible+rem)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hzzly.github.io/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/hilongjw/vue-lazyload?from=gold&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å›¾ç‰‡æ‡’åŠ è½½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ğŸ‘‰åå¥½ï¼Œå‡ºå‘&lt;/p&gt;
&lt;h3 id=&quot;å®ç°çš„åŠŸèƒ½&quot;&gt;&lt;a href=&quot;#å®ç°çš„åŠŸèƒ½&quot; class=&quot;headerlink&quot; title=&quot;å®ç°çš„åŠŸèƒ½&quot;&gt;&lt;/a&gt;å®ç°çš„åŠŸèƒ½&lt;/h3&gt;&lt;h4 id=&quot;1ã€é¦–é¡µ&quot;&gt;&lt;a href=&quot;#1ã€é¦–é¡µ&quot; class=&quot;headerlink&quot; title=&quot;1ã€é¦–é¡µ&quot;&gt;&lt;/a&gt;1ã€é¦–é¡µ&lt;/h4&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;[x] è½®æ’­&lt;/li&gt;
&lt;li&gt;[x] ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]&lt;/li&gt;
&lt;li&gt;[x] æ­Œæ›²æ“ä½œ&lt;ul&gt;
&lt;li&gt;[x] åŠ å…¥æ’­æ”¾åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;[ ] å–œæ¬¢&lt;/li&gt;
&lt;li&gt;[ ] åˆ†äº«&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶&quot;&gt;&lt;a href=&quot;#2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶&quot; class=&quot;headerlink&quot; title=&quot;2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶&quot;&gt;&lt;/a&gt;2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶&lt;/h4&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;[x] æ’­æ”¾&lt;/li&gt;
&lt;li&gt;[x] æš‚åœ&lt;/li&gt;
&lt;li&gt;[x] ä¸‹ä¸€æ›²&lt;/li&gt;
&lt;li&gt;[x] æ’­æ”¾è¿›åº¦æ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage</title>
    <link href="http://yoursite.com/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/"/>
    <id>http://yoursite.com/2017/04/26/æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage/</id>
    <published>2017-04-26T15:44:04.000Z</published>
    <updated>2017-05-21T14:11:46.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<ul>
<li>sessionStorage æ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚</li>
<li>localStorage æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„å­˜å‚¨ï¼Œå®ƒå¹¶ä¸å±€é™äºä¼šè¯ã€‚é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</li>
</ul>
</blockquote>
<h3 id="ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ"><a href="#ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ" class="headerlink" title="ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ"></a>ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ</h3><blockquote>
<p>localStorageå’ŒsessionStorageéƒ½å…·æœ‰ç›¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œä¾‹å¦‚setItemã€getItemå’ŒremoveItemç­‰</p>
</blockquote>
<h3 id="1-setItemå­˜å‚¨value"><a href="#1-setItemå­˜å‚¨value" class="headerlink" title="1.setItemå­˜å‚¨value"></a>1.setItemå­˜å‚¨value</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sessionStorage.setItem(<span class="string">"name"</span>, <span class="string">"hzzly"</span>);</div><div class="line">localStorage.setItem(<span class="string">"blog"</span>, <span class="string">"hzzly.github.io"</span>);</div></pre></td></tr></table></figure>
<h3 id="2-getItemè·å–value"><a href="#2-getItemè·å–value" class="headerlink" title="2.getItemè·å–value"></a>2.getItemè·å–value</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = sessionStorage.getItem(<span class="string">"name"</span>);</div><div class="line"><span class="keyword">let</span> blog = localStorage.getItem(<span class="string">"blog"</span>);</div></pre></td></tr></table></figure>
<h3 id="3-removeItemåˆ é™¤key"><a href="#3-removeItemåˆ é™¤key" class="headerlink" title="3.removeItemåˆ é™¤key"></a>3.removeItemåˆ é™¤key</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sessionStorage.removeItem(<span class="string">"name"</span>);</div><div class="line">localStorage.removeItem(<span class="string">"blog"</span>);</div></pre></td></tr></table></figure>
<h3 id="4-clearæ¸…é™¤æ‰€æœ‰çš„key-value"><a href="#4-clearæ¸…é™¤æ‰€æœ‰çš„key-value" class="headerlink" title="4.clearæ¸…é™¤æ‰€æœ‰çš„key/value"></a>4.clearæ¸…é™¤æ‰€æœ‰çš„key/value</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sessionStorage.clear();</div><div class="line">localStorage.clear();</div></pre></td></tr></table></figure>
<h3 id="5-å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ"><a href="#5-å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ" class="headerlink" title="5.å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ[]"></a>5.å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ[]</h3><blockquote>
<p>web Storageä¸ä½†å¯ä»¥ç”¨è‡ªèº«çš„setItem,getItemç­‰æ–¹ä¾¿å­˜å–ï¼Œä¹Ÿå¯ä»¥åƒæ™®é€šå¯¹è±¡ä¸€æ ·ç”¨ç‚¹(.)æ“ä½œç¬¦ï¼ŒåŠ[]çš„æ–¹å¼è¿›è¡Œæ•°æ®å­˜å‚¨åŠè¯»å–ï¼Œåƒå¦‚ä¸‹çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å­˜</span></div><div class="line">localStorage.name = <span class="string">"hzzly"</span>; </div><div class="line">localStorage[<span class="string">"age"</span>] = <span class="string">"21"</span>; </div><div class="line">sessionStorage.name = <span class="string">"hzzly"</span>; </div><div class="line">sessionStorage[<span class="string">"age"</span>] = <span class="string">"21"</span>;</div><div class="line"><span class="comment">//å–</span></div><div class="line"><span class="keyword">let</span> name1 = localStorage.name</div><div class="line"><span class="keyword">let</span> age1 = localStorage[<span class="string">"age"</span>]</div><div class="line"><span class="keyword">let</span> name2 = sessionStorage.name</div><div class="line"><span class="keyword">let</span> age2 = sessionStorage[<span class="string">"age"</span>]</div></pre></td></tr></table></figure>
<h3 id="6-localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†"><a href="#6-localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†" class="headerlink" title="6.localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†"></a>6.localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†</h3><blockquote>
<p>sessionStorageå’ŒlocalStorageæä¾›çš„key()å’Œlengthå¯ä»¥æ–¹ä¾¿çš„å®ç°å­˜å‚¨çš„æ•°æ®éå†ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> storage = <span class="built_in">window</span>.localStorage; </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>, len = storage.length; i  &lt;  len; i++)&#123;     </div><div class="line">	<span class="keyword">let</span> key = storage.key(i);     </div><div class="line">	<span class="keyword">let</span> value = storage.getItem(key);     </div><div class="line">	<span class="built_in">console</span>.log(key + <span class="string">"="</span> + value); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="äºŒã€å®ä¾‹"><a href="#äºŒã€å®ä¾‹" class="headerlink" title="äºŒã€å®ä¾‹"></a>äºŒã€å®ä¾‹</h3><blockquote>
<p>storageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²çš„æ•°æ®ï¼Œå¯¹äºJSä¸­å¸¸ç”¨çš„æ•°ç»„æˆ–å¯¹è±¡å´ä¸èƒ½ç›´æ¥å­˜å‚¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œè½¬æ¢ï¼š</p>
<ul>
<li>JSON.stringify() ç”¨äºä»ä¸€ä¸ªå¯¹è±¡è§£æå‡ºå­—ç¬¦ä¸²</li>
<li>JSON.parse() ç”¨äºä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡ºjsonå¯¹è±¡</li>
</ul>
</blockquote>
<h3 id="1-localStorage-sessionStorageå­˜å–æ•°ç»„"><a href="#1-localStorage-sessionStorageå­˜å–æ•°ç»„" class="headerlink" title="1.localStorage/sessionStorageå­˜å–æ•°ç»„"></a>1.localStorage/sessionStorageå­˜å–æ•°ç»„</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å­˜</span></div><div class="line"><span class="keyword">let</span> language = [<span class="string">'HTML/HTML5'</span>, <span class="string">'CSS/CSS3'</span>, <span class="string">'JavaScript'</span>, <span class="string">'Vue'</span>, <span class="string">'React'</span>]</div><div class="line">localStorage.language = <span class="built_in">JSON</span>.stringify(language)</div><div class="line">sessionStorag.language = <span class="built_in">JSON</span>.stringify(language)</div><div class="line"><span class="comment">//å–</span></div><div class="line"><span class="keyword">let</span> storageLanguage = <span class="built_in">JSON</span>.parse(localStorage.language)</div></pre></td></tr></table></figure>
<h3 id="2-localStorageå­˜å–å¯¹è±¡"><a href="#2-localStorageå­˜å–å¯¹è±¡" class="headerlink" title="2.localStorageå­˜å–å¯¹è±¡"></a>2.localStorageå­˜å–å¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å­˜</span></div><div class="line"><span class="keyword">let</span> myInfo = &#123;</div><div class="line">	<span class="string">'name'</span>: <span class="string">'hzzly'</span>,</div><div class="line">	<span class="string">'age'</span>: <span class="number">21</span>,</div><div class="line">	<span class="string">'school'</span>: <span class="string">'ECUT'</span>,</div><div class="line">	<span class="string">'city'</span>: <span class="string">'NanChang'</span></div><div class="line">&#125;</div><div class="line">localStorage.myInfo = <span class="built_in">JSON</span>.stringify(myInfo)</div><div class="line">sessionStorag.myInfo = <span class="built_in">JSON</span>.stringify(myInfo)</div><div class="line"><span class="comment">//å–</span></div><div class="line"><span class="keyword">let</span> storageLanguage = <span class="built_in">JSON</span>.parse(localStorage.myInfo)</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;sessionStorage æ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚&lt;/li&gt;
&lt;li&gt;localStorage æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„å­˜å‚¨ï¼Œå®ƒå¹¶ä¸å±€é™äºä¼šè¯ã€‚é™¤
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•</title>
    <link href="http://yoursite.com/2017/04/22/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://yoursite.com/2017/04/22/è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•/</id>
    <published>2017-04-22T15:07:23.000Z</published>
    <updated>2017-05-21T14:12:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å­—ç¬¦ä¸²çš„æ‰©å±•"><a href="#å­—ç¬¦ä¸²çš„æ‰©å±•" class="headerlink" title="å­—ç¬¦ä¸²çš„æ‰©å±•"></a><strong>å­—ç¬¦ä¸²çš„æ‰©å±•</strong></h2><h3 id="ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£"><a href="#ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£" class="headerlink" title="ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£"></a>ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> codePoint <span class="keyword">of</span> <span class="string">'foo'</span>) &#123;</div><div class="line">  <span class="built_in">console</span>.log(codePoint)</div><div class="line">&#125;</div><div class="line"><span class="comment">// "f"</span></div><div class="line"><span class="comment">// "o"</span></div><div class="line"><span class="comment">// "o"</span></div></pre></td></tr></table></figure>
<h3 id="äºŒã€at"><a href="#äºŒã€at" class="headerlink" title="äºŒã€at"></a>äºŒã€at</h3><p>è¿”å›å­—ç¬¦ä¸²ç»™å®šä½ç½®çš„å­—ç¬¦<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//es5</span></div><div class="line"><span class="string">'abc'</span>.charAt(<span class="number">0</span>) <span class="comment">// "a"</span></div><div class="line"><span class="comment">//es6</span></div><div class="line"><span class="string">'abc'</span>.at(<span class="number">0</span>) <span class="comment">// "a"</span></div></pre></td></tr></table></figure></p>
<h3 id="ä¸‰ã€indexOf-includes-startsWith-endsWith"><a href="#ä¸‰ã€indexOf-includes-startsWith-endsWith" class="headerlink" title="ä¸‰ã€indexOf(), includes(), startsWith(), endsWith()"></a>ä¸‰ã€indexOf(), includes(), startsWith(), endsWith()</h3><blockquote>
<ul>
<li>indexOf() ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­(es5)</li>
<li>includes() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚</li>
<li>startsWith() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚</li>
<li>endsWith()è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">'Hello world!'</span>;</div><div class="line">s.startsWith(<span class="string">'Hello'</span>) <span class="comment">// true</span></div><div class="line">s.endsWith(<span class="string">'!'</span>) <span class="comment">// true</span></div><div class="line">s.includes(<span class="string">'o'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">'Hello world!'</span>;</div><div class="line">s.startsWith(<span class="string">'Hello'</span>) <span class="comment">// true</span></div><div class="line">s.endsWith(<span class="string">'!'</span>) <span class="comment">// true</span></div><div class="line">s.includes(<span class="string">'o'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">'Hello world!'</span>;</div><div class="line">s.startsWith(<span class="string">'world'</span>, <span class="number">6</span>) <span class="comment">// true</span></div><div class="line">s.endsWith(<span class="string">'Hello'</span>, <span class="number">5</span>) <span class="comment">// true</span></div><div class="line">s.includes(<span class="string">'Hello'</span>, <span class="number">6</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<blockquote>
<p>endsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚</p>
</blockquote>
<h3 id="å››ã€repeat"><a href="#å››ã€repeat" class="headerlink" title="å››ã€repeat()"></a>å››ã€repeat()</h3><blockquote>
<p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">'x'</span>.repeat(<span class="number">3</span>) <span class="comment">// "xxx"</span></div><div class="line"><span class="string">'hello'</span>.repeat(<span class="number">2</span>) <span class="comment">// "hellohello"</span></div></pre></td></tr></table></figure>
<h3 id="äº”ã€padStart-ï¼ŒpadEnd"><a href="#äº”ã€padStart-ï¼ŒpadEnd" class="headerlink" title="äº”ã€padStart()ï¼ŒpadEnd()"></a>äº”ã€padStart()ï¼ŒpadEnd()</h3><blockquote>
<p>å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦</p>
<ul>
<li>padStart() å¤´éƒ¨è¡¥å…¨</li>
<li>padEnd() å°¾éƒ¨è¡¥å…¨<br>ç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">'x'</span>.padStart(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'ababx'</span></div><div class="line"><span class="string">'x'</span>.padStart(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'abax'</span></div><div class="line"><span class="string">'x'</span>.padEnd(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'xabab'</span></div><div class="line"><span class="string">'x'</span>.padEnd(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'xaba'</span></div></pre></td></tr></table></figure>
<h3 id="å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²"></a>å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</span></div><div class="line"><span class="keyword">let</span> name = <span class="string">"hzzly"</span>, time = <span class="string">"today"</span>;</div><div class="line"><span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å­—ç¬¦ä¸²çš„æ‰©å±•&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²çš„æ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;å­—ç¬¦ä¸²çš„æ‰©å±•&quot;&gt;&lt;/a&gt;&lt;strong&gt;å­—ç¬¦ä¸²çš„æ‰©å±•&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&quot;ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£&quot;&gt;&lt;a href=&quot;#ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼</title>
    <link href="http://yoursite.com/2017/04/21/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/"/>
    <id>http://yoursite.com/2017/04/21/è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼/</id>
    <published>2017-04-21T14:59:09.000Z</published>
    <updated>2017-05-21T14:13:29.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å˜é‡çš„è§£æ„èµ‹å€¼"><a href="#å˜é‡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å˜é‡çš„è§£æ„èµ‹å€¼"></a><strong>å˜é‡çš„è§£æ„èµ‹å€¼</strong></h2><blockquote>
<p>è¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚</p>
</blockquote>
<h3 id="ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼"><a href="#ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼"></a>ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼</h3><p>æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">a <span class="comment">// 1</span></div><div class="line">b <span class="comment">// 2</span></div><div class="line">c <span class="comment">// 3</span></div><div class="line"><span class="keyword">let</span> [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">head <span class="comment">// 1</span></div><div class="line">tail <span class="comment">// [2, 3, 4]</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>é»˜è®¤å€¼</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [foo = <span class="literal">true</span>] = [];</div><div class="line">foo <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h4 id="æ —å­ï¼š"><a href="#æ —å­ï¼š" class="headerlink" title="æ —å­ï¼š"></a>æ —å­ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ•°ç»„</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> [a, b, c] = example();</div></pre></td></tr></table></figure>
<h3 id="äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼"><a href="#äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼" class="headerlink" title="äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼"></a>äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼</h3><p>å¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</div><div class="line">foo <span class="comment">// "aaa"</span></div><div class="line">bar <span class="comment">// "bbb"</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>é»˜è®¤å€¼</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;&#125;;</div><div class="line">x <span class="comment">// 3</span></div><div class="line"><span class="keyword">var</span> &#123;x, y = <span class="number">5</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</div><div class="line">x <span class="comment">// 1</span></div><div class="line">y <span class="comment">// 5</span></div></pre></td></tr></table></figure>
<h4 id="æ —å­ï¼š-1"><a href="#æ —å­ï¼š-1" class="headerlink" title="æ —å­ï¼š"></a>æ —å­ï¼š</h4><blockquote>
<ul>
<li>å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å°†Mathå¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Š</span></div><div class="line"><span class="keyword">let</span> &#123; log, sin, cos &#125; = <span class="built_in">Math</span>    </div><div class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">foo</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">bar</span>: <span class="number">2</span></div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = example();</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>æå–jsonæ•°æ®</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> jsonData = &#123;</div><div class="line">  <span class="attr">id</span>: <span class="number">42</span>,</div><div class="line">  <span class="attr">status</span>: <span class="string">"OK"</span>,</div><div class="line">  <span class="attr">data</span>: [<span class="number">867</span>, <span class="number">5309</span>]</div><div class="line">&#125;;</div><div class="line"><span class="keyword">let</span> &#123; id, status, <span class="attr">data</span>: number &#125; = jsonData;</div><div class="line"><span class="built_in">console</span>.log(id, status, number);</div><div class="line"><span class="comment">// 42, "OK", [867, 5309]</span></div></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"><a href="#ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼" class="headerlink" title="ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"></a>ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> [a, b, c, d, e] = <span class="string">'hzzly'</span></div><div class="line">a <span class="comment">// "h"</span></div><div class="line">b <span class="comment">// "z"</span></div><div class="line">c <span class="comment">// "z"</span></div><div class="line">d <span class="comment">// "l"</span></div><div class="line">e <span class="comment">// "y"</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//lengthå±æ€§</span></div><div class="line"><span class="keyword">let</span> &#123;<span class="attr">length</span> : len&#125; = <span class="string">'hello'</span>;</div><div class="line">len <span class="comment">// 5</span></div></pre></td></tr></table></figure>
<h3 id="å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"><a href="#å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼" class="headerlink" title="å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"></a>å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">[x, y]</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> x + y;</div><div class="line">&#125;</div><div class="line">add([<span class="number">1</span>, <span class="number">2</span>]); <span class="comment">// 3</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å˜é‡çš„è§£æ„èµ‹å€¼&quot;&gt;&lt;a href=&quot;#å˜é‡çš„è§£æ„èµ‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;å˜é‡çš„è§£æ„èµ‹å€¼&quot;&gt;&lt;/a&gt;&lt;strong&gt;å˜é‡çš„è§£æ„èµ‹å€¼&lt;/strong&gt;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;è¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-es6letä¸const</title>
    <link href="http://yoursite.com/2017/04/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6let%E4%B8%8Econst/"/>
    <id>http://yoursite.com/2017/04/09/è¯»ä¹¦ç¬”è®°-es6letä¸const/</id>
    <published>2017-04-09T14:16:56.000Z</published>
    <updated>2017-05-21T14:14:13.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="letå’Œconst"><a href="#letå’Œconst" class="headerlink" title="letå’Œconst"></a><strong>letå’Œconst</strong></h2><blockquote>
<p>ä¸¤ç§æ–°çš„å£°æ˜å˜é‡çš„æ–¹æ³•</p>
</blockquote>
<h3 id="ä¸€ã€let"><a href="#ä¸€ã€let" class="headerlink" title="ä¸€ã€let"></a>ä¸€ã€let</h3><p>ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</p>
<blockquote>
<ul>
<li>1.å—çº§ä½œç”¨åŸŸ</li>
<li>2.ä¸å­˜åœ¨å˜é‡æå‡</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// var çš„æƒ…å†µ</span></div><div class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// è¾“å‡ºundefined</span></div><div class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</div><div class="line"><span class="comment">// let çš„æƒ…å†µ</span></div><div class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// æŠ¥é”™ReferenceError</span></div><div class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>3.æš‚æ—¶æ€§æ­»åŒº</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> tmp = <span class="number">123</span>;</div><div class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</div><div class="line">  tmp = <span class="string">'abc'</span>; <span class="comment">// ReferenceError</span></div><div class="line">  <span class="keyword">let</span> tmp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡tmpï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡tmpï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹tmpèµ‹å€¼ä¼šæŠ¥é”™ã€‚</p>
<blockquote>
<ul>
<li>4.ä¸å…è®¸é‡å¤å£°æ˜</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æŠ¥é”™</span></div><div class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</div><div class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// æŠ¥é”™</span></div><div class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="äºŒã€const"><a href="#äºŒã€const" class="headerlink" title="äºŒã€const"></a>äºŒã€const</h3><p>constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚<br>constä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚<br>åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p>
<blockquote>
<p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = &#123;&#125;;</div><div class="line"><span class="comment">// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ</span></div><div class="line">foo.prop = <span class="number">123</span>;</div><div class="line">foo.prop <span class="comment">// 123</span></div><div class="line"><span class="comment">// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™</span></div><div class="line">foo = &#123;&#125;; <span class="comment">// TypeError: "foo" is read-only</span></div></pre></td></tr></table></figure>
<blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¸¸é‡fooå‚¨å­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚ä¸å¯å˜çš„åªæ˜¯è¿™ä¸ªåœ°å€ï¼Œå³ä¸èƒ½æŠŠfooæŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼Œä½†å¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥ä¸ºå…¶æ·»åŠ æ–°å±æ€§ã€‚</p>
</blockquote>
<p><strong>Githubåœ°å€ï¼š</strong> <a href="https://github.com/hzzly/learn-es6" target="_blank" rel="external">https://github.com/hzzly/learn-es6</a></p>
<p>æ–‡ç« æ¥æº<a href="https://hzzly.github.io/" target="_blank" rel="external">hzzlyåšå®¢æŠ€æœ¯åˆ†äº«</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;letå’Œconst&quot;&gt;&lt;a href=&quot;#letå’Œconst&quot; class=&quot;headerlink&quot; title=&quot;letå’Œconst&quot;&gt;&lt;/a&gt;&lt;strong&gt;letå’Œconst&lt;/strong&gt;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸¤ç§æ–°çš„å£°æ˜å˜é‡çš„æ–¹æ³•&lt;
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="es6" scheme="http://yoursite.com/tags/es6/"/>
    
  </entry>
  
</feed>
