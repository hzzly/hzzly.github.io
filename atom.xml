<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hzzly</title>
  
  <subtitle>ä¸Šå–„è‹¥æ°´ï¼Œç¬ƒå­¦æ•¦è¡Œ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-12T02:32:43.027Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>hzzly</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ</title>
    <link href="http://yoursite.com/2019/07/12/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BA%8C/"/>
    <id>http://yoursite.com/2019/07/12/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ/</id>
    <published>2019-07-12T01:31:10.000Z</published>
    <updated>2019-07-12T02:32:43.027Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><ul><li>webpack 4</li><li>Babel 7</li></ul><blockquote><p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡çš„webpacké…ç½®è¿›è¡Œä¼˜åŒ–</p></blockquote><h3 id="å¿«é€Ÿæµè§ˆï¼š"><a href="#å¿«é€Ÿæµè§ˆï¼š" class="headerlink" title="å¿«é€Ÿæµè§ˆï¼š"></a>å¿«é€Ÿæµè§ˆï¼š</h3><ul><li><a href="http://hjingren.cn/2019/07/11/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%80/" target="_blank" rel="noopener">webpackåŸºç¡€ç¯‡</a></li></ul><h2 id="webpackä¼˜åŒ–"><a href="#webpackä¼˜åŒ–" class="headerlink" title="webpackä¼˜åŒ–"></a>webpackä¼˜åŒ–</h2><h3 id="1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰"><a href="#1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰" class="headerlink" title="1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰"></a>1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰</h3><p>ä¸ºæ¯ä¸ªå¼•å…¥ CSS çš„ JS æ–‡ä»¶åˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œæé«˜é¦–é¡µåŠ è½½é€Ÿåº¦</p><ul><li>æŠŠ style-loader æ›¿æ¢æˆ MiniCssExtractPlugin.loader</li><li>æ–°å¢ plugins</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// 'style-loader',</span></span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          <span class="comment">// ...åŒä¸Š</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'[name].[hash].css'</span>,</span><br><span class="line">      chunkFilename: <span class="string">'[id].[hash].css'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰"><a href="#2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰" class="headerlink" title="2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰"></a>2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> OptimizeCssAssetsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'optimize-css-assets-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> OptimizeCssAssetsWebpackPlugin(),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€å‹ç¼©JS"><a href="#3ã€å‹ç¼©JS" class="headerlink" title="3ã€å‹ç¼©JS"></a>3ã€å‹ç¼©JS</h3><p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ ä»£ç å°±ä¼šè‡ªåŠ¨å‹ç¼©<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mode: <span class="string">'production'</span>,</span><br></pre></td></tr></table></figure></p><h3 id="4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰"><a href="#4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰" class="headerlink" title="4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰"></a>4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰</h3><p>ä»£ç åˆ†å‰²ï¼Œå•ç‹¬æ‰“åŒ…ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…æ‰€æœ‰é¡µé¢åªç”Ÿæˆä¸€ä¸ªjsæ–‡ä»¶ï¼Œé¦–å±åŠ è½½å¾ˆæ…¢çš„æƒ…å†µã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>,   <span class="comment">// include all types of chunks</span></span><br><span class="line">      <span class="comment">// minSize: 30000,   // å¼•å…¥çš„åº“å¤§äº30kbæ—¶æ‰ä¼šåšä»£ç åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// minChunks: 1,     // ä¸€ä¸ªæ¨¡å—è‡³å°‘è¢«ç”¨äº†1æ¬¡æ‰ä¼šè¢«åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// maxAsyncRequests: 5,     // åŒæ—¶å¼‚æ­¥åŠ è½½çš„æ¨¡å—æ•°æœ€å¤šæ˜¯5ä¸ªï¼Œå¦‚æœè¶…è¿‡5ä¸ªåˆ™ä¸åšä»£ç åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// maxInitialRequests: 3,   // å…¥å£æ–‡ä»¶è¿›è¡ŒåŠ è½½æ—¶ï¼Œå¼•å…¥çš„åº“æœ€å¤šåˆ†å‰²å‡º3ä¸ªjsæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// automaticNameDelimiter: '~',  // ç”Ÿæˆæ–‡ä»¶åçš„æ–‡ä»¶é“¾æ¥ç¬¦</span></span><br><span class="line">      <span class="comment">// name: true,   // å¼€å¯è‡ªå®šä¹‰åç§°æ•ˆæœ</span></span><br><span class="line">      <span class="comment">// cacheGroups: &#123;  // åˆ¤æ–­åˆ†å‰²å‡ºçš„ä»£ç æ”¾åˆ°é‚£é‡Œå»</span></span><br><span class="line">      <span class="comment">//   vendors: &#123;   // é…åˆchunksï¼šâ€˜allâ€™ä½¿ç”¨ï¼Œè¡¨ç¤ºå¦‚æœå¼•å…¥çš„åº“æ˜¯åœ¨node-modulesä¸­ï¼Œé‚£å°±ä¼šæŠŠè¿™ä¸ªåº“åˆ†å‰²å‡ºæ¥å¹¶èµ·åä¸ºvendors.js</span></span><br><span class="line">      <span class="comment">//     test: /[\/]node_modules[\/]/,</span></span><br><span class="line">      <span class="comment">//     priority: -10,</span></span><br><span class="line">      <span class="comment">//     filename: 'vendors.js'</span></span><br><span class="line">      <span class="comment">//   &#125;,</span></span><br><span class="line">      <span class="comment">//   default: &#123;  // ä¸ºénode-modulesåº“ä¸­åˆ†å‰²å‡ºçš„ä»£ç è®¾ç½®é»˜è®¤å­˜æ”¾åç§°</span></span><br><span class="line">      <span class="comment">//     priority: -20,</span></span><br><span class="line">      <span class="comment">//     reuseExistingChunk: true, // é¿å…è¢«é‡å¤æ‰“åŒ…åˆ†å‰²</span></span><br><span class="line">      <span class="comment">//     filename: 'common.js'</span></span><br><span class="line">      <span class="comment">//   &#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="5ã€é…ç½®å…¨å±€å˜é‡"><a href="#5ã€é…ç½®å…¨å±€å˜é‡" class="headerlink" title="5ã€é…ç½®å…¨å±€å˜é‡"></a>5ã€é…ç½®å…¨å±€å˜é‡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">    <span class="string">'process.env.NODE_ENV'</span>: <span class="built_in">JSON</span>.stringify(<span class="string">'development'</span>),</span><br><span class="line"> &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ”¥Tip1 é—®é¢˜ï¼šå½“ç”¨ DefinePlugin æ¥é…ç½®å…¨å±€å˜é‡æ—¶ï¼Œåªç»™ä¾èµ–ä¸­æ³¨å…¥äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå°±æ˜¯srcæ–‡ä»¶å¤¹ä¸‹é¢çš„å’Œä¾èµ–çš„æ¨¡å—ã€‚å½“æˆ‘ä»¬åœ¨webpacké…ç½®æ–‡ä»¶ä¸­å»å– process.env.NODE_ENV ä¾ç„¶æ˜¯ undefinedã€‚</p><blockquote><p>è§£å†³ï¼šåœ¨package.jsonå‘½ä»¤ä¸­æ³¨å…¥<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server NODE_ENV=development --config ./build/webpack.config.js",</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="6ã€CSS-Tree-Shaking"><a href="#6ã€CSS-Tree-Shaking" class="headerlink" title="6ã€CSS Tree Shaking"></a>6ã€CSS Tree Shaking</h3><p>å»é™¤é¡¹ç›®ä»£ç ä¸­ç”¨ä¸åˆ°çš„ CSS æ ·å¼ï¼Œä»…ä¿ç•™è¢«ä½¿ç”¨çš„æ ·å¼ä»£ç </p><p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“ä½¿ç”¨ CSS Tree Shaking çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ css-modules å…³é—­ï¼Œä¸ç„¶ css ä¼šè¢«å…¨éƒ¨æ¸…é™¤æ‰ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add glob-all purify-css purifycss-webpack -D</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PurifyCSS = <span class="built_in">require</span>(<span class="string">"purifycss-webpack"</span>);</span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">"glob-all"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> PurifyCSS(&#123;</span><br><span class="line">      paths: glob.sync([</span><br><span class="line">        <span class="comment">// è¦åšCSS Tree Shakingçš„è·¯å¾„æ–‡ä»¶</span></span><br><span class="line">        path.resolve(__dirname, <span class="string">"../public/*.html"</span>), <span class="comment">// è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking</span></span><br><span class="line">        path.resolve(__dirname, <span class="string">"../src/*.js"</span>)</span><br><span class="line">      ])</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€JS-Tree-Shaking"><a href="#7ã€JS-Tree-Shaking" class="headerlink" title="7ã€JS Tree Shaking"></a>7ã€JS Tree Shaking</h3><p>æ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥</p><p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ tree shakingå°±ä¼šç”Ÿæ•ˆã€‚</p><h3 id="8ã€resolveï¼ˆè§£æï¼‰"><a href="#8ã€resolveï¼ˆè§£æï¼‰" class="headerlink" title="8ã€resolveï¼ˆè§£æï¼‰"></a>8ã€resolveï¼ˆè§£æï¼‰</h3><p>èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚</p><ul><li>extension: æŒ‡å®šextensionä¹‹åå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é…</li><li>alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'@'</span>: path.join(__dirname, <span class="string">'../src'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9ã€æ¨¡å—çƒ­æ›¿æ¢HMR"><a href="#9ã€æ¨¡å—çƒ­æ›¿æ¢HMR" class="headerlink" title="9ã€æ¨¡å—çƒ­æ›¿æ¢HMR"></a>9ã€æ¨¡å—çƒ­æ›¿æ¢HMR</h3><p>æ¨¡å—çƒ­æ›¿æ¢ä¹Ÿç§°ä¸ºHMRï¼Œä»£ç æ›´æ–°æ—¶åªä¼šæ›´æ–°è¢«ä¿®æ”¹éƒ¨åˆ†éƒ½æ˜¾ç¤ºã€‚æœ‰å¦‚ä¸‹æœ‰ç‚¹</p><ul><li>é’ˆå¯¹äºæ ·å¼è°ƒè¯•æ›´åŠ æ–¹ä¾¿</li><li>åªä¼šæ›´æ–°è¢«ä¿®æ”¹ä»£ç çš„é‚£éƒ¨åˆ†æ˜¾ç¤ºï¼Œæå‡å¼€å‘æ•ˆç‡</li><li>ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</li></ul><p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨Node.jsçš„æ–¹å¼å®ç°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn add express webpack-dev-middleware webpack-hot-middleware react-hot-loader cross-env -D</span><br><span class="line"> </span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch dev-server.js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dev-server.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>);</span><br><span class="line"><span class="keyword">const</span> webpackHotMiddleware = <span class="built_in">require</span>(<span class="string">"webpack-hot-middleware"</span>)</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> complier = webpack(config);   <span class="comment">// ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨æ‰§è¡Œä¸€æ¬¡å°±ä¼šé‡æ–°æ‰“åŒ…ä¸€ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> app = express();  <span class="comment">// ç”Ÿæˆä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> DIST_DIR = path.resolve(__dirname, <span class="string">'../'</span>, <span class="string">'dist'</span>);  <span class="comment">// è®¾ç½®é™æ€è®¿é—®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="built_in">parseInt</span>(process.env.PORT, <span class="number">10</span>) || <span class="number">8586</span>;</span><br><span class="line"><span class="keyword">const</span> host = process.env.HOST || <span class="string">'localhost'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> devMiddleware = webpackDevMiddleware(complier, &#123;</span><br><span class="line">  quiet: <span class="literal">true</span>,</span><br><span class="line">  noInfo: <span class="literal">true</span>,</span><br><span class="line">  stats: <span class="string">'minimal'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> hotMiddleware = webpackHotMiddleware(complier, &#123;</span><br><span class="line">  log: <span class="literal">false</span>,</span><br><span class="line">  heartbeat: <span class="number">2000</span></span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">app.use(devMiddleware)</span><br><span class="line">app.use(hotMiddleware)</span><br><span class="line"><span class="comment">// è®¾ç½®è®¿é—®é™æ€æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">app.use(express.static(DIST_DIR))</span><br><span class="line"></span><br><span class="line">app.listen(port, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`App running at: http://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;)  <span class="comment">//ç›‘å¬ç«¯å£</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹webpack.config.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> isDev = process.env.NODE_ENV === <span class="string">'development'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">main: [</span><br><span class="line"><span class="string">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class="line"><span class="string">'./src/index.js'</span></span><br><span class="line">]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          isDev ? <span class="string">'style-loader'</span> : MiniCssExtractPlugin.loader,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: &#123;</span><br><span class="line">                localIdentName: <span class="string">'[local]_[hash:base64:5]'</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">              sourceMap: !isDev &amp;&amp; <span class="literal">true</span>, <span class="comment">// å¼€å‘æ—¶åˆ·æ–°ä¼šå¯¼è‡´é—ªå±ï¼ˆæ ·å¼åŠ è½½æ…¢ä¸€æ­¥ï¼‰</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'postcss-loader'</span>, <span class="comment">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class="line">          <span class="string">'sass-loader'</span>, <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(), <span class="comment">// ç”¨äºå¯åŠ¨HMRæ—¶å¯ä»¥æ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// å¼€å¯HMR(çƒ­æ›¿æ¢åŠŸèƒ½,æ›¿æ¢æ›´æ–°éƒ¨åˆ†,ä¸é‡è½½é¡µé¢ï¼) ç›¸å½“äºåœ¨å‘½ä»¤è¡ŒåŠ  --hot</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å…¥å£æ–‡ä»¶index.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppContainer &#125; <span class="keyword">from</span> <span class="string">'react-hot-loader'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'./router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;AppContainer&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;Router /&gt;</span><br><span class="line">      &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>AppContainer&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆå§‹åŒ– */</span></span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* çƒ­æ›´æ–° */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">'./router/index.js'</span>, () =&gt; &#123;</span><br><span class="line">    render();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹scriptå‘½ä»¤è¡Œ<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"start": "cross-env NODE_ENV=development node ./build/dev-server.js",</span><br></pre></td></tr></table></figure></p><p>okï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä»£ç æ—¶ï¼Œé¡µé¢å°±ä¸éœ€è¦åˆ·æ–°äº†ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚</p><h3 id="10ã€BundleAnalyzerPlugin"><a href="#10ã€BundleAnalyzerPlugin" class="headerlink" title="10ã€BundleAnalyzerPlugin"></a>10ã€BundleAnalyzerPlugin</h3><p>ä½¿ç”¨äº¤äº’å¼å¯ç¼©æ”¾æ ‘å½¢å›¾å¯è§†åŒ–webpackè¾“å‡ºæ–‡ä»¶çš„å¤§å°ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬é’ˆå¯¹ä»£ç ä¾èµ–çš„å¤§å°è¿›è¡Œä¼˜åŒ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BundleAnalyzerPlugin = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> BundleAnalyzerPlugin(&#123;</span><br><span class="line">      analyzerMode: <span class="string">'server'</span>,</span><br><span class="line">      analyzerHost: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">      analyzerPort: <span class="number">8889</span>,</span><br><span class="line">      reportFilename: <span class="string">'report.html'</span>,</span><br><span class="line">      defaultSizes: <span class="string">'parsed'</span>,</span><br><span class="line">      openAnalyzer: <span class="literal">true</span>,</span><br><span class="line">      generateStatsFile: <span class="literal">false</span>,</span><br><span class="line">      statsFilename: <span class="string">'stats.json'</span>,</span><br><span class="line">      statsOptions: <span class="literal">null</span>,</span><br><span class="line">      logLevel: <span class="string">'info'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"script"</span>: &#123;</span><br><span class="line">    <span class="attr">"analyz"</span>: <span class="string">"cross-env NODE_ENV=production npm_config_report=true npm run build"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="webpackåˆ†ç¦»é…ç½®æ–‡ä»¶"><a href="#webpackåˆ†ç¦»é…ç½®æ–‡ä»¶" class="headerlink" title="webpackåˆ†ç¦»é…ç½®æ–‡ä»¶"></a>webpackåˆ†ç¦»é…ç½®æ–‡ä»¶</h2><p>é’ˆå¯¹å¼€å‘ç¯å¢ƒå’Œå‘å¸ƒç¯å¢ƒé…ç½®å¯¹åº”çš„webpackï¼Œå…¬å…±çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œå†ä½¿ç”¨ webpack-merge æ¥å°†ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®åˆå¹¶èµ·æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch webpack.base.conf.js</span><br><span class="line">touch webpack.dev.conf.js</span><br><span class="line">touch webpack.prd.conf.js</span><br><span class="line"> </span><br><span class="line">yarn add webpack-merge -D</span><br></pre></td></tr></table></figure><h3 id="1ã€æå–å…¬å…±é…ç½®"><a href="#1ã€æå–å…¬å…±é…ç½®" class="headerlink" title="1ã€æå–å…¬å…±é…ç½®"></a>1ã€æå–å…¬å…±é…ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.base.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isDev = process.env.NODE_ENV === <span class="string">'development'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: [<span class="string">'./src/index.js'</span>],</span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">// ...åŒwebpack.config.jsçš„modules</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'index.html'</span>, <span class="comment">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class="line">      template: path.join(__dirname, <span class="string">'../public/index.html'</span>), <span class="comment">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'@'</span>: path.join(__dirname, <span class="string">'../src'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      <span class="comment">// ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç </span></span><br><span class="line">      chunks: <span class="string">'all'</span>, <span class="comment">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  performance: <span class="literal">false</span>, <span class="comment">// å…³é—­æ€§èƒ½æç¤º</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2ã€é…ç½®å¼€å‘ç¯å¢ƒ"><a href="#2ã€é…ç½®å¼€å‘ç¯å¢ƒ" class="headerlink" title="2ã€é…ç½®å¼€å‘ç¯å¢ƒ"></a>2ã€é…ç½®å¼€å‘ç¯å¢ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>);</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.base.conf.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, &#123;</span><br><span class="line">mode: <span class="string">"development"</span>,</span><br><span class="line">devtool: <span class="string">'cheap-module-eval-soure-map'</span>,</span><br><span class="line">entry: &#123;</span><br><span class="line"><span class="comment">//å®ç°åˆ·æ–°æµè§ˆå™¨webpack-hot-middleware/client?noInfo=true&amp;reload=true æ˜¯å¿…å¡«çš„</span></span><br><span class="line">main: [</span><br><span class="line"><span class="string">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class="line"><span class="string">'./src/index.js'</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line"><span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">path: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">"bundle.[name].[hash].js"</span>,</span><br><span class="line">chunkFilename: <span class="string">'[name].[hash].js'</span></span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line"><span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line"><span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class="line"><span class="comment">// new webpack.DefinePlugin(&#123;</span></span><br><span class="line"><span class="comment">// 'process.env.NODE_ENV': JSON.stringify('development'),</span></span><br><span class="line"> <span class="comment">// &#125;),</span></span><br><span class="line">],</span><br><span class="line">devServer: &#123;</span><br><span class="line">hot: <span class="literal">true</span>,</span><br><span class="line">contentBase: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">host: <span class="string">"localhost"</span>,</span><br><span class="line">port: <span class="number">8586</span>,</span><br><span class="line">historyApiFallback: <span class="literal">true</span>, <span class="comment">// è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class="line">proxy: &#123;</span><br><span class="line"><span class="comment">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class="line"><span class="comment">// "/api": "http://localhost:3000"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="3ã€é…ç½®å‘å¸ƒç¯å¢ƒ"><a href="#3ã€é…ç½®å‘å¸ƒç¯å¢ƒ" class="headerlink" title="3ã€é…ç½®å‘å¸ƒç¯å¢ƒ"></a>3ã€é…ç½®å‘å¸ƒç¯å¢ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.prd.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.base.conf.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, &#123;</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">  devtool: <span class="string">'cheap-module-source-map'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    publicPath: <span class="string">'/'</span>, <span class="comment">// æ‰“åŒ…è·¯å¾„</span></span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">'bundle.[name].[hash].js'</span>,</span><br><span class="line">    chunkFilename: <span class="string">'[name].[hash].js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    usedExports: <span class="literal">true</span>,</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>, <span class="comment">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line">        <span class="comment">// å…¬å…±ä»£ç æ‰“åŒ…åˆ†ç»„é…ç½®</span></span><br><span class="line">        vendors: &#123;</span><br><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">          name: <span class="string">'vendors'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'[name].[hash].css'</span>,</span><br><span class="line">      chunkFilename: <span class="string">'[id].[hash].css'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// new webpack.DefinePlugin(&#123;</span></span><br><span class="line">    <span class="comment">//   'process.env.NODE_ENV': JSON.stringify('production'),</span></span><br><span class="line">    <span class="comment">// &#125;),</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ"><a href="#4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ" class="headerlink" title="4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ"></a>4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"start": "cross-env NODE_ENV=development node ./build/dev-server.js",</span><br><span class="line">"build": "cross-env NODE_ENV=production webpack --config ./build/webpack.prod.conf.js",</span><br></pre></td></tr></table></figure><p>å†™åˆ°è¿™é‡Œï¼Œä¸€ä¸ªåŸºæœ¬çš„Reactå¼€å‘ç¯å¢ƒä¹Ÿå°±æ­èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥é’ˆå¯¹ä»£ç æˆ–è€…å¼€å‘æ•ˆç‡è¿›è¡Œä¼˜åŒ–ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#ç‰ˆæœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç‰ˆæœ¬&quot;&gt;&lt;/a&gt;ç‰ˆæœ¬&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;webpack 4&lt;/li&gt;
&lt;li&gt;Babel 7&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="webpack" scheme="http://yoursite.com/tags/webpack/"/>
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€</title>
    <link href="http://yoursite.com/2019/07/11/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%80/"/>
    <id>http://yoursite.com/2019/07/11/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€/</id>
    <published>2019-07-11T01:42:50.000Z</published>
    <updated>2019-07-12T02:39:27.544Z</updated>
    
    <content type="html"><![CDATA[<p>å‰è¨€ï¼šæ¥è§¦webpackä»åœ¨å­¦æ ¡çš„é‚£ä¼šèµ·ï¼Œä¹Ÿä¸€ç›´åœ¨ä½¿ç”¨å®ƒï¼Œç”¨çš„éƒ½æ˜¯åˆ«äººå°è£…å¥½çš„ï¼Œå¶å°”å»ä¿®æ”¹ä¸€ç‚¹ç‚¹é…ç½®ï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£è‡ªå·±ä»é›¶å¼€å§‹é…ç½®ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œæ¥ä¸‹æ¥å‡ ç¯‡å°†è®°å½•æˆ‘å¯¹webpackä»¥åŠå¼€å‘ä¸­æå‡æ•ˆç‡çš„é…ç½®ï¼Œå…¶ä¸­é‡åˆ°çš„ä¸€äº›å‘ä¹Ÿä¼šæç¤ºå‡ºæ¥ã€‚</p><h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><ul><li>webpack 4</li><li>Babel 7</li></ul><blockquote><p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨webpackæ­å»ºåŸºç¡€çš„Reactç¯å¢ƒ</p></blockquote><h3 id="å¿«é€Ÿæµè§ˆï¼š"><a href="#å¿«é€Ÿæµè§ˆï¼š" class="headerlink" title="å¿«é€Ÿæµè§ˆï¼š"></a>å¿«é€Ÿæµè§ˆï¼š</h3><ul><li><a href="http://hjingren.cn/2019/07/12/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BA%8C/" target="_blank" rel="noopener">webpackä¼˜åŒ–ç¯‡</a></li></ul><h2 id="webpackæ ¸å¿ƒæ¦‚å¿µ"><a href="#webpackæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="webpackæ ¸å¿ƒæ¦‚å¿µ"></a>webpackæ ¸å¿ƒæ¦‚å¿µ</h2><ul><li>entry: å…¥å£èµ·ç‚¹</li><li>output: è¾“å‡º</li><li>module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å—</li><li>loader: è½¬æ¢å·¥å…·ï¼Œwebpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ã€‚loader è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­</li><li>plugin: æ‰©å±•æ’ä»¶ï¼Œloader ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼Œåœ¨webpackæ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰ç­‰</li><li>mode: webpacçš„æ‰“åŒ…ç¯å¢ƒ[development, production]</li><li>chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²</li></ul><h2 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h2><h3 id="1ã€åˆå§‹åŒ–é¡¹ç›®"><a href="#1ã€åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1ã€åˆå§‹åŒ–é¡¹ç›®"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpack-template</span><br><span class="line">cd webpack-template</span><br><span class="line">mkdir src</span><br><span class="line">mkdir public</span><br><span class="line">mkdir build</span><br><span class="line">mkdir dist</span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure><h3 id="2ã€å®‰è£…webpack"><a href="#2ã€å®‰è£…webpack" class="headerlink" title="2ã€å®‰è£…webpack"></a>2ã€å®‰è£…webpack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack webpack-cli -D</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch webpack.config.js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•çš„webpacké…ç½®</span></span><br><span class="line"><span class="comment">// webpack.config.jsåˆå§‹åŒ–å†…å®¹</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">"development"</span>,  <span class="comment">// æŒ‡å®šç¯å¢ƒ</span></span><br><span class="line">  entry: [<span class="string">"./src/index.js"</span>],  <span class="comment">// æ‰“åŒ…å…¥å£æ–‡ä»¶</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">"bundle.js"</span></span><br><span class="line">  &#125;,  <span class="comment">// æ‰“åŒ…è¾“å‡ºåˆ° dist/bundle.js.</span></span><br><span class="line">  <span class="built_in">module</span>:&#123;&#125;,</span><br><span class="line">  plugins:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>package.jsonæ›´æ”¹<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack --config ./build/webpack.config.js"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><h3 id="3ã€HtmlWebpackPlugin"><a href="#3ã€HtmlWebpackPlugin" class="headerlink" title="3ã€HtmlWebpackPlugin"></a>3ã€HtmlWebpackPlugin</h3><p>å°†æ‰“åŒ…çš„jsè‡ªåŠ¨æ’å…¥åˆ° index.html é‡Œé¢å»ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add html-webpack-plugin -D</span><br><span class="line"><span class="built_in">cd</span> public</span><br><span class="line">touch index.html</span><br></pre></td></tr></table></figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Template<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'index.html'</span>, <span class="comment">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class="line">      template: path.join(__dirname, <span class="string">'../public/index.html'</span>), <span class="comment">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX"><a href="#4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX" class="headerlink" title="4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX"></a>4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: <span class="string">'babel-loader'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º.babelrcæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"@babel/preset-env"</span>, <span class="string">"@babel/preset-react"</span>],</span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"@babel/plugin-transform-runtime"</span>, <span class="string">"@babel/plugin-proposal-class-properties"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ğŸ”¥Tip1 é—®é¢˜ï¼šSupport for the experimental syntax â€˜classPropertiesâ€™ isnâ€™t currently enabled</p><blockquote><p>yarn add @babel/plugin-proposal-class-properties å¹¶åœ¨pluginsä¸­é…ç½®</p></blockquote><h3 id="5ã€é…ç½®è½¬ä¹‰Typescript"><a href="#5ã€é…ç½®è½¬ä¹‰Typescript" class="headerlink" title="5ã€é…ç½®è½¬ä¹‰Typescript"></a>5ã€é…ç½®è½¬ä¹‰Typescript</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add typescript ts-loader -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        loader: <span class="string">"ts-loader"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºtsconfig.json<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="attr">"rootDir"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">"dist"</span>,</span><br><span class="line">    "module": "esnext", // æ¨¡å—å¼•å…¥çš„æ–¹å¼</span><br><span class="line">    "target": "es6", // è½¬æ¢ä¸ºes6</span><br><span class="line">    "lib": ["dom", "es7"],</span><br><span class="line">    "jsx": "preserve",</span><br><span class="line">    "moduleResolution": "node",</span><br><span class="line">    "sourceMap": true,</span><br><span class="line">    "allowJs": true, // åœ¨typescriptä¸­å…è®¸å¼•å…¥jsæ–‡ä»¶</span><br><span class="line">    "forceConsistentCasingInFileNames": true,</span><br><span class="line">    "noImplicitReturns": true,</span><br><span class="line">    "noImplicitThis": true,</span><br><span class="line">    "noImplicitAny": true,</span><br><span class="line">    "noUnusedLocals": true,</span><br><span class="line">    "noUnusedParameters": true,</span><br><span class="line">    "strictNullChecks": true,</span><br><span class="line">    "importHelpers": true,</span><br><span class="line">    "suppressImplicitAnyIndexErrors": true,</span><br><span class="line">    "experimentalDecorators": true,</span><br><span class="line">    "downlevelIteration": true,</span><br><span class="line">    "allowSyntheticDefaultImports": true,</span><br><span class="line">    "paths": &#123;</span><br><span class="line">      "@/*": ["src/*"]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "exclude": ["node_modules", "dist", "build", "mock"]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="6ã€CleanWebpackPlugin"><a href="#6ã€CleanWebpackPlugin" class="headerlink" title="6ã€CleanWebpackPlugin"></a>6ã€CleanWebpackPlugin</h3><p>æ¸…é™¤ dist ç›®å½•ä¸‹æ—§ç‰ˆæœ¬æ–‡ä»¶ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add clean-webpack-plugin -D</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="comment">//...åŒä¸Š</span></span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€source-map"><a href="#7ã€source-map" class="headerlink" title="7ã€source-map"></a>7ã€source-map</h3><p>å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">"cheap-module-eval-source-map"</span>,  <span class="comment">// development</span></span><br><span class="line">devtool: <span class="string">"cheap-module-source-map"</span>,  <span class="comment">// production</span></span><br></pre></td></tr></table></figure></p><h3 id="8ã€WebpackDevServer"><a href="#8ã€WebpackDevServer" class="headerlink" title="8ã€WebpackDevServer"></a>8ã€WebpackDevServer</h3><p>webpackåœ¨æœ¬åœ°ä¸ºæ­å»ºäº†ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå®æ—¶æ‰“åŒ…é‡åŠ è½½ä¿®æ”¹çš„ä»£ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-dev-server -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    hot: <span class="literal">true</span>,</span><br><span class="line">    contentBase: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    host: <span class="string">"localhost"</span>,</span><br><span class="line">    port: <span class="number">8586</span>,</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>, <span class="comment">//  è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="comment">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class="line">      <span class="comment">// "/api": "http://localhost:3000"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹package.jsonå‘½ä»¤<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server --config ./build/webpack.config.js",</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><h3 id="9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules"><a href="#9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules" class="headerlink" title="9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules"></a>9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add css-loader style-loader sass-loader node-sass -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: &#123;</span><br><span class="line">                localIdentName: <span class="string">'[local]_[hash:base64:5]'</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="comment">// sourceMap: !isDev &amp;&amp; true,</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'sass-loader'</span>, <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“åœ¨ css-loader é…ç½®ä¸Š sourceMap æ—¶ï¼Œé…åˆçƒ­åŠ è½½æ ·å¼ä¼šé—ªå±</p><blockquote><p>sourceMap: !isDev &amp;&amp; true,</p></blockquote><h3 id="10ã€é›†æˆpostcss"><a href="#10ã€é›†æˆpostcss" class="headerlink" title="10ã€é›†æˆpostcss"></a>10ã€é›†æˆpostcss</h3><p>ä¸ºcssæŸäº›ç‰¹æ€§è‡ªåŠ¨å¢åŠ å‰ç¼€ï¼Œå¹¶åšä¸€äº›å…¼å®¹å¤„ç†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">//...åŒä¸Š</span></span><br><span class="line">          <span class="string">'postcss-loader'</span>, <span class="comment">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class="line">          <span class="string">'sass-loader'</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºpostcss.config.jsæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  loader: <span class="string">'postcss-loader'</span>,</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    <span class="string">'postcss-preset-env'</span>: &#123;&#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ–°å»º.browserlistrcæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>% <span class="keyword">in</span> CN</span><br><span class="line">android &gt;= <span class="number">4.4</span></span><br><span class="line">ios &gt;= <span class="number">8</span></span><br><span class="line">not ie &lt;= <span class="number">11</span></span><br></pre></td></tr></table></figure></p><h3 id="11ã€å›¾ç‰‡å¤„ç†"><a href="#11ã€å›¾ç‰‡å¤„ç†" class="headerlink" title="11ã€å›¾ç‰‡å¤„ç†"></a>11ã€å›¾ç‰‡å¤„ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add file-loader url-loader -D</span><br><span class="line"><span class="comment"># file-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜</span></span><br><span class="line"><span class="comment"># url-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loader è¿›è¡Œæ‹·è´</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|jpeg|gif|svg)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'url-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            outputPath: <span class="string">'images/'</span>,</span><br><span class="line">            limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12ã€å­—ä½“æ–‡ä»¶å¤„ç†"><a href="#12ã€å­—ä½“æ–‡ä»¶å¤„ç†" class="headerlink" title="12ã€å­—ä½“æ–‡ä»¶å¤„ç†"></a>12ã€å­—ä½“æ–‡ä»¶å¤„ç†</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(eot|woff2?|ttf|svg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              name: <span class="string">'[name]-[hash:5].min.[ext]'</span>,</span><br><span class="line">              limit: <span class="number">5000</span>,</span><br><span class="line">              publicPath: <span class="string">'fonts/'</span>,</span><br><span class="line">              outputPath: <span class="string">'fonts/'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼Œwebpackçš„åŸºæœ¬é…ç½®æˆ‘ä»¬å·²ç»å‡†å¤‡çš„å·®ä¸å¤šäº†ï¼Œèµ¶ç´§å†™ç‚¹reactæ¥è¯•è¯•æ°´ã€‚</p><h2 id="æµ‹è¯•Reactç¯å¢ƒ"><a href="#æµ‹è¯•Reactç¯å¢ƒ" class="headerlink" title="æµ‹è¯•Reactç¯å¢ƒ"></a>æµ‹è¯•Reactç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add react react-dom react-router react-router-dom</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; PureComponent &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        hello word~</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;App /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>npm start</code> ï¼Œå¦‚æœé¡µé¢ä¸Šèƒ½æ­£å¸¸æ˜¾ç¤º <code>hello word~</code> é‚£è¡¨ç¤ºæˆ‘ä»¬çš„webapckåŸºç¡€é…ç½®æˆåŠŸã€‚</p><p>ç¬¬ä¸€ç¯‡webpackåŸºç¡€é…ç½®åˆ°æ­¤ç»“æŸäº†ï¼Œä¸‹ä¸€ç¯‡å¯¹webpackè¿›è¡Œä¼˜åŒ–é…ç½®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰è¨€ï¼šæ¥è§¦webpackä»åœ¨å­¦æ ¡çš„é‚£ä¼šèµ·ï¼Œä¹Ÿä¸€ç›´åœ¨ä½¿ç”¨å®ƒï¼Œç”¨çš„éƒ½æ˜¯åˆ«äººå°è£…å¥½çš„ï¼Œå¶å°”å»ä¿®æ”¹ä¸€ç‚¹ç‚¹é…ç½®ï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£è‡ªå·±ä»é›¶å¼€å§‹é…ç½®ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œæ¥ä¸‹æ¥å‡ ç¯‡å°†è®°å½•æˆ‘å¯¹webpackä»¥åŠå¼€å‘ä¸­æå‡æ•ˆç‡çš„é…ç½®ï¼Œå…¶ä¸­é‡åˆ°çš„ä¸€äº›å‘ä¹Ÿä¼šæç¤ºå‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç‰ˆæœ¬&quot;&gt;&lt;a hr
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="webpack" scheme="http://yoursite.com/tags/webpack/"/>
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>Nginxä¸‹å‡çº§https</title>
    <link href="http://yoursite.com/2019/06/11/Nginx%E4%B8%8B%E5%8D%87%E7%BA%A7https/"/>
    <id>http://yoursite.com/2019/06/11/Nginxä¸‹å‡çº§https/</id>
    <published>2019-06-11T07:26:49.000Z</published>
    <updated>2019-06-11T07:33:57.802Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è´­ä¹°è¯ä¹¦"><a href="#è´­ä¹°è¯ä¹¦" class="headerlink" title="è´­ä¹°è¯ä¹¦"></a>è´­ä¹°è¯ä¹¦</h2><p>å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡<a href="https://common-buy.aliyun.com/?spm=5176.2020520163.cas.3.75c3lKQ2lKQ27E&amp;commodityCode=cas#/buy" target="_blank" rel="noopener">è´­ä¹°</a></p><h2 id="ä¸‹è½½è¯ä¹¦"><a href="#ä¸‹è½½è¯ä¹¦" class="headerlink" title="ä¸‹è½½è¯ä¹¦"></a>ä¸‹è½½è¯ä¹¦</h2><p>åœ¨è¯ä¹¦æ§åˆ¶å°ä¸‹è½½ Nginx ç‰ˆæœ¬è¯ä¹¦ã€‚ä¸‹è½½åˆ°æœ¬åœ°çš„å‹ç¼©æ–‡ä»¶åŒ…è§£å‹ååŒ…å«ï¼š</p><ul><li><strong>.pem</strong>æ–‡ä»¶ï¼šè¯ä¹¦æ–‡ä»¶</li><li><strong>.key</strong>æ–‡ä»¶ï¼šè¯ä¹¦çš„ç§é’¥æ–‡ä»¶ï¼ˆç”³è¯·è¯ä¹¦æ—¶å¦‚æœæ²¡æœ‰é€‰æ‹©<strong>è‡ªåŠ¨åˆ›å»ºCSR</strong>ï¼Œåˆ™æ²¡æœ‰è¯¥æ–‡ä»¶ï¼‰</li></ul><h2 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h2><p>1ã€åœ¨ Nginx çš„å®‰è£…ç›®å½•ä¸‹åˆ›å»º cert ç›®å½•ï¼Œå¹¶ä¸”å°†ä¸‹è½½çš„å…¨éƒ¨æ–‡ä»¶æ‹·è´åˆ° cert ç›®å½•ä¸­ï¼Œå¦‚æœç”³è¯·è¯ä¹¦æ—¶æ˜¯è‡ªå·±åˆ›å»ºçš„CSRæ–‡ä»¶ï¼Œè¯·å°†å¯¹åº”çš„ç§é’¥æ–‡ä»¶æ”¾åˆ° cert ç›®å½•ä¸‹ã€‚</p><p>2ã€æ‰“å¼€ Nginx å®‰è£…ç›®å½•ä¸‹ conf ç›®å½•ä¸­çš„ nginx.conf æ–‡ä»¶</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">gzip</span>  <span class="literal">on</span>;   <span class="comment">#å¼€å¯gzip</span></span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1k</span>; <span class="comment">#ä½äº1kbçš„èµ„æºä¸å‹ç¼©</span></span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">3</span>; <span class="comment">#å‹ç¼©çº§åˆ«ã€1-9ã€‘ï¼Œè¶Šå¤§å‹ç¼©ç‡è¶Šé«˜ï¼ŒåŒæ—¶æ¶ˆè€—cpuèµ„æºä¹Ÿè¶Šå¤šï¼Œå»ºè®®è®¾ç½®åœ¨4å·¦å³ã€‚</span></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain application/javascript application/x-javascript text/javascript text/xml text/css;  <span class="comment">#éœ€è¦å‹ç¼©å“ªäº›å“åº”ç±»å‹çš„èµ„æºï¼Œå¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸å»ºè®®å‹ç¼©å›¾ç‰‡ï¼Œä¸‹é¢ä¼šè®²ä¸ºä»€ä¹ˆã€‚</span></span><br><span class="line">    <span class="attribute">gzip_disable</span> <span class="string">"MSIE [1-6]\."</span>;  <span class="comment">#é…ç½®ç¦ç”¨gzipæ¡ä»¶ï¼Œæ”¯æŒæ­£åˆ™ã€‚æ­¤å¤„è¡¨ç¤ºie6åŠä»¥ä¸‹ä¸å¯ç”¨gzipï¼ˆå› ä¸ºieä½ç‰ˆæœ¬ä¸æ”¯æŒï¼‰</span></span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;  <span class="comment">#æ˜¯å¦æ·»åŠ â€œVary: Accept-Encodingâ€å“åº”å¤´</span></span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span> default backlog=<span class="number">2048</span>; <span class="comment">#é…ç½®httpå¯ç”¨</span></span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">443</span> ssl; <span class="comment">#é…ç½®https</span></span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_certificate</span>      ../cert/hzzly.pem; <span class="comment">#é…ç½®è¯ä¹¦æ–‡ä»¶</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span>  ../cert/hzzly.key; <span class="comment">#é…ç½®ç§é’¥æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_session_cache</span>    shared:SSL:<span class="number">1m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span>  <span class="number">5m</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_ciphers</span>  HIGH:!aNULL:!MD5;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span>  <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /home/hzzly;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># location ^~ /apis/ &#123;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header Host $host;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header X-Forwarded-Server $host;</span></span><br><span class="line">        <span class="comment">#     # åŒ¹é…ä»»ä½•ä»¥ /apis/ å¼€å§‹çš„è¯·æ±‚ï¼Œå¹¶åœæ­¢åŒ¹é… å…¶å®ƒlocation</span></span><br><span class="line">        <span class="comment">#     proxy_pass http://xxxxxxxxxx/;</span></span><br><span class="line">        <span class="comment"># &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># location ^~ /assets/ &#123;</span></span><br><span class="line">        <span class="comment">#     gzip_static on;</span></span><br><span class="line">        <span class="comment">#     expires max;</span></span><br><span class="line">        <span class="comment">#     add_header Cache-Control public;</span></span><br><span class="line">        <span class="comment"># &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€é‡å¯ Nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin</span><br><span class="line">$ ./nginx -s reload</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯è¯¦è§£"><a href="#é”™è¯¯è¯¦è§£" class="headerlink" title="é”™è¯¯è¯¦è§£"></a>é”™è¯¯è¯¦è§£</h2><h3 id="1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯"><a href="#1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯" class="headerlink" title="1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯"></a>1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] the <span class="string">"ssl"</span> parameter requires ngx_http_ssl_module <span class="keyword">in</span> ...</span><br></pre></td></tr></table></figure><p><strong>Nginxå¼€å¯SSLæ¨¡å—</strong></p><p>åˆ‡æ¢åˆ°æºç åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/nginx-1.16.0</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–°çš„configureå‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/nginx --with-http_stub_status_module --with-http_ssl_module</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make  //è¿™é‡Œä¸è¦è¿›è¡Œmake installï¼Œå¦åˆ™å°±æ˜¯è¦†ç›–å®‰è£…</span><br></pre></td></tr></table></figure><p>å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp /usr/<span class="built_in">local</span>/nginx/sbin/nginx /usr/<span class="built_in">local</span>/nginx/sbin/nginx.bak</span><br></pre></td></tr></table></figure><p>å°†åˆšåˆšç¼–è¯‘å¥½çš„nginxè¦†ç›–æ‰åŸæœ‰çš„nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp ./objs/nginx /usr/<span class="built_in">local</span>/nginx/sbin/</span><br></pre></td></tr></table></figure><p>é‡å¯ Nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin</span><br><span class="line">$ ./nginx -s reload</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è´­ä¹°è¯ä¹¦&quot;&gt;&lt;a href=&quot;#è´­ä¹°è¯ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;è´­ä¹°è¯ä¹¦&quot;&gt;&lt;/a&gt;è´­ä¹°è¯ä¹¦&lt;/h2&gt;&lt;p&gt;å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡&lt;a href=&quot;https://common-buy.aliyun.com/?spm=5176.
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾</title>
    <link href="http://yoursite.com/2019/03/04/%E5%9B%BE%E8%A7%A3%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"/>
    <id>http://yoursite.com/2019/03/04/å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾/</id>
    <published>2019-03-04T07:53:11.000Z</published>
    <updated>2019-05-18T05:31:12.564Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><blockquote><p>ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚</p><p>ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚</p><p>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p><p>æƒ³äº†è§£æ›´å¤šå…³äºä½œç”¨åŸŸçš„é—®é¢˜æ¨èé˜…è¯»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·ã€‹ç¬¬ä¸€ç« ï¼ˆæˆ–ç¬¬ä¸€éƒ¨åˆ†ï¼‰ï¼Œä»ç¼–è¯‘åŸç†çš„è§’åº¦è¯´æ˜ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸã€‚æ¦‚æ‹¬çš„è¯´ä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è®¾è®¡è‰¯å¥½çš„è§„åˆ™æ¥å­˜å‚¨å˜é‡ï¼Œå¹¶ä¸”ä¹‹åå¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°è¿™äº›å˜é‡ã€‚</p></blockquote><h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p>åœ¨ä½ ä¸çŸ¥é“çš„javascriptä¸Šå·ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š<strong>è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œè¯æ³•ä½œç”¨åŸŸæ˜¯ç”±ä½ åœ¨å†™ä»£ç æ—¶å°†å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œæ¥å†³å®šçš„ï¼Œå› æ­¤å½“è¯æ³•åˆ†æå™¨å¤„ç†ä»£ç æ—¶ä¼šä¿æŒä½œç”¨åŸŸä¸å˜(å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯è¿™æ ·çš„)ã€‚</strong></p><p>åœ¨JSä¸­è¯æ³•ä½œç”¨åŸŸçš„è§„åˆ™ï¼š</p><blockquote><ul><li>å‡½æ•°å…è®¸è®¿é—®å‡½æ•°å¤–éƒ¨çš„æ•°æ®</li><li>æ•´ä¸ªä»£ç ç»“æ„ä¸­åªæœ‰å‡½æ•°å¯ä»¥é™å®šä½œç”¨åŸŸ</li><li>ä½œç”¨è§„åˆ™é¦–å…ˆä½¿ç”¨æå‡è§„åˆ™åˆ†æ</li><li>å¦‚æœå½“å‰ä½œç”¨åŸŸä¸­æœ‰äº†åå­—äº†ï¼Œå°±ä¸è€ƒè™‘å¤–é¢çš„åå­—</li></ul></blockquote><p>æ —1ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure></p><p>æ —2ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>åªæœ‰å‡½æ•°æ‰èƒ½åˆ¶é€ ä½œç”¨åŸŸç»“æ„ï¼Œé‚£ä¹ˆåªè¦æ˜¯ä»£ç ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œå³å…¨å±€ä½œç”¨åŸŸã€‚</p><p>å‡¡æ˜¯ä»£ç ä¸­æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ„æˆå¦ä¸€ä¸ªä½œç”¨åŸŸã€‚å¦‚æœå‡½æ•°ä¸­è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å°±åˆå¯ä»¥è¯ç”Ÿä¸€ä¸ªä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°†è¿™æ ·çš„æ‰€æœ‰ä½œç”¨åŸŸåˆ—å‡ºæ¥ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªç»“æ„ï¼šå‡½æ•°å†…æŒ‡å‘å‡½æ•°å¤–çš„é“¾å¼ç»“æ„ã€‚</p><p>ä»¥ä¸Šé¢æ —2ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p><ul><li>å…¨å±€ä½œç”¨åŸŸï¼Œæœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼šfooã€barã€a</li><li>bar æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ša</li></ul><p>ä½œç”¨åŸŸæ˜¯ç”±ä»£ç å†™åœ¨å“ªé‡Œå†³å®šçš„ï¼Œå¹¶ä¸”æ˜¯é€çº§åŒ…å«çš„ã€‚</p><p>æˆ‘ä»¬ç”¨çº§é“¾æ¥è¡¨ç¤ºä¸€ä¸‹ä»¥ä¸Šä»£ç å—ï¼š</p><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope1.png" alt="scope1"></p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå‡½æ•°fooå’Œbarä»¥åŠå˜é‡ a=2ï¼Œ åœ¨1çº§é“¾ï¼Œè€Œbarä¸‹åˆå¯ä»¥å±•å¼€2çº§é“¾ï¼Œ2çº§é“¾ä¸Šæœ‰a=3ã€‚ç¨‹åºbar()è°ƒç”¨è¿›å…¥ä¸­é—´2çº§é“¾ï¼Œè€Œbarä¸­åˆè°ƒç”¨äº†fooå‡½æ•°ï¼Œæ­¤æ—¶ç¨‹åºè¿›å…¥fooçš„ä½œç”¨åŸŸé“¾ï¼ŒæŒ‰ç…§å‘ä¸ŠæŸ¥æ‰¾çš„åŸåˆ™ï¼Œç¨‹åºä¼šä»è¿™ä¸€æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œé¦–å…ˆ2çº§é“¾æ²¡æœ‰aï¼Œå‘ä¸Šåˆ°è¾¾1çº§é“¾ï¼Œåˆšå¥½1çº§é“¾ä¸Šæœ‰a=2ï¼Œæ‰€ä»¥å°±ç›´æ¥ä½¿ç”¨2ï¼Œç¨‹åºæœ€åçš„ç»“æœå°±æ˜¯æ‰“å°2ã€‚</p><p>æ‰€ä»¥æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚</p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">ã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹</a>æ€è€ƒé¢˜<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure></p><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope2.png" alt="scope2"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">JavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä½œç”¨åŸŸ&quot;&gt;&lt;a href=&quot;#ä½œç”¨åŸŸ&quot; class=&quot;headerlink&quot; title=&quot;ä½œç”¨åŸŸ&quot;&gt;&lt;/a&gt;ä½œç”¨åŸŸ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚&lt;/p&gt;
&lt;p&gt;ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜
      
    
    </summary>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>gitflowåŸºæœ¬æ“ä½œ</title>
    <link href="http://yoursite.com/2019/03/03/gitflow%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2019/03/03/gitflowåŸºæœ¬æ“ä½œ/</id>
    <published>2019-03-03T15:34:28.000Z</published>
    <updated>2019-05-09T06:12:51.415Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚</p></blockquote><h2 id="ä¸»åˆ†æ”¯"><a href="#ä¸»åˆ†æ”¯" class="headerlink" title="ä¸»åˆ†æ”¯"></a>ä¸»åˆ†æ”¯</h2><blockquote><p>master åªè´Ÿè´£ç®¡ç†å‘å¸ƒçš„çŠ¶æ€ã€‚åœ¨æäº¤æ—¶ä½¿ç”¨æ ‡ç­¾è®°å½•å‘å¸ƒç‰ˆæœ¬å·ã€‚<br>develop é’ˆå¯¹å‘å¸ƒçš„æ—¥å¸¸å¼€å‘åˆ†æ”¯ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»è®²è§£è¿‡æœ‰åˆå¹¶åˆ†æ”¯çš„åŠŸç”¨ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-1.png" alt="gitflow"></p><h2 id="å¼€å‘åˆ†æ”¯"><a href="#å¼€å‘åˆ†æ”¯" class="headerlink" title="å¼€å‘åˆ†æ”¯"></a>å¼€å‘åˆ†æ”¯</h2><h3 id="Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š"><a href="#Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š" class="headerlink" title="Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š"></a>Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b develop master</span><br></pre></td></tr></table></figure><h3 id="å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š"><a href="#å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š" class="headerlink" title="å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š"></a>å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°Masteråˆ†æ”¯</span></span><br><span class="line">git checkout master</span><br><span class="line"><span class="comment"># å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶(ä½¿ç”¨äº†--no-ffå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æäº¤)</span></span><br><span class="line">git merge --no-ff develop</span><br></pre></td></tr></table></figure><h2 id="ä¸´æ—¶æ€§åˆ†æ”¯"><a href="#ä¸´æ—¶æ€§åˆ†æ”¯" class="headerlink" title="ä¸´æ—¶æ€§åˆ†æ”¯"></a>ä¸´æ—¶æ€§åˆ†æ”¯</h2><blockquote><p>åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯<br>é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯<br>ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-2.png" alt="gitflow"></p><h2 id="åŠŸèƒ½åˆ†æ”¯"><a href="#åŠŸèƒ½åˆ†æ”¯" class="headerlink" title="åŠŸèƒ½åˆ†æ”¯"></a>åŠŸèƒ½åˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature-x develop</span><br></pre></td></tr></table></figure><h3 id="å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"><a href="#å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š" class="headerlink" title="å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff feature-x</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤featureåˆ†æ”¯ï¼š"><a href="#åˆ é™¤featureåˆ†æ”¯ï¼š" class="headerlink" title="åˆ é™¤featureåˆ†æ”¯ï¼š"></a>åˆ é™¤featureåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -d feature-x</span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git push origin --delete feature-x</span><br></pre></td></tr></table></figure><h2 id="é¢„å‘å¸ƒåˆ†æ”¯"><a href="#é¢„å‘å¸ƒåˆ†æ”¯" class="headerlink" title="é¢„å‘å¸ƒåˆ†æ”¯"></a>é¢„å‘å¸ƒåˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b release-1.2 develop</span><br></pre></td></tr></table></figure><h3 id="ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"><a href="#ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š" class="headerlink" title="ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"></a>ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge --no-ff release-1.2</span><br><span class="line"><span class="comment"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line">git tag -a 1.2</span><br></pre></td></tr></table></figure><h3 id="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"><a href="#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š" class="headerlink" title="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff release-1.2</span><br></pre></td></tr></table></figure><h3 id="æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š"><a href="#æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š" class="headerlink" title="æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š"></a>æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d release-1.2</span><br></pre></td></tr></table></figure><h2 id="ä¿®è¡¥bugåˆ†æ”¯"><a href="#ä¿®è¡¥bugåˆ†æ”¯" class="headerlink" title="ä¿®è¡¥bugåˆ†æ”¯"></a>ä¿®è¡¥bugåˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b fixbug-0.1 master</span><br></pre></td></tr></table></figure><h3 id="ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"><a href="#ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š" class="headerlink" title="ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"></a>ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge --no-ff fixbug-0.1</span><br><span class="line"><span class="comment"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line">git tag -a 0.1.1</span><br></pre></td></tr></table></figure><h3 id="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1"><a href="#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1" class="headerlink" title="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff fixbug-0.1</span><br></pre></td></tr></table></figure><h3 id="æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š"><a href="#æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š" class="headerlink" title="æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š"></a>æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d fixbug-0.1</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge"><a href="#å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge" class="headerlink" title="å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge"></a>å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rebase åˆå¹¶</span></span><br><span class="line">git checkout issue3</span><br><span class="line">git rebase master</span><br><span class="line"><span class="comment"># master åˆå¹¶</span></span><br><span class="line">git checkout master</span><br><span class="line">git merge issue3</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å†²çªåçš„æäº¤"><a href="#ä¿®æ”¹å†²çªåçš„æäº¤" class="headerlink" title="ä¿®æ”¹å†²çªåçš„æäº¤"></a>ä¿®æ”¹å†²çªåçš„æäº¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure><h3 id="å–æ¶ˆrebase"><a href="#å–æ¶ˆrebase" class="headerlink" title="å–æ¶ˆrebase"></a>å–æ¶ˆrebase</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --abort</span><br></pre></td></tr></table></figure><h2 id="å›é€€"><a href="#å›é€€" class="headerlink" title="å›é€€"></a>å›é€€</h2><h3 id="commit-å›é€€"><a href="#commit-å›é€€" class="headerlink" title="commit å›é€€"></a>commit å›é€€</h3><blockquote><p>commit log</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-log.png" alt="git-commit-log"></p><blockquote><p>commit reset</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-reset.png" alt="git-commit-reset"></p><h3 id="push-å›é€€"><a href="#push-å›é€€" class="headerlink" title="push å›é€€"></a>push å›é€€</h3><blockquote><p>push log</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-log.png" alt="git-push-log"></p><blockquote><p>push reset</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-reset.png" alt="git-push-reset"></p><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="æ·»åŠ è½»æ ‡ç­¾"><a href="#æ·»åŠ è½»æ ‡ç­¾" class="headerlink" title="æ·»åŠ è½»æ ‡ç­¾"></a>æ·»åŠ è½»æ ‡ç­¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag v2.0</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line">git tag</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨åŒ…å«æ ‡ç­¾èµ„æ–™çš„å†å²è®°å½•</span></span><br><span class="line">git <span class="built_in">log</span> --decorate</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ æ³¨è§£æ ‡ç­¾"><a href="#æ·»åŠ æ³¨è§£æ ‡ç­¾" class="headerlink" title="æ·»åŠ æ³¨è§£æ ‡ç­¾"></a>æ·»åŠ æ³¨è§£æ ‡ç­¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v3.0</span><br><span class="line">// æˆ–</span><br><span class="line">git tag -am <span class="string">"æ³¨è§£"</span> v3.0</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾çš„åˆ—è¡¨å’Œæ³¨è§£</span></span><br><span class="line">git tag -n</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤æ ‡ç­¾"><a href="#åˆ é™¤æ ‡ç­¾" class="headerlink" title="åˆ é™¤æ ‡ç­¾"></a>åˆ é™¤æ ‡ç­¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v2.0</span><br><span class="line">git tag -d v3.0</span><br></pre></td></tr></table></figure><h2 id="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹"><a href="#æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹" class="headerlink" title="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹"></a>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.5</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"><a href="#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"></a>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h2 id="Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´"><a href="#Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´" class="headerlink" title="Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´"></a>Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´</h2><h3 id="æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“"><a href="#æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“"></a>æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€"></a>åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€"><a href="#ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€"></a>ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin http://xxx.git</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://www.ruanyifeng.com/blog/2012/07/git.html" target="_blank" rel="noopener">ã€ŠGitåˆ†æ”¯ç®¡ç†ç­–ç•¥â€“é˜®ä¸€å³°ã€‹</a></li><li><a href="https://backlogtool.com/git-tutorial/cn/stepup/stepup1_1.html" target="_blank" rel="noopener">çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;

      
    
    </summary>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ</title>
    <link href="http://yoursite.com/2019/02/27/dva%20models%E4%B8%80%E4%BA%9B%E9%9A%90%E8%97%8F%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2019/02/27/dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ/</id>
    <published>2019-02-27T12:34:09.000Z</published>
    <updated>2019-02-27T12:36:14.779Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://dvajs.com/guide/getting-started.html" target="_blank" rel="noopener">dva</a> æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹æ¡ˆ<br><a href="https://redux-saga.js.org/docs/api/" target="_blank" rel="noopener">redux-saga API</a></p></blockquote><h3 id="take-pattern"><a href="#take-pattern" class="headerlink" title="take(pattern)"></a>take(pattern)</h3><blockquote><p>ä½¿ç”¨takeæ“ä½œè¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨ Store ä¸Šç­‰å¾…æŒ‡å®šçš„ actionã€‚ åœ¨å‘èµ·ä¸ pattern åŒ¹é…çš„ action ä¹‹å‰ï¼ŒGenerator å°†æš‚åœï¼ˆegï¼šä¸‹ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœï¼‰ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; call, put, select, take &#125;) &#123;</span><br><span class="line">  <span class="keyword">yield</span> put(&#123;</span><br><span class="line">    type: <span class="string">'dict/xxxx'</span>,</span><br><span class="line">    payload: &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">yield</span> take(<span class="string">'dict/xxxx/@@end'</span>);</span><br><span class="line">  <span class="keyword">const</span> dictData = <span class="keyword">yield</span> select(<span class="function"><span class="params">state</span> =&gt;</span> state.dict.dicts);</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">yield</span> call(getList, &#123;</span><br><span class="line">    xxx: dictData.xxx</span><br><span class="line">    ...</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="race-effects"><a href="#race-effects" class="headerlink" title="race(effects)"></a>race(effects)</h3><blockquote><p>ä»»åŠ¡çš„ç«äº‰ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨å¤šä¸ª Effect é—´è¿è¡Œ ç«èµ›ï¼ˆRaceï¼‰ï¼ˆä¸ Promise.race([â€¦]) çš„è¡Œä¸ºç±»ä¼¼ï¼‰ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; race &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; list, timeout &#125; = <span class="keyword">yield</span> race(&#123;</span><br><span class="line">    list: call(services.fetchList),</span><br><span class="line">    timeout: call(delay, TIMEOUT),</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'timeout'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ"><a href="#ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ" class="headerlink" title="ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ"></a>ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ</h3><blockquote><p>æŠŠå¤šä¸ªè¦å¹¶è¡Œæ‰§è¡Œçš„ä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„éƒ½ç»“æŸä¹‹åï¼Œè¿›å…¥ä¸‹ä¸ªç¯èŠ‚ï¼Œç±»ä¼¼promise.allçš„æ“ä½œã€‚ä¸€èˆ¬æœ‰ä¸€äº›é›†æˆç•Œé¢ï¼Œæ¯”å¦‚dashboardï¼Œå…¶ä¸­å„ç»„ä»¶ä¹‹é—´ä¸šåŠ¡å…³è”è¾ƒå°ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼å»åˆ†åˆ«åŠ è½½æ•°æ®ï¼Œæ­¤æ—¶ï¼Œæ•´ä½“åŠ è½½æ—¶é—´åªå–å†³äºæ—¶é—´æœ€é•¿çš„é‚£ä¸ªã€‚</p></blockquote><blockquote><p>ä¹‹å‰æ˜¯ <code>yield []</code>, åæ¥ dva å‡çº§äº† saga çš„ç‰ˆæœ¬ä¹‹åå°±æ¨èç”¨ <code>yield all([])</code></p></blockquote><ul><li><p>yield []</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> [xx1_req, xx2_req, xx3_req] = <span class="keyword">yield</span> [</span><br><span class="line">    call(xx1, payload),</span><br><span class="line">    call(xx2, payload),</span><br><span class="line">    call(xx3, payload),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>yield all([])</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; all &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> [xx1_req, xx2_req, xx3_req] = <span class="keyword">yield</span> all([</span><br><span class="line">    call(xx1, payload),</span><br><span class="line">    call(xx2, payload),</span><br><span class="line">    call(xx3, payload),</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://dvajs.com/guide/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;dva&lt;/a&gt; æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
      <category term="React" scheme="http://yoursite.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶</title>
    <link href="http://yoursite.com/2019/01/04/%E6%8A%98%E8%85%BE%E4%B8%80%E4%B8%AAchrome%E6%8F%92%E4%BB%B6/"/>
    <id>http://yoursite.com/2019/01/04/æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶/</id>
    <published>2019-01-04T09:43:48.000Z</published>
    <updated>2019-01-04T09:49:11.302Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸å¼ºå¤§äº†ã€‚</p></blockquote><p>chromeæµè§ˆå™¨æ˜¯ä¸€ä¸ªå·¥ä½œã€å­¦ä¹ å’Œç”Ÿæ´»çš„å¿…å¤‡å·¥å…·ã€‚é™¤äº†chromeæœ¬èº«çš„åŸºæœ¬èƒ½åŠ›ï¼ˆæ§åˆ¶å°ç­‰ï¼‰å¤–ï¼Œèƒ½å¤§å¹…æé«˜è¿™ä¸ªç¥å™¨çš„ä½¿ç”¨ä½“éªŒçš„æ˜¯å®ƒå¯æ‰©å±•èƒ½åŠ›ï¼ˆæ’ä»¶ï¼‰ä»¥åŠä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æŠ˜è…¾ä¸€ä¸ªåœ¨çº¿ç¿»è¯‘çš„chromeæ’ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/hzzly/online-translate/master/online-translate.png" alt="online-translate"></p><p>å¥½äº†ï¼Œæœ‰äº†éœ€æ±‚æˆ‘ä»¬å°±å¾—å¼€å‘äº†(å›§)ï¼</p><h2 id="è¦ç‚¹ï¼š"><a href="#è¦ç‚¹ï¼š" class="headerlink" title="è¦ç‚¹ï¼š"></a>è¦ç‚¹ï¼š</h2><ul><li>manifest.json  // chromeé…ç½®æ–‡ä»¶</li><li>webpacké…ç½®(æ‰“åŒ…ï¼Œçƒ­ç¼–è¯‘)</li><li>jsonp</li><li>ajaxå°è£…</li></ul><p>å¼€å‘ä¹‹å‰äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Chromeæ’ä»¶=&gt;</p><h2 id="ä»€ä¹ˆæ˜¯Chromeæ’ä»¶"><a href="#ä»€ä¹ˆæ˜¯Chromeæ’ä»¶" class="headerlink" title="ä»€ä¹ˆæ˜¯Chromeæ’ä»¶"></a>ä»€ä¹ˆæ˜¯Chromeæ’ä»¶</h2><p>Chromeæ’ä»¶æ˜¯ä¸€ä¸ªç”¨WebæŠ€æœ¯å¼€å‘ã€ç”¨æ¥å¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç”±HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰èµ„æºç»„æˆçš„ä¸€ä¸ª.crxåç¼€çš„å‹ç¼©åŒ…ã€‚</p><h2 id="æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰"><a href="#æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰" class="headerlink" title="æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰"></a>æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰</h2><p>è¿™æ˜¯ä¸€ä¸ªChromeæ’ä»¶æœ€é‡è¦ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®æ‰€æœ‰å’Œæ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œå¿…é¡»æ”¾åœ¨éœ€è¦æµè§ˆå™¨æ‰“åŒ…çš„æ ¹ç›®å½•ã€‚å…¶ä¸­ï¼Œmanifest_versionã€nameã€version3ä¸ªæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œdescriptionå’Œiconsæ˜¯æ¨èçš„ã€‚</p><p>æ —å­(æ¯”è¾ƒå…¨)ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå¿…é¡»å†™ï¼Œè€Œä¸”å¿…é¡»æ˜¯2</span></span><br><span class="line">  <span class="string">"manifest_version"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶çš„åç§°</span></span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"demo"</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶çš„ç‰ˆæœ¬</span></span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶æè¿°</span></span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"ç®€å•çš„Chromeæ‰©å±•demo"</span>,</span><br><span class="line">  <span class="comment">// å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜</span></span><br><span class="line">  <span class="string">"icons"</span>: &#123;</span><br><span class="line">    <span class="string">"16"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="string">"48"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="string">"128"</span>: <span class="string">"img/icon.png"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢</span></span><br><span class="line">  <span class="string">"background"</span>: &#123;</span><br><span class="line">    <span class="comment">// 2ç§æŒ‡å®šæ–¹å¼ï¼Œå¦‚æœæŒ‡å®šJSï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ</span></span><br><span class="line">    <span class="string">"page"</span>: <span class="string">"background.html"</span></span><br><span class="line">    <span class="comment">//"scripts": ["js/background.js"]</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€</span></span><br><span class="line">  <span class="string">"browser_action"</span>: &#123;</span><br><span class="line">    <span class="string">"default_icon"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="comment">// å›¾æ ‡æ‚¬åœæ—¶çš„æ ‡é¢˜ï¼Œå¯é€‰</span></span><br><span class="line">    <span class="string">"default_title"</span>: <span class="string">"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹Chromeæ’ä»¶"</span>,</span><br><span class="line">    <span class="string">"default_popup"</span>: <span class="string">"popup.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å½“æŸäº›ç‰¹å®šé¡µé¢æ‰“å¼€æ‰æ˜¾ç¤ºçš„å›¾æ ‡</span></span><br><span class="line">  <span class="comment">/*"page_action": &#123;</span></span><br><span class="line"><span class="comment">    "default_icon": "img/icon.png",</span></span><br><span class="line"><span class="comment">    "default_title": "æˆ‘æ˜¯pageAction",</span></span><br><span class="line"><span class="comment">    "default_popup": "popup.html"</span></span><br><span class="line"><span class="comment">  &#125;,*/</span></span><br><span class="line">  <span class="comment">// éœ€è¦ç›´æ¥æ³¨å…¥é¡µé¢çš„JS</span></span><br><span class="line">  <span class="string">"content_scripts"</span>: [&#123;</span><br><span class="line">    <span class="comment">//"matches": ["http://*/*", "https://*/*"],</span></span><br><span class="line">    <span class="comment">// "&lt;all_urls&gt;" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€</span></span><br><span class="line">    <span class="string">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>],</span><br><span class="line">    <span class="comment">// å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥</span></span><br><span class="line">    <span class="string">"js"</span>: [<span class="string">"js/jquery-1.8.3.js"</span>, <span class="string">"js/content-script.js"</span>],</span><br><span class="line">    <span class="comment">// JSçš„æ³¨å…¥å¯ä»¥éšä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯CSSçš„æ³¨æ„å°±è¦åƒä¸‡å°å¿ƒäº†ï¼Œå› ä¸ºä¸€ä¸å°å¿ƒå°±å¯èƒ½å½±å“å…¨å±€æ ·å¼</span></span><br><span class="line">    <span class="string">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">    <span class="comment">// ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š "document_start", "document_end", or "document_idle"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle</span></span><br><span class="line">    <span class="string">"run_at"</span>: <span class="string">"document_start"</span></span><br><span class="line">  &#125;, &#123; <span class="comment">// è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºcontent-scriptå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™</span></span><br><span class="line">    <span class="string">"matches"</span>: [<span class="string">"*://*/*.png"</span>, <span class="string">"*://*/*.jpg"</span>, <span class="string">"*://*/*.gif"</span>, <span class="string">"*://*/*.bmp"</span>],</span><br><span class="line">    <span class="string">"js"</span>: [<span class="string">"js/show-image-content-size.js"</span>]</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="comment">// æƒé™ç”³è¯·</span></span><br><span class="line">  <span class="string">"permissions"</span>: [</span><br><span class="line">    <span class="string">"contextMenus"</span>, <span class="comment">// å³é”®èœå•</span></span><br><span class="line">    <span class="string">"tabs"</span>, <span class="comment">// æ ‡ç­¾</span></span><br><span class="line">    <span class="string">"notifications"</span>, <span class="comment">// é€šçŸ¥</span></span><br><span class="line">    <span class="string">"webRequest"</span>, <span class="comment">// webè¯·æ±‚</span></span><br><span class="line">    <span class="string">"webRequestBlocking"</span>,</span><br><span class="line">    <span class="string">"storage"</span>, <span class="comment">// æ’ä»¶æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">    <span class="string">"http://*/*"</span>, <span class="comment">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class="line">    <span class="string">"https://*/*"</span> <span class="comment">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä»‹ç»å®Œåæˆ‘ä»¬å°±æ¥å¼€å‘äº†(ç ä»£ç ä¸­â€¦)</p><h2 id="å¼€å‘-åŸºäºVue"><a href="#å¼€å‘-åŸºäºVue" class="headerlink" title="å¼€å‘(åŸºäºVue)"></a>å¼€å‘(åŸºäºVue)</h2><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir online-translate</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> online-translate</span><br><span class="line"></span><br><span class="line">npm init</span><br><span class="line"></span><br><span class="line">// æ–‡ä»¶å±‚çº§</span><br><span class="line">â”œâ”€â”€ chrome  // æµè§ˆå™¨æ‰“åŒ…çš„æ–‡ä»¶å¤¹</span><br><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ src  // æºç </span><br><span class="line">â””â”€â”€ webpack.config.js  // wepack</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// å®‰è£…é¡¹ç›®ä¾èµ–</span><br><span class="line">npm install vue element-ui --save</span><br><span class="line"></span><br><span class="line">// å®‰è£…å¼€å‘ä¾èµ–</span><br><span class="line">npm install babel-core babel-loader babel-plugin-component babel-preset-env cross-env css-loader file-loader html-webpack-plugin style-loader vue-loader vue-template-compiler webpack webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure><h3 id="webpacké…ç½®"><a href="#webpacké…ç½®" class="headerlink" title="webpacké…ç½®"></a>webpacké…ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    popup: <span class="string">'./src/popup.js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./chrome'</span>),</span><br><span class="line">    publicPath: <span class="string">'/'</span>,</span><br><span class="line">    filename: <span class="string">'[name].[hash].js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          loaders: &#123;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// other vue-loader options go here</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        loader: <span class="string">'style-loader!css-loader'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(eot|svg|ttf|woff|woff2)(\?\S*)?$/</span>,</span><br><span class="line">        loader: <span class="string">'file-loader'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|svg)$/</span>,</span><br><span class="line">        loader: <span class="string">'file-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          name: <span class="string">'[name].[ext]?[hash]'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// new webpack.HotModuleReplacementPlugin(),</span></span><br><span class="line">    <span class="comment">// new webpack.NamedModulesPlugin(),</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: path.join(__dirname, <span class="string">'./index.html'</span>),</span><br><span class="line">      inject: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">    noInfo: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  performance: &#123;</span><br><span class="line">    hints: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devtool: <span class="string">'#eval-source-map'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports.devtool = <span class="string">'#source-map'</span></span><br><span class="line">  <span class="comment">// http://vue-loader.vuejs.org/en/workflow/production.html</span></span><br><span class="line">  <span class="built_in">module</span>.exports.plugins = (<span class="built_in">module</span>.exports.plugins || []).concat([</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line">        NODE_ENV: <span class="string">'"production"'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">      sourceMap: <span class="literal">false</span>,</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.LoaderOptionsPlugin(&#123;</span><br><span class="line">      minimize: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬å°±èƒ½æ„‰å¿«çš„å¼€å‘äº†</p><h3 id="æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼"><a href="#æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼" class="headerlink" title="æ¥ä¸‹æ¥å°±æ˜¯ Vue çš„å¼€å‘äº†ï¼"></a>æ¥ä¸‹æ¥å°±æ˜¯ <code>Vue</code> çš„å¼€å‘äº†ï¼</h3><p>æ­£å¸¸çš„é¡¹ç›®å¼€å‘â€¦</p><p>è¯¦ç»†æºç å¯ä»¥çœ‹<a href="https://github.com/hzzly/online-translate" target="_blank" rel="noopener">github</a></p><h3 id="webpackæ‰“åŒ…"><a href="#webpackæ‰“åŒ…" class="headerlink" title="webpackæ‰“åŒ…"></a>webpackæ‰“åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><p>æŠŠä»£ç æ‰“åŒ…åˆ°äº†chromeæ–‡ä»¶å¤¹å†…ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨chromeæ‰©å±•è¿›è¡Œæ‰“åŒ…æ‰©å±•ç¨‹åºï¼Œä¼šç”Ÿæˆ.crxå’Œ.pemæ–‡ä»¶ï¼Œç„¶åç›´æ¥å‘å¸ƒæˆ–è€…æŠŠ.crxæ–‡ä»¶æ‹–è¿›æ‰©å±•ç¨‹åºå†…è¿›è¡Œå†…æµ‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="chrome" scheme="http://yoursite.com/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Node é…ç½®æ–‡ä»¶çš„å®šåˆ¶</title>
    <link href="http://yoursite.com/2018/11/13/Node-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%9A%E5%88%B6/"/>
    <id>http://yoursite.com/2018/11/13/Node-é…ç½®æ–‡ä»¶çš„å®šåˆ¶/</id>
    <published>2018-11-13T13:54:17.000Z</published>
    <updated>2019-01-02T07:58:14.547Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶<br>å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤</p></blockquote><p>ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦ç”¨åˆ°ä¸€äº›å¯é…ç½®çš„å˜é‡ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œåœ¨å¼€å‘æ—¶æˆ‘ä»¬ä¼šè¿å¼€å‘çš„æ•°æ®åº“ï¼Œç”Ÿæˆç¯å¢ƒæˆ‘ä»¬éœ€è¦è¿ç”Ÿäº§çš„æ•°æ®åº“ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ è½½ä¸ä¸€æ ·çš„é…ç½®æ–‡ä»¶ï¼Œä»è€Œæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥å®šåˆ¶æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚</p><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><p>åœ¨ Node ä¸­å¯ä»¥é€šè¿‡ <code>process.env</code> æ¥è®¿é—®å½“å‰çš„ç¯å¢ƒå˜é‡ä¿¡æ¯ã€‚<br>æ¯”å¦‚æˆ‘ä»¬åœ¨ <code>package.json</code> ä¸­é€šè¿‡ <code>scripts</code> å®šä¹‰çš„shellè„šæœ¬æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "start": "node ./bin/www",</span><br><span class="line">    "dev": "NODE_ENV=dev node ./bin/www",</span><br><span class="line">    "pro": "NODE_ENV=pro node ./bin/www"</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æœ‰ä¸‰æ¡æ¡å¯åŠ¨å‘½ä»¤ï¼Œä¸€æ¡æ˜¯é»˜è®¤çš„ <code>start</code>ï¼Œå¦å¤–ä¸¤æ¡æˆ‘ä»¬é€šè¿‡ <code>NODE_ENV=xxx</code> æ¥è®¾ç½®äº†å¯¹åº”çš„ç¯å¢ƒï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œé€šè¿‡ <code>process.env.NODE_ENV</code> å°±å¯ä»¥å–åˆ°é¡¹ç›®çš„å½“å‰ç¯å¢ƒã€‚</p><h2 id="é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶"><a href="#é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶" class="headerlink" title="é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶"></a>é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶</h2><p>åœ¨ä¸Šé¢æˆ‘ä»¬é€šè¿‡shellè„šæœ¬æŒ‡å®šäº†å¯¹åº”çš„ç¯å¢ƒï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>process.env.NODE_ENV</code> æ¥åŠ è½½å¯¹åº”çš„é…ç½®æ–‡ä»¶äº†ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/index.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    mongodb: <span class="string">'mongodb://localhost:27017/demo'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  build: &#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    mongodb: <span class="string">'mongodb://127.0.0.0:27017/demo'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./config'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mongodb = process.env.NODE_ENV === <span class="string">'dev'</span> ? config.build.mongodb : config.dev.mongodb</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒçš„æ”¾å¿ƒçš„å†™ä»£ç äº†ï¼Œä½†è¿™æ ·å†™è¿˜ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œéƒ½å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œäº†ï¼Œä¸å¤ªå¥½ç»´æŠ¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœŸæ­£çš„åŠ¨æ€åŠ è½½ï¼Œä¸éœ€è¦æˆ‘ä»¬å†åŠ åˆ¤æ–­äº†ã€‚</p><h2 id="config-lite"><a href="#config-lite" class="headerlink" title="config-lite"></a>config-lite</h2><blockquote><p><a href="https://github.com/nswbmw/config-lite" target="_blank" rel="noopener">config-lite</a>ï¼š A super simple &amp; flexible &amp; intuitive config module, support yaml &amp; toml.</p></blockquote><p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒï¼Œå°†é…ç½®å†™å…¥ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºconfigç›®å½•ï¼Œé‡Œé¢æ–°å»ºä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼šdefault.jsã€dev.jså’Œpro.jsã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// default.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dev.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  host: <span class="string">"https://dev.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://localhost:27017/test'</span>,</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pro.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  host: <span class="string">"https://pro.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>å¥½äº†ï¼Œé…ç½®æ–‡ä»¶å†™å¥½äº†ï¼Œå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ <code>config-lite</code> æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¾æ—§æ˜¯ä¾æ®æˆ‘ä»¬shellè„šæœ¬æŒ‡å®šçš„å¯¹åº”ç¯å¢ƒæ¥é€‰æ‹©ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚</p><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i config-lite --save</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œ<code>config-lite</code>ä¼šå»æŠ“å–dev.jsé…ç½®ï¼Œå¹¶ä¸”ä¼šä¸default.jsé‡Œé…ç½®å»åˆå¹¶ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å¯¹è±¡ï¼Œä¼šè¦†ç›–default.jsé‡Œçš„é…ç½®ã€‚åŒç† <code>npm run pro</code></p><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'config-lite'</span>)(__dirname);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€å¦‚æœè¿è¡Œ npm run dev</span></span><br><span class="line">config = &#123;</span><br><span class="line">  host: <span class="string">"https://dev.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://localhost:27017/test'</span>,</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€å¦‚æœè¿è¡Œ npm run pro</span></span><br><span class="line">config = &#123;</span><br><span class="line">  host: <span class="string">"https://pro.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æ›´å¥½ç»´æŠ¤çš„åŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶ã€‚è¿˜æœ‰ä¸€ä¸ª<code>é—®é¢˜</code>ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨windowså¹³å°ä¸‹ä½¿ç”¨ç±»ä¼¼äº: NODE_ENV=proçš„å‘½ä»¤è¡ŒæŒ‡ä»¤ä¼šå¡ä½ï¼Œwindowså¹³å°ä¸POSIXåœ¨ä½¿ç”¨å‘½ä»¤è¡Œæ—¶æœ‰è®¸å¤šåŒºåˆ«ï¼ˆä¾‹å¦‚åœ¨POSIXï¼Œä½¿ç”¨$ENV_VAR,åœ¨windowsï¼Œä½¿ç”¨%ENV_VAR%ã€‚ã€‚ã€‚ï¼‰ï¼‰ã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼ŸğŸ‘‡</p><h2 id="cross-env"><a href="#cross-env" class="headerlink" title="cross-env"></a>cross-env</h2><blockquote><p>cross-env è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œä¸åŒå¹³å°ä½¿ç”¨å”¯ä¸€æŒ‡ä»¤ï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜</p></blockquote><h3 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i cross-env --save</span><br></pre></td></tr></table></figure><h3 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "start": "node ./bin/www",</span><br><span class="line">    "dev": "cross-env NODE_ENV=dev node ./bin/www",</span><br><span class="line">    "pro": "cross-env NODE_ENV=pro node ./bin/www"</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · NODE_ENV ä¾¿è®¾ç½®æˆåŠŸï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜ã€‚</p><h2 id="egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"><a href="#egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨" class="headerlink" title="egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"></a>egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨</h2><p>åœ¨ config ç›®å½•(è„šæ‰‹æ¶ç”Ÿæˆçš„)æ–°å¢ config.dev.js å’Œ config.pro.jsï¼Œç„¶ååœ¨æ–‡ä»¶å†…å†™æˆ‘ä»¬å¯¹åº”ç¯å¢ƒçš„é…ç½®ã€‚</p><ul><li>é…ç½®ç¯å¢ƒ<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "script": &#123;</span><br><span class="line">    ...</span><br><span class="line">    "dev": "EGG_SERVER_ENV=dev egg-bin dev",</span><br><span class="line">    "pro": "EGG_SERVER_ENV=pro egg-scripts start",</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>åœ¨ egg ä¸­é€šè¿‡ <code>EGG_SERVER_ENV</code> æ¥å£°æ˜å¯¹åº”çš„ç¯å¢ƒå˜é‡ã€‚</p><ul><li>ä½¿ç”¨<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = <span class="keyword">this</span>.app.config <span class="comment">// å¾—åˆ°å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶(ä¹Ÿä¼šå’Œ default è¿›è¡Œåˆå¹¶)</span></span><br></pre></td></tr></table></figure></li></ul><p>å®Œç»“ï¼Œå¥½ä¹…æ²¡å†™äº†ï¼Œæœ‰ç‚¹ç”Ÿç–äº†ï¼Œè‹¦ç¬‘ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶&lt;br&gt;å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="node" scheme="http://yoursite.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è·¯ç”±çš„å®ç°åŸç†</title>
    <link href="http://yoursite.com/2017/09/16/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/"/>
    <id>http://yoursite.com/2017/09/16/å‰ç«¯è·¯ç”±çš„å®ç°åŸç†/</id>
    <published>2017-09-16T13:09:32.000Z</published>
    <updated>2019-03-05T12:22:34.264Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><blockquote><p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„é¡µé¢ä¹Ÿä¸ç›¸åŒã€‚è¿™æ˜¯ä»è·¯ç”±çš„ç”¨é€”ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰ä¸€ç§è¯´æ³•æ˜¯ï¼šè·¯ç”±å°±æ˜¯URLåˆ°å‡½æ•°çš„æ˜ å°„ã€‚è¿™æ˜¯ä»è·¯ç”±çš„å®ç°åŸç†ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ã€‚è¿™ä¸¤ç§è¯´æ³•éƒ½å¾ˆæœ‰é“ç†ã€‚</p></blockquote><blockquote><p>æ—©æœŸçš„è·¯ç”±éƒ½æ˜¯åç«¯å®ç°çš„ï¼Œç›´æ¥æ ¹æ® url æ¥ reload é¡µé¢ï¼Œé¡µé¢å˜å¾—è¶Šæ¥è¶Šå¤æ‚æœåŠ¡å™¨ç«¯å‹åŠ›å˜å¤§ï¼Œéšç€ ajax çš„å‡ºç°ï¼Œé¡µé¢å®ç°é reload å°±èƒ½åˆ·æ–°æ•°æ®ï¼Œä¹Ÿç»™å‰ç«¯è·¯ç”±çš„å‡ºç°å¥ å®šäº†åŸºç¡€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®°å½• url æ¥è®°å½• ajax çš„å˜åŒ–ï¼Œä»è€Œå®ç°å‰ç«¯è·¯ç”±ã€‚</p></blockquote><p>å‰ç«¯è·¯ç”±è¯´ç™½äº†å°±æ˜¯ç›‘å¬æµè§ˆå™¨è·¯ç”±åœ°å€çš„å˜åŒ–ï¼Œæ¸²æŸ“ä¸åŒçš„é¡µé¢æˆ–ç»„ä»¶ã€‚<br>ä¸‹é¢ä¸»è¦è®²ä¸¤ç§ä¸»æµæ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼š</p><h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>è¿™é‡Œä¸ç»†è¯´æ¯ä¸€ä¸ª API çš„ç”¨æ³•ï¼Œå¤§å®¶å¯ä»¥çœ‹ MDN çš„æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/History" target="_blank" rel="noopener">https://developer.mozilla.orgâ€¦</a></p><p>14å¹´åï¼Œå› ä¸ºHTML5æ ‡å‡†å‘å¸ƒï¼Œæ–°å¢äº†ä¸¤ä¸ª APIï¼Œhistory.pushState å’Œ history.replaceStateï¼Œé€šè¿‡è¿™ä¸¤ä¸ª API å¯ä»¥æ”¹å˜ url åœ°å€ä¸”ä¸ä¼šå‘é€è¯·æ±‚ã€‚</p><p>è¿™ä¸¤ä¸ª API éƒ½æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯</p><ul><li>çŠ¶æ€å¯¹è±¡ï¼ˆstate objectï¼‰ â€” ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œä¸ç”¨pushState()æ–¹æ³•åˆ›å»ºçš„æ–°å†å²è®°å½•æ¡ç›®å…³è”ã€‚æ— è®ºä½•æ—¶ç”¨æˆ·å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„çŠ¶æ€ï¼Œpopstateäº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ï¼Œå¹¶ä¸”äº‹ä»¶å¯¹è±¡çš„stateå±æ€§éƒ½åŒ…å«å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„æ‹·è´ã€‚</li><li>æ ‡é¢˜ï¼ˆtitleï¼‰ â€” FireFoxæµè§ˆå™¨ç›®å‰ä¼šå¿½ç•¥è¯¥å‚æ•°ï¼Œè™½ç„¶ä»¥åå¯èƒ½ä¼šç”¨ä¸Šã€‚è€ƒè™‘åˆ°æœªæ¥å¯èƒ½ä¼šå¯¹è¯¥æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œä¼ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¼šæ¯”è¾ƒå®‰å…¨ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªç®€çŸ­çš„æ ‡é¢˜ï¼Œæ ‡æ˜å°†è¦è¿›å…¥çš„çŠ¶æ€ã€‚</li><li>åœ°å€ï¼ˆURLï¼‰ â€” æ–°çš„å†å²è®°å½•æ¡ç›®çš„åœ°å€ã€‚æµè§ˆå™¨ä¸ä¼šåœ¨è°ƒç”¨pushState()æ–¹æ³•ååŠ è½½è¯¥åœ°å€ï¼Œä½†ä¹‹åï¼Œå¯èƒ½ä¼šè¯•å›¾åŠ è½½ï¼Œä¾‹å¦‚ç”¨æˆ·é‡å¯æµè§ˆå™¨ã€‚æ–°çš„URLä¸ä¸€å®šæ˜¯ç»å¯¹è·¯å¾„ï¼›å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒå°†ä»¥å½“å‰URLä¸ºåŸºå‡†ï¼›ä¼ å…¥çš„URLä¸å½“å‰URLåº”è¯¥æ˜¯åŒæºçš„ï¼Œå¦åˆ™ï¼ŒpushState()ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼›ä¸æŒ‡å®šçš„è¯åˆ™ä¸ºæ–‡æ¡£å½“å‰URLã€‚<br>ç›¸åŒä¹‹å¤„æ˜¯ä¸¤ä¸ª API éƒ½ä¼šæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œè€Œä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ã€‚</li></ul><p>ä¸åŒä¹‹å¤„åœ¨äºï¼ŒpushStateä¼šå¢åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•ï¼Œè€ŒreplaceStateåˆ™ä¼šæ›¿æ¢å½“å‰çš„å†å²è®°å½•ã€‚</p><p>æˆ‘ä»¬æ‹¿å¤§ç™¾åº¦çš„æ§åˆ¶å°ä¸¾ä¾‹å­ï¼ˆå…·ä½“è¯´æ˜¯æˆ‘çš„æµè§ˆå™¨åœ¨ç™¾åº¦é¦–é¡µæ‰“å¼€æ§åˆ¶å°ã€‚ã€‚ã€‚ï¼‰</p><p>æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"https://www.baidu.com/?name=hzzly"</span>);</span><br></pre></td></tr></table></figure><p>å¥½ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ­¤æ—¶çš„ url å˜æˆäº†è¿™æ ·<br><code>https://www.baidu.com/?name=hzzly</code></p><p>æˆ‘ä»¬è¿™é‡Œä¸ä¸€ä¸€æµ‹è¯•ï¼Œç›´æ¥ç»™å‡ºå…¶å®ƒç”¨æ³•ï¼Œå¤§å®¶è‡ªè¡Œå°è¯•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"https://www.baidu.com/name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"?name=hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com?name=hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"name=hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name=hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"/name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br></pre></td></tr></table></figure></p><p>æ¯æ¬¡æ”¹å˜ url é¡µé¢å¹¶æ²¡æœ‰åˆ·æ–°ï¼ŒåŒæ ·æ ¹æ®ä¸Šæ–‡æ‰€è¿°ï¼Œæµè§ˆå™¨ä¼šäº§ç”Ÿå†å²è®°å½•ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬historyå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” popstate äº‹ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchAndUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŒ¹é…è·¯å¾„ åš dom æ›´æ–°æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure></p><h1 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h1><p>æˆ‘ä»¬ç»å¸¸åœ¨ url ä¸­çœ‹åˆ° #ï¼Œè¿™ä¸ª # æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬æ‰€è°“çš„é”šç‚¹ï¼Œæ¯”å¦‚å…¸å‹çš„å„ä¸ªæ ‡é¢˜ä¹‹é—´çš„è·³è½¬ç­‰ï¼Œè·¯ç”±é‡Œçš„ # ä¸å«é”šç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º hashã€‚</p><p>åŒæ ·æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬å“ˆå¸Œå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” hashchange äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchAndUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŒ¹é… hash åš dom æ›´æ–°æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'hashchange'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨ window.location å¤„ç†å“ˆå¸Œçš„æ”¹å˜æ—¶ä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯å½“ä½œæ–°é¡µé¢åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬è·³è½¬é¡µé¢å°±å¯ä»¥åœ¨ hashchange äº‹ä»¶ä¸­æ³¨å†Œ ajax ä»è€Œæ”¹å˜é¡µé¢å†…å®¹ã€‚</p><h1 id="å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹"><a href="#å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹" class="headerlink" title="å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹"></a>å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹</h1><p>ä¼˜ç‚¹ï¼š<br>1.ä»æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„å±‚é¢æ¥æ¯”è¾ƒçš„è¯ï¼Œåç«¯è·¯ç”±æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™éƒ½è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å†å“åº”è¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹è‚¯å®šä¼šæœ‰å»¶è¿Ÿã€‚è€Œå‰ç«¯è·¯ç”±åœ¨è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™ä»…ä»…æ˜¯å˜æ¢äº†ä¸€ä¸‹è·¯å¾„è€Œå·²ï¼Œæ²¡æœ‰äº†ç½‘ç»œå»¶è¿Ÿï¼Œå¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ä¼šæœ‰ç›¸å½“å¤§çš„æå‡ã€‚<br>2.åœ¨æŸäº›åœºåˆä¸­ï¼Œç”¨ajaxè¯·æ±‚ï¼Œå¯ä»¥è®©é¡µé¢æ— åˆ·æ–°ï¼Œé¡µé¢å˜äº†ä½†Urlæ²¡æœ‰å˜åŒ–ï¼Œç”¨æˆ·å°±ä¸èƒ½å¤åˆ¶åˆ°æƒ³è¦çš„åœ°å€ï¼Œç”¨å‰ç«¯è·¯ç”±åšå•é¡µé¢ç½‘é¡µå°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜</p><p>ç¼ºç‚¹ï¼š<br>ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€é”®çš„æ—¶å€™ä¼šé‡æ–°å‘é€è¯·æ±‚ï¼Œæ²¡æœ‰åˆç†åœ°åˆ©ç”¨ç¼“å­˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·¯ç”±&quot;&gt;&lt;a href=&quot;#è·¯ç”±&quot; class=&quot;headerlink&quot; title=&quot;è·¯ç”±&quot;&gt;&lt;/a&gt;è·¯ç”±&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Vue.jsä¸­ä½¿ç”¨Mixins</title>
    <link href="http://yoursite.com/2017/09/12/%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8Mixins/"/>
    <id>http://yoursite.com/2017/09/12/åœ¨Vue-jsä¸­ä½¿ç”¨Mixins/</id>
    <published>2017-09-12T03:15:14.000Z</published>
    <updated>2019-01-02T07:46:54.665Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯?</p></blockquote><p>è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å®Œç¾çš„: å¦‚æœä½ å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶, åœ¨éœ€æ±‚å˜åŒ–(åŠŸèƒ½å˜åŒ–)æ—¶, å¯èƒ½ä¼šå¢åŠ éœ€è¦åŒæ—¶ä¿®æ”¹ä¸¤ä¸ªç»„ä»¶çš„é£é™©, è¿™è¿åäº†â€DRYâ€çš„å‰æ. å¦ä¸€æ–¹é¢, å¤ªå¤šçš„propså¾ˆå¿«ä¼šè®©äººå˜å¾—å‡Œä¹±, å¹¶ä¸”, è¿«ä½¿ç»´æŠ¤äººå‘˜, ç”šè‡³æ˜¯ä½ è‡ªå·±, è¦é¦–å…ˆç†è§£è¿™äº›propsçš„ä¸Šä¸‹æ–‡æ‰èƒ½ä½¿ç”¨å®ƒ, è¿™ä¼šè®©äººéå¸¸å¤±æœ›.</p><p>Vueçš„Mixinsæ˜¯éå¸¸å®ç”¨çš„ç¼–ç¨‹æ–¹å¼, å› ä¸ºæœ€ç»ˆå®ç”¨çš„ç¼–ç¨‹æ˜¯é€šè¿‡ä¸æ–­å‡å°‘è¿åŠ¨éƒ¨ä»¶(moving parts)ä½¿ä»£ç å˜å¾—å®¹æ˜“ç†è§£. (å…³äºè¿™ä¸€ç‚¹, Michael Feathersæœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¼•ç”¨). ä¸€ä¸ªmixinå…è®¸ä½ å°è£…ä¸€ä¸ªåŠŸèƒ½, ä»¥ä¾¿ä½ èƒ½åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç»„ä»¶ä¸­ä½¿ç”¨å®ƒ. å¦‚æœmixinè¢«æ­£ç¡®çš„åˆ›å»º, å®ƒä»¬æ˜¯çº¯ç²¹çš„â€“å®ƒä»¬ä¸ä¼šä¿®æ”¹æˆ–æ›´æ”¹å‡½æ•°çš„ä½œç”¨èŒƒå›´(scope)ä¹‹å¤–çš„å†…å®¹, å› æ­¤, æ‚¨å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹æ‰§è¡Œå®ƒä»¬, å¹¶ä¸”åªè¦è¾“å…¥å€¼ç›¸åŒ, æ€»æ˜¯èƒ½éå¸¸å¯é å¾—å¾—åˆ°ç›¸åŒçš„ç»“æœ. è¿™çœŸçš„éå¸¸å¼ºå¤§.</p><h1 id="è®¤è¯†Mixins"><a href="#è®¤è¯†Mixins" class="headerlink" title="è®¤è¯†Mixins"></a>è®¤è¯†Mixins</h1><p><a href="https://cn.vuejs.org/v2/guide/mixins.html" target="_blank" rel="noopener">æ··åˆ (mixins)</a> æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p><h1 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a>æ —å­</h1><blockquote><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸åŒçš„ç»„ä»¶, å®ƒä»¬çš„å·¥ä½œæ˜¯åˆ‡æ¢çŠ¶æ€boolean, ä¸€ä¸ªæ¨¡æ€(modal)å’Œä¸€ä¸ªæç¤º(tooltip). è¿™äº›tooltipså’Œmodalsæ²¡æœ‰å¾ˆå¤šå…±åŒä¹‹å¤„, é™¤äº†è¿™ä¸ªåŠŸèƒ½: å®ƒä»¬çœ‹èµ·æ¥ä¸ä¸€æ ·, å®ƒä»¬ä½¿ç”¨èµ·æ¥ä¹Ÿä¸å°½ç›¸åŒ, ä½†æ˜¯å®ƒä»¬çš„é€»è¾‘æ˜¯ç›¸ä¼¼çš„ .</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//modal</span></span><br><span class="line"><span class="keyword">const</span> Modal = &#123;</span><br><span class="line">  template: <span class="string">'#modal'</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//tooltip</span></span><br><span class="line"><span class="keyword">const</span> Tooltip = &#123;</span><br><span class="line">  template: <span class="string">'#tooltip'</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä»ä¸­æå–é€»è¾‘, å¹¶åˆ›å»ºå¯ä»¥å¤ç”¨çš„éƒ¨åˆ†ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toggle = &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Modal = &#123;</span><br><span class="line">  template: <span class="string">'#modal'</span>,</span><br><span class="line">  mixins: [toggle]</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Tooltip = &#123;</span><br><span class="line">  template: <span class="string">'#tooltip'</span>,</span><br><span class="line">  mixins: [toggle]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>duang â€” ä¸€ä¸ªå°è€Œç®€å•çš„ğŸŒ°è®©æˆ‘ä»¬çŸ¥é“äº†Mixinså¯¹äºå°è£…ä¸€äº›å¯å¤ç”¨çš„åŠŸèƒ½å¦‚æ­¤æœ‰è¶£ã€æ–¹ä¾¿ã€å®ç”¨ã€‚</p><h1 id="é¡¹ç›®å®è·µ"><a href="#é¡¹ç›®å®è·µ" class="headerlink" title="é¡¹ç›®å®è·µ"></a>é¡¹ç›®å®è·µ</h1><blockquote><ul><li><a href="https://github.com/hzzly/MagicMusic/blob/master/src/common/js/mixin.js" target="_blank" rel="noopener">MagicMusic</a> star(200+)</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯?&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueæ’ä»¶çš„å¼€å‘(ä¸€)</title>
    <link href="http://yoursite.com/2017/08/25/Vue%E6%8F%92%E4%BB%B6%E7%9A%84%E5%BC%80%E5%8F%91-%E4%B8%80/"/>
    <id>http://yoursite.com/2017/08/25/Vueæ’ä»¶çš„å¼€å‘-ä¸€/</id>
    <published>2017-08-25T05:59:55.000Z</published>
    <updated>2017-08-25T06:05:54.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vue-toast æ’ä»¶ï¼Œæ¥äº†è§£æŒæ¡æ’ä»¶çš„å¼€å‘å’Œä½¿ç”¨ã€‚</p></blockquote><h1 id="è®¤è¯†æ’ä»¶"><a href="#è®¤è¯†æ’ä»¶" class="headerlink" title="è®¤è¯†æ’ä»¶"></a>è®¤è¯†æ’ä»¶</h1><p>æƒ³è¦å¼€å‘æ’ä»¶ï¼Œå…ˆè¦è®¤è¯†ä¸€ä¸ªæ’ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚<a href="https://cn.vuejs.org/v2/guide/plugins.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£:æ’ä»¶</a></p><p>Vue.js çš„æ’ä»¶åº”å½“æœ‰ä¸€ä¸ªå…¬å¼€æ–¹æ³• install ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ , ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MyPlugin.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.myGlobalMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚: vue-custom-element</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">Vue.directive(<span class="string">'my-directive'</span>, &#123;  <span class="comment">// 2. æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ vue-touch</span></span><br><span class="line">bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;)</span><br><span class="line">Vue.mixin(&#123;</span><br><span class="line">created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 3. é€šè¿‡å…¨å±€ mixinæ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚: vuex</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;)</span><br><span class="line">Vue.prototype.$myMethod = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;  <span class="comment">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¦è®²åˆ°çš„ vue-toast æ’ä»¶åˆ™æ˜¯é€šè¿‡æ·»åŠ å®ä¾‹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªå°ä¾‹å­ã€‚å…ˆæ–°å»ºä¸ªjsæ–‡ä»¶æ¥ç¼–å†™æ’ä»¶ï¼štoast.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.prototype.$msg = <span class="string">'Hello World'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>åœ¨ main.js ä¸­ï¼Œéœ€è¦å¯¼å…¥ toast.js å¹¶ä¸”é€šè¿‡å…¨å±€æ–¹æ³• Vue.use() æ¥ä½¿ç”¨æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Toast <span class="keyword">from</span> <span class="string">'./toast.js'</span>;</span><br><span class="line">Vue.use(Toast);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­æ¥è·å–è¯¥æ’ä»¶å®šä¹‰çš„ $msg å±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">mounted()&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.$msg);         <span class="comment">// Hello World</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº† Hello World ã€‚æ—¢ç„¶ $msg èƒ½è·å–åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥å®ç°æˆ‘ä»¬çš„ vue-toast æ’ä»¶äº†ã€‚</p><h1 id="å¼€å‘-vue-toast-æ’ä»¶"><a href="#å¼€å‘-vue-toast-æ’ä»¶" class="headerlink" title="å¼€å‘ vue-toast æ’ä»¶"></a>å¼€å‘ vue-toast æ’ä»¶</h1><p>éœ€æ±‚ï¼šåœ¨ç»„ä»¶ä¸­é€šè¿‡è°ƒç”¨ <strong>this.$toast(â€˜ç½‘ç»œè¯·æ±‚å¤±è´¥â€™) </strong>æ¥å¼¹å‡ºæç¤ºï¼Œé»˜è®¤åœ¨åº•éƒ¨æ˜¾ç¤ºã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ <strong>this.$toast.top()</strong> æˆ– <strong>this.$toast.center()</strong> ç­‰æ–¹æ³•æ¥å®ç°åœ¨ä¸åŒä½ç½®æ˜¾ç¤ºã€‚</p><p>æ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œå¼¹å‡ºæç¤ºçš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥åœ¨ body ä¸­æ·»åŠ ä¸€ä¸ª div ç”¨æ¥æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œä¸åŒçš„ä½ç½®æˆ‘é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»åæ¥å®šä½ï¼Œé‚£å°±å¯ä»¥å¼€å§‹å†™äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;     <span class="comment">// 1ã€åˆ›å»ºæ„é€ å™¨ï¼Œå®šä¹‰å¥½æç¤ºä¿¡æ¯çš„æ¨¡æ¿</span></span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> tpl = <span class="keyword">new</span> toastTpl().$mount().$el;  <span class="comment">// 2ã€åˆ›å»ºå®ä¾‹ï¼ŒæŒ‚è½½åˆ°æ–‡æ¡£ä»¥åçš„åœ°æ–¹</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(tpl);     <span class="comment">// 3ã€æŠŠåˆ›å»ºçš„å®ä¾‹æ·»åŠ åˆ°bodyä¸­</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;        <span class="comment">// 4ã€å»¶è¿Ÿ2.5ç§’åç§»é™¤è¯¥æç¤º</span></span><br><span class="line"><span class="built_in">document</span>.body.removeChild(tpl);</span><br><span class="line">&#125;, <span class="number">2500</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>å¥½åƒå¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±å®ç°äº† this.$toast() ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºä¸åŒä½ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line">[<span class="string">'bottom'</span>, <span class="string">'center'</span>, <span class="string">'top'</span>].forEach(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">Vue.prototype.$toast[type] = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Vue.prototype.$toast(tips,type)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒæŠŠ type ä¼ ç»™ $toast åœ¨è¯¥æ–¹æ³•é‡Œè¿›è¡Œä¸åŒä½ç½®çš„å¤„ç†ï¼Œä¸Šé¢è¯´äº†é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»å(toast-bottomã€toast-topã€toast-center)æ¥å®ç°ï¼Œé‚£ $toast æ–¹æ³•éœ€è¦å°å°ä¿®æ”¹ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips,type</span>) =&gt;</span> &#123;     <span class="comment">// æ·»åŠ  type å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;             <span class="comment">// æ¨¡æ¿æ·»åŠ ä½ç½®ç±»</span></span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast toast-'</span>+ type +<span class="string">'"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½åƒå·®ä¸å¤šäº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³é»˜è®¤åœ¨é¡¶éƒ¨æ˜¾ç¤ºï¼Œæˆ‘æ¯æ¬¡éƒ½è¦è°ƒç”¨ this.$toast.top() å¥½åƒå°±æœ‰ç‚¹å¤šä½™äº†ï¼Œæˆ‘èƒ½ä¸èƒ½ this.$toast() å°±ç›´æ¥åœ¨æˆ‘æƒ³è¦çš„åœ°æ–¹å‘¢ï¼Ÿè¿˜æœ‰æˆ‘ä¸æƒ³è¦ 2.5s åæ‰æ¶ˆå¤±å‘¢ï¼Ÿè¿™æ—¶å€™æ³¨æ„åˆ° Toast.install(Vue,options) é‡Œçš„ options å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Vue.use() é€šè¿‡ options ä¼ è¿›æˆ‘ä»¬æƒ³è¦çš„å‚æ•°ã€‚æœ€åä¿®æ”¹æ’ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> opt = &#123;</span><br><span class="line">defaultType:<span class="string">'bottom'</span>,   <span class="comment">// é»˜è®¤æ˜¾ç¤ºä½ç½®</span></span><br><span class="line">duration:<span class="string">'2500'</span>         <span class="comment">// æŒç»­æ—¶é—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> property <span class="keyword">in</span> options)&#123;</span><br><span class="line">opt[property] = options[property];  <span class="comment">// ä½¿ç”¨ options çš„é…ç½®</span></span><br><span class="line">&#125;</span><br><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips,type</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(type)&#123;</span><br><span class="line">opt.defaultType = type;         <span class="comment">// å¦‚æœæœ‰ä¼ typeï¼Œä½ç½®åˆ™è®¾ä¸ºè¯¥type</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">document</span>.getElementsByClassName(<span class="string">'vue-toast'</span>).length)&#123;</span><br><span class="line"><span class="comment">// å¦‚æœtoastè¿˜åœ¨ï¼Œåˆ™ä¸å†æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;</span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast toast-'</span>+opt.defaultType+<span class="string">'"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> tpl = <span class="keyword">new</span> toastTpl().$mount().$el;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(tpl);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">document</span>.body.removeChild(tpl);</span><br><span class="line">&#125;, opt.duration)</span><br><span class="line">&#125;</span><br><span class="line">[<span class="string">'bottom'</span>, <span class="string">'center'</span>, <span class="string">'top'</span>].forEach(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">Vue.prototype.$toast[type] = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Vue.prototype.$toast(tips,type)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å­ä¸€ä¸ªç®€å•çš„ vue æ’ä»¶å°±å®ç°äº†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ npm æ‰“åŒ…å‘å¸ƒï¼Œä¸‹æ¬¡å°±å¯ä»¥ä½¿ç”¨ npm install æ¥å®‰è£…äº†ã€‚</p><p>å¥½ä¹…æ²¡æ›´æ–°åšå®¢ï¼Œé€ƒã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vu
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸echartsçš„å¯è§†åŒ–</title>
    <link href="http://yoursite.com/2017/07/09/vue%E4%B8%8Eecharts%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    <id>http://yoursite.com/2017/07/09/vueä¸echartsçš„å¯è§†åŒ–/</id>
    <published>2017-07-09T13:51:32.000Z</published>
    <updated>2017-07-09T15:03:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚</p><h1 id="ä¸€ã€é…æ–¹"><a href="#ä¸€ã€é…æ–¹" class="headerlink" title="ä¸€ã€é…æ–¹"></a>ä¸€ã€é…æ–¹</h1><ul><li>vue</li><li>echarts</li></ul><h1 id="äºŒã€å‚è€ƒæ¡ˆä¾‹"><a href="#äºŒã€å‚è€ƒæ¡ˆä¾‹" class="headerlink" title="äºŒã€å‚è€ƒæ¡ˆä¾‹"></a>äºŒã€å‚è€ƒæ¡ˆä¾‹</h1><ul><li><a href="http://gallery.echartsjs.com/explore.html" target="_blank" rel="noopener">gallery</a> ç¤¾åŒºdemo</li></ul><h1 id="ä¸‰ã€å®è·µ"><a href="#ä¸‰ã€å®è·µ" class="headerlink" title="ä¸‰ã€å®è·µ"></a>ä¸‰ã€å®è·µ</h1><h2 id="3-1å®‰è£…-echarts"><a href="#3-1å®‰è£…-echarts" class="headerlink" title="3.1å®‰è£… echarts"></a>3.1å®‰è£… echarts</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure><h2 id="3-2vue-dom-ç»“æ„"><a href="#3-2vue-dom-ç»“æ„" class="headerlink" title="3.2vue dom ç»“æ„"></a>3.2vue dom ç»“æ„</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"charts"</span> <span class="attr">style</span>=<span class="string">"height:300px;width:300px"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-3åœ¨vueä¸­å¼•å…¥echarts"><a href="#3-3åœ¨vueä¸­å¼•å…¥echarts" class="headerlink" title="3.3åœ¨vueä¸­å¼•å…¥echarts"></a>3.3åœ¨vueä¸­å¼•å…¥echarts</h2><p>å› ä¸ºEChartsåˆå§‹åŒ–å¿…é¡»ç»‘å®šdomï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨vueçš„mountedç”Ÿå‘½å‘¨æœŸé‡Œåˆå§‹åŒ–ã€‚</p><h3 id="3-3-1å…¨éƒ¨å¼•å…¥"><a href="#3-3-1å…¨éƒ¨å¼•å…¥" class="headerlink" title="3.3.1å…¨éƒ¨å¼•å…¥"></a>3.3.1å…¨éƒ¨å¼•å…¥</h3><p>å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä»£ç ä¸­ require(â€˜echartsâ€™) æˆ– import å¾—åˆ° EChartsï¼Œæˆ‘è¿™é‡Œé€šè¿‡es6çš„importæ¥å¼•å…¥<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">'echarts'</span></span><br><span class="line"> </span><br><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">this</span>.initChart()</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  initChart () &#123;</span><br><span class="line">    <span class="keyword">this</span>.chart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'charts'</span>))</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> option = &#123;</span><br><span class="line">      title: &#123; <span class="attr">text</span>: <span class="string">'ECharts å…¥é—¨ç¤ºä¾‹'</span> &#125;,</span><br><span class="line">      tooltip: &#123;&#125;,</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        data: [<span class="string">"è¡¬è¡«"</span>,<span class="string">"ç¾Šæ¯›è¡«"</span>,<span class="string">"é›ªçººè¡«"</span>,<span class="string">"è£¤å­"</span>,<span class="string">"é«˜è·Ÿé‹"</span>,<span class="string">"è¢œå­"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;&#125;,</span><br><span class="line">      series: [&#123;</span><br><span class="line">        name: <span class="string">'é”€é‡'</span>,</span><br><span class="line">        type: <span class="string">'bar'</span>,</span><br><span class="line">        data: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">this</span>.chart.setOption(option)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="3-3-2æŒ‰éœ€å¼•å…¥"><a href="#3-3-2æŒ‰éœ€å¼•å…¥" class="headerlink" title="3.3.2æŒ‰éœ€å¼•å…¥"></a>3.3.2æŒ‰éœ€å¼•å…¥</h3><p>é»˜è®¤ä½¿ç”¨ require(â€˜echartsâ€™) å¾—åˆ°çš„æ˜¯å·²ç»åŠ è½½äº†æ‰€æœ‰å›¾è¡¨å’Œç»„ä»¶çš„ ECharts åŒ…ï¼Œå› æ­¤ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­å¯¹ä½“ç§¯è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œä¹Ÿå¯ä»¥åªæŒ‰éœ€å¼•å…¥éœ€è¦çš„æ¨¡å—ã€‚</p><p>ä¾‹å¦‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­åªç”¨åˆ°äº†æŸ±çŠ¶å›¾ï¼Œæç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶ï¼Œå› æ­¤åœ¨å¼•å…¥çš„æ—¶å€™ä¹Ÿåªéœ€è¦å¼•å…¥è¿™äº›æ¨¡å—ï¼Œå¯ä»¥æœ‰æ•ˆçš„å°†æ‰“åŒ…åçš„ä½“ç§¯ä» 400 å¤š KB å‡å°åˆ° 170 å¤š KBã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ ECharts ä¸»æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">'echarts/lib/echarts'</span></span><br><span class="line"><span class="comment">// å¼•å…¥æŸ±çŠ¶å›¾</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/chart/bar'</span></span><br><span class="line"><span class="comment">// å¼•å…¥æç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/component/tooltip'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/component/title'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// åé¢çš„è·Ÿä¸Šé¢çš„å°±ä¸€æ ·äº†</span></span><br></pre></td></tr></table></figure><h3 id="3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option"><a href="#3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option" class="headerlink" title="3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)"></a>3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§ watch optionså˜åŒ– åˆ©ç”¨vueçš„æ·±åº¦ watcherï¼Œoptionsä¸€æœ‰å˜åŒ–å°±é‡æ–°setOption</span></span><br><span class="line">watch: &#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    handler(options) &#123;</span><br><span class="line">      <span class="keyword">this</span>.chart.setOption(<span class="keyword">this</span>.options)</span><br><span class="line">    &#125;,</span><br><span class="line">    deep: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§ åªwatch æ•°æ®çš„å˜åŒ– åªæœ‰æ•°æ®å˜åŒ–æ—¶è§¦å‘ECharts</span></span><br><span class="line">watch: &#123;</span><br><span class="line">  seriesData(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setOptions(&#123;<span class="attr">series</span>:val&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-4ç»“æœ"><a href="#3-4ç»“æœ" class="headerlink" title="3.4ç»“æœ"></a>3.4ç»“æœ</h2><p><img src="http://omt3u4bph.bkt.clouddn.com/echarts.png" alt="vue-echarts"><br>åˆ°è¿™æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå°±å¯ä»¥æ˜¾ç¤ºå›¾è¡¨äº†ï¼Œå®ç°å¯è§†åŒ–æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ã€‚</p><h1 id="å››ã€å‚è€ƒ"><a href="#å››ã€å‚è€ƒ" class="headerlink" title="å››ã€å‚è€ƒ"></a>å››ã€å‚è€ƒ</h1><p><a href="http://echarts.baidu.com/tutorial.html#%E5%9C%A8%20webpack%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts" target="_blank" rel="noopener">åœ¨ webpack ä¸­ä½¿ç”¨ ECharts</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä¸€ã€é…æ–¹&quot;&gt;&lt;a href=&quot;#ä¸€ã€é…æ–¹&quot; class=&quot;headerli
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="echarts" scheme="http://yoursite.com/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ</title>
    <link href="http://yoursite.com/2017/06/21/%E5%9F%BA%E4%BA%8Evue-cli%E9%85%8D%E7%BD%AEproxyTable%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E8%B7%A8%E5%9F%9F/"/>
    <id>http://yoursite.com/2017/06/21/åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ/</id>
    <published>2017-06-21T02:30:54.000Z</published>
    <updated>2017-06-21T02:52:58.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£å†³è·¨åŸŸã€‚</p></blockquote><p>è¿˜ä¸æ‡‚å‰åç«¯åˆ†ç¦»çš„å¯ä»¥ç§»æ­¥ğŸ‘‰ï¼š<a href="http://hjingren.cn/2017/03/06/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E5%B0%9D%E8%AF%95/" target="_blank" rel="noopener">å‰åç«¯åˆ†ç¦»çš„å°è¯•</a></p><h1 id="é…ç½®-proxyTable"><a href="#é…ç½®-proxyTable" class="headerlink" title="é…ç½® proxyTable"></a>é…ç½® proxyTable</h1><p>åœ¨ config/index.js ä¸­ï¼ŒæŠŠ dev ä¸‹çš„ proxytable é‡Œé¢é…ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">proxyTable: &#123;</span><br><span class="line">  <span class="string">'/api'</span>: &#123;</span><br><span class="line">    target: <span class="string">'http://api.hjingren.cn'</span>,</span><br><span class="line">    changeOrigin: <span class="literal">true</span>,</span><br><span class="line">    pathRewrite: &#123;</span><br><span class="line">      <span class="string">'^/api'</span>: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰"><a href="#ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰" class="headerlink" title="ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰"></a>ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/api/playlist/detail?id=12345'</span>)</span><br></pre></td></tr></table></figure><p>æœ€åï¼švue-cliçš„è¿™ä¸ªé…ç½®æ¥è‡ªäºå…¶ä½¿ç”¨çš„æ’ä»¶<a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener">http-proxy-middleware</a>ï¼Œæƒ³è¿›ä¸€æ­¥äº†è§£çš„å¯ä»¥æ·±å…¥ç ”ç©¶ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”</title>
    <link href="http://yoursite.com/2017/06/16/%E5%9F%BA%E4%BA%8Evue-cli%E9%85%8D%E7%BD%AE%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%87%AA%E9%80%82%E5%BA%94/"/>
    <id>http://yoursite.com/2017/06/16/åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”/</id>
    <published>2017-06-16T10:44:03.000Z</published>
    <updated>2017-06-16T10:44:30.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼š<a href="http://hjingren.cn/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/" target="_blank" rel="noopener">ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³</a>ï¼Œä»Šå¤©æ¥èŠä¸€èŠåŸºäºvue-clié…ç½®çš„ç§»åŠ¨ç«¯å±å¹•é€‚é…é—®é¢˜ã€‚</p></blockquote><p>é…æ–¹è¿˜æ˜¯ä¸€æ ·ï¼šæ‰‹æ·˜çš„ <a href="https://github.com/amfe/lib-flexible" target="_blank" rel="noopener">lib-flexible</a> + rem</p><h1 id="é…ç½®-flexible"><a href="#é…ç½®-flexible" class="headerlink" title="é…ç½® flexible"></a>é…ç½® flexible</h1><h2 id="å®‰è£…-lib-flexible"><a href="#å®‰è£…-lib-flexible" class="headerlink" title="å®‰è£… lib-flexible"></a>å®‰è£… lib-flexible</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i lib-flexible --save</span><br></pre></td></tr></table></figure><h2 id="å¼•å…¥-lib-flexible"><a href="#å¼•å…¥-lib-flexible" class="headerlink" title="å¼•å…¥ lib-flexible"></a>å¼•å…¥ lib-flexible</h2><p>åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ main.js é‡Œ å¼•å…¥ lib-flexible</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'lib-flexible'</span></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ -meta-æ ‡ç­¾"><a href="#æ·»åŠ -meta-æ ‡ç­¾" class="headerlink" title="æ·»åŠ  meta æ ‡ç­¾"></a>æ·»åŠ  meta æ ‡ç­¾</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ index.html ä¸­æ·»åŠ å¦‚ä¸‹ meta</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="px-è½¬-rem"><a href="#px-è½¬-rem" class="headerlink" title="px è½¬ rem"></a>px è½¬ rem</h1><p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡ç¨¿å¾—åˆ°çš„å€¼å•ä½æ˜¯ pxï¼Œæ‰€ä»¥è¦å°† px è½¬æ¢æˆ rem å†å†™è¿›æ ·å¼ä¸­ã€‚<br>å°† px è½¬æ¢æˆ rem æˆ‘ä»¬å°†ä½¿ç”¨ px2rem è¿™ä¸ªå·¥å…·ï¼Œå®ƒæœ‰ webpack çš„ loaderï¼š<a href="https://github.com/Jinjiang/px2rem-loader" target="_blank" rel="noopener">px2rem-loader</a></p><h2 id="å®‰è£…-px2rem-loader"><a href="#å®‰è£…-px2rem-loader" class="headerlink" title="å®‰è£… px2rem-loader"></a>å®‰è£… px2rem-loader</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i px2rem-loade --save-dev</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-px2rem-loade"><a href="#é…ç½®-px2rem-loade" class="headerlink" title="é…ç½® px2rem-loade"></a>é…ç½® px2rem-loade</h2><p>åœ¨ vue-cli ç”Ÿæˆçš„ webpack é…ç½®ä¸­ï¼Œvue-loader çš„ options å’Œå…¶ä»–æ ·å¼æ–‡ä»¶ loader æœ€ç»ˆæ˜¯éƒ½æ˜¯ç”± build/utils.js é‡Œçš„ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆçš„ã€‚</p><p>æˆ‘ä»¬åªéœ€åœ¨ cssLoader åå†åŠ ä¸Šä¸€ä¸ª px2remLoader å³å¯ï¼Œpx2rem-loader çš„ remUnit é€‰é¡¹æ„æ€æ˜¯ 1rem=å¤šå°‘åƒç´ ï¼Œç»“åˆ lib-flexible çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°† px2remLoader çš„ options.remUnit è®¾ç½®æˆè®¾è®¡ç¨¿å®½åº¦çš„ 1/10ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾è®¾è®¡ç¨¿å®½ä¸º 750pxã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils.js</span></span><br><span class="line"><span class="keyword">var</span> cssLoader = &#123;</span><br><span class="line">  loader: <span class="string">'css-loader'</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    minimize: process.env.NODE_ENV === <span class="string">'production'</span>,</span><br><span class="line">    sourceMap: options.sourceMap</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> px2remLoader = &#123;</span><br><span class="line">  loader: <span class="string">'px2rem-loader'</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    remUnit: <span class="number">75</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>å¹¶æ”¾è¿› loaders æ•°ç»„ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateLoaders</span>(<span class="params">loader, loaderOptions</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loaders = [cssLoader, px2remLoader]</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯ï¼Œç„¶åæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™å•ä½ç›´æ¥å†™ pxï¼Œè®¾è®¡ç¨¿é‡å¤šå°‘å°±å¯ä»¥å†™å¤šå°‘äº†ï¼Œèˆ’æœå¤šäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼š&lt;a href=&quot;http://hjingren.cn/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Nginxä¸Nodeçš„çº ç¼ </title>
    <link href="http://yoursite.com/2017/06/11/Nginx%E4%B8%8ENode%E7%9A%84%E7%BA%A0%E7%BC%A0/"/>
    <id>http://yoursite.com/2017/06/11/Nginxä¸Nodeçš„çº ç¼ /</id>
    <published>2017-06-11T12:10:54.000Z</published>
    <updated>2017-06-11T12:13:53.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚</p></blockquote><h1 id="nginxçš„å¥½å¤„"><a href="#nginxçš„å¥½å¤„" class="headerlink" title="nginxçš„å¥½å¤„"></a>nginxçš„å¥½å¤„</h1><ul><li>çƒ­éƒ¨ç½²</li><li>é«˜å¹¶å‘è¿æ¥</li><li>å¤„ç†å“åº”è¯·æ±‚å¾ˆå¿«</li><li>å…·æœ‰å¾ˆé«˜çš„å¯é æ€§</li></ul><h2 id="çƒ­éƒ¨ç½²"><a href="#çƒ­éƒ¨ç½²" class="headerlink" title="çƒ­éƒ¨ç½²"></a>çƒ­éƒ¨ç½²</h2><p>åœ¨ä¸åœæ­¢æœåŠ¡çš„æƒ…å†µä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ›´æ¢æ—¥å¿—æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚</p><h2 id="é«˜å¹¶å‘è¿æ¥"><a href="#é«˜å¹¶å‘è¿æ¥" class="headerlink" title="é«˜å¹¶å‘è¿æ¥"></a>é«˜å¹¶å‘è¿æ¥</h2><p>é«˜å¹¶å‘ï¼šæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·åŒæ—¶çš„è®¿é—®URLåœ°å€ï¼Œæ¯”å¦‚ï¼šæ·˜å®çš„åŒ11ï¼ŒåŒ12ï¼Œå°±ä¼šäº§ç”Ÿé«˜å¹¶å‘ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ä¸ªç‰¹æ€§ï¼åœ¨è¿™ä¸€ä¸ª äº’è”ç½‘ å¿«é€Ÿå‘å±•ï¼Œ äº’è”ç½‘ ç”¨æˆ·æ•°é‡ä¸æ–­å¢åŠ ï¼Œä¸€äº›å¤§å…¬å¸ã€ç½‘ç«™éƒ½éœ€è¦é¢å¯¹é«˜å¹¶å‘è¯·æ±‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªèƒ½å¤Ÿåœ¨å³°å€¼é¡¶ä½10ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚çš„Serverï¼Œè‚¯å®šä¼šå¾—åˆ°å¤§å®¶çš„é’çã€‚ç†è®ºä¸Šï¼ŒNginxæ”¯æŒçš„å¹¶å‘è¿æ¥ä¸Šé™å–å†³äºä½ çš„å†…å­˜ï¼Œ10ä¸‡è¿œæœªå°é¡¶ã€‚</p><h1 id="Nginxèƒ½åšä»€ä¹ˆ"><a href="#Nginxèƒ½åšä»€ä¹ˆ" class="headerlink" title="Nginxèƒ½åšä»€ä¹ˆ"></a>Nginxèƒ½åšä»€ä¹ˆ</h1><ul><li>åå‘ä»£ç†</li><li>è´Ÿè½½å‡è¡¡</li><li>HTTPæœåŠ¡å™¨ï¼ˆåŒ…å«åŠ¨é™åˆ†ç¦»ï¼‰</li><li>æ­£å‘ä»£ç†</li></ul><h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><p>åå‘ä»£ç†åº”è¯¥æ˜¯Nginxåšçš„æœ€å¤šçš„ä¸€ä»¶äº‹äº†ï¼Œä»€ä¹ˆæ˜¯åå‘ä»£ç†å‘¢ï¼Œä»¥ä¸‹æ˜¯ç™¾åº¦ç™¾ç§‘çš„è¯´æ³•ï¼šåå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç®€å•æ¥è¯´å°±æ˜¯çœŸå®çš„æœåŠ¡å™¨ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ä¸€å°ä»£ç†æœåŠ¡å™¨ï¼Œè€Œä»£ç†æœåŠ¡å™¨èƒ½è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®çš„åŒæ—¶åˆè·ŸçœŸå®æœåŠ¡å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œç«¯å£ä¸åŒè€Œå·²ã€‚ </p><p>ä¸‹é¢è´´ä¸Šä¸€æ®µç®€å•çš„å®ç°åå‘ä»£ç†çš„ä»£ç ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;  </span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://localhost:8081;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è®¿é—®localhostçš„æ—¶å€™ï¼Œå°±ç›¸å½“äºè®¿é—®localhost:8081äº†</p><h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><p>è´Ÿè½½å‡è¡¡å¯ä»¥æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿›è¡Œå¤„ç†ï¼Œä»è€Œå®ç°äº†å¯¹æµ·é‡ç”¨æˆ·çš„è®¿é—®æ”¯æŒã€‚è´Ÿè½½å‡è¡¡çš„æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š</p><p>ç®€å•è€Œè¨€å°±æ˜¯å½“æœ‰2å°æˆ–ä»¥ä¸ŠæœåŠ¡å™¨æ—¶ï¼Œæ ¹æ®è§„åˆ™éšæœºçš„å°†è¯·æ±‚åˆ†å‘åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶é…ç½®åå‘ä»£ç†ï¼Œé€šè¿‡åå‘ä»£ç†è·³è½¬åˆ°è´Ÿè½½å‡è¡¡ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> test &#123;</span><br><span class="line"><span class="attribute">server</span> localhost:<span class="number">8080</span>;</span><br><span class="line"><span class="attribute">server</span> localhost:<span class="number">8081</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">81</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://test;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HTTPæœåŠ¡å™¨"><a href="#HTTPæœåŠ¡å™¨" class="headerlink" title="HTTPæœåŠ¡å™¨"></a>HTTPæœåŠ¡å™¨</h2><p>Nginxæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ï¼Œå½“åªæœ‰é™æ€èµ„æºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨Nginxæ¥åšæœåŠ¡å™¨ï¼ŒåŒæ—¶ç°åœ¨ä¹Ÿå¾ˆæµè¡ŒåŠ¨é™åˆ†ç¦»ï¼Œå°±å¯ä»¥é€šè¿‡Nginxæ¥å®ç°ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">root</span>   /home/hzzly;</span><br><span class="line"><span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line"><span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line"><span class="attribute">root</span>   html;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h2><p>æ­£å‘ä»£ç†ï¼Œæ„æ€æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚å½“ä½ éœ€è¦æŠŠä½ çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨Nginxæ¥å®ç°æ­£å‘ä»£ç†ã€‚</p><h1 id="nodeçš„ç‰¹ç‚¹"><a href="#nodeçš„ç‰¹ç‚¹" class="headerlink" title="nodeçš„ç‰¹ç‚¹"></a>nodeçš„ç‰¹ç‚¹</h1><ul><li>å®ƒæ˜¯ä¸€ä¸ªjavascriptè¿è¡Œç¯å¢ƒ</li><li>ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š</li><li>äº‹ä»¶é©±åŠ¨</li><li>éé˜»å¡I/O</li><li>è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨</li><li>å¹¶å‘è¿æ¥ï¼ˆé«˜å¹¶å‘ï¼‰</li></ul><h2 id="nodeåº”ç”¨åœºæ™¯"><a href="#nodeåº”ç”¨åœºæ™¯" class="headerlink" title="nodeåº”ç”¨åœºæ™¯"></a>nodeåº”ç”¨åœºæ™¯</h2><p>NodeJSé€‚åˆè¿ç”¨åœ¨é«˜å¹¶å‘ã€I/Oå¯†é›†ã€å°‘é‡ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚ï¼ˆRESTful APIï¼ŒèŠå¤©ï¼‰</p><h2 id="Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"><a href="#Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢" class="headerlink" title="Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"></a>Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢</h2><p>é€šè¿‡å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰å’Œå¼‚æ­¥æœºåˆ¶æ¥å®ç°éé˜»å¡ã€‚<br>é€šè¿‡äº‹ä»¶é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªç¯æ¥å®ç°å¹¶å‘è¿æ¥ã€‚</p><p>å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰</p><h1 id="nginxå’Œnodeçš„æ¯”è¾ƒ"><a href="#nginxå’Œnodeçš„æ¯”è¾ƒ" class="headerlink" title="nginxå’Œnodeçš„æ¯”è¾ƒ"></a>nginxå’Œnodeçš„æ¯”è¾ƒ</h1><ul><li>ä¸€ä¸ªæ›´ä¸“ä¸šï¼Œä¸€ä¸ªæ›´å…¨é¢ã€‚</li><li>Nginx é‡‡ç”¨Cç¼–å†™ï¼Œæ€§èƒ½æ›´é«˜ï¼Œä½†æ˜¯å®ƒä»…é€‚åˆäºåšwebæœåŠ¡å™¨ï¼Œç”¨äºåå‘ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡ç­‰æœåŠ¡ã€‚</li><li>NodeJsé«˜æ€§èƒ½å¹³å°ï¼ŒwebæœåŠ¡åªæ˜¯å…¶ä¸­ä¸€å—ï¼ŒNodeJsåœ¨å¤„ç†ä¸šåŠ¡å±‚ç”¨çš„æ˜¯JSç¼–å†™,é‡‡ç”¨çš„æ˜¯å¼‚æ­¥ç¼–ç¨‹æ–¹å¼å’Œæ€ç»´æ–¹å¼ã€‚</li><li>Node.jså‘å±•æ–¹å‘ä¸å†å•ç‹¬æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢å‘ç½‘ç»œçš„å¹³å°ï¼Œå®ƒç”šè‡³å¯ä»¥æ˜¯TCPæœåŠ¡å™¨ï¼Œæˆ–è€…å˜èº«ä¸ºè¿œç«¯æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚</li></ul><h1 id="nginxä¸nodeçš„å®Œç¾æ­é…"><a href="#nginxä¸nodeçš„å®Œç¾æ­é…" class="headerlink" title="nginxä¸nodeçš„å®Œç¾æ­é…"></a>nginxä¸nodeçš„å®Œç¾æ­é…</h1><p>nodeè‡ªå·±æœ¬èº«å¯ä»¥ä½œä¸ºæœåŠ¡å™¨è¿›è¡Œé©±åŠ¨ï¼Œä½†æ˜¯nodeæœ¬èº«å¯¹æ–‡ä»¶çš„å¤„ç†èƒ½åŠ›å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­åº”å°½é‡ä½¿ç”¨nginxæ¥å¤„ç†é™æ€çš„èµ„æºä»¥åŠåå‘ä»£ç†ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†nodeåˆ†å¸ƒå¼ä»¥åŠè´Ÿè½½å‡è¡¡çš„ç›¸å…³é—®é¢˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;nginxçš„å¥½å¤„&quot;&gt;&lt;a href=&quot;#nginxçš„å¥½å¤„&quot; class=&quot;headerlink&quot; t
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
      <category term="node" scheme="http://yoursite.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>jså®ç°å›¾ç‰‡æ‡’åŠ è½½</title>
    <link href="http://yoursite.com/2017/06/09/js%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
    <id>http://yoursite.com/2017/06/09/jså®ç°å›¾ç‰‡æ‡’åŠ è½½/</id>
    <published>2017-06-09T14:23:39.000Z</published>
    <updated>2019-07-09T11:35:09.931Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚</p></blockquote><h1 id="æ‡’åŠ è½½çš„æ„ä¹‰"><a href="#æ‡’åŠ è½½çš„æ„ä¹‰" class="headerlink" title="æ‡’åŠ è½½çš„æ„ä¹‰"></a>æ‡’åŠ è½½çš„æ„ä¹‰</h1><blockquote><p>æ‡’åŠ è½½çš„ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºæœåŠ¡å™¨å‰ç«¯çš„ä¼˜åŒ–ï¼Œå‡å°‘è¯·æ±‚æ•°æˆ–å»¶è¿Ÿè¯·æ±‚æ•°ï¼Œå¯¹æœåŠ¡å™¨ç¼“å‹ã€‚</p></blockquote><p><strong>é¢„åŠ è½½:</strong>æå‰åŠ è½½å¥½ï¼Œç¼“å­˜åˆ°æœ¬åœ°ï¼Œå½“éœ€è¦çš„æ—¶å€™ç›´æ¥è¯»å–ç¼“å­˜ï¼Œå¯¹æœåŠ¡å™¨å¢å‹</p><h1 id="æ‡’åŠ è½½å®ç°æ–¹å¼"><a href="#æ‡’åŠ è½½å®ç°æ–¹å¼" class="headerlink" title="æ‡’åŠ è½½å®ç°æ–¹å¼"></a>æ‡’åŠ è½½å®ç°æ–¹å¼</h1><ul><li><p>ç¬¬ä¸€ç§æ˜¯çº¯ç²¹çš„å»¶è¿ŸåŠ è½½ï¼Œä½¿ç”¨setTimeOutæˆ–setIntervalè¿›è¡ŒåŠ è½½å»¶è¿Ÿ</p></li><li><p>ç¬¬äºŒç§æ˜¯æ¡ä»¶åŠ è½½ï¼Œç¬¦åˆæŸäº›æ¡ä»¶ï¼Œæˆ–è§¦å‘äº†æŸäº›äº‹ä»¶æ‰å¼€å§‹å¼‚æ­¥ä¸‹è½½</p></li><li><p>ç¬¬ä¸‰ç§æ˜¯å¯è§†åŒºåŠ è½½ï¼Œå³ä»…åŠ è½½ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„åŒºåŸŸï¼Œè¿™ä¸ªä¸»è¦ç”±ç›‘æ§æ»šåŠ¨æ¡æ¥å®ç°ï¼Œä¸€èˆ¬ä¼šåœ¨è·ç”¨æˆ·çœ‹åˆ°æŸå›¾ç‰‡å‰ä¸€å®šè·ç¦»éå¼€å§‹åŠ è½½ï¼Œè¿™æ ·èƒ½ä¿è¯ç”¨æˆ·æ‹‰ä¸‹æ—¶æ­£å¥½èƒ½çœ‹åˆ°å›¾ç‰‡</p></li></ul><p>Web å›¾ç‰‡çš„æ‡’åŠ è½½å°±æ˜¯é€šè¿‡è¯»å–imgå…ƒç´ ï¼Œç„¶åè·å¾—imgå…ƒç´ çš„data-srcï¼ˆä¹Ÿå¯ä»¥çº¦å®šä¸ºå…¶ä»–å±æ€§åï¼‰å±æ€§çš„å€¼ï¼Œå¹¶èµ‹äºˆimgçš„srcï¼Œä»è€Œå®ç°åŠ¨æ€åŠ è½½å›¾ç‰‡çš„æœºåˆ¶</p><h2 id="1ã€æ‡’åŠ è½½HTMLçº¦å®š"><a href="#1ã€æ‡’åŠ è½½HTMLçº¦å®š" class="headerlink" title="1ã€æ‡’åŠ è½½HTMLçº¦å®š"></a>1ã€æ‡’åŠ è½½HTMLçº¦å®š</h2><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™å‡†å¤‡å®æ–½æ‡’åŠ è½½çš„imgå…ƒç´ æ·»åŠ æŒ‡å®šçš„class è¿™é‡Œä¸ºm-lazyload ,åŒæ—¶å°†img srcèµ‹å€¼ç»™ data-srcå±æ€§ã€‚<br>å…·ä½“ç¤ºä¾‹ä¸ºï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"m-lazyload"</span> <span class="attr">data-src</span>=<span class="string">"imgUrl"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="2ã€æ‡’åŠ è½½JavaScriptå®ç°"><a href="#2ã€æ‡’åŠ è½½JavaScriptå®ç°" class="headerlink" title="2ã€æ‡’åŠ è½½JavaScriptå®ç°"></a>2ã€æ‡’åŠ è½½JavaScriptå®ç°</h2><p>åŠ¨æ€åŠ è½½æ€»å…±åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:<br>1ã€æ·»åŠ é¡µé¢æ»šåŠ¨ç›‘å¬äº‹ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">imgBoxList.addEventListener(<span class="string">'scroll'</span>, debounce(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  _loadImage();</span><br><span class="line">&#125;, <span class="number">200</span>));</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç®€å•çš„é˜²æŠ–å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2ã€å½“è§¦å‘ç›‘å¬äº‹ä»¶æ—¶ä¼šæ‰§è¡Œ _loadImage å‡½æ•°ï¼Œè¯¥å‡½æ•°è´Ÿè´£åŠ è½½å›¾ç‰‡<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_loadImage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">const</span> domOffsetHeight = imgBoxList.offsetHeight;</span><br><span class="line">  <span class="keyword">const</span> imgs = imgBoxList.querySelectorAll(<span class="string">'img[data-src]'</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imgs.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> el = imgs[i];</span><br><span class="line">    <span class="keyword">if</span> (_isShow(el, domOffsetHeight)) &#123;</span><br><span class="line">      el.src = el.getAttribute(<span class="string">'data-src'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3ã€åˆ¤æ–­è¯¥å›¾ç‰‡æ˜¯å¦åœ¨å½“å‰çª—å£çš„å¯è§†åŒºåŸŸå†…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_isShow</span>(<span class="params">el, domHeight</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rect = el.getBoundingClientRect();</span><br><span class="line">  <span class="keyword">return</span> rect.top &lt;= domHeight + <span class="number">200</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åˆ°è¿™ä¸€ä¸ªç®€å•çš„å›¾ç‰‡æ‡’åŠ è½½å°±å†™æˆäº†</p><blockquote><p>å½“ç½‘é¡µæ»šåŠ¨çš„äº‹ä»¶è¢«è§¦å‘ -&gt; æ‰§è¡ŒåŠ è½½å›¾ç‰‡æ“ä½œ -&gt; åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†… -&gt; åœ¨ï¼Œåˆ™åŠ¨æ€å°†data-srcçš„å€¼èµ‹äºˆè¯¥å›¾ç‰‡ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;æ‡’åŠ è½½çš„æ„ä¹‰&quot;&gt;&lt;a href=&quot;#æ‡’åŠ è½½çš„æ„ä¹‰&quot; class=&quot;headerlink&quot; title=&quot;æ‡’åŠ è½½çš„æ„ä¹‰&quot;&gt;&lt;/a&gt;æ‡’åŠ è½½çš„æ„ä¹‰
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2.0æ¥è¢­</title>
    <link href="http://yoursite.com/2017/06/05/DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A82-0%E6%9D%A5%E8%A2%AD/"/>
    <id>http://yoursite.com/2017/06/05/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2-0æ¥è¢­/</id>
    <published>2017-06-05T13:32:59.000Z</published>
    <updated>2017-06-06T02:11:34.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ <strong>åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤š</strong>ğŸ‘ã€‚</p></blockquote><p>[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®,ä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜]</p><h2 id="é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music"><a href="#é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music" class="headerlink" title="é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-music"></a>é¢„è§ˆåœ°å€ï¼š <a href="http://hzzly.net/magic-music" target="_blank" rel="noopener">http://hzzly.net/magic-music</a></h2><h2 id="Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic"><a href="#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic" class="headerlink" title="Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic"></a>Githubåœ°å€ï¼š <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="noopener">https://github.com/hzzly/MagicMusic</a></h2><p>æ¬¢è¿å¤§å®¶çš„starå’ŒforkğŸ˜„~</p><h2 id="å®ç°çš„åŠŸèƒ½"><a href="#å®ç°çš„åŠŸèƒ½" class="headerlink" title="å®ç°çš„åŠŸèƒ½"></a>å®ç°çš„åŠŸèƒ½</h2><ul><li><strong>é¦–é¡µ</strong><ul><li>è½®æ’­</li><li>ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]</li><li>æ­Œæ›²æ“ä½œï¼ˆåŠ¨ç”»ï¼‰</li></ul></li><li><strong>åº•éƒ¨æ’­æ”¾æ§ä»¶</strong><ul><li>æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li><li>å®æ—¶æ’­æ”¾è¿›åº¦æ¡</li></ul></li><li><strong>æ’­æ”¾é¡µ</strong><ul><li>ä¸Šä¸€æ›²ã€æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li><li>æ’­æ”¾è¿›åº¦æ¡ï¼ˆå¼§å½¢è¿›åº¦æ¡ï¼‰</li><li>æ­Œè¯æ»šåŠ¨ã€æ­Œè¯é«˜äº®</li></ul></li><li><strong>æ’­æ”¾åˆ—è¡¨</strong><ul><li>æ’­æ”¾æ­Œæ›²é«˜äº®</li><li>åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ)</li><li>åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X)</li><li>æ¸…ç©ºæ’­æ”¾åˆ—è¡¨</li><li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨</li></ul></li><li><strong>æ’è¡Œæ¦œ</strong><ul><li>æ’è¡Œæ¦œåˆ—è¡¨</li><li>æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)ã€å…¨éƒ¨æ’­æ”¾</li></ul></li><li><strong>éŸ³ä¹æœç´¢</strong><ul><li>æœç´¢å•æ›²ã€æ­Œæ‰‹</li><li>æœç´¢å†å²è®°å½•</li></ul></li><li><strong>ä¾§è¾¹æ </strong></li></ul><h2 id="æœªå®ç°çš„åŠŸèƒ½"><a href="#æœªå®ç°çš„åŠŸèƒ½" class="headerlink" title="æœªå®ç°çš„åŠŸèƒ½"></a>æœªå®ç°çš„åŠŸèƒ½</h2><ul><li>å–œæ¬¢ã€åˆ†äº«ã€ä¸‹è½½ã€åˆ‡æ¢æ’­æ”¾æ¨¡å¼</li></ul><h2 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h2><p><img src="http://hzzly.net/magic-music/screenshots/music.gif" alt="http://hzzly.net/magic-music/screenshots/music.gif"></p><p><strong>æ›´å¤šé¢„è§ˆğŸ‘‰</strong><a href="http://hzzly.net/magic-music/screenshots/" target="_blank" rel="noopener">æ›´å¤š</a></p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><p>1ã€<code>Vueå…¨å®¶æ¡¶(vue2ã€vue-routerã€vuex)</code> å¿«é€Ÿå¼€å‘SPAç¥å™¨<br>2ã€<code>Axios</code> vueä½œè€…æ¨èçš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆ<br>3ã€<code>ES6</code> å…¨é¢è¿‡åº¦es6çš„å†™æ³• è¶‹åŠ¿<br>4ã€<code>Webpack2</code> è„šæ‰‹æ¶å·²ç»é…ç½®å¥½äº†ï¼Œè¶…è´´å¿ƒ<br>5ã€<code>Promise</code> æŠŠè¯·æ±‚å°è£…åœ¨promiseä¸­ï¼Œæ–¹ä¾¿çš„å¯ä»¥ä½¿ç”¨.thenå›è°ƒ<br>6ã€<code>flexå¸ƒå±€</code> å¯¹äºç§»åŠ¨ç«¯å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨<br>7ã€<code>ç§»åŠ¨ç«¯å±å¹•é€‚é…</code> é‡‡ç”¨æ‰‹æ·˜çš„flexible+remæ–¹æ¡ˆ<br>8ã€<code>æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)</code> é¿å…é‡å¤èµ„æºè¯·æ±‚ï¼Œå¿«é€Ÿè¯»å–<br>9ã€<code>å›¾ç‰‡æ‡’åŠ è½½</code> vue-lazyload æå‡ç”¨æˆ·ä½“éªŒ</p><h2 id="æœ¬æ¬¡æ›´æ–°æ—¥å¿—"><a href="#æœ¬æ¬¡æ›´æ–°æ—¥å¿—" class="headerlink" title="æœ¬æ¬¡æ›´æ–°æ—¥å¿—"></a>æœ¬æ¬¡æ›´æ–°æ—¥å¿—</h2><ul><li>åç«¯apié‡‡ç”¨pm2æ¥éƒ¨ç½²ï¼Œé˜²æ­¢æ–­å¼€åæ•°æ®æ— æ³•è¯·æ±‚çš„å°´å°¬ã€‚</li><li>æŠŠç›‘å¬audioåŠ è½½å®Œæ•°æ®äº‹ä»¶ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œé¿å…é‡å¤ç›‘å¬ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ã€‚</li><li>æ›´æ–°axiosè¯·æ±‚ï¼Œè®©è¯·æ±‚æ›´åŠ ä¼˜ç¾ã€‚</li><li>ä¿®æ”¹æ’­æ”¾é¡µé¢ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</li><li>æ·»åŠ åŠ è½½éŸ³ä¹loadingç­‰å¾…ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li><li>æ·»åŠ æ’­æ”¾å…¨éƒ¨ï¼Œé¿å…ä¸€ä¸ªä¸€ä¸ªæ·»åŠ ã€‚</li><li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ä¸æ¸…ç©ºã€‚</li><li>ä¿®æ”¹é¦–é¡µtabåˆ‡æ¢åŠ¨æ•ˆ</li></ul><p><a href="http://hjingren.cn/2017/04/27/%E2%80%99DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨1.0</a></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>MagicMusicè¿˜åœ¨ä¸æ–­åŠªåŠ›çš„æ”¹è¿›ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œ<strong>ä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›</strong>ï¼Œè°¢è°¢ï¼ï¼ï¼å½“ç„¶æœ‰å»ºè®®å¯ä»¥åœ¨issuesé‡Œæã€‚<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="noopener">https://github.com/hzzly/MagicMusic</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p><h2 id="æ±‚å®ä¹ "><a href="#æ±‚å®ä¹ " class="headerlink" title="æ±‚å®ä¹ "></a>æ±‚å®ä¹ </h2><p>æœ¬äººå¤§ä¸‰ï¼Œæ±‚ä¸€ä¸ªå‰ç«¯å®ä¹ ï¼š<a href="http://hzzly.net/resume/" target="_blank" rel="noopener">ç®€å†</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ &lt;strong&gt;åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤š&lt;/strong&gt;ğŸ‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="vuex" scheme="http://yoursite.com/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7 Nginxçš„æŠ˜è…¾</title>
    <link href="http://yoursite.com/2017/06/05/CentOS-7-Nginx%E7%9A%84%E6%8A%98%E8%85%BE/"/>
    <id>http://yoursite.com/2017/06/05/CentOS-7-Nginxçš„æŠ˜è…¾/</id>
    <published>2017-06-05T05:52:23.000Z</published>
    <updated>2017-06-05T05:52:53.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CentOS-7-ä¸‹å®‰è£…-Nginx"><a href="#CentOS-7-ä¸‹å®‰è£…-Nginx" class="headerlink" title="CentOS 7 ä¸‹å®‰è£… Nginx"></a><strong>CentOS 7 ä¸‹å®‰è£… Nginx</strong></h2><h3 id="æŸ¥çœ‹centosç‰ˆæœ¬"><a href="#æŸ¥çœ‹centosç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹centosç‰ˆæœ¬"></a>æŸ¥çœ‹centosç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/redhat-release</span><br></pre></td></tr></table></figure><h3 id="ä¸€-gcc-å®‰è£…"><a href="#ä¸€-gcc-å®‰è£…" class="headerlink" title="ä¸€. gcc å®‰è£…"></a>ä¸€. gcc å®‰è£…</h3><blockquote><p>å®‰è£… nginx éœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ– gcc ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ gcc ç¯å¢ƒï¼Œåˆ™éœ€è¦å®‰è£…ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install gcc-c++</span><br></pre></td></tr></table></figure><h3 id="äºŒ-pcre-pcre-devel-å®‰è£…"><a href="#äºŒ-pcre-pcre-devel-å®‰è£…" class="headerlink" title="äºŒ. pcre pcre-devel å®‰è£…"></a>äºŒ. pcre pcre-devel å®‰è£…</h3><blockquote><p>PCRE(Perl Compatible Regular Expressions) æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginx çš„ http æ¨¡å—ä½¿ç”¨ pcre æ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨ linux ä¸Šå®‰è£… pcre åº“ï¼Œpcre-devel æ˜¯ä½¿ç”¨ pcre å¼€å‘çš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘åº“ã€‚nginxä¹Ÿéœ€è¦æ­¤åº“ã€‚å‘½ä»¤ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y pcre pcre-devel</span><br></pre></td></tr></table></figure><h3 id="ä¸‰-zlib-å®‰è£…"><a href="#ä¸‰-zlib-å®‰è£…" class="headerlink" title="ä¸‰. zlib å®‰è£…"></a>ä¸‰. zlib å®‰è£…</h3><blockquote><p>zlib åº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œ nginx ä½¿ç”¨ zlib å¯¹ http åŒ…çš„å†…å®¹è¿›è¡Œ gzip ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos ä¸Šå®‰è£… zlib åº“ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y zlib zlib-devel</span><br></pre></td></tr></table></figure><h3 id="å››-OpenSSL-å®‰è£…"><a href="#å››-OpenSSL-å®‰è£…" class="headerlink" title="å››. OpenSSL å®‰è£…"></a>å››. OpenSSL å®‰è£…</h3><blockquote><p>OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠ SSL åè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚<br>nginx ä¸ä»…æ”¯æŒ http åè®®ï¼Œè¿˜æ”¯æŒ httpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos å®‰è£… OpenSSL åº“ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure><h3 id="äº”ã€å®˜ç½‘ä¸‹è½½"><a href="#äº”ã€å®˜ç½‘ä¸‹è½½" class="headerlink" title="äº”ã€å®˜ç½‘ä¸‹è½½"></a>äº”ã€å®˜ç½‘ä¸‹è½½</h3><blockquote><ul><li>æ‰“å¼€<a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">http://nginx.org/en/download.html</a></li><li>æ‰¾åˆ°Stable versionä¸‹çš„ <a href="http://nginx.org/download/nginx-1.12.0.tar.gz" target="_blank" rel="noopener">nginx-1.12.0</a></li><li>å³é”® å¤åˆ¶é“¾æ¥</li><li>ä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br><span class="line">$ wget -c http://nginx.org/download/nginx-1.12.0.tar.gz</span><br></pre></td></tr></table></figure><h3 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf nginx-1.12.0.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> nginx-1.12.0</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><blockquote><p>ä½¿ç”¨é»˜è®¤é…ç½®</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br><span class="line">$ make install</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾å®‰è£…è·¯å¾„ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ whereis nginx</span><br></pre></td></tr></table></figure></p><h3 id="å¯åŠ¨ã€åœæ­¢nginx"><a href="#å¯åŠ¨ã€åœæ­¢nginx" class="headerlink" title="å¯åŠ¨ã€åœæ­¢nginx"></a>å¯åŠ¨ã€åœæ­¢nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin/</span><br><span class="line">$ ./nginx </span><br><span class="line">$ ./nginx -s stop      //æ­¤æ–¹å¼ç›¸å½“äºå…ˆæŸ¥å‡ºnginxè¿›ç¨‹idå†ä½¿ç”¨<span class="built_in">kill</span>å‘½ä»¤å¼ºåˆ¶æ€æ‰è¿›ç¨‹ã€‚</span><br><span class="line">$ ./nginx -s quit      //æ­¤æ–¹å¼åœæ­¢æ­¥éª¤æ˜¯å¾…nginxè¿›ç¨‹å¤„ç†ä»»åŠ¡å®Œæ¯•è¿›è¡Œåœæ­¢ã€‚</span><br><span class="line">$ ./nginx -s reload    //é‡å¯ï¼Œå½“ ngin xçš„é…ç½®æ–‡ä»¶ nginx.conf ä¿®æ”¹åï¼Œè¦æƒ³è®©é…ç½®ç”Ÿæ•ˆéœ€è¦é‡å¯ nginxï¼Œä½¿ç”¨-s reloadä¸ç”¨å…ˆåœæ­¢ ngin xå†å¯åŠ¨ nginx å³å¯å°†é…ç½®ä¿¡æ¯åœ¨ nginx ä¸­ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure><h3 id="æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®æ­¤æœºå™¨çš„ IPï¼Œå¦‚æœæµè§ˆå™¨å‡ºç° Welcome to nginx! åˆ™è¡¨ç¤º Nginx å·²ç»å®‰è£…å¹¶è¿è¡ŒæˆåŠŸã€‚</p><h3 id="å¼€æœºè‡ªå¯åŠ¨"><a href="#å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="å¼€æœºè‡ªå¯åŠ¨"></a>å¼€æœºè‡ªå¯åŠ¨</h3><p>å³åœ¨rc.localå¢åŠ å¯åŠ¨ä»£ç å°±å¯ä»¥äº†ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/rc.local</span><br></pre></td></tr></table></figure></p><p>å¢åŠ ä¸€è¡Œ /usr/local/nginx/sbin/nginx</p><p>è®¾ç½®æ‰§è¡Œæƒé™ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod 755 /etc/rc.local</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;CentOS-7-ä¸‹å®‰è£…-Nginx&quot;&gt;&lt;a href=&quot;#CentOS-7-ä¸‹å®‰è£…-Nginx&quot; class=&quot;headerlink&quot; title=&quot;CentOS 7 ä¸‹å®‰è£… Nginx&quot;&gt;&lt;/a&gt;&lt;strong&gt;CentOS 7 ä¸‹å®‰è£… Nginx&lt;/stro
      
    
    </summary>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>å¾æœå‰ç«¯é¢è¯•</title>
    <link href="http://yoursite.com/2017/05/31/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%95%B4%E7%90%86/"/>
    <id>http://yoursite.com/2017/05/31/å‰ç«¯é¢è¯•æ•´ç†/</id>
    <published>2017-05-31T08:52:12.000Z</published>
    <updated>2017-06-11T08:36:25.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šä»¥ä¸‹æ˜¯æ•´ç†ä¸€äº›é¢è¯•ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ç»å…¸é¢è¯•é¢˜ä»¥åŠè‡ªå·±é¢è¯•è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æœªè§£å†³çš„é—®é¢˜ï¼Œé€šè¿‡å¯¹çŸ¥è¯†çš„æ•´ç†ä»¥åŠç»éªŒçš„æ€»ç»“ï¼Œé‡æ–°å·©å›ºè‡ªèº«çš„å‰ç«¯åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœ‰é”™è¯¯æˆ–æ›´å¥½çš„ç­”æ¡ˆï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œæ°´å¹³æœ‰é™ï¼Œæœ›å„ä½ä¸åæŒ‡æ•™ã€‚:ï¼‰</p></blockquote><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><blockquote><p>æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯åŸå‹ã€‚</p></blockquote><p>å½“æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æ€§çš„å°†ä¸€äº›å±æ€§å’Œæ–¹æ³•é€šè¿‡prototypeå±æ€§ï¼ŒæŒ‚è½½åœ¨åŸå‹å¯¹è±¡ä¸Šã€‚è€Œæ¯ä¸€ä¸ªnewå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½æœ‰ä¸€ä¸ª<strong>proto</strong>å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§ï¼Œè®©å®ä¾‹å¯¹è±¡ä¹Ÿèƒ½å¤Ÿè®¿é—®åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå½“æ‰€æœ‰çš„å®ä¾‹éƒ½èƒ½å¤Ÿé€šè¿‡<strong>proto</strong>è®¿é—®åˆ°åŸå‹å¯¹è±¡æ—¶ï¼ŒåŸå‹å¯¹è±¡çš„æ–¹æ³•ä¸å±æ€§å°±å˜æˆäº†å…±æœ‰æ–¹æ³•ä¸å±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é€šè¿‡prototyeå±æ€§ï¼Œå°†æ–¹æ³•æŒ‚è½½åˆ°åŸå‹å¯¹è±¡ä¸Š</span></span><br><span class="line">Person.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'tim'</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'jak'</span>, <span class="number">22</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p1.getName === p2.getName); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><img src="http://omt3u4bph.bkt.clouddn.com/599584-2fc7dad23d112791.png" alt="http://omt3u4bph.bkt.clouddn.com/599584-2fc7dad23d112791.png"><br>é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ„é€ å‡½æ•°çš„prototypeä¸æ‰€æœ‰å®ä¾‹å¯¹è±¡çš„<strong>proto</strong>éƒ½æŒ‡å‘åŸå‹å¯¹è±¡ã€‚è€ŒåŸå‹å¯¹è±¡çš„constructoræŒ‡å‘æ„é€ å‡½æ•°ã€‚</p><h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><blockquote><p>æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå«åštoStringçš„æ–¹æ³•ã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆ°åº•æ˜¯åœ¨å“ªé‡Œçš„å‘¢ï¼Ÿ</p></blockquote><p>å…ˆéšæ„å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p><img src="http://omt3u4bph.bkt.clouddn.com/599584-da97dde356289ade.png" alt="http://omt3u4bph.bkt.clouddn.com/599584-da97dde356289ade.png"><br>å…¶ä¸­fooæ˜¯Functionå¯¹è±¡çš„å®ä¾‹ã€‚è€ŒFunctionçš„åŸå‹å¯¹è±¡åŒæ—¶åˆæ˜¯Objectçš„å®ä¾‹ã€‚è¿™æ ·å°±æ„æˆäº†ä¸€æ¡åŸå‹é“¾ã€‚åŸå‹é“¾çš„è®¿é—®ï¼Œå…¶å®è·Ÿä½œç”¨åŸŸé“¾æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ¬¡å•å‘çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚å› æ­¤å®ä¾‹å¯¹è±¡èƒ½å¤Ÿé€šè¿‡åŸå‹é“¾ï¼Œè®¿é—®åˆ°å¤„äºåŸå‹é“¾ä¸Šå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¸æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯fooæœ€ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°å¤„äºObjectåŸå‹å¯¹è±¡ä¸Šçš„toStringæ–¹æ³•çš„åŸå› ã€‚</p><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯æ‰§è¡Œç¯å¢ƒé‡Œæœ‰æƒè®¿é—®çš„å˜é‡å’Œå‡½æ•°æ˜¯æœ‰åºçš„ï¼Œä½œç”¨åŸŸé“¾çš„å˜é‡åªèƒ½å‘ä¸Šè®¿é—®ï¼Œå˜é‡è®¿é—®åˆ°windowå¯¹è±¡å³è¢«ç»ˆæ­¢ï¼Œä½œç”¨åŸŸé“¾å‘ä¸‹è®¿é—®å˜é‡æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><blockquote><ul><li>ç¬¬ä¸€ç§ç†è§£ï¼ˆçº¢å®ä¹¦ï¼‰ï¼šæ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡å¦ä¸€ä¸ªå‡½æ•°è®¿é—®è¿™ä¸ªå‡½æ•°çš„å±€éƒ¨å˜é‡</li><li>ç¬¬äºŒç§ç†è§£ï¼ˆä½ ä¸çŸ¥é“çš„javascriptï¼‰ï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œè¿™ä¸ªå‡½æ•°æŒæœ‰å¯¹è¯¥è¯æ³•ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨å°±å«åšé—­åŒ…</li><li>é—­åŒ…æœ¬è´¨è¿˜æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡è¿™ä¸ªå‡½æ•°ç»‘å®šäº†ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå‡½æ•°å†…éƒ¨å¼•ç”¨çš„æ‰€æœ‰å˜é‡ï¼‰</li></ul></blockquote><p><strong>ç¼ºç‚¹ï¼š</strong>å¸¸é©»å†…å­˜ï¼Œä¼šå¢å¤§å†…å­˜ä½¿ç”¨é‡ï¼Œä½¿ç”¨ä¸å½“å¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„éœ²ã€‚<br><strong>ä½œç”¨(ä½¿ç”¨åœºæ™¯)ï¼š</strong>å¯ä»¥ç”¨æ¥ç®¡ç†ç§æœ‰å˜é‡å’Œç§æœ‰æ–¹æ³•ï¼Œå°†å¯¹å˜é‡ï¼ˆçŠ¶æ€ï¼‰çš„å˜åŒ–å°è£…åœ¨å®‰å…¨çš„ç¯å¢ƒä¸­ï¼Œä½¿å¾—è¿™äº›å˜é‡ä¸èƒ½è¢«å¤–éƒ¨éšæ„ä¿®æ”¹ï¼ŒåŒæ—¶åˆå¯ä»¥é€šè¿‡æŒ‡å®šçš„å‡½æ•°æ¥å£æ¥æ“ä½œã€‚<br><strong>é—­åŒ…æœ‰ä¸‰ä¸ªç‰¹æ€§ï¼š</strong><br>1.å‡½æ•°åµŒå¥—å‡½æ•°<br>2.å‡½æ•°å†…éƒ¨å¯ä»¥å¼•ç”¨å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡<br>3.å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p><p>é¢˜å¤–è¯ï¼š</p><blockquote><ul><li>JavaScriptçš„ä½œç”¨åŸŸå°±æ˜¯è¯æ³•ä½œç”¨åŸŸè€Œä¸æ˜¯åŠ¨æ€ä½œç”¨åŸŸ,</li><li>è¯æ³•ä½œç”¨åŸŸæœ€é‡è¦çš„ç‰¹å¾æ˜¯å®ƒçš„å®šä¹‰è¿‡ç¨‹å‘ç”Ÿåœ¨ä»£ç çš„ä¹¦å†™é˜¶æ®µ</li><li>åŠ¨æ€ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºè°ƒç”¨æ ˆçš„ è¯æ³•ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºä»£ç ä¸­çš„ä½œç”¨åŸŸåµŒå¥—</li></ul></blockquote><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><blockquote><p>JavaScriptçš„thisæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚</p></blockquote><p><strong>thisçš„æŒ‡å‘ï¼š</strong></p><p>1ã€ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼ˆthisæŒ‡å‘å…¨å±€å¯¹è±¡windowå¯¹è±¡ï¼‰<br>2ã€ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼ˆthisæŒ‡å‘è¯¥å¯¹è±¡ï¼‰<br>3ã€æ„é€ å™¨è°ƒç”¨ï¼ˆthisæŒ‡å‘ç”¨newè¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼‰<br>4ã€callã€applyã€bindçš„è°ƒç”¨ï¼ˆthisæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼‰</p><h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h2><p>1ã€å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’<br>2ã€å‡½æ•°ä½œä¸ºè¿”å›å€¼è¾“å‡º</p><h2 id="newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢"><a href="#newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢" class="headerlink" title="newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢?"></a>newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢?</h2><p>1ã€åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡<br>2ã€å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰<br>3ã€æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰<br>4ã€è¿”å›æ–°å¯¹è±¡</p><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>1ã€ç®€å•åŸå‹é“¾ç»§æ‰¿<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'hzzly'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Sub.prototype = <span class="keyword">new</span> Super();    <span class="comment">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p><p>ç¼ºç‚¹ï¼š<br>ä¿®æ”¹sub1.nameåsub2.nameä¹Ÿå˜äº†ï¼Œå› ä¸ºæ¥è‡ªåŸå‹å¯¹è±¡çš„å¼•ç”¨å±æ€§æ˜¯æ‰€æœ‰å®ä¾‹å…±äº«çš„ã€‚</p><p>2ã€æ„é€ å‡½æ•°å¼ç»§æ‰¿<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.val = val;</span><br><span class="line"><span class="keyword">this</span>.fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  <span class="comment">// å®ä¾‹å‡½æ•°</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">Super.call(<span class="keyword">this</span>, val);   <span class="comment">// æ ¸å¿ƒ</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¼ºç‚¹ï¼š<br>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æŒæœ‰ä¸€ä¸ªæ–°çš„funå‡½æ•°ï¼Œå¤ªå¤šäº†å°±ä¼šå½±å“æ€§èƒ½ï¼Œå†…å­˜çˆ†ç‚¸ã€‚ã€‚</p><p>3ã€ç»„åˆå¼ç»§æ‰¿<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'hzzly'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŸå‹å‡½æ•°</span></span><br><span class="line">Super.prototype.fun1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Super.prototype.fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="comment">//Super.prototype.fun3...</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Super.call(<span class="keyword">this</span>);   <span class="comment">// æ ¸å¿ƒ</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Sub.prototype = <span class="keyword">new</span> Super();    <span class="comment">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p><p>ç¼ºç‚¹ï¼š<br>å­ç±»åŸå‹ä¸Šæœ‰ä¸€ä»½å¤šä½™çš„çˆ¶ç±»å®ä¾‹å±æ€§ï¼Œå› ä¸ºçˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œç”Ÿæˆäº†ä¸¤ä»½ï¼Œè€Œå­ç±»å®ä¾‹ä¸Šçš„é‚£ä¸€ä»½å±è”½äº†å­ç±»åŸå‹ä¸Šçˆ¶ç±»çš„ã€‚ã€‚ã€‚åˆæ˜¯å†…å­˜æµªè´¹ã€‚</p><p>4ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'hzzly'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Super.prototype.fun1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Super.prototype.fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="comment">//Super.prototype.fun3...</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Super.call(<span class="keyword">this</span>);   <span class="comment">// æ ¸å¿ƒ</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Sub.prototype=<span class="built_in">Object</span>.create(Super.prototype)   <span class="comment">// æ ¸å¿ƒ</span></span><br><span class="line">Sub.prototype.constructor=Sub   <span class="comment">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p><p>5ã€es6çš„classç»§æ‰¿æ–¹å¼<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">B.__proto__ === A   <span class="comment">// true</span></span><br><span class="line">B.prototype.__proto__ === A.prototype   <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>es6å¼•å…¥äº†classã€extendsã€superã€static(éƒ¨åˆ†ä¸ºES2016æ ‡å‡†)</p><h2 id="nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ"><a href="#nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ"></a>nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ</h2><p>1ã€nullæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„å¯¹è±¡ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º0ï¼›undefinedæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„åŸå§‹å€¼ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸ºNaNã€‚<br>2ã€undefinedè¡¨ç¤ºâ€ç¼ºå°‘å€¼â€ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰ã€‚<br>3ã€nullè¡¨ç¤ºâ€æ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚</p><h2 id="callã€applyã€bindçš„åŒºåˆ«"><a href="#callã€applyã€bindçš„åŒºåˆ«" class="headerlink" title="callã€applyã€bindçš„åŒºåˆ«"></a>callã€applyã€bindçš„åŒºåˆ«</h2><ul><li>ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ã€‚</li><li>ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ã€‚</li><li>call ä¼ å…¥çš„å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°è¦ä¸€ä¸ªä¸€ä¸ªä¼ ï¼Œç”¨<code>ï¼Œ</code>éš”å¼€ã€‚</li><li>apply æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œå¯ä»¥ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä¸ºç±»æ•°ç»„ã€‚</li><li>bind æ˜¯è¿”å›ä¸€ä¸ªæ”¹å˜äº†ä¸Šä¸‹æ–‡çš„å‡½æ•°å‰¯æœ¬ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼›apply ã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚</li></ul><h2 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" class="headerlink" title="æœ¬åœ°å­˜å‚¨"></a>æœ¬åœ°å­˜å‚¨</h2><blockquote><ul><li>sessionStorageç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ªä¼šè¯ï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­çš„é¡µé¢æ‰èƒ½è®¿é—®å¹¶ä¸”å½“ä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯ã€‚å› æ­¤sessionStorageä¸æ˜¯ä¸€ç§æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œä»…ä»…æ˜¯ä¼šè¯çº§åˆ«çš„å­˜å‚¨ã€‚</li><li>localStorageç”¨äºæŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</li></ul></blockquote><p>å…·ä½“å‚è§ï¼š<a href="http://hjingren.cn/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/" target="_blank" rel="noopener">æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage</a></p><h2 id="cookie-å’Œsession"><a href="#cookie-å’Œsession" class="headerlink" title="cookie å’Œsession"></a>cookie å’Œsession</h2><p>1ã€cookieæ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsessionæ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚<br>2ã€cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„COOKIEå¹¶è¿›è¡ŒCOOKIEæ¬ºéª—ï¼Œè€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨sessionã€‚<br>3ã€sessionä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œè€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨COOKIEã€‚<br>4ã€å•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜20ä¸ªcookieã€‚æ¯æ¬¡è¯·æ±‚ä¸€ä¸ªæ–°çš„é¡µé¢çš„æ—¶å€™Cookieéƒ½ä¼šè¢«å‘é€è¿‡å»ï¼Œä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚</p><h2 id="XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ"><a href="#XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ"></a>XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ</h2><p>1ã€æ•°æ®ä½“ç§¯æ–¹é¢ã€‚<br>JSONç›¸å¯¹äºXMLæ¥è®²ï¼Œæ•°æ®çš„ä½“ç§¯å°ï¼Œä¼ é€’çš„é€Ÿåº¦æ›´å¿«äº›ã€‚<br>2ã€æ•°æ®äº¤äº’æ–¹é¢ã€‚<br>JSONä¸JavaScriptçš„äº¤äº’æ›´åŠ æ–¹ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†ï¼Œæ›´å¥½çš„æ•°æ®äº¤äº’ã€‚<br>3ã€æ•°æ®æè¿°æ–¹é¢ã€‚<br>JSONå¯¹æ•°æ®çš„æè¿°æ€§æ¯”XMLè¾ƒå·®ã€‚<br>4ã€ä¼ è¾“é€Ÿåº¦æ–¹é¢ã€‚<br>JSONçš„é€Ÿåº¦è¦è¿œè¿œå¿«äºXMLã€‚</p><h2 id="å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡"><a href="#å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡" class="headerlink" title="å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡?"></a>å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡?</h2><p>è°ƒç”¨localstorgeã€cookiesç­‰æœ¬åœ°å­˜å‚¨æ–¹å¼</p><h2 id="çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«"><a href="#çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«" class="headerlink" title="çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«"></a>çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«</h2><p>1ã€ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹.<br>2ã€çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚<br>3ã€è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚<br>4ã€çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¿›ç¨‹è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºçš„å‡ºå£ã€‚ä½†æ˜¯çº¿ç¨‹ä¸èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ§åˆ¶ã€‚<br>5ã€ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰åœ¨äºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰å¤šä¸ªæ‰§è¡Œéƒ¨åˆ†å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä½†æ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰å°†å¤šä¸ªçº¿ç¨‹çœ‹åšå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ä»¥åŠèµ„æºåˆ†é…ã€‚è¿™å°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹çš„é‡è¦åŒºåˆ«ã€‚</p><h2 id="æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§"><a href="#æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§" class="headerlink" title="æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§"></a>æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§</h2><ul><li><p>æ¸è¿›å¢å¼º ï¼šé’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›å’Œè¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p></li><li><p>ä¼˜é›…é™çº§ ï¼šä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ã€‚</p></li></ul><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><ul><li>ç½‘é¡µå†…å®¹<ul><li>å‡å°‘ httpè¯·æ±‚æ¬¡æ•°</li><li>å‡å°‘ DNSæŸ¥è¯¢æ¬¡æ•°</li><li>é¿å…é¡µé¢è·³è½¬</li><li>ç¼“å­˜ Ajax</li><li>å»¶è¿ŸåŠ è½½</li><li>æå‰åŠ è½½</li><li>å‡å°‘ DOMå…ƒç´ æ•°é‡</li><li>é¿å… 404</li></ul></li><li>æœåŠ¡å™¨<ul><li>ä½¿ç”¨CDN(å†…å®¹åˆ†å‘ç½‘ç»œ)</li><li>æ·»åŠ Expiresæˆ–Cache-ControlæŠ¥æ–‡å¤´</li><li>Gzipå‹ç¼©ä¼ è¾“æ–‡ä»¶</li></ul></li><li>CSS<ul><li>å°†æ ·å¼è¡¨ç½®é¡¶</li><li>ç”¨<link>ä»£æ›¿@import</li></ul></li><li>JavaScript<ul><li>æŠŠè„šæœ¬ç½®äºé¡µé¢åº•éƒ¨</li><li>ä½¿ç”¨å¤–éƒ¨JavaScriptå’ŒCSS</li><li>ç²¾ç®€JavaScriptå’ŒCSS</li><li>å»é™¤é‡å¤è„šæœ¬</li><li>å‡å°‘DOMè®¿é—®</li></ul></li><li>å›¾ç‰‡<ul><li>ä¼˜åŒ–å›¾åƒ</li><li>ä¼˜åŒ–CSS Spirite</li><li>ä¸è¦åœ¨HTMLä¸­ç¼©æ”¾å›¾ç‰‡</li><li>favicon.icoè¦å°è€Œä¸”å¯ç¼“å­˜</li></ul></li></ul><h2 id="å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜"><a href="#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?"></a>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?</h2><p>jsonpã€CORSã€document.domain+iframeã€window.nameã€window.postMessage</p><p>jsonpçš„åŸç†æ˜¯åŠ¨æ€æ’å…¥scriptæ ‡ç­¾</p><h2 id="è¯·è§£é‡Šä¸€ä¸‹-JavaScript-çš„åŒæºç­–ç•¥ã€‚"><a href="#è¯·è§£é‡Šä¸€ä¸‹-JavaScript-çš„åŒæºç­–ç•¥ã€‚" class="headerlink" title="è¯·è§£é‡Šä¸€ä¸‹ JavaScript çš„åŒæºç­–ç•¥ã€‚"></a>è¯·è§£é‡Šä¸€ä¸‹ JavaScript çš„åŒæºç­–ç•¥ã€‚</h2><p>è¿™é‡Œçš„åŒæºç­–ç•¥æŒ‡çš„æ˜¯ï¼šåè®®ï¼ŒåŸŸåï¼Œç«¯å£ç›¸åŒï¼ŒåŒæºç­–ç•¥æ˜¯ä¸€ç§å®‰å…¨åè®®ã€‚</p><p>æŒ‡ä¸€æ®µè„šæœ¬åªèƒ½è¯»å–æ¥è‡ªåŒä¸€æ¥æºçš„çª—å£å’Œæ–‡æ¡£çš„å±æ€§ã€‚</p><h2 id="å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ"><a href="#å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ" class="headerlink" title="å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ"></a>å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ</h2><p>1ã€å†…å­˜æ³„æ¼æŒ‡ä»»ä½•å¯¹è±¡åœ¨æ‚¨ä¸å†æ‹¥æœ‰æˆ–éœ€è¦å®ƒä¹‹åä»ç„¶å­˜åœ¨ã€‚<br>2ã€åƒåœ¾å›æ”¶å™¨å®šæœŸæ‰«æå¯¹è±¡ï¼Œå¹¶è®¡ç®—å¼•ç”¨äº†æ¯ä¸ªå¯¹è±¡çš„å…¶ä»–å¯¹è±¡çš„æ•°é‡ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ•°é‡ä¸º 0ï¼ˆæ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨è¿‡è¯¥å¯¹è±¡ï¼‰ï¼Œæˆ–å¯¹è¯¥å¯¹è±¡çš„æƒŸä¸€å¼•ç”¨æ˜¯å¾ªç¯çš„ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„å†…å­˜å³å¯å›æ”¶ã€‚<br>3ã€setTimeout çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨å­—ç¬¦ä¸²è€Œéå‡½æ•°çš„è¯ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚<br>é—­åŒ…ã€æ§åˆ¶å°æ—¥å¿—ã€å¾ªç¯ï¼ˆåœ¨ä¸¤ä¸ªå¯¹è±¡å½¼æ­¤å¼•ç”¨ä¸”å½¼æ­¤ä¿ç•™æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå¾ªç¯ï¼‰</p><h2 id="Javascriptåƒåœ¾å›æ”¶æ–¹æ³•"><a href="#Javascriptåƒåœ¾å›æ”¶æ–¹æ³•" class="headerlink" title="Javascriptåƒåœ¾å›æ”¶æ–¹æ³•"></a>Javascriptåƒåœ¾å›æ”¶æ–¹æ³•</h2><p>1ã€æ ‡è®°æ¸…é™¤ï¼šè¿™æ˜¯JavaScriptæœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒçš„æ—¶å€™ï¼Œæ¯”å¦‚å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œåƒåœ¾å›æ”¶å™¨å°†å…¶æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒçš„æ—¶å€™ï¼ˆå‡½æ•°æ‰§è¡Œç»“æŸï¼‰å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚</p><p>2ã€å¼•ç”¨è®¡æ•°ï¼šå¼•ç”¨è®¡æ•°çš„ç­–ç•¥æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«ä½¿ç”¨çš„æ¬¡æ•°ï¼Œå½“å£°æ˜äº†ä¸€ä¸ª å˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼ç»™è¯¥å˜é‡çš„æ—¶å€™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±åŠ 1ï¼Œå¦‚æœè¯¥å˜é‡çš„å€¼å˜æˆäº†å¦å¤–ä¸€ä¸ªï¼Œåˆ™è¿™ä¸ªå€¼å¾—å¼•ç”¨æ¬¡æ•°å‡1ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å˜ä¸º0çš„æ—¶ å€™ï¼Œè¯´æ˜æ²¡æœ‰å˜é‡åœ¨ä½¿ç”¨ï¼Œè¿™ä¸ªå€¼æ²¡æ³•è¢«è®¿é—®äº†ï¼Œå› æ­¤å¯ä»¥å°†å…¶å ç”¨çš„ç©ºé—´å›æ”¶ï¼Œè¿™æ ·åƒåœ¾å›æ”¶å™¨ä¼šåœ¨è¿è¡Œçš„æ—¶å€™æ¸…ç†æ‰å¼•ç”¨æ¬¡æ•°ä¸º0çš„å€¼å ç”¨çš„ç©ºé—´ã€‚</p><h2 id="äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ"><a href="#äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ" class="headerlink" title="äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ"></a>äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ</h2><p>äº‹ä»¶å¤„ç†æœºåˆ¶ï¼šIEæ˜¯äº‹ä»¶å†’æ³¡ã€firefoxåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ã€‚</p><p>é˜»æ­¢å†’æ³¡ï¼šev.stopPropagation()</p><h2 id="è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶"><a href="#è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶" class="headerlink" title="è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶"></a>è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶</h2><ul><li>å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨</li><li>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li><li>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡</li><li>ä¸èƒ½ä½¿ç”¨withè¯­å¥</li><li>å¢åŠ äº†ä¿ç•™å­—</li><li>argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–</li></ul><p><strong>è®¾ç«‹â€ä¸¥æ ¼æ¨¡å¼â€çš„ç›®çš„ï¼š</strong></p><p>æ¶ˆé™¤Javascriptè¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸º;</p><p>æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨ï¼›</p><p>æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ï¼›</p><p>ä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„Javascriptåšå¥½é“ºå«ã€‚</p><h2 id="è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†"><a href="#è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†" class="headerlink" title="è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†"></a>è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†</h2><p>äº‹ä»¶ä»£ç†ï¼ˆEvent Delegationï¼‰ï¼Œåˆç§°ä¹‹ä¸ºäº‹ä»¶å§”æ‰˜ã€‚å³æ˜¯æŠŠåŸæœ¬éœ€è¦ç»‘å®šçš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶å…ƒç´ ï¼Œè®©çˆ¶å…ƒç´ æ‹…å½“äº‹ä»¶ç›‘å¬çš„èŒåŠ¡ã€‚äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯DOMå…ƒç´ çš„äº‹ä»¶å†’æ³¡ã€‚ä½¿ç”¨äº‹ä»¶ä»£ç†çš„å¥½å¤„æ˜¯å¯ä»¥æé«˜æ€§èƒ½ã€‚</p><h2 id="Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"><a href="#Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢" class="headerlink" title="Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"></a>Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢</h2><p>å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰</p><p>ä¸»çº¿ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œäº§ç”Ÿå †ï¼ˆheapï¼‰å’Œæ ˆï¼ˆstackï¼‰ï¼Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰è°ƒç”¨å„ç§å¤–éƒ¨APIï¼Œå®ƒä»¬åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­åŠ å…¥å„ç§äº‹ä»¶ï¼ˆclickï¼Œloadï¼Œdoneï¼‰ã€‚åªè¦æ ˆä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹å°±ä¼šå»è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œä¾æ¬¡æ‰§è¡Œé‚£äº›äº‹ä»¶æ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚</p><p>æ‰§è¡Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰ï¼Œæ€»æ˜¯åœ¨è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ä¹‹å‰æ‰§è¡Œã€‚</p><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><blockquote><p>æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cachingï¼‰æ˜¯æµè§ˆå™¨ç«¯ä¿å­˜æ•°æ®ç”¨äºå¿«é€Ÿè¯»å–æˆ–é¿å…é‡å¤èµ„æºè¯·æ±‚çš„ä¼˜åŒ–æœºåˆ¶ï¼Œæœ‰æ•ˆçš„ç¼“å­˜ä½¿ç”¨å¯ä»¥é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚å’Œæµè§ˆå™¨å¿«é€Ÿåœ°è¯»å–æœ¬åœ°æ•°æ®ï¼Œ</p></blockquote><ul><li><p>httpç¼“å­˜</p><blockquote><p>httpç¼“å­˜æ˜¯åŸºäºHTTPåè®®çš„æµè§ˆå™¨æ–‡ä»¶çº§ç¼“å­˜æœºåˆ¶ã€‚å³é’ˆå¯¹æ–‡ä»¶çš„é‡å¤è¯·æ±‚æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®åè®®å¤´åˆ¤æ–­ä»æœåŠ¡å™¨ç«¯è¯·æ±‚æ–‡ä»¶è¿˜æ˜¯ä»æœ¬åœ°è¯»å–æ–‡ä»¶<br>åˆ¤æ–­expiresï¼Œå¦‚æœæœªè¿‡æœŸï¼Œç›´æ¥è¯»å–httpç¼“å­˜æ–‡ä»¶</p></blockquote></li><li><p>indexDB</p><blockquote><p>æ˜¯ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¯è§‚æ•°é‡çš„ç»“æ„åŒ–æ•°æ®,å¹¶ä¸”ä¸ºè¿™äº›æ•°æ®æ·»åŠ ç´¢å¼•è¿›è¡Œé«˜æ€§èƒ½æ£€ç´¢ã€‚</p></blockquote></li><li><p>cookie</p><blockquote><p>æŒ‡ä¸€èˆ¬ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€å‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰ã€‚cookieä¸€èˆ¬é€šè¿‡httpè¯·æ±‚ä¸­åœ¨å¤´éƒ¨ä¸€èµ·å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚ä¸€æ¡cookieè®°å½•ä¸»è¦ç”±é”®ã€å€¼ã€åŸŸã€è¿‡æœŸæ—¶é—´ã€å¤§å°ç»„æˆï¼Œä¸€èˆ¬ç”¨æˆ·ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</p></blockquote></li><li><p>localstorage</p><blockquote><p>localStorageæ˜¯h5çš„ä¸€ç§æ–°çš„æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ,åŠ å¿«ä¸‹æ¬¡é¡µé¢æ‰“å¼€æ—¶çš„æ¸²æŸ“é€Ÿåº¦,é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</p></blockquote></li><li><p>sessionstorage</p><blockquote><p>ä¹Ÿæ˜¯h5çš„ä¸€ç§æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆï¼Œæ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚</p></blockquote></li></ul><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h2 id="ES6çš„äº†è§£"><a href="#ES6çš„äº†è§£" class="headerlink" title="ES6çš„äº†è§£"></a>ES6çš„äº†è§£</h2><p>es6æ˜¯ä¸€ä¸ªæ–°çš„æ ‡å‡†ï¼Œå®ƒåŒ…å«äº†è®¸å¤šæ–°çš„è¯­è¨€ç‰¹æ€§å’Œåº“ï¼Œæ˜¯JSæœ€å®è´¨æ€§çš„ä¸€æ¬¡å‡çº§ã€‚æ¯”å¦‚â€™ç®­å¤´å‡½æ•°â€™ã€â€™å­—ç¬¦ä¸²æ¨¡æ¿â€™ã€â€™generators(ç”Ÿæˆå™¨)â€™ã€â€™async/awaitâ€™ã€â€™è§£æ„èµ‹å€¼â€™ã€â€™classâ€™ç­‰ç­‰ï¼Œè¿˜æœ‰å°±æ˜¯å¼•å…¥moduleæ¨¡å—çš„æ¦‚å¿µã€‚</p><p><code>ç®­å¤´å‡½æ•°</code>å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°<br>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚<br>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚<br>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚<br>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚</p><p><code>async/await</code>æ˜¯å†™å¼‚æ­¥ä»£ç çš„æ–°æ–¹å¼ï¼Œä»¥å‰çš„æ–¹æ³•æœ‰å›è°ƒå‡½æ•°å’ŒPromiseã€‚<br>async/awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚<br>async/awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚<br>async/awaitä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œè¿™æ­£æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚</p><h2 id="è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£"><a href="#è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£" class="headerlink" title="è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£"></a>è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£</h2><blockquote><p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶ç›‘å¬â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚</p></blockquote><p>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p><p>Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:</p><blockquote><ul><li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰</li><li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚</li></ul></blockquote><h2 id="è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£"><a href="#è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£" class="headerlink" title="è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£"></a>è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£</h2><p>CommonJSæ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—çš„è§„èŒƒï¼ŒNode.jsé‡‡ç”¨äº†è¿™ä¸ªè§„èŒƒã€‚CommonJSè§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚AMDè§„èŒƒåˆ™æ˜¯éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚</p><p>AMDæ¨èçš„é£æ ¼é€šè¿‡è¿”å›ä¸€ä¸ªå¯¹è±¡åšä¸ºæ¨¡å—å¯¹è±¡ï¼ŒCommonJSçš„é£æ ¼é€šè¿‡å¯¹module.exportsæˆ–exportsçš„å±æ€§èµ‹å€¼æ¥è¾¾åˆ°æš´éœ²æ¨¡å—å¯¹è±¡çš„ç›®çš„ã€‚</p><h2 id="Gulpã€Webpackæ¯”è¾ƒ"><a href="#Gulpã€Webpackæ¯”è¾ƒ" class="headerlink" title="Gulpã€Webpackæ¯”è¾ƒ"></a>Gulpã€Webpackæ¯”è¾ƒ</h2><ul><li>Gulp</li></ul><p>1ã€Gulpå°±æ˜¯ä¸ºäº†è§„èŒƒå‰ç«¯å¼€å‘æµç¨‹ï¼Œå®ç°å‰åç«¯åˆ†ç¦»ã€æ¨¡å—åŒ–å¼€å‘ã€ç‰ˆæœ¬æ§åˆ¶ã€æ–‡ä»¶åˆå¹¶ä¸å‹ç¼©ã€mockæ•°æ®ç­‰åŠŸèƒ½çš„ä¸€ä¸ªå‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚<br>2ã€Gulpå°±åƒæ˜¯ä¸€ä¸ªäº§å“çš„æµæ°´çº¿ï¼Œæ•´ä¸ªäº§å“ä»æ— åˆ°æœ‰ï¼Œéƒ½è¦å—æµæ°´çº¿çš„æ§åˆ¶ï¼Œåœ¨æµæ°´çº¿ä¸Šæˆ‘ä»¬å¯ä»¥å¯¹äº§å“è¿›è¡Œç®¡ç†ã€‚<br>3ã€Gulpæ˜¯é€šè¿‡taskå¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹è¿›è¡Œæ„å»ºã€‚</p><ul><li>Webpack</li></ul><p>1ã€å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·<br>2ã€å¯ä»¥å¾ˆå¥½çš„ç®¡ç†æ¨¡å—ä»¥åŠå„ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–<br>3ã€å¯¹jsã€cssã€å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶éƒ½æ”¯æŒæ‰“åŒ…<br>4ã€æœ‰ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶webpack.config.js<br>5ã€å¯ä»¥å°†ä»£ç åˆ‡å‰²æˆä¸åŒçš„chunkï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œé™ä½äº†åˆå§‹åŒ–æ—¶é—´<br>6ã€å¯ä»¥ç”Ÿæˆä¼˜åŒ–ä¸”åˆå¹¶åçš„é™æ€èµ„æº</p><p>ä¸¤å¤§ç‰¹è‰²ï¼š1ã€ä»£ç å¯ä»¥è‡ªåŠ¨å®Œæˆç¼–è¯‘ã€‚2ã€loader å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„é™æ€æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒä¸²è”æ“ä½œ</p><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="display-noneå’Œvisibility-hiddençš„åŒºåˆ«ï¼Ÿ"><a href="#display-noneå’Œvisibility-hiddençš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="display:noneå’Œvisibility:hiddençš„åŒºåˆ«ï¼Ÿ"></a>display:noneå’Œvisibility:hiddençš„åŒºåˆ«ï¼Ÿ</h2><p>display:none  éšè—å¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†ç»™å®ƒåˆ†é…ç©ºé—´ï¼Œå®ƒå„è¾¹çš„å…ƒç´ ä¼šåˆæ‹¢ï¼Œå°±å½“ä»–ä»æ¥ä¸å­˜åœ¨ã€‚</p><p>visibility:hidden  éšè—å¯¹åº”çš„å…ƒç´ ï¼Œä½†æ˜¯åœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ã€‚</p><h2 id="position-absoluteå’Œfloatå±æ€§çš„å¼‚åŒ"><a href="#position-absoluteå’Œfloatå±æ€§çš„å¼‚åŒ" class="headerlink" title="position:absoluteå’Œfloatå±æ€§çš„å¼‚åŒ"></a>position:absoluteå’Œfloatå±æ€§çš„å¼‚åŒ</h2><p>Aï¼šå…±åŒç‚¹ï¼š<br>å¯¹å†…è”å…ƒç´ è®¾ç½®<code>float</code>å’Œ<code>absolute</code>å±æ€§ï¼Œå¯ä»¥è®©å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®å…¶å®½é«˜ã€‚</p><p>Bï¼šä¸åŒç‚¹ï¼š<br>floatä»ä¼šå æ®ä½ç½®ï¼Œpositionä¼šè¦†ç›–æ–‡æ¡£æµä¸­çš„å…¶ä»–å…ƒç´ ã€‚</p><h2 id="box-sizingå±æ€§"><a href="#box-sizingå±æ€§" class="headerlink" title="box-sizingå±æ€§"></a>box-sizingå±æ€§</h2><ul><li><p>content-boxï¼šè®©å…ƒç´ ç»´æŒW3Cçš„æ ‡å‡†ç›’æ¨¡å‹ã€‚å…ƒç´ çš„å®½åº¦/é«˜åº¦ç”±border + padding + contentçš„å®½åº¦/é«˜åº¦å†³å®šï¼Œè®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„å®½/é«˜ï¼Œä¸€æ—¦ä¿®æ”¹äº†å…ƒç´ çš„è¾¹æ¡†æˆ–å†…è·ï¼Œå°±ä¼šå½±å“å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œå°±ä¸å¾—ä¸é‡æ–°è®¡ç®—å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œä»è€Œå½±å“æ•´ä¸ªé¡µé¢çš„å¸ƒå±€ã€‚</p></li><li><p>border-boxï¼šè®©å…ƒç´ ç»´æŒIEä¼ ç»Ÿç›’æ¨¡å‹ï¼ˆIE6ä»¥ä¸‹ç‰ˆæœ¬å’ŒIE6~7çš„æ€ªå¼‚æ¨¡å¼ï¼‰ã€‚è®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯border + padding + content</p></li></ul><h2 id="positionçš„å€¼"><a href="#positionçš„å€¼" class="headerlink" title="positionçš„å€¼"></a>positionçš„å€¼</h2><ul><li>static  é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­</li><li>relative ç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶åœ¨æ™®é€šæµä¸­çš„ä½ç½®è¿›è¡Œå®šä½ã€‚ </li><li>absolute ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œ ç›¸å¯¹äºæœ€è¿‘ä¸€çº§çš„ å®šä½ä¸æ˜¯ static çš„çˆ¶å…ƒç´ æ¥è¿›è¡Œå®šä½ã€‚</li><li>fixed ï¼ˆè€IEä¸æ”¯æŒï¼‰ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ã€‚ </li></ul><h2 id="CSS3æ–°ç‰¹æ€§"><a href="#CSS3æ–°ç‰¹æ€§" class="headerlink" title="CSS3æ–°ç‰¹æ€§"></a>CSS3æ–°ç‰¹æ€§</h2><p>CSS3å®ç°åœ†è§’ï¼ˆborder-radiusï¼‰ï¼Œé˜´å½±ï¼ˆbox-shadowï¼‰ï¼Œ<br>å¯¹æ–‡å­—åŠ ç‰¹æ•ˆï¼ˆtext-shadowã€ï¼‰ï¼Œçº¿æ€§æ¸å˜ï¼ˆgradientï¼‰ï¼Œæ—‹è½¬ï¼ˆtransformï¼‰<br>transform:rotate(9deg) scale(0.85,0.90) translate(0px,-30px) skew(-9deg,0deg);//æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œ<br>å¢åŠ äº†æ›´å¤šçš„CSSé€‰æ‹©å™¨  å¤šèƒŒæ™¯ rgba<br>åœ¨CSS3ä¸­å”¯ä¸€å¼•å…¥çš„ä¼ªå…ƒç´ æ˜¯::selection.<br>åª’ä½“æŸ¥è¯¢ï¼Œå¤šæ å¸ƒå±€<br>border-image</p><h2 id="CSS-sprites"><a href="#CSS-sprites" class="headerlink" title="CSS sprites"></a>CSS sprites</h2><ul><li>CSS Sprites å…¶å®å°±æ˜¯æŠŠç½‘é¡µä¸­ä¸€äº›èƒŒæ™¯å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å›¾ç‰‡æ–‡ä»¶ä¸­ï¼Œå†åˆ©ç”¨CSSçš„â€œbackground-imageâ€ï¼Œâ€œbackground- repeatâ€ï¼Œâ€œbackground-positionâ€çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ï¼Œbackground-positionå¯ä»¥ç”¨æ•°å­—èƒ½ç²¾ç¡®çš„å®šä½å‡ºèƒŒæ™¯å›¾ç‰‡çš„ä½ç½®ã€‚è¿™æ ·å¯ä»¥å‡å°‘å¾ˆå¤šå›¾ç‰‡è¯·æ±‚çš„å¼€é”€ï¼Œå› ä¸ºè¯·æ±‚è€—æ—¶æ¯”è¾ƒé•¿ï¼›è¯·æ±‚è™½ç„¶å¯ä»¥å¹¶å‘ï¼Œä½†æ˜¯ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬æµè§ˆå™¨éƒ½æ˜¯6ä¸ªã€‚å¯¹äºæœªæ¥è€Œè¨€ï¼Œå°±ä¸éœ€è¦è¿™æ ·åšäº†ï¼Œå› ä¸ºæœ‰äº†<code>http2</code>ã€‚</li></ul><h2 id="è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§"><a href="#è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§" class="headerlink" title="è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§"></a>è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§</h2><p>æµ®åŠ¨å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¸å æ®ç©ºé—´ã€‚æµ®åŠ¨å…ƒç´ ç¢°åˆ°åŒ…å«å®ƒçš„è¾¹æ¡†æˆ–è€…æµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†åœç•™ã€‚<br>1.ä½¿ç”¨ç©ºæ ‡ç­¾æ¸…é™¤æµ®åŠ¨ã€‚<br>   è¿™ç§æ–¹æ³•æ˜¯åœ¨æ‰€æœ‰æµ®åŠ¨æ ‡ç­¾åé¢æ·»åŠ ä¸€ä¸ªç©ºæ ‡ç­¾ å®šä¹‰css clear:both. å¼Šç«¯å°±æ˜¯å¢åŠ äº†æ— æ„ä¹‰æ ‡ç­¾ã€‚<br>2.ä½¿ç”¨overflowã€‚<br>   è®¾ç½®overflowä¸ºhiddenæˆ–è€…autoï¼Œç»™åŒ…å«æµ®åŠ¨å…ƒç´ çš„çˆ¶æ ‡ç­¾æ·»åŠ csså±æ€§ overflow:auto; zoom:1; zoom:1ç”¨äºå…¼å®¹IE6ã€‚<br>3.ä½¿ç”¨afterä¼ªå¯¹è±¡æ¸…é™¤æµ®åŠ¨ã€‚<br>   è¯¥æ–¹æ³•åªé€‚ç”¨äºéIEæµè§ˆå™¨ã€‚è¯¥æ–¹æ³•ä¸­å¿…é¡»ä¸ºéœ€è¦æ¸…é™¤æµ®åŠ¨å…ƒç´ çš„ä¼ªå¯¹è±¡ä¸­è®¾ç½® height:0ï¼Œå¦åˆ™è¯¥å…ƒç´ ä¼šæ¯”å®é™…é«˜å‡ºè‹¥å¹²åƒç´ ï¼›</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">"."</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">visibility</span>:hidden;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜"><a href="#æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜" class="headerlink" title="æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜"></a>æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜</h2><p>1ã€çˆ¶å…ƒç´ çš„é«˜åº¦æ— æ³•è¢«æ’‘å¼€ï¼Œå½±å“ä¸çˆ¶å…ƒç´ åŒçº§çš„å…ƒç´ <br>2ã€ä¸æµ®åŠ¨å…ƒç´ åŒçº§çš„éæµ®åŠ¨å…ƒç´ ï¼ˆå†…è”å…ƒç´ ï¼‰ä¼šè·Ÿéšå…¶å<br>3ã€è‹¥éç¬¬ä¸€ä¸ªå…ƒç´ æµ®åŠ¨ï¼Œåˆ™è¯¥å…ƒç´ ä¹‹å‰çš„å…ƒç´ ä¹Ÿéœ€è¦æµ®åŠ¨ï¼Œå¦åˆ™ä¼šå½±å“é¡µé¢æ˜¾ç¤ºçš„ç»“æ„</p><h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£"><a href="#è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£" class="headerlink" title="è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£"></a>è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£</h2><p>1ã€å»æ‰æˆ–è€…ä¸¢å¤±æ ·å¼çš„æ—¶å€™èƒ½å¤Ÿè®©é¡µé¢å‘ˆç°å‡ºæ¸…æ™°çš„ç»“æ„<br>2ã€æœ‰åˆ©äºSEOï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›<br>3ã€æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›<br>4ã€ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œæ˜¯ä¸‹ä¸€æ­¥å§ç½‘é¡µçš„é‡è¦åŠ¨å‘ï¼Œéµå¾ªW3Cæ ‡å‡†çš„å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚</p><h2 id="Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰"><a href="#Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰" class="headerlink" title="Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?"></a>Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?</h2><p>1ã€<code>&lt;!DOCTYPE&gt;</code> å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚<br>2ã€ä¸¥æ ¼æ¨¡å¼çš„æ’ç‰ˆå’Œ JS è¿ä½œæ¨¡å¼æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚<br>3ã€åœ¨æ··æ‚æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤ºã€‚æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œã€‚<br>4ã€<code>&lt;!DOCTYPE&gt;</code> ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥æ··æ‚æ¨¡å¼å‘ˆç°ã€‚ </p><h2 id="ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ"><a href="#ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ" class="headerlink" title="ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ"></a>ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ</h2><p>è¯¥æ ‡ç­¾å¯å£°æ˜ä¸‰ç§ DTD ç±»å‹ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¥æ ¼ç‰ˆæœ¬ã€è¿‡æ¸¡ç‰ˆæœ¬ä»¥åŠåŸºäºæ¡†æ¶çš„ HTML æ–‡æ¡£ã€‚<br>HTML 4.01 è§„å®šäº†ä¸‰ç§æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚<br>XHTML 1.0 è§„å®šäº†ä¸‰ç§ XML æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚<br>Standards ï¼ˆæ ‡å‡†ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯ä¸¥æ ¼å‘ˆç°æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°éµå¾ªæœ€æ–°æ ‡å‡†çš„ç½‘é¡µï¼Œè€Œ Quirksï¼ˆåŒ…å®¹ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯æ¾æ•£å‘ˆç°æ¨¡å¼æˆ–è€…å…¼å®¹æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°ä¸ºä¼ ç»Ÿæµè§ˆå™¨è€Œè®¾è®¡çš„ç½‘é¡µã€‚</p><h2 id="HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«"></a>HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«</h2><p>1ã€æ‰€æœ‰çš„æ ‡è®°éƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ªç›¸åº”çš„ç»“æŸæ ‡è®°<br>2ã€æ‰€æœ‰æ ‡ç­¾çš„å…ƒç´ å’Œå±æ€§çš„åå­—éƒ½å¿…é¡»ä½¿ç”¨å°å†™<br>3ã€æ‰€æœ‰çš„XMLæ ‡è®°éƒ½å¿…é¡»åˆç†åµŒå¥—<br>4ã€æ‰€æœ‰çš„å±æ€§å¿…é¡»ç”¨å¼•å·â€â€æ‹¬èµ·æ¥<br>5ã€æŠŠæ‰€æœ‰&lt;å’Œ&amp;ç‰¹æ®Šç¬¦å·ç”¨ç¼–ç è¡¨ç¤º<br>6ã€ç»™æ‰€æœ‰å±æ€§èµ‹ä¸€ä¸ªå€¼<br>7ã€ä¸è¦åœ¨æ³¨é‡Šå†…å®¹ä¸­ä½¿â€œâ€“â€<br>8ã€å›¾ç‰‡å¿…é¡»æœ‰è¯´æ˜æ–‡å­—</p><h2 id="html5æœ‰å“ªäº›æ–°ç‰¹æ€§"><a href="#html5æœ‰å“ªäº›æ–°ç‰¹æ€§" class="headerlink" title="html5æœ‰å“ªäº›æ–°ç‰¹æ€§"></a>html5æœ‰å“ªäº›æ–°ç‰¹æ€§</h2><p>è¯­ä¹‰åŒ–æ›´å¥½çš„å†…å®¹æ ‡ç­¾ï¼ˆheader,nav,footer,aside,article,sectionï¼‰<br>éŸ³é¢‘ã€è§†é¢‘API(audio,video)<br>ç”»å¸ƒ(Canvas) API<br>åœ°ç†(Geolocation) API<br>æ‹–æ‹½é‡Šæ”¾(Drag and drop) API<br>æœ¬åœ°ç¦»çº¿å­˜å‚¨<br>è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search  </p><h1 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h1><h2 id="HTTPè¯·æ±‚ç±»å‹"><a href="#HTTPè¯·æ±‚ç±»å‹" class="headerlink" title="HTTPè¯·æ±‚ç±»å‹"></a>HTTPè¯·æ±‚ç±»å‹</h2><p>GETï¼šå‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚<br>POSTï¼šå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„åˆ›å»ºå’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹<br>PUTï¼šå‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹<br>DELETEï¼šè¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URIæ‰€æ ‡è¯†çš„èµ„æº<br>OPTIONSï¼šè¿”å›æœåŠ¡å™¨é’ˆå¯¹ç‰¹å®šèµ„æºæ‰€æ”¯æŒçš„HTTPè¯·æ±‚æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨å‘WebæœåŠ¡å™¨å‘é€â€™*â€™çš„è¯·æ±‚æ¥æµ‹è¯•æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p><h2 id="HTTPè¯·æ±‚å››éƒ¨åˆ†"><a href="#HTTPè¯·æ±‚å››éƒ¨åˆ†" class="headerlink" title="HTTPè¯·æ±‚å››éƒ¨åˆ†"></a>HTTPè¯·æ±‚å››éƒ¨åˆ†</h2><p>1ã€HTTPè¯·æ±‚çš„æ–¹æ³•æˆ–åŠ¨ä½œï¼Œæ¯”å¦‚æ˜¯getè¿˜æ˜¯postè¯·æ±‚ï¼›<br>2ã€æ­£åœ¨è¯·æ±‚çš„URLï¼ˆè¯·æ±‚çš„åœ°å€ï¼‰ï¼›<br>3ã€è¯·æ±‚å¤´ï¼ŒåŒ…å«ä¸€äº›å®¢æˆ·ç«¯ç¯å¢ƒä¿¡æ¯ã€èº«ä»½éªŒè¯ä¿¡æ¯ç­‰ï¼›<br>4ã€è¯·æ±‚ä½“ï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰ï¼Œå¯ä»¥åŒ…å«å®¢æˆ·æäº¤çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¿¡æ¯ã€è¡¨å•ä¿¡æ¯ç­‰ã€‚</p><p><strong>è¯·æ±‚å¤´å­—æ®µï¼š</strong></p><ul><li>Accept:text/html,image/*(å‘Šè¯‰æœåŠ¡å™¨ï¼Œæµè§ˆå™¨å¯ä»¥æ¥å—æ–‡æœ¬ï¼Œç½‘é¡µå›¾ç‰‡)</li><li>Accept-Charaset:ISO-8859-1 [æ¥å—å­—ç¬¦ç¼–ç ï¼šiso-8859-1]</li><li>Accept-Encoding:gzip,compress[å¯ä»¥æ¥å—  gzip,compresså‹ç¼©åæ•°æ®]</li><li>Accept-Language:zh-cn[æµè§ˆå™¨æ”¯æŒçš„è¯­è¨€]   </li><li>Host:localhost:8080[æµè§ˆå™¨è¦æ‰¾çš„ä¸»æœº]</li><li>If-Modified-Since:Tue, 09 May 2017 01:34:02 GMT[å‘Šè¯‰æœåŠ¡å™¨æˆ‘è¿™ç¼“å­˜ä¸­æœ‰è¿™ä¸ªæ–‡ä»¶,è¯¥æ–‡ä»¶çš„æ—¶é—´æ˜¯â€¦]</li><li>User-Agent:Nozilla/4.0(Comâ€¦)[å‘Šè¯‰æœåŠ¡å™¨æˆ‘çš„æµè§ˆå™¨å†…æ ¸ï¼Œå®¢æˆ·ç«¯ç¯å¢ƒä¿¡]</li><li>Cookieï¼š[èº«ä»½éªŒè¯ä¿¡æ¯]</li><li>Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥]</li></ul><h2 id="HTTPå“åº”ä¸‰éƒ¨åˆ†"><a href="#HTTPå“åº”ä¸‰éƒ¨åˆ†" class="headerlink" title="HTTPå“åº”ä¸‰éƒ¨åˆ†"></a>HTTPå“åº”ä¸‰éƒ¨åˆ†</h2><p>1ã€ä¸€ä¸ªæ•°å­—å’Œæ–‡å­—ç»„æˆçš„çŠ¶æ€ç ï¼Œç”¨æ¥æ˜¾ç¤ºè¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼›<br>2ã€å“åº”å¤´ï¼Œå“åº”å¤´ä¹Ÿå’Œè¯·æ±‚å¤´ä¸€æ ·åŒ…å«è®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸæ—¶é—´ã€å†…å®¹ç±»å‹å’Œé•¿åº¦ç­‰ï¼›<br>3ã€å“åº”ä½“ï¼ˆå“åº”æ­£æ–‡ï¼‰ã€‚</p><p><strong>å“åº”å¤´å­—æ®µï¼š</strong></p><ul><li>Cache-Control:[å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç¼“å­˜é¡µé¢(å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹æ€§æœ€å¥½è®¾ç½®ä¸¤ä¸ª)]</li><li>Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥]</li><li>Content-Type:text/html;charset=gb2312[å†…å®¹æ ¼å¼å’Œç¼–ç ]</li><li>Last-Modified:Tue,11 Juj,2017 18 18:29:20[å‘Šè¯‰æµè§ˆå™¨è¯¥èµ„æºä¸Šæ¬¡æ›´æ–°æ—¶é—´æ˜¯å¤šå°‘]</li><li>ETag:â€540-54f0d59b8b680â€</li><li>Expires:Fri, 26 May 2017 13:28:33 GMT [å¤±æ•ˆæ—¥æœŸ]</li><li>server:apache tomcat nginx [å“ªç§æœåŠ¡å™¨]</li></ul><h2 id="è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹"><a href="#è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹"></a>è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹</h2><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®åŒ…ï¼ˆ<code>å¸¦SYNæ ‡å¿—çš„æ•°æ®åŒ…</code>ï¼‰ã€‚æ­¤æ—¶æœåŠ¡å™¨ç¡®è®¤è‡ªå·±å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯çš„åŒ…ï¼Œè€Œå®¢æˆ·ç«¯ä¸ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ¥æ”¶åˆ°äº†è‡ªå·±å‘çš„æ•°æ®åŒ…ã€‚</p><p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯å›å¤ï¼ˆ<code>å›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯</code>ï¼‰å®¢æˆ·ç«¯ã€‚æ­¤æ—¶å®¢æˆ·ç«¯ç¡®è®¤è‡ªå·±å‘çš„åŒ…è¢«æœåŠ¡å™¨æ”¶åˆ°ï¼Œä¹Ÿç¡®è®¤è‡ªå·±å¯ä»¥æ­£å¸¸æ¥æ”¶æœåŠ¡å™¨åŒ…ï¼Œå®¢æˆ·ç«¯å¯¹æ­¤æ¬¡é€šä¿¡æ²¡æœ‰ç–‘é—®äº†ã€‚æœåŠ¡å™¨ä¹Ÿå¯ä»¥ç¡®è®¤è‡ªå·±èƒ½æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„åŒ…ï¼Œä½†ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯èƒ½å¦æ¥æ”¶è‡ªå·±å‘çš„åŒ…ã€‚</p><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å›å¤ï¼ˆ<code>å‘é€ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨â€œæ¡æ‰‹â€ç»“æŸ</code>ï¼‰æœåŠ¡å™¨ã€‚  å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰ç–‘é—®äº†ï¼ŒæœåŠ¡å™¨ä¹Ÿç¡®è®¤åˆšåˆšå®¢æˆ·ç«¯æ”¶åˆ°äº†è‡ªå·±çš„æ•°æ®åŒ…ã€‚ä¸¤è¾¹éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå¼€å§‹é€šä¿¡ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong><br>ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚ä¹Ÿé˜²æ­¢äº†æœåŠ¡å™¨ç«¯çš„ä¸€ç›´ç­‰å¾…è€Œæµªè´¹èµ„æº<br>TCPä½œä¸ºä¸€ç§å¯é ä¼ è¾“æ§åˆ¶åè®®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³ï¼šæ—¢è¦ä¿è¯æ•°æ®å¯é ä¼ è¾“ï¼Œåˆè¦æé«˜ä¼ è¾“çš„æ•ˆç‡ï¼Œè€Œç”¨ä¸‰æ¬¡æ°æ°å¯ä»¥æ»¡è¶³ä»¥ä¸Šä¸¤æ–¹é¢çš„éœ€æ±‚ï¼</p><h2 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h2><p>1ã€ä¸»æœºå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæ–­å¼€è¿æ¥çš„è¯·æ±‚ï¼ˆ ä¸æ—©äº†ï¼Œæˆ‘è¯¥èµ°äº† ï¼‰,<code>å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µ</code>ï¼›<br>2ã€æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚åå‘é€ç¡®è®¤æ”¶åˆ°è¯·æ±‚çš„ä¿¡å·ï¼ˆ çŸ¥é“äº† ï¼‰<code>å›ä¸€ä¸ªACKæŠ¥æ–‡æ®µ</code>ï¼›<br>3ã€æœåŠ¡å™¨å‘ä¸»æœºå‘é€æ–­å¼€é€šçŸ¥ï¼ˆ æˆ‘ä¹Ÿè¯¥èµ°äº† ï¼‰<code>å‘é€FINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥</code>ï¼›<br>4ã€ä¸»æœºæ¥åˆ°æ–­å¼€é€šçŸ¥åæ–­å¼€è¿æ¥å¹¶åé¦ˆä¸€ä¸ªç¡®è®¤ä¿¡å·ï¼ˆ å—¯ï¼Œå¥½çš„ ï¼‰ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ç¡®è®¤ä¿¡å·åä¹Ÿæ–­å¼€è¿æ¥ï¼›</p><h2 id="TCPå’ŒUDPçš„åŒºåˆ«"><a href="#TCPå’ŒUDPçš„åŒºåˆ«" class="headerlink" title="TCPå’ŒUDPçš„åŒºåˆ«"></a>TCPå’ŒUDPçš„åŒºåˆ«</h2><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥</p><p>UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼<br>UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚</p><h2 id="HTTPå’ŒHTTPS"><a href="#HTTPå’ŒHTTPS" class="headerlink" title="HTTPå’ŒHTTPS"></a>HTTPå’ŒHTTPS</h2><p>1ã€HTTPåè®®é€šå¸¸æ‰¿è½½äºTCPåè®®ä¹‹ä¸Šï¼Œåœ¨HTTPå’ŒTCPä¹‹é—´æ·»åŠ ä¸€ä¸ªå®‰å…¨åè®®å±‚ï¼ˆSSLæˆ–TSLï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æˆäº†æˆ‘ä»¬å¸¸è¯´çš„HTTPS<br>2ã€é»˜è®¤HTTPçš„ç«¯å£å·ä¸º80ï¼ŒHTTPSçš„ç«¯å£å·ä¸º443</p><p>HTTPS ç›¸å¯¹äº HTTP æ€§èƒ½ä¸Šå·®ç‚¹ï¼Œå› ä¸ºå¤šäº† SSL/TLS çš„å‡ æ¬¡æ¡æ‰‹å’ŒåŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†ï¼Œä½†æ˜¯åŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†å·²ç»å¯ä»¥é€šè¿‡ç‰¹æœ‰çš„ç¡¬ä»¶æ¥åŠ é€Ÿå¤„ç†ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯Etagï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Etagï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Etagï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Etagï¼Ÿ</h2><p>æŠŠLast-Modifiedå’ŒETagè¯·æ±‚çš„httpæŠ¥å¤´ä¸€èµ·ä½¿ç”¨ï¼Œå¯åˆ©ç”¨å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰çš„ç¼“å­˜ã€‚ETagç”¨äºæ ‡è¯†èµ„æºçš„çŠ¶æ€ï¼Œå½“èµ„æºå‘ç”Ÿå˜æ›´æ—¶ï¼Œå¦‚æœå…¶å¤´ä¿¡æ¯ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…æ¶ˆæ¯å®ä½“å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆETagä¹Ÿéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚æµè§ˆå™¨ä¸‹è½½ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šå°†å®ƒä»¬å­˜å‚¨åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ã€‚å¦‚æœéœ€è¦å†æ¬¡è·å–ç›¸åŒçš„ç»„ä»¶ï¼Œæµè§ˆå™¨å°†æ£€æŸ¥ç»„ä»¶çš„ç¼“å­˜æ—¶é—´ï¼Œ<br>å‡å¦‚å·²ç»è¿‡æœŸï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†å‘é€ä¸€ä¸ªæ¡ä»¶GETè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åˆ¤æ–­ç¼“å­˜è¿˜æœ‰æ•ˆï¼Œåˆ™å‘é€ä¸€ä¸ª304å“åº”ï¼Œå‘Šè¯‰æµè§ˆå™¨å¯ä»¥é‡ç”¨ç¼“å­˜ç»„ä»¶ã€‚</p><h2 id="Expireså’ŒCache-Control"><a href="#Expireså’ŒCache-Control" class="headerlink" title="Expireså’ŒCache-Control"></a>Expireså’ŒCache-Control</h2><p>Expires ç”¨æ¥æ§åˆ¶ç¼“å­˜çš„å¤±æ•ˆæ—¥æœŸ<br>Cache-Control ç”¨æ¥æ§åˆ¶ç½‘é¡µçš„ç¼“å­˜ å¸¸è§çš„å–å€¼æœ‰privateã€no-cacheã€max-ageã€must-revalidateç­‰ï¼Œé»˜è®¤ä¸ºprivateã€‚</p><h2 id="å…³äºHttp-2-0-ä½ çŸ¥é“å¤šå°‘ï¼Ÿ"><a href="#å…³äºHttp-2-0-ä½ çŸ¥é“å¤šå°‘ï¼Ÿ" class="headerlink" title="å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼Ÿ"></a>å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼Ÿ</h2><p>HTTP/2å¼•å…¥äº†â€œæœåŠ¡ç«¯æ¨ï¼ˆserver pushï¼‰â€çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯éœ€è¦æ•°æ®ä¹‹å‰å°±ä¸»åŠ¨åœ°å°†æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ç¼“å­˜ä¸­ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚<br>HTTP/2æä¾›æ›´å¤šçš„åŠ å¯†æ”¯æŒ<br>HTTP/2ä½¿ç”¨å¤šè·¯æŠ€æœ¯ï¼Œå…è®¸å¤šä¸ªæ¶ˆæ¯åœ¨ä¸€ä¸ªè¿æ¥ä¸ŠåŒæ—¶äº¤å·®ã€‚<br>å®ƒå¢åŠ äº†å¤´å‹ç¼©ï¼ˆheader compressionï¼‰ï¼Œå› æ­¤å³ä½¿éå¸¸å°çš„è¯·æ±‚ï¼Œå…¶è¯·æ±‚å’Œå“åº”çš„headeréƒ½åªä¼šå ç”¨å¾ˆå°æ¯”ä¾‹çš„å¸¦å®½ã€‚</p><h2 id="ä¸€ä¸ªé¡µé¢ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ä¸ªé¡µé¢ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h2><p>1ã€æµè§ˆå™¨æ ¹æ®è¯·æ±‚çš„URLäº¤ç»™DNSåŸŸåè§£æï¼Œæ‰¾åˆ°çœŸå®IPï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆTCPä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼›<br>2ã€æœåŠ¡å™¨äº¤ç»™åå°å¤„ç†å®Œæˆåè¿”å›æ•°æ®ï¼Œæµè§ˆå™¨æ¥æ”¶æ–‡ä»¶ï¼ˆHTMLã€JSã€CSSã€å›¾è±¡ç­‰ï¼‰ï¼›<br>3ã€æµè§ˆå™¨å¯¹åŠ è½½åˆ°çš„èµ„æºï¼ˆHTMLã€JSã€CSSç­‰ï¼‰è¿›è¡Œè¯­æ³•è§£æï¼Œå»ºç«‹ç›¸åº”çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚HTMLçš„DOMï¼‰ï¼›<br>4ã€è½½å…¥è§£æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œæ¸²æŸ“é¡µé¢ï¼Œå®Œæˆã€‚</p><h2 id="æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹"><a href="#æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹" class="headerlink" title="æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹"></a>æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹</h2><p>1ã€æµè§ˆå™¨è¯·æ±‚åˆ°HTMLä»£ç åï¼Œåœ¨ç”ŸæˆDOMçš„æœ€å¼€å§‹é˜¶æ®µï¼Œå¹¶è¡Œå‘èµ·cssã€å›¾ç‰‡ã€jsçš„è¯·æ±‚ï¼Œæ— è®ºä»–ä»¬æ˜¯å¦åœ¨HEADé‡Œã€‚æµè§ˆå™¨ä¼šå°†HTMLè§£ææˆä¸€ä¸ªDOMæ ‘ï¼ŒDOM æ ‘çš„æ„å»ºè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ·±åº¦éå†è¿‡ç¨‹ï¼šå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ„å»ºå¥½åæ‰ä¼šå»æ„å»ºå½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚<br>2ã€CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼Œå¼€å§‹æ„å»ºCSSOM<br>3ã€æ‰€æœ‰CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼ŒCSSOMæ„å»ºç»“æŸåï¼Œå’Œ DOM ä¸€èµ·ç”Ÿæˆ Render Treeã€‚<br>4ã€æœ‰äº†Render Treeï¼Œæµè§ˆå™¨å·²ç»èƒ½çŸ¥é“ç½‘é¡µä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€å„ä¸ªèŠ‚ç‚¹çš„CSSå®šä¹‰ä»¥åŠä»–ä»¬çš„ä»å±å…³ç³»ã€‚ä¸‹ä¸€æ­¥æ“ä½œå°±æ˜¯è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®ã€‚<br>5ã€æœ€åä¸€æ­¥ï¼ŒæŒ‰ç…§ç®—å‡ºæ¥çš„è§„åˆ™ï¼ŒæŠŠå†…å®¹æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚</p><p>ä»¥ä¸Šäº”ä¸ªæ­¥éª¤å‰3ä¸ªæ­¥éª¤å› ä¸ºDOMã€CSSOMã€Render Treeéƒ½å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡Paintingååˆè¢«æ›´æ–°å¤šæ¬¡ï¼Œæ¯”å¦‚JSä¿®æ”¹äº†DOMæˆ–è€…CSSå±æ€§ã€‚Layout å’Œ Painting ä¹Ÿä¼šè¢«é‡å¤æ‰§è¡Œï¼Œé™¤äº†DOMã€CSSOMæ›´æ–°çš„åŸå› å¤–ï¼Œå›¾ç‰‡ä¸‹è½½å®Œæˆåä¹Ÿéœ€è¦è°ƒç”¨Layout å’Œ Paintingæ¥æ›´æ–°ç½‘é¡µã€‚</p><blockquote><p>display:none çš„èŠ‚ç‚¹ä¸ä¼šè¢«åŠ å…¥ Render Treeï¼Œè€Œ visibility: hidden åˆ™ä¼šï¼Œæ‰€ä»¥ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹æœ€å¼€å§‹æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œè®¾ä¸º display:none æ˜¯æ›´ä¼˜çš„ã€‚</p></blockquote><h2 id="ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†"><a href="#ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†"></a>ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†</h2><blockquote><p><a href="http://www.hzzly.net:8080/news/index.php?boardID=5&amp;ID=24618&amp;page=1#name" target="_blank" rel="noopener">http://www.hzzly.net:8080/news/index.php?boardID=5&amp;ID=24618&amp;page=1#name</a></p></blockquote><p>1ã€åè®®éƒ¨åˆ†<br>2ã€åŸŸåéƒ¨åˆ†<br>3ã€ç«¯å£éƒ¨åˆ†<br>4ã€è™šæ‹Ÿç›®å½•éƒ¨åˆ†ï¼šä»åŸŸååçš„ç¬¬ä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°æœ€åä¸€ä¸ªâ€œ/â€ä¸ºæ­¢<br>5ã€æ–‡ä»¶åéƒ¨åˆ†ï¼šä»åŸŸååçš„æœ€åä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°â€œï¼Ÿâ€ä¸ºæ­¢<br>6ã€å‚æ•°éƒ¨åˆ†ï¼šä»â€œï¼Ÿâ€å¼€å§‹åˆ°â€œ#â€ä¸ºæ­¢ä¹‹é—´çš„éƒ¨åˆ†<br>7ã€é”šéƒ¨åˆ†ï¼šä»â€œ#â€å¼€å§‹åˆ°æœ€å</p><h2 id="GETå’ŒPOSTçš„åŒºåˆ«"><a href="#GETå’ŒPOSTçš„åŒºåˆ«" class="headerlink" title="GETå’ŒPOSTçš„åŒºåˆ«"></a>GETå’ŒPOSTçš„åŒºåˆ«</h2><p>GETï¼šä¸€èˆ¬ç”¨äºä¿¡æ¯è·å–ï¼Œä½¿ç”¨URLä¼ é€’å‚æ•°ï¼Œå¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬åœ¨1024å­—èŠ‚ï¼ŒGetæ˜¯é€šè¿‡åœ°å€æ æ¥ä¼ å€¼ã€‚</p><p>POSTï¼šä¸€èˆ¬ç”¨äºä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå¯¹æ‰€å‘é€çš„ä¿¡æ¯æ²¡æœ‰é™åˆ¶ã€‚ï¼ˆå¸¸ç”¨äºå‘é€è¡¨å•æ•°æ®ï¼Œæ–°å»ºã€ä¿®æ”¹ç­‰ï¼‰ï¼ŒPostæ˜¯é€šè¿‡æäº¤è¡¨å•æ¥ä¼ å€¼ã€‚</p><h2 id="å¸¸è§HTTPçŠ¶æ€ç "><a href="#å¸¸è§HTTPçŠ¶æ€ç " class="headerlink" title="å¸¸è§HTTPçŠ¶æ€ç "></a>å¸¸è§HTTPçŠ¶æ€ç </h2><p>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç ã€‚<br>2xxï¼ˆæˆåŠŸï¼‰è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç ã€‚<br><code>200</code>ï¼ˆæˆåŠŸï¼‰ï¼šæœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚<br>3xxï¼ˆé‡å®šå‘ï¼‰è¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚<br><code>301</code>ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ï¼šè¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚<br><code>302</code>ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥å“åº”ä»¥åçš„è¯·æ±‚ã€‚<br><code>304</code>ï¼ˆæœªä¿®æ”¹ï¼‰ï¼šè‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚<br>4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚<br><code>400</code>ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ï¼šæœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚<br><code>404</code>ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚<br>5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚<br><code>500</code>ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ï¼šæœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚<br><code>503</code>ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚</p><h2 id="è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚"><a href="#è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚" class="headerlink" title="è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚"></a>è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚</h2><p>åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ï¼ˆä»ä¸Šå¾€ä¸‹ï¼‰ï¼ˆHTTPã€FTPã€SMTPã€DNSï¼‰</p><p>ä¼ è¾“å±‚ï¼ˆTCPå’ŒUDPï¼‰</p><p>ç½‘ç»œå±‚ï¼ˆIPï¼‰</p><p>ç‰©ç†å’Œæ•°æ®é“¾è·¯å±‚ï¼ˆä»¥å¤ªç½‘ï¼‰</p><h2 id="è®²è®²304ç¼“å­˜çš„åŸç†"><a href="#è®²è®²304ç¼“å­˜çš„åŸç†" class="headerlink" title="è®²è®²304ç¼“å­˜çš„åŸç†"></a>è®²è®²304ç¼“å­˜çš„åŸç†</h2><p>æœåŠ¡å™¨é¦–å…ˆäº§ç”ŸETagï¼ŒæœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·ç«¯é€šè¿‡å°†è¯¥è®°å·ä¼ å›æœåŠ¡å™¨è¦æ±‚æœåŠ¡å™¨éªŒè¯å…¶ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¼“å­˜ã€‚</p><p>304æ˜¯HTTPçŠ¶æ€ç ï¼ŒæœåŠ¡å™¨ç”¨æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶æ²¡ä¿®æ”¹ï¼Œä¸è¿”å›å†…å®¹ï¼Œæµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ä¸ªçŠ¶æ€ç åï¼Œä¼šä½¿ç”¨æµè§ˆå™¨å·²ç¼“å­˜çš„æ–‡ä»¶</p><h2 id="http-keep-aliveä¸tcp-keep-alive"><a href="#http-keep-aliveä¸tcp-keep-alive" class="headerlink" title="http keep-aliveä¸tcp keep-alive"></a>http keep-aliveä¸tcp keep-alive</h2><p>http keep-aliveæ˜¯ä¸ºäº†è®©tcpæ´»å¾—æ›´ä¹…ä¸€ç‚¹ï¼Œä»¥ä¾¿åœ¨åŒä¸€ä¸ªè¿æ¥ä¸Šä¼ é€å¤šä¸ªhttpï¼Œæé«˜socketçš„æ•ˆç‡ã€‚è€Œtcp keep-aliveæ˜¯TCPçš„ä¸€ç§æ£€æµ‹TCPè¿æ¥çŠ¶å†µçš„ä¿é²œæœºåˆ¶ã€‚</p><h2 id="å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†"><a href="#å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†" class="headerlink" title="å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†"></a>å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†</h2><ul><li>sqlæ³¨å…¥åŸç†<br>  å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚</li><li>XSS<br>  æŒ‡çš„æ˜¯æ”»å‡»è€…å¾€Webé¡µé¢é‡Œæ’å…¥æ¶æ„htmlæ ‡ç­¾æˆ–è€…javascriptä»£ç ã€‚æ¯”å¦‚ï¼šæ”»å‡»è€…åœ¨è®ºå›ä¸­æ”¾ä¸€ä¸ªçœ‹ä¼¼å®‰å…¨çš„é“¾æ¥ï¼Œéª—å–ç”¨æˆ·ç‚¹å‡»åï¼Œçªƒå–cookieä¸­çš„ç”¨æˆ·ç§å¯†ä¿¡æ¯ï¼›æˆ–è€…æ”»å‡»è€…åœ¨è®ºå›ä¸­åŠ ä¸€ä¸ªæ¶æ„è¡¨å•ï¼Œå½“ç”¨æˆ·æäº¤è¡¨å•çš„æ—¶å€™ï¼Œå´æŠŠä¿¡æ¯ä¼ é€åˆ°æ”»å‡»è€…çš„æœåŠ¡å™¨ä¸­ï¼Œè€Œä¸æ˜¯ç”¨æˆ·åŸæœ¬ä»¥ä¸ºçš„ä¿¡ä»»ç«™ç‚¹ã€‚</li><li>CSRF<br>  CSRFæ˜¯ä»£æ›¿ç”¨æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œéœ€è¦çŸ¥é“å…¶ä»–ç”¨æˆ·é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚è¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š1ã€ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚2ã€åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚</li></ul><h1 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h1><h2 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h2><blockquote><p>å»ºä¸€ä¸ªç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ªç¯éå†éœ€è¦å»é‡çš„æ•°ç»„ï¼Œåˆ¤æ–­å¯¹è±¡æœ‰æ²¡æœ‰æ­¤å±æ€§ï¼Œæ²¡æœ‰çš„è¯å°±ç»™å¯¹è±¡æ·»åŠ æ­¤å±æ€§ï¼Œå¹¶å‘ç©ºæ•°ç»„ä¸­pushè¿™ä¸ªå€¼ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">var</span> result = []</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> arr)&#123;</span><br><span class="line"><span class="keyword">if</span>(!obj[arr[i]])&#123;</span><br><span class="line">obj[arr[i]] = <span class="literal">true</span>;</span><br><span class="line">result.push(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//es6</span></span><br><span class="line">[...new <span class="built_in">Set</span>(arr)]</span><br></pre></td></tr></table></figure><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><blockquote><p>ç›¸é‚»ä¸¤ä¸ªå¯¹æ¯”ï¼Œæœ€åæŠŠæœ€å¤§çš„æ’åˆ°äº†æœ€åï¼Œé‡å¤æ­¤è¿‡ç¨‹ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> len = arr.length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>]) &#123;        <span class="comment">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span></span><br><span class="line"><span class="keyword">var</span> temp = arr[j+<span class="number">1</span>];        <span class="comment">//å…ƒç´ äº¤æ¢</span></span><br><span class="line">arr[j+<span class="number">1</span>] = arr[j];</span><br><span class="line">arr[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><blockquote><p>å¯»æ‰¾æœ€å°çš„æ•°ï¼Œä¿å­˜ç´¢å¼•ï¼Œç„¶åä¸ç¬¬ä¸€å±‚å¾ªç¯å…¶ä¸‹æ ‡å¯¹äºçš„å€¼è¿›è¡Œäº¤æ¢</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> len = arr.length;</span><br><span class="line"><span class="keyword">var</span> minIndex, temp;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">minIndex = i;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;     <span class="comment">//å¯»æ‰¾æœ€å°çš„æ•°</span></span><br><span class="line">minIndex = j;                 <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp = arr[i];</span><br><span class="line">arr[i] = arr[minIndex];</span><br><span class="line">arr[minIndex] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><blockquote><p>é€‰å–ä¸€ä¸ªè®°å½•ä½œä¸ºä¸­é—´è½´ï¼Œç„¶åå°†æ¯”â€˜è¿™ä¸ªè®°å½•å€¼â€™å°çš„ç§»åˆ°â€˜è®°å½•å€¼â€™ä¹‹å‰ï¼Œå¤§çš„ç§»åˆ°ä¹‹åï¼Œç„¶åé€’å½’</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(arr.length == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> [];    <span class="comment">// è¿”å›ç©ºæ•°ç»„</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> cIndex = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> c = arr.splice(cIndex, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> l = [];</span><br><span class="line"><span class="keyword">var</span> r = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i] &lt; c) &#123;</span><br><span class="line">l.push(arr[i]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">r.push(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> quickSort(l).concat(c, quickSort(r));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h1><h2 id="å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„"><a href="#å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„" class="headerlink" title="å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„"></a>å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„</h2><p>å‰ç«¯æ˜¯æœ€è´´è¿‘ç”¨æˆ·çš„ç¨‹åºå‘˜ï¼Œå‰ç«¯çš„èƒ½åŠ›å°±æ˜¯èƒ½è®©äº§å“ä» 90åˆ†è¿›åŒ–åˆ° 100 åˆ†ï¼Œç”šè‡³æ›´å¥½<br>1ã€å®ç°ç•Œé¢äº¤äº’<br>2ã€æå‡ç”¨æˆ·ä½“éªŒ</p><h2 id="è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£"><a href="#è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£" class="headerlink" title="è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£"></a>è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£</h2><p>åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æ„ã€æ·»åŠ å¯è¯»æ€§ï¼Œè€Œåœ¨ç½‘ç«™å‰ç«¯ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯åœ¨ä¸æ”¹å˜UIçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘ç«™è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æ‰©å±•çš„åŒæ—¶ä¿æŒä¸€è‡´çš„UIã€‚</p><p>å‡å°‘ä»£ç é—´çš„è€¦åˆ<br>è®©ä»£ç ä¿æŒå¼¹æ€§<br>ä¸¥æ ¼æŒ‰è§„èŒƒç¼–å†™ä»£ç <br>è®¾è®¡å¯æ‰©å±•çš„API<br>ä»£æ›¿æ—§æœ‰çš„æ¡†æ¶ã€è¯­è¨€(å¦‚VB)<br>å¢å¼ºç”¨æˆ·ä½“éªŒ<br>é€šå¸¸æ¥è¯´å¯¹äºé€Ÿåº¦çš„ä¼˜åŒ–ä¹ŸåŒ…å«åœ¨é‡æ„ä¸­</p><h2 id="ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ"><a href="#ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ" class="headerlink" title="ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ"></a>ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</h2><h2 id="å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ"><a href="#å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ" class="headerlink" title="å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ"></a>å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ</h2><h2 id="å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ"><a href="#å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ" class="headerlink" title="å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ"></a>å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ</h2><p>å…ˆæœŸå›¢é˜Ÿå¿…é¡»ç¡®å®šå¥½å…¨å±€æ ·å¼ï¼ˆglobe.cssï¼‰ï¼Œç¼–ç æ¨¡å¼(utf-8) ç­‰ï¼›</p><p>ç¼–å†™ä¹ æƒ¯å¿…é¡»ä¸€è‡´ï¼ˆä¾‹å¦‚éƒ½æ˜¯é‡‡ç”¨ç»§æ‰¿å¼çš„å†™æ³•ï¼Œå•æ ·å¼éƒ½å†™æˆä¸€è¡Œï¼‰ï¼›</p><p>æ ‡æ³¨æ ·å¼ç¼–å†™äººï¼Œå„æ¨¡å—éƒ½åŠæ—¶æ ‡æ³¨ï¼ˆæ ‡æ³¨å…³é”®æ ·å¼è°ƒç”¨çš„åœ°æ–¹ï¼‰ï¼›</p><p>é¡µé¢è¿›è¡Œæ ‡æ³¨ï¼ˆä¾‹å¦‚ é¡µé¢ æ¨¡å— å¼€å§‹å’Œç»“æŸï¼‰ï¼›</p><p>CSSè·ŸHTML åˆ†æ–‡ä»¶å¤¹å¹¶è¡Œå­˜æ”¾ï¼Œå‘½åéƒ½å¾—ç»Ÿä¸€ï¼ˆä¾‹å¦‚style.cssï¼‰ï¼›</p><p>JS åˆ†æ–‡ä»¶å¤¹å­˜æ”¾ å‘½åä»¥è¯¥JSåŠŸèƒ½ä¸ºå‡†çš„è‹±æ–‡ç¿»è¯‘ã€‚</p><p>å›¾ç‰‡é‡‡ç”¨æ•´åˆçš„ images.png png8 æ ¼å¼æ–‡ä»¶ä½¿ç”¨å°½é‡æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨æ–¹ä¾¿å°†æ¥çš„ç®¡ç† </p><h2 id="è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ"><a href="#è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ" class="headerlink" title="è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ"></a>è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ</h2><p>Node.jsã€Mongodbã€npmã€MVVMã€MEANã€three.jsã€Reactã€Vueã€WebGL<br>ç½‘ç«™ï¼šæ˜é‡‘ã€segmentfaultã€Githubã€w3cplusã€å‰ç«¯åœˆã€çŸ¥ä¹ç­‰</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šä»¥ä¸‹æ˜¯æ•´ç†ä¸€äº›é¢è¯•ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ç»å…¸é¢è¯•é¢˜ä»¥åŠè‡ªå·±é¢è¯•è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æœªè§£å†³çš„é—®é¢˜ï¼Œé€šè¿‡å¯¹çŸ¥è¯†çš„æ•´ç†ä»¥åŠç»éªŒçš„æ€»ç»“ï¼Œé‡æ–°å·©å›ºè‡ªèº«çš„å‰ç«¯åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœ‰é”™è¯¯æˆ–æ›´å¥½çš„ç­”æ¡ˆï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œæ°´å¹³æœ‰é™ï¼Œæœ›å„ä½ä¸åæŒ‡æ•™ã€‚:ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="é¢è¯•" scheme="http://yoursite.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Fetchå­¦ä¹ ç¬”è®°</title>
    <link href="http://yoursite.com/2017/05/20/Fetch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/05/20/Fetchå­¦ä¹ ç¬”è®°/</id>
    <published>2017-05-20T15:52:22.000Z</published>
    <updated>2017-05-21T11:53:07.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚</p></blockquote><h1 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h1><blockquote><p>ä¸XMLHttpRequest(XHR)ç±»ä¼¼ï¼Œfetch()æ–¹æ³•å…è®¸ä½ å‘å‡ºAJAXè¯·æ±‚ã€‚åŒºåˆ«åœ¨äºFetch APIä½¿ç”¨Promiseï¼Œå› æ­¤æ˜¯ä¸€ç§ç®€æ´æ˜äº†çš„APIï¼Œæ¯”XMLHttpRequestæ›´åŠ ç®€å•æ˜“ç”¨ã€‚</p></blockquote><p>å¦‚æœè¿˜ä¸äº†è§£<code>Promise</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href="https://hzzly.github.io/2017/03/25/%E6%B5%85%E8%B0%88Promise/" target="_blank" rel="noopener">æµ…è°ˆPromise</a>è¿™ç¯‡åšå®¢</p><h2 id="æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰"><a href="#æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰" class="headerlink" title="æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰"></a>æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰</h2><p>åˆ›å»ºæ­¥éª¤ï¼š</p><blockquote><ul><li>åˆ›å»º<code>XMLHttpRequest</code>å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡</li><li>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>HTTP</code>è¯·æ±‚ï¼Œå¹¶æŒ‡å®šè¯¥<code>HTTP</code>è¯·æ±‚çš„æ–¹æ³•ã€<code>URL</code>åŠéªŒè¯ä¿¡æ¯</li><li>å‘é€<code>HTTP</code>è¯·æ±‚</li><li>å¤„ç†å“åº”ï¼Œè·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®</li></ul></blockquote><p>å¯ä»¥å‘ç°ï¼Œä¸»è¦çš„ä¸åŒç‚¹åœ¨äºï¼šä¼ ç»ŸAjaxä½¿ç”¨äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯Promiseå¯¹è±¡ï¼Œå¹¶ä¸”è¯·æ±‚çš„å‘èµ·å®Œå…¨ä¾èµ–äºxhrå¯¹è±¡æ‰€æä¾›çš„æ–¹æ³•ã€‚</p><p>æƒ³è¯¦ç»†äº†è§£ Ajaxçš„å°è£…å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšå®¢ï¼Œä¸€æ­¥æ­¥æ•™ä½  Ajaxçš„å°è£…ğŸ‘‰<a href="https://hzzly.github.io/2017/05/17/Ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" target="_blank" rel="noopener">Ajaxå­¦ä¹ ç¬”è®°</a></p><h2 id="fetchè¯­æ³•"><a href="#fetchè¯­æ³•" class="headerlink" title="fetchè¯­æ³•"></a>fetchè¯­æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fetch(url)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> response.json();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ ES6 çš„ <code>ç®­å¤´å‡½æ•°</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fetch(url)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <code>async/await</code> æ¥åšæœ€ç»ˆä¼˜åŒ–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">let</span> response = <span class="keyword">await</span> fetch(url);</span><br><span class="line"><span class="keyword">let</span> data = response.json();</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ await åï¼Œ<strong>å†™å¼‚æ­¥ä»£ç å°±åƒå†™åŒæ­¥ä»£ç ä¸€æ ·çˆ½</strong>ã€‚await åé¢å¯ä»¥è·Ÿ Promise å¯¹è±¡ï¼Œè¡¨ç¤ºç­‰å¾… Promise resolve() æ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦‚æœ Promise è¢« reject() æˆ–æŠ›å‡ºå¼‚å¸¸åˆ™ä¼šè¢«å¤–é¢çš„ tryâ€¦catch æ•è·ã€‚</p><p>å¦‚æœè¿˜ä¸äº†è§£<code>async/await</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href="https://hzzly.github.io/2017/05/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Async%E5%87%BD%E6%95%B0/" target="_blank" rel="noopener">es6Async</a>è¿™ç¯‡åšå®¢</p><h2 id="GETè¯·æ±‚"><a href="#GETè¯·æ±‚" class="headerlink" title="GETè¯·æ±‚"></a>GETè¯·æ±‚</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fetch(url, &#123;</span><br><span class="line">    method: <span class="string">"GET"</span>, <span class="comment">//é»˜è®¤</span></span><br><span class="line">    headers:&#123;</span><br><span class="line">    <span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</span><br></pre></td></tr></table></figure><h2 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fetch(url, &#123;</span><br><span class="line">    method: <span class="string">"POST"</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">    <span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span>,</span><br><span class="line">        <span class="string">"Content-type"</span>:<span class="string">"application:/x-www-form-urlencoded; charset=UTF-8"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body: <span class="string">"name=hzzly&amp;age=22"</span></span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯"><a href="#ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯" class="headerlink" title="ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯"></a>ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯</h2><blockquote><p>è¦ä½¿ç”¨Fetchå‘é€å¸¦æœ‰è¯¸å¦‚cookieä¹‹ç±»çš„å‡­è¯çš„è¯·æ±‚ã€‚ä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä¸­å°†credentialså±æ€§å€¼è®¾ç½®ä¸ºâ€œincludeâ€ï¼š</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(url,&#123;</span><br><span class="line">credentials: <span class="string">"include"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="å°è£…POSTè¯·æ±‚"><a href="#å°è£…POSTè¯·æ±‚" class="headerlink" title="å°è£…POSTè¯·æ±‚"></a>å°è£…POSTè¯·æ±‚</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†å¯¹è±¡æ‹¼æ¥æˆ name=hzzly&amp;age=22 çš„å­—ç¬¦ä¸²å½¢å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">params</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> result = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> obj) &#123;</span><br><span class="line">result += <span class="string">`&amp;<span class="subst">$&#123;item&#125;</span>=<span class="subst">$&#123;obj[item]&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(result) &#123;</span><br><span class="line">result = result.slice(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url, paramsObj</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> result = fetch(url, &#123;</span><br><span class="line">methods: <span class="string">'POST'</span>,</span><br><span class="line">credentials: <span class="string">"include"</span></span><br><span class="line">headers: &#123;</span><br><span class="line">    <span class="string">"Accept"</span>: <span class="string">"application/json, text/plain, */*"</span>,</span><br><span class="line">        <span class="string">"Content-type"</span>:<span class="string">"application:/x-www-form-urlencoded; charset=UTF-8"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body: params(paramsObj)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">name: <span class="string">'hzzly'</span>,</span><br><span class="line">age: <span class="number">22</span></span><br><span class="line">&#125;</span><br><span class="line">post(url, obj)</span><br><span class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> <span class="built_in">console</span>.log(data))</span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Oops, error"</span>, e))</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;fetch&quot;&gt;&lt;a href=&quot;#fetch&quot; class=&quot;headerlink
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
      <category term="Fetch" scheme="http://yoursite.com/tags/Fetch/"/>
    
  </entry>
  
</feed>
