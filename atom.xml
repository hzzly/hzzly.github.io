<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hzzly</title>
  
  <subtitle>ä¸Šå–„è‹¥æ°´ï¼Œç¬ƒå­¦æ•¦è¡Œ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-18T01:26:45.210Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>hzzly</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶</title>
    <link href="http://yoursite.com/2019/07/19/%E5%8A%A8%E6%89%8B%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%A1%B9%E7%9B%AE%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    <id>http://yoursite.com/2019/07/19/åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶/</id>
    <published>2019-07-19T13:00:49.000Z</published>
    <updated>2019-07-18T01:26:45.210Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ç­‰ç­‰ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾—å­¦ä¼šå¦‚ä½•å¼€å‘ä¸€ä¸ªNodeå‘½ä»¤è¡Œå·¥å…·ã€‚</p></blockquote><p>åœ¨å‰é¢çš„æ–‡ç«  åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒç³»åˆ— ä¸­ï¼Œç»“å°¾å¤„æˆ‘ä»¬è¯´åˆ°ï¼Œæ—¢ç„¶æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„æ­å»ºå¥½äº†ï¼Œä½†ä¸èƒ½æ¯æ¬¡å¼€å‘éƒ½æ¥æ‰‹åŠ¨å¤åˆ¶é¡¹ç›®ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¦é€šè¿‡æ‰§è¡Œå‘½ä»¤å°±ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„é¡¹ç›®ç»“æ„ã€‚</p><p>æˆ‘ä»¬çš„åˆæ­¥è®¾æƒ³æ˜¯ï¼Œåœ¨æŒ‡å®šç›®å½•ä¸‹æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ˆå‡è®¾ä¸ºcreateï¼‰<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hzzly create demo</span><br></pre></td></tr></table></figure></p><p>å°±ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•åä¸º demo çš„é¡¹ç›®ï¼Œé‡Œé¢åŒ…å«æœ‰æˆ‘ä»¬æ‰€éœ€çš„åŸºç¡€é¡¹ç›®ç»“æ„ã€‚</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir hzzly-cli</span><br><span class="line">cd hzzly-cli</span><br><span class="line">mkdir bin lib</span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure><h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add commander chalk boxen fs-extra inquirer ora update-notifier download-git-repo rimraf</span><br></pre></td></tr></table></figure><ul><li><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener">commander</a> ä¸€æ¬¾é‡é‡è½»ï¼Œè¡¨ç°åŠ›å’Œå¼ºå¤§çš„å‘½ä»¤è¡Œæ¡†æ¶</li><li><a href="https://github.com/chalk/chalk" target="_blank" rel="noopener">chalk</a> ç”¨äºæ‰“å°å½©è‰²çš„ä¿¡æ¯</li><li><a href="https://github.com/sindresorhus/boxen" target="_blank" rel="noopener">boxen</a> åˆ›å»ºå°â€œé¢æ¿â€</li><li><a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener">inquirer</a> äº¤äº’å¼å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢çš„é›†åˆ</li><li><a href="https://github.com/sindresorhus/ora" target="_blank" rel="noopener">ora</a> ç”¨äºåˆ›å»º spinnerï¼Œæ·»åŠ ä¸‹è½½æ¨¡æ¿ loading æ•ˆæœ</li><li><a href="https://github.com/yeoman/update-notifier" target="_blank" rel="noopener">update-notifier</a> ç”¨äºæ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬</li><li><a href="https://github.com/flipxfx/download-git-repo" target="_blank" rel="noopener">download-git-repo</a> ä»èŠ‚ç‚¹ä¸‹è½½å¹¶æå–gitå­˜å‚¨åº“</li></ul><h2 id="åˆæ¢"><a href="#åˆæ¢" class="headerlink" title="åˆæ¢"></a>åˆæ¢</h2><h3 id="1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬"><a href="#1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬"></a>1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="meta">#! /usr/bin/env node</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello world ~"</span>);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node bin/hzzly.js</span><br></pre></td></tr></table></figure></p><p>ä¸å‡ºæ„å¤–çš„è¯èƒ½å¤Ÿçœ‹åˆ°è¾“å‡ºäº† hello world ~ï¼Œå½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæˆ‘ä»¬æ˜¯è¦ç›´æ¥è¿è¡Œ hzzly å‘½ä»¤å°±èƒ½è¾“å‡º hello world ~</p><blockquote><p>ğŸ”¥Tip: ä¸»å…¥å£æ–‡ä»¶çš„æœ€ä¸Šæ–¹æ·»åŠ ä»£ç  #! /usr/bin/env node, è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„åº”ç”¨</p></blockquote><h3 id="2ã€æ·»åŠ å‘½ä»¤"><a href="#2ã€æ·»åŠ å‘½ä»¤" class="headerlink" title="2ã€æ·»åŠ å‘½ä»¤"></a>2ã€æ·»åŠ å‘½ä»¤</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  // ...</span><br><span class="line">  "bin": &#123;</span><br><span class="line">    "hzzly": "bin/hzzly.js"</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æŒ‡å®š hzzly å‘½ä»¤çš„æ‰§è¡Œæ–‡ä»¶ä¸º bin/hzzly.jsã€‚</p><h3 id="3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•"><a href="#3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•" class="headerlink" title="3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•"></a>3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•</h3><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install . -g</span><br><span class="line">// æˆ–</span><br><span class="line">npm link</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ hzzly å‘½ä»¤äº†ã€‚</p><p>åˆ°æ­¤ï¼Œä¸€ä¸ªæœ¬åœ°çš„ npm å‘½ä»¤è¡Œå·¥å…·å°±å·²ç»æˆåŠŸå®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®Œå–„å…·ä½“çš„åŠŸèƒ½ã€‚</p><h2 id="è„šæ‰‹æ¶å¼€å‘"><a href="#è„šæ‰‹æ¶å¼€å‘" class="headerlink" title="è„šæ‰‹æ¶å¼€å‘"></a>è„šæ‰‹æ¶å¼€å‘</h2><h3 id="1ã€æ•ˆæœ"><a href="#1ã€æ•ˆæœ" class="headerlink" title="1ã€æ•ˆæœ"></a>1ã€æ•ˆæœ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Usage: hzzly &lt;<span class="built_in">command</span>&gt; [options] &lt;app-name&gt; [folder-name]</span><br><span class="line"> </span><br><span class="line">Options:</span><br><span class="line">  -v, --version  output the version number</span><br><span class="line">  -c, --<span class="built_in">clone</span>    use git <span class="built_in">clone</span></span><br><span class="line">  -h, --<span class="built_in">help</span>     output usage information</span><br><span class="line"> </span><br><span class="line">Commands:</span><br><span class="line">  setup          run remote setup commands</span><br><span class="line">  create         generate a new project from a react template</span><br><span class="line">  check          check <span class="built_in">test</span></span><br><span class="line"> </span><br><span class="line">Examples:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># create a new react project</span></span><br><span class="line">  $ hzzly create demo</span><br></pre></td></tr></table></figure><h3 id="2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ"><a href="#2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ" class="headerlink" title="2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ"></a>2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ</h3><p>è„šæ‰‹æ¶æ˜¯å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç”Ÿæˆä¸€å¥—æ—¢å®šçš„é¡¹ç›®æ¶æ„ã€æ–‡ä»¶ã€é…ç½®ï¼Œè€Œæœ€å¸¸è§çš„åšæ³•çš„å°±æ˜¯å…ˆå†™å¥½ä¸€å¥—é¡¹ç›®æ¡†æ¶æ¨¡ç‰ˆï¼Œç­‰åˆ°è„šæ‰‹æ¶è¦ç”Ÿæˆé¡¹ç›®æ—¶ï¼Œåˆ™å°†è¿™å¥—æ¨¡ç‰ˆæ‹·è´åˆ°ç›®æ ‡ç›®å½•ä¸‹ã€‚</p><ul><li>ä¸€ç§æ˜¯ç›´æ¥æ”¾åœ¨æœ¬åœ°</li><li>å¦ä¸€ç§æ˜¯æ‰˜ç®¡åœ¨ github ä¸Š</li></ul><p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ‰˜ç®¡åœ¨ githubï¼Œç„¶åé€šè¿‡<code>download-git-repo</code>ä¸‹è½½åˆ°æŒ‡å®šç›®å½•ã€‚æˆ‘å‡†å¤‡äº†ä¸€ä¸ª<a href="https://github.com/hzzly/webpack-template" target="_blank" rel="noopener">é¡¹ç›®æ¨¡ç‰ˆ</a>ï¼Œä¹‹åå°±ä¼šç”¨å®ƒæ¥ä½œä¸ºè„šæ‰‹æ¶ç”Ÿæˆçš„é¡¹ç›®ç»“æ„ã€‚</p><h3 id="3ã€åˆå§‹Command"><a href="#3ã€åˆå§‹Command" class="headerlink" title="3ã€åˆå§‹Command"></a>3ã€åˆå§‹Command</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="keyword">const</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>);</span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">"chalk"</span>);</span><br><span class="line"><span class="keyword">const</span> pkg = <span class="built_in">require</span>(<span class="string">'../package.json'</span>);</span><br><span class="line"> </span><br><span class="line">program</span><br><span class="line">  .version(pkg.version)</span><br><span class="line">  .usage(<span class="string">'&lt;command&gt; [options] &lt;app-name&gt; [folder-name]'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .on(<span class="string">"--help"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Examples:"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      chalk.gray(<span class="string">"  # create a new react project"</span>)</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"  $ hzzly create demo"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">  &#125;);</span><br><span class="line">program.parse(process.argv)</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ <code>hzzly</code> å‘½ä»¤æ—¶å°±ä¼šæœ‰å¦‚ä¸‹æ•ˆæœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage: hzzly &lt;<span class="built_in">command</span>&gt; [options] &lt;app-name&gt;</span><br><span class="line"> </span><br><span class="line">Options:</span><br><span class="line">  -V, --version  output the version number</span><br><span class="line">  -c, --<span class="built_in">clone</span>    use git <span class="built_in">clone</span></span><br><span class="line">  -h, --<span class="built_in">help</span>     output usage information</span><br><span class="line"> </span><br><span class="line">Examples:</span><br><span class="line"> </span><br><span class="line">  <span class="comment"># create a new react project</span></span><br><span class="line">  $ hzzly create demo</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥å°±å¯ä»¥å»å®šä¹‰æˆ‘ä»¬çš„ Commands äº†ã€‚</p><h3 id="4ã€å®šä¹‰Commandå‘½ä»¤"><a href="#4ã€å®šä¹‰Commandå‘½ä»¤" class="headerlink" title="4ã€å®šä¹‰Commandå‘½ä»¤"></a>4ã€å®šä¹‰Commandå‘½ä»¤</h3><p>åœ¨ <code>program.parse(process.argv)</code> å‰é¢å»å®šä¹‰æˆ‘ä»¬çš„commandå‘½ä»¤</p><p>ä¸ºä»€ä¹ˆè¦åœ¨å®ƒå‰é¢å»å®šä¹‰å‘½ä»¤å‘¢ï¼Ÿ</p><blockquote><p>parse ç”¨äºè§£æprocess.argvï¼Œè®¾ç½®optionsä»¥åŠè§¦å‘commands</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="comment">// åŒä¸Š...</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName, option</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è·å¾—äº†å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšå“åº”çš„ä¸šåŠ¡å¤„ç†</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æŒ‡ä»¤ create åé¢è·Ÿçš„å‚æ•°å€¼: <span class="subst">$&#123;appName&#125;</span>`</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(option);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// åŒä¸Š</span></span><br></pre></td></tr></table></figure><ul><li>command å®šä¹‰å‘½ä»¤è¡ŒæŒ‡ä»¤</li><li>description å‘½ä»¤æè¿°ï¼Œå®ƒä¼šåœ¨helpé‡Œé¢å±•ç¤º</li><li>option å®šä¹‰å‚æ•°ã€‚å®ƒæ¥å—å››ä¸ªå‚æ•°ï¼Œåœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼Œå®ƒå¯è¾“å…¥çŸ­åå­— -aå’Œé•¿åå­—â€“name ,ä½¿ç”¨ | æˆ–è€… , åˆ†éš”ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œä½¿ç”¨æ—¶ï¼Œè¿™ä¸¤ä¸ªæ˜¯ç­‰ä»·çš„ï¼ŒåŒºåˆ«æ˜¯åè€…å¯ä»¥åœ¨ç¨‹åºé‡Œé€šè¿‡å›è°ƒè·å–åˆ°ï¼›ç¬¬äºŒä¸ªä¸ºæè¿°, ä¼šåœ¨ help ä¿¡æ¯é‡Œå±•ç¤ºå‡ºæ¥ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œä»–æ¥æ”¶çš„å‚æ•°ä¸ºä¸€ä¸ªstringï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‘½ä»¤è¡Œåˆ›å»ºå¤šä¸ªæ¨¡å—ï¼Œå°±éœ€è¦ä¸€ä¸ªå›è°ƒæ¥å¤„ç†ï¼›ç¬¬å››ä¸ªå‚æ•°ä¸ºé»˜è®¤å€¼</li><li>action æ³¨å†Œä¸€ä¸ª callback å‡½æ•°</li></ul><p>æ¥ä¸‹æ¥å°±æ˜¯å¤„ç†ç”Ÿæˆé¡¹ç›®æ¨¡æ¿çš„é€»è¾‘äº†ï¼Œç»§ç»­ã€‚</p><h3 id="5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘"><a href="#5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘" class="headerlink" title="5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘"></a>5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘</h3><h4 id="5-1ã€æ€è·¯"><a href="#5-1ã€æ€è·¯" class="headerlink" title="5.1ã€æ€è·¯"></a>5.1ã€æ€è·¯</h4><ul><li>1ã€è¾“å…¥ <code>vue create</code> æç¤ºè¾“å…¥é¡¹ç›®æ–‡ä»¶å¤¹åç§°</li><li>2ã€è¾“å…¥ <code>vue create .</code> è¡¨ç¤ºåœ¨å½“å‰ç›®å½•æ„å»ºé¡¹ç›®ï¼Œä½†è¦ç»™ä¸ªæç¤ºï¼ˆæ˜¯å¦ç¡®å®šè¦åœ¨æ‰€åœ¨ç›®å½•ç”Ÿæˆé¡¹ç›®ï¼Œå…¶å®ƒæ–‡ä»¶å°†è¢«åˆ é™¤ï¼‰</li><li>3ã€è¾“å…¥ <code>vue create app</code> è¡¨ç¤ºåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª <code>app</code> çš„ç›®å½•å¹¶åœ¨æ­¤ç›®å½•æ„å»ºé¡¹ç›®ï¼Œå½“æœ‰ç›¸åŒçš„ç›®å½•æ—¶ä¹Ÿè¦æç¤ºï¼ˆå½“å‰ç›®å½•å·²å­˜åœ¨ï¼Œæ˜¯å¦ç»§ç»­æ„å»ºï¼‰</li></ul><p>å¥½äº†ï¼Œæ€è·¯æœ‰äº†å°± so easy äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="comment">// åŒä¸Š...</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// // è·å¾—äº†å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšå“åº”çš„ä¸šåŠ¡å¤„ç†</span></span><br><span class="line">    <span class="comment">// console.log(`æŒ‡ä»¤ create åé¢è·Ÿçš„å‚æ•°å€¼: $&#123;appName&#125;`);</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ä¼ appName</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> appName === <span class="string">'string'</span>) &#123;</span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒ appName ç›®å½•</span></span><br><span class="line">      checkAppName(appName);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æ²¡æœ‰ä¼ appNameçš„è¯æç¤ºç”¨æˆ·è¾“å…¥</span></span><br><span class="line">      <span class="keyword">const</span> opts = [&#123;</span><br><span class="line">        type: <span class="string">'input'</span>,</span><br><span class="line">        name: <span class="string">'appName'</span>,</span><br><span class="line">        message: <span class="string">'Please enter the app name for your projectï¼š'</span>,</span><br><span class="line">        validate: <span class="function"><span class="params">appName</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!appName) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'âš ï¸  app name must not be nullï¼'</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;];</span><br><span class="line">      <span class="comment">// inquirerå‘½ä»¤è¡Œäº¤äº’å·¥å…·</span></span><br><span class="line">      inquirer.prompt(opts).then(<span class="function">(<span class="params">&#123; appName &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (appName) &#123;</span><br><span class="line">          <span class="comment">// è¾“å…¥å®Œä¹‹ååˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒ appName ç›®å½•</span></span><br><span class="line">          checkAppName(appName);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// åŒä¸Š</span></span><br></pre></td></tr></table></figure><h4 id="5-2ã€checkAppName"><a href="#5-2ã€checkAppName" class="headerlink" title="5.2ã€checkAppName"></a>5.2ã€checkAppName</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†é¡¹ç›®åç§°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAppName</span>(<span class="params">appName</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–ç»å¯¹è·¯å¾„</span></span><br><span class="line">  <span class="keyword">const</span> to = path.resolve(appName);</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦åœ¨å½“å‰ç›®å½•æ„å»º</span></span><br><span class="line">  <span class="keyword">if</span> (appName === <span class="string">'.'</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å½“å‰ç›®å½•æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    checkEmpty(to)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (checkExist(to)) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä¼ å…¥çš„ appName åœ¨å½“å‰ç›®å½•å·²å­˜åœ¨</span></span><br><span class="line">    inquirer.prompt([&#123;</span><br><span class="line">      type: <span class="string">'confirm'</span>,</span><br><span class="line">      message: <span class="string">'Target directory exists. Continue?'</span>,</span><br><span class="line">      name: <span class="string">'ok'</span>,</span><br><span class="line">    &#125;]).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (answers.ok) &#123;</span><br><span class="line">        <span class="comment">// å›ç­”æ˜¯çš„è¯åˆ é™¤å·²å­˜åœ¨çš„ç›®å½•å¹¶ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line">        rm(appName)</span><br><span class="line">        downloadAndGenerate(REACT_TPL, to, appName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä»¥ä¸Šæƒ…å†µéƒ½ä¸æ˜¯å°±ç›´æ¥ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line">    downloadAndGenerate(REACT_TPL, to, appName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-3ã€checkEmpty"><a href="#5-3ã€checkEmpty" class="headerlink" title="5.3ã€checkEmpty"></a>5.3ã€checkEmpty</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­ç›®å½•æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkEmpty</span>(<span class="params">path, appName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dirFiles = fs.readdirSync(path);</span><br><span class="line">  <span class="keyword">if</span> (dirFiles.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    inquirer.prompt([&#123;</span><br><span class="line">      type: <span class="string">'confirm'</span>,</span><br><span class="line">      name: <span class="string">'ok'</span>,</span><br><span class="line">      message: <span class="string">'Target directory is not empty and will overwritten. Continue?'</span>,</span><br><span class="line">    &#125;]).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (answers.ok) &#123;</span><br><span class="line">        fs.emptyDirSync(path)</span><br><span class="line">        downloadAndGenerate(REACT_TPL, path, appName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    downloadAndGenerate(REACT_TPL, path, appName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-4ã€checkExist"><a href="#5-4ã€checkExist" class="headerlink" title="5.4ã€checkExist"></a>5.4ã€checkExist</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­ç›®å½•æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkExist</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fs.pathExistsSync(path);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-5ã€downloadAndGenerate"><a href="#5-5ã€downloadAndGenerate" class="headerlink" title="5.5ã€downloadAndGenerate"></a>5.5ã€downloadAndGenerate</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadAndGenerate</span>(<span class="params">template, tmp</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆä¸‹è½½loading</span></span><br><span class="line">  <span class="keyword">const</span> spinner = ora(<span class="string">"downloading template"</span>);</span><br><span class="line">  <span class="keyword">const</span> clone = program.clone || <span class="literal">false</span>;</span><br><span class="line">  spinner.start();</span><br><span class="line">  download(template, tmp, &#123; clone &#125;, err =&gt; &#123;</span><br><span class="line">    spinner.stop();</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(</span><br><span class="line">        chalk.red(</span><br><span class="line">        <span class="string">"Failed to download repo "</span> + template + <span class="string">": "</span> + err.message.trim()</span><br><span class="line">        )</span><br><span class="line">      );</span><br><span class="line">      process.exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸‹è½½å®Œæˆåæç¤ºç”¨æˆ·æ“ä½œ</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`To get started:\n\n  cd <span class="subst">$&#123;tmp&#125;</span>\n  npm install\n  npm run dev\n\nDocumentation can be found at https://github.com/hzzly`</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™ï¼Œå¼€å‘é˜¶æ®µå°±å¯å‘Šä¸€æ®µè½äº†ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ <code>hzzly create &lt;app-name&gt;</code> å‘½ä»¤è¡Œæ„å»ºé¡¹ç›®ç›®å½•çš„æ­¥éª¤ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å‘å¸ƒåˆ°npmç»™å…¶ä»–äººä½¿ç”¨ã€‚</p><h2 id="å‘å¸ƒåˆ°npm"><a href="#å‘å¸ƒåˆ°npm" class="headerlink" title="å‘å¸ƒåˆ°npm"></a>å‘å¸ƒåˆ°npm</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¼€å‘çš„ hzzly è¿˜æ˜¯åœ¨æœ¬åœ°çš„ï¼Œç°åœ¨å°±è¯¥å°†å…¶å‘å¸ƒåˆ° <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a> ä¸Šäº†ã€‚</p><p>1ã€é¦–å…ˆ <a href="https://www.npmjs.com/signup" target="_blank" rel="noopener">æ³¨å†Œä¸€ä¸ªè´¦å·</a>ã€‚</p><p>2ã€åœ¨ç»ˆç«¯æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm login</span><br></pre></td></tr></table></figure><p>è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±ä¾¿å¯å°†æœ¬åœ°æœºå™¨ä¸ npm è¿æ¥èµ·æ¥äº†ã€‚</p><p>3ã€ä¿®æ”¹package.json<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // ...</span><br><span class="line">  "files": [</span><br><span class="line">    <span class="string">"bin/"</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ·»åŠ  files å±æ€§æŒ‡å®šå“ªäº›æ–‡ä»¶æäº¤åˆ° npmï¼Œè¿™æ ·å¯ä»¥å‡å°‘åŒ…çš„å¤§å°ã€‚</p><p>4ã€å‘å¸ƒ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure></p><h3 id="æ›´æ–°åŒ…"><a href="#æ›´æ–°åŒ…" class="headerlink" title="æ›´æ–°åŒ…"></a>æ›´æ–°åŒ…</h3><p>é¦–å…ˆä¿®æ”¹ package.json é…ç½®æ–‡ä»¶ä¸­çš„ version å­—æ®µï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä» 1.0.0 æ”¹æˆ 1.0.1ï¼ˆåªèƒ½å¤§äºå½“å‰ç‰ˆæœ¬ï¼‰ï¼Œç„¶åä¿®æ”¹è„šæ‰‹æ¶ï¼Œæœ€åå†æ¬¡<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure></p><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><h3 id="1ã€æ·»åŠ å°é¢æ¿"><a href="#1ã€æ·»åŠ å°é¢æ¿" class="headerlink" title="1ã€æ·»åŠ å°é¢æ¿"></a>1ã€æ·»åŠ å°é¢æ¿</h3><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli2.png" alt="boxen"><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> boxen = <span class="built_in">require</span>(<span class="string">'boxen'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> BOXEN_OPTS = &#123;</span><br><span class="line">  padding: <span class="number">1</span>,</span><br><span class="line">  margin: <span class="number">1</span>,</span><br><span class="line">  align: <span class="string">'center'</span>,</span><br><span class="line">  borderColor: <span class="string">'#678491'</span>,</span><br><span class="line">  borderStyle: <span class="string">'round'</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializing</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> messages = [];</span><br><span class="line">  messages.push(</span><br><span class="line">    <span class="string">`ğŸ”¥  Welcome to use hzzly-cli <span class="subst">$&#123;chalk.grey(<span class="string">`v<span class="subst">$&#123;pkg.version&#125;</span>`</span>)&#125;</span>`</span></span><br><span class="line">  );</span><br><span class="line">  messages.push(</span><br><span class="line">    chalk.grey(<span class="string">'https://github.com/hzzly/hzzly-cli'</span>)</span><br><span class="line">  );</span><br><span class="line">  messages.push(</span><br><span class="line">    chalk.grey(<span class="string">'https://www.npmjs.com/package/hzzly-cli'</span>)</span><br><span class="line">  )</span><br><span class="line">  <span class="built_in">console</span>.log(boxen(messages.join(<span class="string">'\n'</span>), BOXEN_OPTS));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å°é¢æ¿</span></span><br><span class="line">    initializing(pkg)</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></p><h3 id="2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬"><a href="#2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬" class="headerlink" title="2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬"></a>2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> updateNotifier = <span class="built_in">require</span>(<span class="string">'update-notifier'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkVersion</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Checking your hzzly-cli version...'</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> notifier = updateNotifier(&#123;</span><br><span class="line">    pkg,</span><br><span class="line">    updateCheckInterval: <span class="number">0</span></span><br><span class="line">  &#125;);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> update = notifier.update;</span><br><span class="line">  <span class="keyword">if</span> (update) &#123;</span><br><span class="line">    <span class="keyword">const</span> messages = [];</span><br><span class="line">    messages.push(<span class="string">`Update available <span class="subst">$&#123;chalk.grey(update.current)&#125;</span> â†’ <span class="subst">$&#123;chalk.green(update.latest)&#125;</span>`</span>)</span><br><span class="line">    messages.push(<span class="string">`Run <span class="subst">$&#123;chalk.cyan(<span class="string">`npm i -g <span class="subst">$&#123;pkg.name&#125;</span>`</span>)&#125;</span> to update`</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(boxen(messages.join(<span class="string">'\n'</span>), &#123; ...BOXEN_OPTS, <span class="attr">borderColor</span>: <span class="string">'#fae191'</span> &#125;));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Finish checking your hzzly-cli. CAUTION â†‘â†‘'</span>, <span class="string">'âš ï¸'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Finish checking your hzzly-cli. OK'</span>, chalk.green(<span class="string">'âœ”'</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializing</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  checkVersion(pkg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€README-mdæ·»åŠ å¾½æ ‡"><a href="#3ã€README-mdæ·»åŠ å¾½æ ‡" class="headerlink" title="3ã€README.mdæ·»åŠ å¾½æ ‡"></a>3ã€README.mdæ·»åŠ å¾½æ ‡</h3><p>æ¨èè‡ªåŠ¨ç”Ÿæˆå¾½æ ‡ç½‘ç«™ <a href="https://shields.io/" target="_blank" rel="noopener">shields.io</a></p><p><img src="https://img.shields.io/npm/v/hzzly-cli.svg" alt="NPM version"></p><p><img src="https://img.shields.io/npm/l/hzzly-cli.svg" alt="MIT Licence"></p><h2 id="æ·±å…¥inquirer-js"><a href="#æ·±å…¥inquirer-js" class="headerlink" title="æ·±å…¥inquirer.js"></a>æ·±å…¥inquirer.js</h2><p>åˆ›å»ºè„šæ‰‹æ¶çš„æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°å¾ˆå¤šè„šæ‰‹æ¶éƒ½éœ€è¦æˆ‘ä»¬å’Œå‘½ä»¤è¡Œé¢‘ç¹äº¤äº’ï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨npm initçš„æ—¶å€™ä¸€æ ·ï¼Œé‚£ä¹ˆæ˜¯å¦‚ä½•å®ç°å’Œå‘½ä»¤è¡Œäº¤äº’çš„å‘¢ï¼Ÿæ­¤æ—¶inquirer.jsé—ªäº®ç™»åœºã€‚</p><h3 id="1ã€åŸºæœ¬ç”¨æ³•"><a href="#1ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="1ã€åŸºæœ¬ç”¨æ³•"></a>1ã€åŸºæœ¬ç”¨æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>);</span><br><span class="line">inquirer.prompt([<span class="comment">/* opts */</span>])</span><br><span class="line">  .then(<span class="function">(<span class="params">answers</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Use answers for... whatever!! </span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h3 id="2ã€å‚æ•°è¯¦è§£"><a href="#2ã€å‚æ•°è¯¦è§£" class="headerlink" title="2ã€å‚æ•°è¯¦è§£"></a>2ã€å‚æ•°è¯¦è§£</h3><ul><li>typeï¼šè¡¨ç¤ºæé—®çš„ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šinput, confirm, list, rawlist, expand, checkbox, password, editorï¼›</li><li>name: å­˜å‚¨å½“å‰é—®é¢˜å›ç­”çš„å˜é‡ï¼›</li><li>messageï¼šé—®é¢˜çš„æè¿°ï¼›</li><li>defaultï¼šé»˜è®¤å€¼ï¼›</li><li>choicesï¼šåˆ—è¡¨é€‰é¡¹ï¼Œåœ¨æŸäº›typeä¸‹å¯ç”¨ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªåˆ†éš”ç¬¦(separator)ï¼›</li><li>validateï¼šå¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œæ ¡éªŒï¼›</li><li>filterï¼šå¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œè¿‡æ»¤å¤„ç†ï¼Œè¿”å›å¤„ç†åçš„å€¼ï¼›</li><li>transformerï¼šå¯¹ç”¨æˆ·å›ç­”çš„æ˜¾ç¤ºæ•ˆæœè¿›è¡Œå¤„ç†(å¦‚ï¼šä¿®æ”¹å›ç­”çš„å­—ä½“æˆ–èƒŒæ™¯é¢œè‰²)ï¼Œä½†ä¸ä¼šå½±å“æœ€ç»ˆçš„ç­”æ¡ˆçš„å†…å®¹ï¼›</li><li>whenï¼šæ ¹æ®å‰é¢é—®é¢˜çš„å›ç­”ï¼Œåˆ¤æ–­å½“å‰é—®é¢˜æ˜¯å¦éœ€è¦è¢«å›ç­”ï¼›</li><li>pageSizeï¼šä¿®æ”¹æŸäº›typeç±»å‹ä¸‹çš„æ¸²æŸ“è¡Œæ•°ï¼›</li><li>prefixï¼šä¿®æ”¹messageé»˜è®¤å‰ç¼€ï¼›</li><li>suffixï¼šä¿®æ”¹messageé»˜è®¤åç¼€ã€‚</li></ul><h3 id="3ã€å®ä¾‹"><a href="#3ã€å®ä¾‹" class="headerlink" title="3ã€å®ä¾‹"></a>3ã€å®ä¾‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> opts = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    message: <span class="string">'å§“å'</span>,</span><br><span class="line">    name: <span class="string">'name'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    message: <span class="string">'æ‰‹æœºå·'</span>,</span><br><span class="line">    name: <span class="string">'phone'</span>,</span><br><span class="line">    validate: <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (val.match(<span class="regexp">/\d&#123;11&#125;/g</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'è¯·è¾“å…¥11ä½æ•°å­—'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦å‚åŠ æœ¬æ¬¡è€ƒæ ¸ï¼Ÿ'</span>,</span><br><span class="line">    name: <span class="string">'assess'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦åŒæ„æœ¬æ¬¡è€ƒæ ¸é¡»çŸ¥ï¼Ÿ'</span>,</span><br><span class="line">    name: <span class="string">'notice'</span>,</span><br><span class="line">    when: <span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> answers.assess</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'list'</span>,</span><br><span class="line">    message: <span class="string">'æ¬¢è¿æ¥åˆ°æœ¬æ¬¡è€ƒæ ¸ï¼Œè¯·é€‰æ‹©è¯­è¨€ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'eductionBg'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">"js"</span>,</span><br><span class="line">      <span class="string">"java"</span>,</span><br><span class="line">      <span class="string">"php"</span></span><br><span class="line">    ],</span><br><span class="line">    filter: <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å°†é€‰æ‹©çš„å†…å®¹åé¢åŠ è¯­è¨€</span></span><br><span class="line">      <span class="keyword">return</span> val + <span class="string">'è¯­è¨€'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'rawlist'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢é€›çš„ç¤¾åŒºï¼š'</span>,</span><br><span class="line">    name: <span class="string">'game'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">"æ˜é‡‘"</span>,</span><br><span class="line">      <span class="string">"github"</span>,</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'expand'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢çš„æ°´æœï¼š'</span>,</span><br><span class="line">    name: <span class="string">'fruit'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"a"</span>,</span><br><span class="line">        name: <span class="string">"Apple"</span>,</span><br><span class="line">        value: <span class="string">"apple"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"O"</span>,</span><br><span class="line">        name: <span class="string">"Orange"</span>,</span><br><span class="line">        value: <span class="string">"orange"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"p"</span>,</span><br><span class="line">        name: <span class="string">"Pear"</span>,</span><br><span class="line">        value: <span class="string">"pear"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'checkbox'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'color'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"red"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">new</span> inquirer.Separator(), <span class="comment">// æ·»åŠ åˆ†éš”ç¬¦</span></span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"blur"</span>,</span><br><span class="line">        checked: <span class="literal">true</span> <span class="comment">// é»˜è®¤é€‰ä¸­</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"green"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">new</span> inquirer.Separator(<span class="string">"--- åˆ†éš”ç¬¦ ---"</span>), <span class="comment">// è‡ªå®šä¹‰åˆ†éš”ç¬¦</span></span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"yellow"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'password'</span>,</span><br><span class="line">    message: <span class="string">'è¯·è¾“å…¥ä½ çš„å¯†ç ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'pwd'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">inquirer.prompt(opts).then(<span class="function"><span class="params">answers</span>=&gt;</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(answers);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli.png" alt="inquirer"></p><p>ä»£ç å·²ä¸Šä¼ è‡³æˆ‘çš„<a href="https://github.com/hzzly/hzzly-cli" target="_blank" rel="noopener">GitHub</a>ï¼Œæ¬¢è¿ Starã€Fork</p><h2 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h2><p><a href="https://segmentfault.com/a/1190000002918295" target="_blank" rel="noopener">Nodejs åˆ¶ä½œå‘½ä»¤è¡Œå·¥å…·</a></p><p><a href="https://juejin.im/post/5cc160b2f265da03452bdf5b" target="_blank" rel="noopener">ç”¨ä¸€æ¬¡å°±ä¼šçˆ±ä¸Šçš„cliå·¥å…·å¼€å‘</a></p><p><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener">commander.js</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿ
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="è„šæ‰‹æ¶" scheme="http://yoursite.com/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸‰</title>
    <link href="http://yoursite.com/2019/07/15/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%89/"/>
    <id>http://yoursite.com/2019/07/15/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸‰/</id>
    <published>2019-07-15T01:23:52.000Z</published>
    <updated>2019-07-18T01:32:35.696Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><ul><li>webpack 4</li><li>Babel 7</li></ul><blockquote><p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä»£ç æˆ–è€…å¼€å‘æ•ˆç‡è¿›è¡Œä¼˜åŒ–</p></blockquote><h2 id="1ã€ESLintè§„èŒƒ"><a href="#1ã€ESLintè§„èŒƒ" class="headerlink" title="1ã€ESLintè§„èŒƒ"></a>1ã€ESLintè§„èŒƒ</h2><blockquote><p>è§„èŒƒä»£ç æœ‰åˆ©äºå›¢é˜Ÿåä½œ</p></blockquote><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add eslint babel-eslint eslint-config-airbnb eslint-config-standard eslint-loader eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-node eslint-plugin-promise eslint-plugin-react eslint-plugin-standard -D</span><br></pre></td></tr></table></figure><h3 id="eslintrc"><a href="#eslintrc" class="headerlink" title=".eslintrc"></a>.eslintrc</h3><p>æ–°å»º.eslintrcæ–‡ä»¶ï¼ˆé…ç½®ESLintï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"parser"</span>: <span class="string">"babel-eslint"</span>,</span><br><span class="line">  <span class="attr">"env"</span>: &#123;</span><br><span class="line">    <span class="attr">"browser"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"es6"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"node"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"parserOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"ecmaVersion"</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">"sourceType"</span>: <span class="string">"module"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"extends"</span>: [<span class="string">"airbnb"</span>, <span class="string">"prettier"</span>],</span><br><span class="line">  <span class="attr">"rules"</span>: &#123;</span><br><span class="line">    <span class="attr">"generator-star-spacing"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"consistent-return"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/forbid-prop-types"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/jsx-filename-extension"</span>: [<span class="number">1</span>, &#123; <span class="attr">"extensions"</span>: [<span class="string">".js"</span>] &#125;],</span><br><span class="line">    <span class="attr">"global-require"</span>: [<span class="number">1</span>],</span><br><span class="line">    <span class="attr">"import/prefer-default-export"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/jsx-no-bind"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/prop-types"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/prefer-stateless-function"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"react/jsx-wrap-multilines"</span>: [</span><br><span class="line">      <span class="string">"error"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"declaration"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"assignment"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"return"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"arrow"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"condition"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"logical"</span>: <span class="string">"parens-new-line"</span>,</span><br><span class="line">        <span class="attr">"prop"</span>: <span class="string">"ignore"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"no-else-return"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-restricted-syntax"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"import/no-extraneous-dependencies"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-use-before-define"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"jsx-a11y/no-static-element-interactions"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"jsx-a11y/no-noninteractive-element-interactions"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"jsx-a11y/click-events-have-key-events"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"jsx-a11y/anchor-is-valid"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-nested-ternary"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"arrow-body-style"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"linebreak-style"</span>: [<span class="string">"error"</span>, <span class="string">"unix"</span>],</span><br><span class="line">    <span class="attr">"import/extensions"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-bitwise"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-cond-assign"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"import/no-unresolved"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"comma-dangle"</span>: [</span><br><span class="line">      <span class="string">"error"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"arrays"</span>: <span class="string">"always-multiline"</span>,</span><br><span class="line">        <span class="attr">"objects"</span>: <span class="string">"always-multiline"</span>,</span><br><span class="line">        <span class="attr">"imports"</span>: <span class="string">"always-multiline"</span>,</span><br><span class="line">        <span class="attr">"exports"</span>: <span class="string">"always-multiline"</span>,</span><br><span class="line">        <span class="attr">"functions"</span>: <span class="string">"ignore"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"object-curly-newline"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"function-paren-newline"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"no-restricted-globals"</span>: [<span class="number">0</span>],</span><br><span class="line">    <span class="attr">"require-yield"</span>: [<span class="number">1</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="eslintignore"><a href="#eslintignore" class="headerlink" title=".eslintignore"></a>.eslintignore</h3><p>æ–°å»º.eslintignoreæ–‡ä»¶ï¼ˆESLintå¿½ç•¥ç‰¹å®šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">build<span class="comment">/*.js</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘å‰ç½®æ£€éªŒ"><a href="#ç¼–è¯‘å‰ç½®æ£€éªŒ" class="headerlink" title="ç¼–è¯‘å‰ç½®æ£€éªŒ"></a>ç¼–è¯‘å‰ç½®æ£€éªŒ</h3><p>åœ¨æ‰§è¡Œç¼–è¯‘ä¹‹å‰å»æ‰§è¡Œeslint-loaderæ£€æŸ¥ä»£ç è§„èŒƒï¼Œæœ‰æŠ¥é”™å°±ä¸æ‰§è¡Œç¼–è¯‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        enforce: <span class="string">'pre'</span>,</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: <span class="string">'eslint-loader'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2ã€ç¼–è¾‘å™¨é…ç½®"><a href="#2ã€ç¼–è¾‘å™¨é…ç½®" class="headerlink" title="2ã€ç¼–è¾‘å™¨é…ç½®"></a>2ã€ç¼–è¾‘å™¨é…ç½®</h2><p>EditorConfigåŒ…å«ä¸€ä¸ªç”¨äºå®šä¹‰ä»£ç æ ¼å¼çš„æ–‡ä»¶å’Œä¸€æ‰¹ç¼–è¾‘å™¨æ’ä»¶ï¼Œè¿™äº›æ’ä»¶æ˜¯è®©ç¼–è¾‘å™¨è¯»å–é…ç½®æ–‡ä»¶å¹¶ä»¥æ­¤æ¥æ ¼å¼åŒ–ä»£ç ã€‚</p><h3 id="editorconfig"><a href="#editorconfig" class="headerlink" title=".editorconfig"></a>.editorconfig</h3><p>æ–°å»º.editorconfigæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># http://editorconfig.org</span><br><span class="line">root = <span class="literal">true</span></span><br><span class="line"> </span><br><span class="line">[*]</span><br><span class="line">indent_style = space</span><br><span class="line">indent_size = <span class="number">2</span></span><br><span class="line">end_of_line = lf</span><br><span class="line">charset = utf<span class="number">-8</span></span><br><span class="line">trim_trailing_whitespace = <span class="literal">true</span></span><br><span class="line">insert_final_newline = <span class="literal">true</span></span><br><span class="line"> </span><br><span class="line">[*.md]</span><br><span class="line">trim_trailing_whitespace = <span class="literal">false</span></span><br><span class="line"> </span><br><span class="line">[Makefile]</span><br><span class="line">indent_style = tab</span><br></pre></td></tr></table></figure><h2 id="3ã€cross-env"><a href="#3ã€cross-env" class="headerlink" title="3ã€cross-env"></a>3ã€cross-env</h2><p>å› ä¸ºwindowsä¸æ”¯æŒNODE_ENV=developmentçš„è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œæ‰€ä»¥ä½¿ç”¨æˆ‘ä»¬å¯ä»¥cross-envè®¾ç½®è·¨å¹³å°çš„ç¯å¢ƒå˜é‡çš„è„šæœ¬ã€‚</p><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add cross-env -D</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">"scripts": &#123;</span><br><span class="line">  "build": "cross-env NODE_ENV=production webpack --config ./build/webpack.config.js"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <code>process.env.NODE_ENV</code> æ¥è·å–ç¯å¢ƒå˜é‡ç»§ç»­æ“ä½œäº†ã€‚</p><h2 id="4ã€ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#4ã€ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="4ã€ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–"></a>4ã€ä»£ç è‡ªåŠ¨æ ¼å¼åŒ–</h2><p>ä½¿ç”¨husky, prettier, eslintåœ¨ä»£ç æäº¤æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œå¹¶æ£€æŸ¥ä»£ç ã€‚</p><ul><li>huskyã€‚ä¸€ä¸ªgité’©å­å·¥å…·ï¼Œè¿™é‡Œä¸»è¦ç”¨pre-commité’©å­ã€‚é€šä¿—ç‚¹è®²å°±æ˜¯huskyå¯ä»¥åœ¨ä½ commitä¹‹å‰å¸®ä½ åšä¸€äº›äº‹æƒ…ã€‚</li><li>prettierã€‚ ä¸€ä¸ªå¾ˆæµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œä½ å¾ˆå®¹æ˜“åœ¨ç¼–è¾‘å™¨æ‰¾åˆ°å®ç°å®ƒçš„å„ç§æ’ä»¶ï¼Œåƒvscode,atom,webstoméƒ½å¯ä»¥æ‰¾åˆ°ã€‚è¿™é‡Œç”¨å®ƒåœ¨ä»£ç æäº¤å‰åšä»£ç æ ¼å¼åŒ–ã€‚</li><li>eslintã€‚ ä»£ç æ£€æŸ¥å·¥å…·ã€‚eslintä¹Ÿå¯ä»¥è´Ÿè´£ä¸€éƒ¨åˆ†ä»£ç æ ¼å¼æ£€æŸ¥çš„å·¥ä½œï¼Œè®©å…¶è´Ÿè´£ä»£ç é”™è¯¯æ£€æŸ¥ã€‚</li><li>lint-stagedã€‚åœ¨ä½ æäº¤çš„æ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„æŒ‡ä»¤ã€‚</li></ul><h3 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><h4 id="å®‰è£…eslint"><a href="#å®‰è£…eslint" class="headerlink" title="å®‰è£…eslint"></a>å®‰è£…eslint</h4><p>å¦‚æœä¸Šé¢å·²ç»å®‰è£…è¿‡äº†å°±ä¸ç”¨å†æ¬¡å®‰è£…äº†ï¼Œæ²¡æœ‰å®‰è£…å°±æŒ‰ç…§ä¸Šé¢ <code>ESLintè§„èŒƒ</code> æ­¥éª¤å®‰è£…å¥½ã€‚</p><h4 id="å®‰è£…prettier"><a href="#å®‰è£…prettier" class="headerlink" title="å®‰è£…prettier"></a>å®‰è£…prettier</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add prettier eslint-plugin-prettier eslint-config-prettier -D</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…huskyï¼Œlint-staged"><a href="#å®‰è£…huskyï¼Œlint-staged" class="headerlink" title="å®‰è£…huskyï¼Œlint-staged"></a>å®‰è£…huskyï¼Œlint-staged</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add husky lint-staged pretty-quick -D</span><br></pre></td></tr></table></figure><h3 id="prettieré…ç½®"><a href="#prettieré…ç½®" class="headerlink" title="prettieré…ç½®"></a>prettieré…ç½®</h3><p>åœ¨eslintrc.jsonä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"extends"</span>: [<span class="string">"airbnb"</span>, <span class="string">"prettier"</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º.prettierrcæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;singleQuote&quot;: true,</span><br><span class="line">  &quot;trailingComma&quot;: &quot;es5&quot;,</span><br><span class="line">  &quot;printWidth&quot;: 100,</span><br><span class="line">  &quot;overrides&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;files&quot;: &quot;.prettierrc&quot;,</span><br><span class="line">      &quot;options&quot;: &#123; &quot;parser&quot;: &quot;json&quot; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®.eslintignoreæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">build<span class="comment">/*.js</span></span><br></pre></td></tr></table></figure><h3 id="huskyé’©å­é…ç½®"><a href="#huskyé’©å­é…ç½®" class="headerlink" title="huskyé’©å­é…ç½®"></a>huskyé’©å­é…ç½®</h3><p>huskyä¼šåœ¨ä½ æäº¤å‰ï¼Œè°ƒç”¨pre-commité’©å­ï¼Œæ‰§è¡Œlint-stagedï¼Œå¦‚æœä»£ç ä¸ç¬¦åˆprettieré…ç½®çš„è§„åˆ™ï¼Œä¼šè¿›è¡Œæ ¼å¼åŒ–ï¼›ç„¶åå†ç”¨eslintçš„è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæœ‰ä¸ç¬¦åˆè§„åˆ™ä¸”æ— æ³•è‡ªåŠ¨ä¿®å¤çš„ï¼Œå°±ä¼šåœæ­¢æ­¤æ¬¡æäº¤ã€‚å¦‚æœéƒ½é€šè¿‡äº†å°±ä¼šè®²ä»£ç æ·»åŠ åˆ°stageï¼Œç„¶åcommitã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  // ...</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    // ...</span><br><span class="line">    "lint-staged": "lint-staged",</span><br><span class="line">    "lint-staged:js": "eslint --ext .js --fix",</span><br><span class="line">    "prettier": "prettier --write ./src/**/**/**/*"</span><br><span class="line">  &#125;,</span><br><span class="line">  "husky": &#123;</span><br><span class="line">    "hooks": &#123;</span><br><span class="line">      "pre-commit": "lint-staged"</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "lint-staged": &#123;</span><br><span class="line">    "linters": &#123;</span><br><span class="line">      "**/*.&#123;js,jsx,scss&#125;": [</span><br><span class="line">        "prettier --write",</span><br><span class="line">        <span class="string">"git add"</span></span><br><span class="line">      ],</span><br><span class="line">      "**/*.&#123;js,jsx&#125;": "npm run lint-staged:js",</span><br><span class="line">      "**/*.scss": "stylelint --syntax=scss"</span><br><span class="line">    &#125;,</span><br><span class="line">    "ignore": [</span><br><span class="line">      <span class="string">"**/dist/public/*"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ï¼Œæˆ‘ä»¬çš„reactå¼€å‘ç¯å¢ƒå¯¹äºæ‰“åŒ…ã€ä»£ç è§„èŒƒä»¥åŠæå‡å¼€å‘æ•ˆç‡çš„ä¸€äº›é…ç½®æˆ‘ä»¬éƒ½å…·å¤‡äº†ï¼Œå¯ä»¥å¼€å¿ƒçš„å†™æˆ‘ä»¬çš„reactäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™äº›é…ç½®å•ç‹¬å®Œå–„æˆä¸€ä¸ªåº“ï¼Œé€šè¿‡æˆ‘ä»¬çš„ cli è„šæ‰‹æ¶æ‹‰å–ç›´æ¥åŸºäºå®ƒæ¥å¼€å‘ï¼ŒLetâ€™s goè„šæ‰‹æ¶å¼€å‘â€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#ç‰ˆæœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç‰ˆæœ¬&quot;&gt;&lt;/a&gt;ç‰ˆæœ¬&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;webpack 4&lt;/li&gt;
&lt;li&gt;Babel 7&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä»£ç 
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="webpack" scheme="http://yoursite.com/tags/webpack/"/>
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ</title>
    <link href="http://yoursite.com/2019/07/12/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BA%8C/"/>
    <id>http://yoursite.com/2019/07/12/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ/</id>
    <published>2019-07-12T01:31:10.000Z</published>
    <updated>2019-07-12T02:32:43.027Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><ul><li>webpack 4</li><li>Babel 7</li></ul><blockquote><p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡çš„webpacké…ç½®è¿›è¡Œä¼˜åŒ–</p></blockquote><h3 id="å¿«é€Ÿæµè§ˆï¼š"><a href="#å¿«é€Ÿæµè§ˆï¼š" class="headerlink" title="å¿«é€Ÿæµè§ˆï¼š"></a>å¿«é€Ÿæµè§ˆï¼š</h3><ul><li><a href="http://hjingren.cn/2019/07/11/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%80/" target="_blank" rel="noopener">webpackåŸºç¡€ç¯‡</a></li></ul><h2 id="webpackä¼˜åŒ–"><a href="#webpackä¼˜åŒ–" class="headerlink" title="webpackä¼˜åŒ–"></a>webpackä¼˜åŒ–</h2><h3 id="1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰"><a href="#1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰" class="headerlink" title="1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰"></a>1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰</h3><p>ä¸ºæ¯ä¸ªå¼•å…¥ CSS çš„ JS æ–‡ä»¶åˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œæé«˜é¦–é¡µåŠ è½½é€Ÿåº¦</p><ul><li>æŠŠ style-loader æ›¿æ¢æˆ MiniCssExtractPlugin.loader</li><li>æ–°å¢ plugins</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">// 'style-loader',</span></span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          <span class="comment">// ...åŒä¸Š</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'[name].[hash].css'</span>,</span><br><span class="line">      chunkFilename: <span class="string">'[id].[hash].css'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰"><a href="#2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰" class="headerlink" title="2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰"></a>2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> OptimizeCssAssetsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'optimize-css-assets-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> OptimizeCssAssetsWebpackPlugin(),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€å‹ç¼©JS"><a href="#3ã€å‹ç¼©JS" class="headerlink" title="3ã€å‹ç¼©JS"></a>3ã€å‹ç¼©JS</h3><p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ ä»£ç å°±ä¼šè‡ªåŠ¨å‹ç¼©<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mode: <span class="string">'production'</span>,</span><br></pre></td></tr></table></figure></p><h3 id="4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰"><a href="#4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰" class="headerlink" title="4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰"></a>4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰</h3><p>ä»£ç åˆ†å‰²ï¼Œå•ç‹¬æ‰“åŒ…ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…æ‰€æœ‰é¡µé¢åªç”Ÿæˆä¸€ä¸ªjsæ–‡ä»¶ï¼Œé¦–å±åŠ è½½å¾ˆæ…¢çš„æƒ…å†µã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>,   <span class="comment">// include all types of chunks</span></span><br><span class="line">      <span class="comment">// minSize: 30000,   // å¼•å…¥çš„åº“å¤§äº30kbæ—¶æ‰ä¼šåšä»£ç åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// minChunks: 1,     // ä¸€ä¸ªæ¨¡å—è‡³å°‘è¢«ç”¨äº†1æ¬¡æ‰ä¼šè¢«åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// maxAsyncRequests: 5,     // åŒæ—¶å¼‚æ­¥åŠ è½½çš„æ¨¡å—æ•°æœ€å¤šæ˜¯5ä¸ªï¼Œå¦‚æœè¶…è¿‡5ä¸ªåˆ™ä¸åšä»£ç åˆ†å‰²</span></span><br><span class="line">      <span class="comment">// maxInitialRequests: 3,   // å…¥å£æ–‡ä»¶è¿›è¡ŒåŠ è½½æ—¶ï¼Œå¼•å…¥çš„åº“æœ€å¤šåˆ†å‰²å‡º3ä¸ªjsæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// automaticNameDelimiter: '~',  // ç”Ÿæˆæ–‡ä»¶åçš„æ–‡ä»¶é“¾æ¥ç¬¦</span></span><br><span class="line">      <span class="comment">// name: true,   // å¼€å¯è‡ªå®šä¹‰åç§°æ•ˆæœ</span></span><br><span class="line">      <span class="comment">// cacheGroups: &#123;  // åˆ¤æ–­åˆ†å‰²å‡ºçš„ä»£ç æ”¾åˆ°é‚£é‡Œå»</span></span><br><span class="line">      <span class="comment">//   vendors: &#123;   // é…åˆchunksï¼šâ€˜allâ€™ä½¿ç”¨ï¼Œè¡¨ç¤ºå¦‚æœå¼•å…¥çš„åº“æ˜¯åœ¨node-modulesä¸­ï¼Œé‚£å°±ä¼šæŠŠè¿™ä¸ªåº“åˆ†å‰²å‡ºæ¥å¹¶èµ·åä¸ºvendors.js</span></span><br><span class="line">      <span class="comment">//     test: /[\/]node_modules[\/]/,</span></span><br><span class="line">      <span class="comment">//     priority: -10,</span></span><br><span class="line">      <span class="comment">//     filename: 'vendors.js'</span></span><br><span class="line">      <span class="comment">//   &#125;,</span></span><br><span class="line">      <span class="comment">//   default: &#123;  // ä¸ºénode-modulesåº“ä¸­åˆ†å‰²å‡ºçš„ä»£ç è®¾ç½®é»˜è®¤å­˜æ”¾åç§°</span></span><br><span class="line">      <span class="comment">//     priority: -20,</span></span><br><span class="line">      <span class="comment">//     reuseExistingChunk: true, // é¿å…è¢«é‡å¤æ‰“åŒ…åˆ†å‰²</span></span><br><span class="line">      <span class="comment">//     filename: 'common.js'</span></span><br><span class="line">      <span class="comment">//   &#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="5ã€é…ç½®å…¨å±€å˜é‡"><a href="#5ã€é…ç½®å…¨å±€å˜é‡" class="headerlink" title="5ã€é…ç½®å…¨å±€å˜é‡"></a>5ã€é…ç½®å…¨å±€å˜é‡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">    <span class="string">'process.env.NODE_ENV'</span>: <span class="built_in">JSON</span>.stringify(<span class="string">'development'</span>),</span><br><span class="line"> &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ”¥Tip1 é—®é¢˜ï¼šå½“ç”¨ DefinePlugin æ¥é…ç½®å…¨å±€å˜é‡æ—¶ï¼Œåªç»™ä¾èµ–ä¸­æ³¨å…¥äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå°±æ˜¯srcæ–‡ä»¶å¤¹ä¸‹é¢çš„å’Œä¾èµ–çš„æ¨¡å—ã€‚å½“æˆ‘ä»¬åœ¨webpacké…ç½®æ–‡ä»¶ä¸­å»å– process.env.NODE_ENV ä¾ç„¶æ˜¯ undefinedã€‚</p><blockquote><p>è§£å†³ï¼šåœ¨package.jsonå‘½ä»¤ä¸­æ³¨å…¥<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server NODE_ENV=development --config ./build/webpack.config.js",</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="6ã€CSS-Tree-Shaking"><a href="#6ã€CSS-Tree-Shaking" class="headerlink" title="6ã€CSS Tree Shaking"></a>6ã€CSS Tree Shaking</h3><p>å»é™¤é¡¹ç›®ä»£ç ä¸­ç”¨ä¸åˆ°çš„ CSS æ ·å¼ï¼Œä»…ä¿ç•™è¢«ä½¿ç”¨çš„æ ·å¼ä»£ç </p><p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“ä½¿ç”¨ CSS Tree Shaking çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ css-modules å…³é—­ï¼Œä¸ç„¶ css ä¼šè¢«å…¨éƒ¨æ¸…é™¤æ‰ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add glob-all purify-css purifycss-webpack -D</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PurifyCSS = <span class="built_in">require</span>(<span class="string">"purifycss-webpack"</span>);</span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">"glob-all"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> PurifyCSS(&#123;</span><br><span class="line">      paths: glob.sync([</span><br><span class="line">        <span class="comment">// è¦åšCSS Tree Shakingçš„è·¯å¾„æ–‡ä»¶</span></span><br><span class="line">        path.resolve(__dirname, <span class="string">"../public/*.html"</span>), <span class="comment">// è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking</span></span><br><span class="line">        path.resolve(__dirname, <span class="string">"../src/*.js"</span>)</span><br><span class="line">      ])</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€JS-Tree-Shaking"><a href="#7ã€JS-Tree-Shaking" class="headerlink" title="7ã€JS Tree Shaking"></a>7ã€JS Tree Shaking</h3><p>æ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥</p><p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ tree shakingå°±ä¼šç”Ÿæ•ˆã€‚</p><h3 id="8ã€resolveï¼ˆè§£æï¼‰"><a href="#8ã€resolveï¼ˆè§£æï¼‰" class="headerlink" title="8ã€resolveï¼ˆè§£æï¼‰"></a>8ã€resolveï¼ˆè§£æï¼‰</h3><p>èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚</p><ul><li>extension: æŒ‡å®šextensionä¹‹åå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é…</li><li>alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'@'</span>: path.join(__dirname, <span class="string">'../src'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9ã€æ¨¡å—çƒ­æ›¿æ¢HMR"><a href="#9ã€æ¨¡å—çƒ­æ›¿æ¢HMR" class="headerlink" title="9ã€æ¨¡å—çƒ­æ›¿æ¢HMR"></a>9ã€æ¨¡å—çƒ­æ›¿æ¢HMR</h3><p>æ¨¡å—çƒ­æ›¿æ¢ä¹Ÿç§°ä¸ºHMRï¼Œä»£ç æ›´æ–°æ—¶åªä¼šæ›´æ–°è¢«ä¿®æ”¹éƒ¨åˆ†éƒ½æ˜¾ç¤ºã€‚æœ‰å¦‚ä¸‹æœ‰ç‚¹</p><ul><li>é’ˆå¯¹äºæ ·å¼è°ƒè¯•æ›´åŠ æ–¹ä¾¿</li><li>åªä¼šæ›´æ–°è¢«ä¿®æ”¹ä»£ç çš„é‚£éƒ¨åˆ†æ˜¾ç¤ºï¼Œæå‡å¼€å‘æ•ˆç‡</li><li>ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</li></ul><p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨Node.jsçš„æ–¹å¼å®ç°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn add express webpack-dev-middleware webpack-hot-middleware react-hot-loader cross-env -D</span><br><span class="line"> </span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch dev-server.js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dev-server.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="keyword">const</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>);</span><br><span class="line"><span class="keyword">const</span> webpackHotMiddleware = <span class="built_in">require</span>(<span class="string">"webpack-hot-middleware"</span>)</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> complier = webpack(config);   <span class="comment">// ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨æ‰§è¡Œä¸€æ¬¡å°±ä¼šé‡æ–°æ‰“åŒ…ä¸€ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> app = express();  <span class="comment">// ç”Ÿæˆä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> DIST_DIR = path.resolve(__dirname, <span class="string">'../'</span>, <span class="string">'dist'</span>);  <span class="comment">// è®¾ç½®é™æ€è®¿é—®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="built_in">parseInt</span>(process.env.PORT, <span class="number">10</span>) || <span class="number">8586</span>;</span><br><span class="line"><span class="keyword">const</span> host = process.env.HOST || <span class="string">'localhost'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> devMiddleware = webpackDevMiddleware(complier, &#123;</span><br><span class="line">  quiet: <span class="literal">true</span>,</span><br><span class="line">  noInfo: <span class="literal">true</span>,</span><br><span class="line">  stats: <span class="string">'minimal'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> hotMiddleware = webpackHotMiddleware(complier, &#123;</span><br><span class="line">  log: <span class="literal">false</span>,</span><br><span class="line">  heartbeat: <span class="number">2000</span></span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">app.use(devMiddleware)</span><br><span class="line">app.use(hotMiddleware)</span><br><span class="line"><span class="comment">// è®¾ç½®è®¿é—®é™æ€æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">app.use(express.static(DIST_DIR))</span><br><span class="line"></span><br><span class="line">app.listen(port, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`App running at: http://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;)  <span class="comment">//ç›‘å¬ç«¯å£</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹webpack.config.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> isDev = process.env.NODE_ENV === <span class="string">'development'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">main: [</span><br><span class="line"><span class="string">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class="line"><span class="string">'./src/index.js'</span></span><br><span class="line">]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          isDev ? <span class="string">'style-loader'</span> : MiniCssExtractPlugin.loader,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: &#123;</span><br><span class="line">                localIdentName: <span class="string">'[local]_[hash:base64:5]'</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">              sourceMap: !isDev &amp;&amp; <span class="literal">true</span>, <span class="comment">// å¼€å‘æ—¶åˆ·æ–°ä¼šå¯¼è‡´é—ªå±ï¼ˆæ ·å¼åŠ è½½æ…¢ä¸€æ­¥ï¼‰</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'postcss-loader'</span>, <span class="comment">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class="line">          <span class="string">'sass-loader'</span>, <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(), <span class="comment">// ç”¨äºå¯åŠ¨HMRæ—¶å¯ä»¥æ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// å¼€å¯HMR(çƒ­æ›¿æ¢åŠŸèƒ½,æ›¿æ¢æ›´æ–°éƒ¨åˆ†,ä¸é‡è½½é¡µé¢ï¼) ç›¸å½“äºåœ¨å‘½ä»¤è¡ŒåŠ  --hot</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å…¥å£æ–‡ä»¶index.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppContainer &#125; <span class="keyword">from</span> <span class="string">'react-hot-loader'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'./router'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;AppContainer&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;Router /&gt;</span><br><span class="line">      &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>AppContainer&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆå§‹åŒ– */</span></span><br><span class="line">render();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* çƒ­æ›´æ–° */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">'./router/index.js'</span>, () =&gt; &#123;</span><br><span class="line">    render();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹scriptå‘½ä»¤è¡Œ<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"start": "cross-env NODE_ENV=development node ./build/dev-server.js",</span><br></pre></td></tr></table></figure></p><p>okï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä»£ç æ—¶ï¼Œé¡µé¢å°±ä¸éœ€è¦åˆ·æ–°äº†ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚</p><h3 id="10ã€BundleAnalyzerPlugin"><a href="#10ã€BundleAnalyzerPlugin" class="headerlink" title="10ã€BundleAnalyzerPlugin"></a>10ã€BundleAnalyzerPlugin</h3><p>ä½¿ç”¨äº¤äº’å¼å¯ç¼©æ”¾æ ‘å½¢å›¾å¯è§†åŒ–webpackè¾“å‡ºæ–‡ä»¶çš„å¤§å°ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬é’ˆå¯¹ä»£ç ä¾èµ–çš„å¤§å°è¿›è¡Œä¼˜åŒ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BundleAnalyzerPlugin = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> BundleAnalyzerPlugin(&#123;</span><br><span class="line">      analyzerMode: <span class="string">'server'</span>,</span><br><span class="line">      analyzerHost: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">      analyzerPort: <span class="number">8889</span>,</span><br><span class="line">      reportFilename: <span class="string">'report.html'</span>,</span><br><span class="line">      defaultSizes: <span class="string">'parsed'</span>,</span><br><span class="line">      openAnalyzer: <span class="literal">true</span>,</span><br><span class="line">      generateStatsFile: <span class="literal">false</span>,</span><br><span class="line">      statsFilename: <span class="string">'stats.json'</span>,</span><br><span class="line">      statsOptions: <span class="literal">null</span>,</span><br><span class="line">      logLevel: <span class="string">'info'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"script"</span>: &#123;</span><br><span class="line">    <span class="attr">"analyz"</span>: <span class="string">"cross-env NODE_ENV=production npm_config_report=true npm run build"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="webpackåˆ†ç¦»é…ç½®æ–‡ä»¶"><a href="#webpackåˆ†ç¦»é…ç½®æ–‡ä»¶" class="headerlink" title="webpackåˆ†ç¦»é…ç½®æ–‡ä»¶"></a>webpackåˆ†ç¦»é…ç½®æ–‡ä»¶</h2><p>é’ˆå¯¹å¼€å‘ç¯å¢ƒå’Œå‘å¸ƒç¯å¢ƒé…ç½®å¯¹åº”çš„webpackï¼Œå…¬å…±çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œå†ä½¿ç”¨ webpack-merge æ¥å°†ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®åˆå¹¶èµ·æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch webpack.base.conf.js</span><br><span class="line">touch webpack.dev.conf.js</span><br><span class="line">touch webpack.prd.conf.js</span><br><span class="line"> </span><br><span class="line">yarn add webpack-merge -D</span><br></pre></td></tr></table></figure><h3 id="1ã€æå–å…¬å…±é…ç½®"><a href="#1ã€æå–å…¬å…±é…ç½®" class="headerlink" title="1ã€æå–å…¬å…±é…ç½®"></a>1ã€æå–å…¬å…±é…ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.base.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isDev = process.env.NODE_ENV === <span class="string">'development'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: [<span class="string">'./src/index.js'</span>],</span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">// ...åŒwebpack.config.jsçš„modules</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'index.html'</span>, <span class="comment">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class="line">      template: path.join(__dirname, <span class="string">'../public/index.html'</span>), <span class="comment">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'@'</span>: path.join(__dirname, <span class="string">'../src'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      <span class="comment">// ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç </span></span><br><span class="line">      chunks: <span class="string">'all'</span>, <span class="comment">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  performance: <span class="literal">false</span>, <span class="comment">// å…³é—­æ€§èƒ½æç¤º</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2ã€é…ç½®å¼€å‘ç¯å¢ƒ"><a href="#2ã€é…ç½®å¼€å‘ç¯å¢ƒ" class="headerlink" title="2ã€é…ç½®å¼€å‘ç¯å¢ƒ"></a>2ã€é…ç½®å¼€å‘ç¯å¢ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>);</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.base.conf.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, &#123;</span><br><span class="line">mode: <span class="string">"development"</span>,</span><br><span class="line">devtool: <span class="string">'cheap-module-eval-soure-map'</span>,</span><br><span class="line">entry: &#123;</span><br><span class="line"><span class="comment">//å®ç°åˆ·æ–°æµè§ˆå™¨webpack-hot-middleware/client?noInfo=true&amp;reload=true æ˜¯å¿…å¡«çš„</span></span><br><span class="line">main: [</span><br><span class="line"><span class="string">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class="line"><span class="string">'./src/index.js'</span></span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line"><span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">path: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">"bundle.[name].[hash].js"</span>,</span><br><span class="line">chunkFilename: <span class="string">'[name].[hash].js'</span></span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line"><span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line"><span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class="line"><span class="comment">// new webpack.DefinePlugin(&#123;</span></span><br><span class="line"><span class="comment">// 'process.env.NODE_ENV': JSON.stringify('development'),</span></span><br><span class="line"> <span class="comment">// &#125;),</span></span><br><span class="line">],</span><br><span class="line">devServer: &#123;</span><br><span class="line">hot: <span class="literal">true</span>,</span><br><span class="line">contentBase: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">host: <span class="string">"localhost"</span>,</span><br><span class="line">port: <span class="number">8586</span>,</span><br><span class="line">historyApiFallback: <span class="literal">true</span>, <span class="comment">// è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class="line">proxy: &#123;</span><br><span class="line"><span class="comment">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class="line"><span class="comment">// "/api": "http://localhost:3000"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="3ã€é…ç½®å‘å¸ƒç¯å¢ƒ"><a href="#3ã€é…ç½®å‘å¸ƒç¯å¢ƒ" class="headerlink" title="3ã€é…ç½®å‘å¸ƒç¯å¢ƒ"></a>3ã€é…ç½®å‘å¸ƒç¯å¢ƒ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.prd.conf.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">'./webpack.base.conf.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(commonConfig, &#123;</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">  devtool: <span class="string">'cheap-module-source-map'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    publicPath: <span class="string">'/'</span>, <span class="comment">// æ‰“åŒ…è·¯å¾„</span></span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">'bundle.[name].[hash].js'</span>,</span><br><span class="line">    chunkFilename: <span class="string">'[name].[hash].js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    usedExports: <span class="literal">true</span>,</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: <span class="string">'all'</span>, <span class="comment">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line">        <span class="comment">// å…¬å…±ä»£ç æ‰“åŒ…åˆ†ç»„é…ç½®</span></span><br><span class="line">        vendors: &#123;</span><br><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">          name: <span class="string">'vendors'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'[name].[hash].css'</span>,</span><br><span class="line">      chunkFilename: <span class="string">'[id].[hash].css'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// new webpack.DefinePlugin(&#123;</span></span><br><span class="line">    <span class="comment">//   'process.env.NODE_ENV': JSON.stringify('production'),</span></span><br><span class="line">    <span class="comment">// &#125;),</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ"><a href="#4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ" class="headerlink" title="4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ"></a>4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"start": "cross-env NODE_ENV=development node ./build/dev-server.js",</span><br><span class="line">"build": "cross-env NODE_ENV=production webpack --config ./build/webpack.prod.conf.js",</span><br></pre></td></tr></table></figure><p>å†™åˆ°è¿™é‡Œï¼Œä¸€ä¸ªåŸºæœ¬çš„Reactå¼€å‘ç¯å¢ƒä¹Ÿå°±æ­èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥é’ˆå¯¹ä»£ç æˆ–è€…å¼€å‘æ•ˆç‡è¿›è¡Œä¼˜åŒ–ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#ç‰ˆæœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç‰ˆæœ¬&quot;&gt;&lt;/a&gt;ç‰ˆæœ¬&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;webpack 4&lt;/li&gt;
&lt;li&gt;Babel 7&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="webpack" scheme="http://yoursite.com/tags/webpack/"/>
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€</title>
    <link href="http://yoursite.com/2019/07/11/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%80/"/>
    <id>http://yoursite.com/2019/07/11/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€/</id>
    <published>2019-07-11T01:42:50.000Z</published>
    <updated>2019-07-12T02:39:27.544Z</updated>
    
    <content type="html"><![CDATA[<p>å‰è¨€ï¼šæ¥è§¦webpackä»åœ¨å­¦æ ¡çš„é‚£ä¼šèµ·ï¼Œä¹Ÿä¸€ç›´åœ¨ä½¿ç”¨å®ƒï¼Œç”¨çš„éƒ½æ˜¯åˆ«äººå°è£…å¥½çš„ï¼Œå¶å°”å»ä¿®æ”¹ä¸€ç‚¹ç‚¹é…ç½®ï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£è‡ªå·±ä»é›¶å¼€å§‹é…ç½®ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œæ¥ä¸‹æ¥å‡ ç¯‡å°†è®°å½•æˆ‘å¯¹webpackä»¥åŠå¼€å‘ä¸­æå‡æ•ˆç‡çš„é…ç½®ï¼Œå…¶ä¸­é‡åˆ°çš„ä¸€äº›å‘ä¹Ÿä¼šæç¤ºå‡ºæ¥ã€‚</p><h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><ul><li>webpack 4</li><li>Babel 7</li></ul><blockquote><p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨webpackæ­å»ºåŸºç¡€çš„Reactç¯å¢ƒ</p></blockquote><h3 id="å¿«é€Ÿæµè§ˆï¼š"><a href="#å¿«é€Ÿæµè§ˆï¼š" class="headerlink" title="å¿«é€Ÿæµè§ˆï¼š"></a>å¿«é€Ÿæµè§ˆï¼š</h3><ul><li><a href="http://hjingren.cn/2019/07/12/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BA%8C/" target="_blank" rel="noopener">webpackä¼˜åŒ–ç¯‡</a></li></ul><h2 id="webpackæ ¸å¿ƒæ¦‚å¿µ"><a href="#webpackæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="webpackæ ¸å¿ƒæ¦‚å¿µ"></a>webpackæ ¸å¿ƒæ¦‚å¿µ</h2><ul><li>entry: å…¥å£èµ·ç‚¹</li><li>output: è¾“å‡º</li><li>module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å—</li><li>loader: è½¬æ¢å·¥å…·ï¼Œwebpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ã€‚loader è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­</li><li>plugin: æ‰©å±•æ’ä»¶ï¼Œloader ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼Œåœ¨webpackæ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰ç­‰</li><li>mode: webpacçš„æ‰“åŒ…ç¯å¢ƒ[development, production]</li><li>chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²</li></ul><h2 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h2><h3 id="1ã€åˆå§‹åŒ–é¡¹ç›®"><a href="#1ã€åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1ã€åˆå§‹åŒ–é¡¹ç›®"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpack-template</span><br><span class="line">cd webpack-template</span><br><span class="line">mkdir src</span><br><span class="line">mkdir public</span><br><span class="line">mkdir build</span><br><span class="line">mkdir dist</span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure><h3 id="2ã€å®‰è£…webpack"><a href="#2ã€å®‰è£…webpack" class="headerlink" title="2ã€å®‰è£…webpack"></a>2ã€å®‰è£…webpack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack webpack-cli -D</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">touch webpack.config.js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•çš„webpacké…ç½®</span></span><br><span class="line"><span class="comment">// webpack.config.jsåˆå§‹åŒ–å†…å®¹</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">"development"</span>,  <span class="comment">// æŒ‡å®šç¯å¢ƒ</span></span><br><span class="line">  entry: [<span class="string">"./src/index.js"</span>],  <span class="comment">// æ‰“åŒ…å…¥å£æ–‡ä»¶</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">    filename: <span class="string">"bundle.js"</span></span><br><span class="line">  &#125;,  <span class="comment">// æ‰“åŒ…è¾“å‡ºåˆ° dist/bundle.js.</span></span><br><span class="line">  <span class="built_in">module</span>:&#123;&#125;,</span><br><span class="line">  plugins:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>package.jsonæ›´æ”¹<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack --config ./build/webpack.config.js"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><h3 id="3ã€HtmlWebpackPlugin"><a href="#3ã€HtmlWebpackPlugin" class="headerlink" title="3ã€HtmlWebpackPlugin"></a>3ã€HtmlWebpackPlugin</h3><p>å°†æ‰“åŒ…çš„jsè‡ªåŠ¨æ’å…¥åˆ° index.html é‡Œé¢å»ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add html-webpack-plugin -D</span><br><span class="line"><span class="built_in">cd</span> public</span><br><span class="line">touch index.html</span><br></pre></td></tr></table></figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Webpack Template<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'index.html'</span>, <span class="comment">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class="line">      template: path.join(__dirname, <span class="string">'../public/index.html'</span>), <span class="comment">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX"><a href="#4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX" class="headerlink" title="4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX"></a>4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: <span class="string">'babel-loader'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º.babelrcæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"@babel/preset-env"</span>, <span class="string">"@babel/preset-react"</span>],</span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"@babel/plugin-transform-runtime"</span>, <span class="string">"@babel/plugin-proposal-class-properties"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ğŸ”¥Tip1 é—®é¢˜ï¼šSupport for the experimental syntax â€˜classPropertiesâ€™ isnâ€™t currently enabled</p><blockquote><p>yarn add @babel/plugin-proposal-class-properties å¹¶åœ¨pluginsä¸­é…ç½®</p></blockquote><h3 id="5ã€é…ç½®è½¬ä¹‰Typescript"><a href="#5ã€é…ç½®è½¬ä¹‰Typescript" class="headerlink" title="5ã€é…ç½®è½¬ä¹‰Typescript"></a>5ã€é…ç½®è½¬ä¹‰Typescript</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add typescript ts-loader -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        loader: <span class="string">"ts-loader"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºtsconfig.json<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="attr">"rootDir"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">"dist"</span>,</span><br><span class="line">    "module": "esnext", // æ¨¡å—å¼•å…¥çš„æ–¹å¼</span><br><span class="line">    "target": "es6", // è½¬æ¢ä¸ºes6</span><br><span class="line">    "lib": ["dom", "es7"],</span><br><span class="line">    "jsx": "preserve",</span><br><span class="line">    "moduleResolution": "node",</span><br><span class="line">    "sourceMap": true,</span><br><span class="line">    "allowJs": true, // åœ¨typescriptä¸­å…è®¸å¼•å…¥jsæ–‡ä»¶</span><br><span class="line">    "forceConsistentCasingInFileNames": true,</span><br><span class="line">    "noImplicitReturns": true,</span><br><span class="line">    "noImplicitThis": true,</span><br><span class="line">    "noImplicitAny": true,</span><br><span class="line">    "noUnusedLocals": true,</span><br><span class="line">    "noUnusedParameters": true,</span><br><span class="line">    "strictNullChecks": true,</span><br><span class="line">    "importHelpers": true,</span><br><span class="line">    "suppressImplicitAnyIndexErrors": true,</span><br><span class="line">    "experimentalDecorators": true,</span><br><span class="line">    "downlevelIteration": true,</span><br><span class="line">    "allowSyntheticDefaultImports": true,</span><br><span class="line">    "paths": &#123;</span><br><span class="line">      "@/*": ["src/*"]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  "exclude": ["node_modules", "dist", "build", "mock"]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="6ã€CleanWebpackPlugin"><a href="#6ã€CleanWebpackPlugin" class="headerlink" title="6ã€CleanWebpackPlugin"></a>6ã€CleanWebpackPlugin</h3><p>æ¸…é™¤ dist ç›®å½•ä¸‹æ—§ç‰ˆæœ¬æ–‡ä»¶ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add clean-webpack-plugin -D</span><br></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  plugins:[</span><br><span class="line">    <span class="comment">//...åŒä¸Š</span></span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€source-map"><a href="#7ã€source-map" class="headerlink" title="7ã€source-map"></a>7ã€source-map</h3><p>å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">"cheap-module-eval-source-map"</span>,  <span class="comment">// development</span></span><br><span class="line">devtool: <span class="string">"cheap-module-source-map"</span>,  <span class="comment">// production</span></span><br></pre></td></tr></table></figure></p><h3 id="8ã€WebpackDevServer"><a href="#8ã€WebpackDevServer" class="headerlink" title="8ã€WebpackDevServer"></a>8ã€WebpackDevServer</h3><p>webpackåœ¨æœ¬åœ°ä¸ºæ­å»ºäº†ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå®æ—¶æ‰“åŒ…é‡åŠ è½½ä¿®æ”¹çš„ä»£ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-dev-server -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    hot: <span class="literal">true</span>,</span><br><span class="line">    contentBase: path.resolve(__dirname, <span class="string">"../dist"</span>),</span><br><span class="line">    host: <span class="string">"localhost"</span>,</span><br><span class="line">    port: <span class="number">8586</span>,</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>, <span class="comment">//  è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="comment">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class="line">      <span class="comment">// "/api": "http://localhost:3000"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹package.jsonå‘½ä»¤<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server --config ./build/webpack.config.js",</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><h3 id="9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules"><a href="#9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules" class="headerlink" title="9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules"></a>9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add css-loader style-loader sass-loader node-sass -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: &#123;</span><br><span class="line">                localIdentName: <span class="string">'[local]_[hash:base64:5]'</span>,</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="comment">// sourceMap: !isDev &amp;&amp; true,</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'sass-loader'</span>, <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“åœ¨ css-loader é…ç½®ä¸Š sourceMap æ—¶ï¼Œé…åˆçƒ­åŠ è½½æ ·å¼ä¼šé—ªå±</p><blockquote><p>sourceMap: !isDev &amp;&amp; true,</p></blockquote><h3 id="10ã€é›†æˆpostcss"><a href="#10ã€é›†æˆpostcss" class="headerlink" title="10ã€é›†æˆpostcss"></a>10ã€é›†æˆpostcss</h3><p>ä¸ºcssæŸäº›ç‰¹æ€§è‡ªåŠ¨å¢åŠ å‰ç¼€ï¼Œå¹¶åšä¸€äº›å…¼å®¹å¤„ç†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(sc|sa|c)ss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="comment">//...åŒä¸Š</span></span><br><span class="line">          <span class="string">'postcss-loader'</span>, <span class="comment">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class="line">          <span class="string">'sass-loader'</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»ºpostcss.config.jsæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  loader: <span class="string">'postcss-loader'</span>,</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    <span class="string">'postcss-preset-env'</span>: &#123;&#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ–°å»º.browserlistrcæ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>% <span class="keyword">in</span> CN</span><br><span class="line">android &gt;= <span class="number">4.4</span></span><br><span class="line">ios &gt;= <span class="number">8</span></span><br><span class="line">not ie &lt;= <span class="number">11</span></span><br></pre></td></tr></table></figure></p><h3 id="11ã€å›¾ç‰‡å¤„ç†"><a href="#11ã€å›¾ç‰‡å¤„ç†" class="headerlink" title="11ã€å›¾ç‰‡å¤„ç†"></a>11ã€å›¾ç‰‡å¤„ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add file-loader url-loader -D</span><br><span class="line"><span class="comment"># file-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜</span></span><br><span class="line"><span class="comment"># url-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loader è¿›è¡Œæ‹·è´</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|jpeg|gif|svg)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'url-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            outputPath: <span class="string">'images/'</span>,</span><br><span class="line">            limit: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12ã€å­—ä½“æ–‡ä»¶å¤„ç†"><a href="#12ã€å­—ä½“æ–‡ä»¶å¤„ç†" class="headerlink" title="12ã€å­—ä½“æ–‡ä»¶å¤„ç†"></a>12ã€å­—ä½“æ–‡ä»¶å¤„ç†</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...åŒä¸Š</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(eot|woff2?|ttf|svg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              name: <span class="string">'[name]-[hash:5].min.[ext]'</span>,</span><br><span class="line">              limit: <span class="number">5000</span>,</span><br><span class="line">              publicPath: <span class="string">'fonts/'</span>,</span><br><span class="line">              outputPath: <span class="string">'fonts/'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼Œwebpackçš„åŸºæœ¬é…ç½®æˆ‘ä»¬å·²ç»å‡†å¤‡çš„å·®ä¸å¤šäº†ï¼Œèµ¶ç´§å†™ç‚¹reactæ¥è¯•è¯•æ°´ã€‚</p><h2 id="æµ‹è¯•Reactç¯å¢ƒ"><a href="#æµ‹è¯•Reactç¯å¢ƒ" class="headerlink" title="æµ‹è¯•Reactç¯å¢ƒ"></a>æµ‹è¯•Reactç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add react react-dom react-router react-router-dom</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; PureComponent &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        hello word~</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;App /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>npm start</code> ï¼Œå¦‚æœé¡µé¢ä¸Šèƒ½æ­£å¸¸æ˜¾ç¤º <code>hello word~</code> é‚£è¡¨ç¤ºæˆ‘ä»¬çš„webapckåŸºç¡€é…ç½®æˆåŠŸã€‚</p><p>ç¬¬ä¸€ç¯‡webpackåŸºç¡€é…ç½®åˆ°æ­¤ç»“æŸäº†ï¼Œä¸‹ä¸€ç¯‡å¯¹webpackè¿›è¡Œä¼˜åŒ–é…ç½®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰è¨€ï¼šæ¥è§¦webpackä»åœ¨å­¦æ ¡çš„é‚£ä¼šèµ·ï¼Œä¹Ÿä¸€ç›´åœ¨ä½¿ç”¨å®ƒï¼Œç”¨çš„éƒ½æ˜¯åˆ«äººå°è£…å¥½çš„ï¼Œå¶å°”å»ä¿®æ”¹ä¸€ç‚¹ç‚¹é…ç½®ï¼Œä¹Ÿæ²¡æœ‰çœŸæ­£è‡ªå·±ä»é›¶å¼€å§‹é…ç½®ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œæ¥ä¸‹æ¥å‡ ç¯‡å°†è®°å½•æˆ‘å¯¹webpackä»¥åŠå¼€å‘ä¸­æå‡æ•ˆç‡çš„é…ç½®ï¼Œå…¶ä¸­é‡åˆ°çš„ä¸€äº›å‘ä¹Ÿä¼šæç¤ºå‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç‰ˆæœ¬&quot;&gt;&lt;a hr
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="webpack" scheme="http://yoursite.com/tags/webpack/"/>
    
      <category term="react" scheme="http://yoursite.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>Nginxä¸‹å‡çº§https</title>
    <link href="http://yoursite.com/2019/06/11/Nginx%E4%B8%8B%E5%8D%87%E7%BA%A7https/"/>
    <id>http://yoursite.com/2019/06/11/Nginxä¸‹å‡çº§https/</id>
    <published>2019-06-11T07:26:49.000Z</published>
    <updated>2019-06-11T07:33:57.802Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è´­ä¹°è¯ä¹¦"><a href="#è´­ä¹°è¯ä¹¦" class="headerlink" title="è´­ä¹°è¯ä¹¦"></a>è´­ä¹°è¯ä¹¦</h2><p>å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡<a href="https://common-buy.aliyun.com/?spm=5176.2020520163.cas.3.75c3lKQ2lKQ27E&amp;commodityCode=cas#/buy" target="_blank" rel="noopener">è´­ä¹°</a></p><h2 id="ä¸‹è½½è¯ä¹¦"><a href="#ä¸‹è½½è¯ä¹¦" class="headerlink" title="ä¸‹è½½è¯ä¹¦"></a>ä¸‹è½½è¯ä¹¦</h2><p>åœ¨è¯ä¹¦æ§åˆ¶å°ä¸‹è½½ Nginx ç‰ˆæœ¬è¯ä¹¦ã€‚ä¸‹è½½åˆ°æœ¬åœ°çš„å‹ç¼©æ–‡ä»¶åŒ…è§£å‹ååŒ…å«ï¼š</p><ul><li><strong>.pem</strong>æ–‡ä»¶ï¼šè¯ä¹¦æ–‡ä»¶</li><li><strong>.key</strong>æ–‡ä»¶ï¼šè¯ä¹¦çš„ç§é’¥æ–‡ä»¶ï¼ˆç”³è¯·è¯ä¹¦æ—¶å¦‚æœæ²¡æœ‰é€‰æ‹©<strong>è‡ªåŠ¨åˆ›å»ºCSR</strong>ï¼Œåˆ™æ²¡æœ‰è¯¥æ–‡ä»¶ï¼‰</li></ul><h2 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h2><p>1ã€åœ¨ Nginx çš„å®‰è£…ç›®å½•ä¸‹åˆ›å»º cert ç›®å½•ï¼Œå¹¶ä¸”å°†ä¸‹è½½çš„å…¨éƒ¨æ–‡ä»¶æ‹·è´åˆ° cert ç›®å½•ä¸­ï¼Œå¦‚æœç”³è¯·è¯ä¹¦æ—¶æ˜¯è‡ªå·±åˆ›å»ºçš„CSRæ–‡ä»¶ï¼Œè¯·å°†å¯¹åº”çš„ç§é’¥æ–‡ä»¶æ”¾åˆ° cert ç›®å½•ä¸‹ã€‚</p><p>2ã€æ‰“å¼€ Nginx å®‰è£…ç›®å½•ä¸‹ conf ç›®å½•ä¸­çš„ nginx.conf æ–‡ä»¶</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">gzip</span>  <span class="literal">on</span>;   <span class="comment">#å¼€å¯gzip</span></span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1k</span>; <span class="comment">#ä½äº1kbçš„èµ„æºä¸å‹ç¼©</span></span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">3</span>; <span class="comment">#å‹ç¼©çº§åˆ«ã€1-9ã€‘ï¼Œè¶Šå¤§å‹ç¼©ç‡è¶Šé«˜ï¼ŒåŒæ—¶æ¶ˆè€—cpuèµ„æºä¹Ÿè¶Šå¤šï¼Œå»ºè®®è®¾ç½®åœ¨4å·¦å³ã€‚</span></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain application/javascript application/x-javascript text/javascript text/xml text/css;  <span class="comment">#éœ€è¦å‹ç¼©å“ªäº›å“åº”ç±»å‹çš„èµ„æºï¼Œå¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸å»ºè®®å‹ç¼©å›¾ç‰‡ï¼Œä¸‹é¢ä¼šè®²ä¸ºä»€ä¹ˆã€‚</span></span><br><span class="line">    <span class="attribute">gzip_disable</span> <span class="string">"MSIE [1-6]\."</span>;  <span class="comment">#é…ç½®ç¦ç”¨gzipæ¡ä»¶ï¼Œæ”¯æŒæ­£åˆ™ã€‚æ­¤å¤„è¡¨ç¤ºie6åŠä»¥ä¸‹ä¸å¯ç”¨gzipï¼ˆå› ä¸ºieä½ç‰ˆæœ¬ä¸æ”¯æŒï¼‰</span></span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;  <span class="comment">#æ˜¯å¦æ·»åŠ â€œVary: Accept-Encodingâ€å“åº”å¤´</span></span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span> default backlog=<span class="number">2048</span>; <span class="comment">#é…ç½®httpå¯ç”¨</span></span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">443</span> ssl; <span class="comment">#é…ç½®https</span></span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_certificate</span>      ../cert/hzzly.pem; <span class="comment">#é…ç½®è¯ä¹¦æ–‡ä»¶</span></span><br><span class="line">        <span class="attribute">ssl_certificate_key</span>  ../cert/hzzly.key; <span class="comment">#é…ç½®ç§é’¥æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_session_cache</span>    shared:SSL:<span class="number">1m</span>;</span><br><span class="line">        <span class="attribute">ssl_session_timeout</span>  <span class="number">5m</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">ssl_ciphers</span>  HIGH:!aNULL:!MD5;</span><br><span class="line">        <span class="attribute">ssl_prefer_server_ciphers</span>  <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /home/hzzly;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># location ^~ /apis/ &#123;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header Host $host;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line">        <span class="comment">#     proxy_set_header X-Forwarded-Server $host;</span></span><br><span class="line">        <span class="comment">#     # åŒ¹é…ä»»ä½•ä»¥ /apis/ å¼€å§‹çš„è¯·æ±‚ï¼Œå¹¶åœæ­¢åŒ¹é… å…¶å®ƒlocation</span></span><br><span class="line">        <span class="comment">#     proxy_pass http://xxxxxxxxxx/;</span></span><br><span class="line">        <span class="comment"># &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># location ^~ /assets/ &#123;</span></span><br><span class="line">        <span class="comment">#     gzip_static on;</span></span><br><span class="line">        <span class="comment">#     expires max;</span></span><br><span class="line">        <span class="comment">#     add_header Cache-Control public;</span></span><br><span class="line">        <span class="comment"># &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€é‡å¯ Nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin</span><br><span class="line">$ ./nginx -s reload</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯è¯¦è§£"><a href="#é”™è¯¯è¯¦è§£" class="headerlink" title="é”™è¯¯è¯¦è§£"></a>é”™è¯¯è¯¦è§£</h2><h3 id="1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯"><a href="#1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯" class="headerlink" title="1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯"></a>1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] the <span class="string">"ssl"</span> parameter requires ngx_http_ssl_module <span class="keyword">in</span> ...</span><br></pre></td></tr></table></figure><p><strong>Nginxå¼€å¯SSLæ¨¡å—</strong></p><p>åˆ‡æ¢åˆ°æºç åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/nginx-1.16.0</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–°çš„configureå‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/nginx --with-http_stub_status_module --with-http_ssl_module</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make  //è¿™é‡Œä¸è¦è¿›è¡Œmake installï¼Œå¦åˆ™å°±æ˜¯è¦†ç›–å®‰è£…</span><br></pre></td></tr></table></figure><p>å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp /usr/<span class="built_in">local</span>/nginx/sbin/nginx /usr/<span class="built_in">local</span>/nginx/sbin/nginx.bak</span><br></pre></td></tr></table></figure><p>å°†åˆšåˆšç¼–è¯‘å¥½çš„nginxè¦†ç›–æ‰åŸæœ‰çš„nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp ./objs/nginx /usr/<span class="built_in">local</span>/nginx/sbin/</span><br></pre></td></tr></table></figure><p>é‡å¯ Nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin</span><br><span class="line">$ ./nginx -s reload</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è´­ä¹°è¯ä¹¦&quot;&gt;&lt;a href=&quot;#è´­ä¹°è¯ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;è´­ä¹°è¯ä¹¦&quot;&gt;&lt;/a&gt;è´­ä¹°è¯ä¹¦&lt;/h2&gt;&lt;p&gt;å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡&lt;a href=&quot;https://common-buy.aliyun.com/?spm=5176.
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾</title>
    <link href="http://yoursite.com/2019/03/04/%E5%9B%BE%E8%A7%A3%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"/>
    <id>http://yoursite.com/2019/03/04/å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾/</id>
    <published>2019-03-04T07:53:11.000Z</published>
    <updated>2019-05-18T05:31:12.564Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><blockquote><p>ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚</p><p>ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚</p><p>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p><p>æƒ³äº†è§£æ›´å¤šå…³äºä½œç”¨åŸŸçš„é—®é¢˜æ¨èé˜…è¯»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·ã€‹ç¬¬ä¸€ç« ï¼ˆæˆ–ç¬¬ä¸€éƒ¨åˆ†ï¼‰ï¼Œä»ç¼–è¯‘åŸç†çš„è§’åº¦è¯´æ˜ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸã€‚æ¦‚æ‹¬çš„è¯´ä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è®¾è®¡è‰¯å¥½çš„è§„åˆ™æ¥å­˜å‚¨å˜é‡ï¼Œå¹¶ä¸”ä¹‹åå¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°è¿™äº›å˜é‡ã€‚</p></blockquote><h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p>åœ¨ä½ ä¸çŸ¥é“çš„javascriptä¸Šå·ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š<strong>è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œè¯æ³•ä½œç”¨åŸŸæ˜¯ç”±ä½ åœ¨å†™ä»£ç æ—¶å°†å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œæ¥å†³å®šçš„ï¼Œå› æ­¤å½“è¯æ³•åˆ†æå™¨å¤„ç†ä»£ç æ—¶ä¼šä¿æŒä½œç”¨åŸŸä¸å˜(å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯è¿™æ ·çš„)ã€‚</strong></p><p>åœ¨JSä¸­è¯æ³•ä½œç”¨åŸŸçš„è§„åˆ™ï¼š</p><blockquote><ul><li>å‡½æ•°å…è®¸è®¿é—®å‡½æ•°å¤–éƒ¨çš„æ•°æ®</li><li>æ•´ä¸ªä»£ç ç»“æ„ä¸­åªæœ‰å‡½æ•°å¯ä»¥é™å®šä½œç”¨åŸŸ</li><li>ä½œç”¨è§„åˆ™é¦–å…ˆä½¿ç”¨æå‡è§„åˆ™åˆ†æ</li><li>å¦‚æœå½“å‰ä½œç”¨åŸŸä¸­æœ‰äº†åå­—äº†ï¼Œå°±ä¸è€ƒè™‘å¤–é¢çš„åå­—</li></ul></blockquote><p>æ —1ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure></p><p>æ —2ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>åªæœ‰å‡½æ•°æ‰èƒ½åˆ¶é€ ä½œç”¨åŸŸç»“æ„ï¼Œé‚£ä¹ˆåªè¦æ˜¯ä»£ç ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œå³å…¨å±€ä½œç”¨åŸŸã€‚</p><p>å‡¡æ˜¯ä»£ç ä¸­æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ„æˆå¦ä¸€ä¸ªä½œç”¨åŸŸã€‚å¦‚æœå‡½æ•°ä¸­è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å°±åˆå¯ä»¥è¯ç”Ÿä¸€ä¸ªä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°†è¿™æ ·çš„æ‰€æœ‰ä½œç”¨åŸŸåˆ—å‡ºæ¥ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªç»“æ„ï¼šå‡½æ•°å†…æŒ‡å‘å‡½æ•°å¤–çš„é“¾å¼ç»“æ„ã€‚</p><p>ä»¥ä¸Šé¢æ —2ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p><ul><li>å…¨å±€ä½œç”¨åŸŸï¼Œæœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼šfooã€barã€a</li><li>bar æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ša</li></ul><p>ä½œç”¨åŸŸæ˜¯ç”±ä»£ç å†™åœ¨å“ªé‡Œå†³å®šçš„ï¼Œå¹¶ä¸”æ˜¯é€çº§åŒ…å«çš„ã€‚</p><p>æˆ‘ä»¬ç”¨çº§é“¾æ¥è¡¨ç¤ºä¸€ä¸‹ä»¥ä¸Šä»£ç å—ï¼š</p><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope1.png" alt="scope1"></p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå‡½æ•°fooå’Œbarä»¥åŠå˜é‡ a=2ï¼Œ åœ¨1çº§é“¾ï¼Œè€Œbarä¸‹åˆå¯ä»¥å±•å¼€2çº§é“¾ï¼Œ2çº§é“¾ä¸Šæœ‰a=3ã€‚ç¨‹åºbar()è°ƒç”¨è¿›å…¥ä¸­é—´2çº§é“¾ï¼Œè€Œbarä¸­åˆè°ƒç”¨äº†fooå‡½æ•°ï¼Œæ­¤æ—¶ç¨‹åºè¿›å…¥fooçš„ä½œç”¨åŸŸé“¾ï¼ŒæŒ‰ç…§å‘ä¸ŠæŸ¥æ‰¾çš„åŸåˆ™ï¼Œç¨‹åºä¼šä»è¿™ä¸€æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œé¦–å…ˆ2çº§é“¾æ²¡æœ‰aï¼Œå‘ä¸Šåˆ°è¾¾1çº§é“¾ï¼Œåˆšå¥½1çº§é“¾ä¸Šæœ‰a=2ï¼Œæ‰€ä»¥å°±ç›´æ¥ä½¿ç”¨2ï¼Œç¨‹åºæœ€åçš„ç»“æœå°±æ˜¯æ‰“å°2ã€‚</p><p>æ‰€ä»¥æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚</p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">ã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹</a>æ€è€ƒé¢˜<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure></p><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope2.png" alt="scope2"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener">JavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä½œç”¨åŸŸ&quot;&gt;&lt;a href=&quot;#ä½œç”¨åŸŸ&quot; class=&quot;headerlink&quot; title=&quot;ä½œç”¨åŸŸ&quot;&gt;&lt;/a&gt;ä½œç”¨åŸŸ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚&lt;/p&gt;
&lt;p&gt;ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜
      
    
    </summary>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>gitflowåŸºæœ¬æ“ä½œ</title>
    <link href="http://yoursite.com/2019/03/03/gitflow%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2019/03/03/gitflowåŸºæœ¬æ“ä½œ/</id>
    <published>2019-03-03T15:34:28.000Z</published>
    <updated>2019-05-09T06:12:51.415Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚</p></blockquote><h2 id="ä¸»åˆ†æ”¯"><a href="#ä¸»åˆ†æ”¯" class="headerlink" title="ä¸»åˆ†æ”¯"></a>ä¸»åˆ†æ”¯</h2><blockquote><p>master åªè´Ÿè´£ç®¡ç†å‘å¸ƒçš„çŠ¶æ€ã€‚åœ¨æäº¤æ—¶ä½¿ç”¨æ ‡ç­¾è®°å½•å‘å¸ƒç‰ˆæœ¬å·ã€‚<br>develop é’ˆå¯¹å‘å¸ƒçš„æ—¥å¸¸å¼€å‘åˆ†æ”¯ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»è®²è§£è¿‡æœ‰åˆå¹¶åˆ†æ”¯çš„åŠŸç”¨ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-1.png" alt="gitflow"></p><h2 id="å¼€å‘åˆ†æ”¯"><a href="#å¼€å‘åˆ†æ”¯" class="headerlink" title="å¼€å‘åˆ†æ”¯"></a>å¼€å‘åˆ†æ”¯</h2><h3 id="Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š"><a href="#Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š" class="headerlink" title="Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š"></a>Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b develop master</span><br></pre></td></tr></table></figure><h3 id="å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š"><a href="#å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š" class="headerlink" title="å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š"></a>å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°Masteråˆ†æ”¯</span></span><br><span class="line">git checkout master</span><br><span class="line"><span class="comment"># å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶(ä½¿ç”¨äº†--no-ffå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æäº¤)</span></span><br><span class="line">git merge --no-ff develop</span><br></pre></td></tr></table></figure><h2 id="ä¸´æ—¶æ€§åˆ†æ”¯"><a href="#ä¸´æ—¶æ€§åˆ†æ”¯" class="headerlink" title="ä¸´æ—¶æ€§åˆ†æ”¯"></a>ä¸´æ—¶æ€§åˆ†æ”¯</h2><blockquote><p>åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯<br>é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯<br>ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-2.png" alt="gitflow"></p><h2 id="åŠŸèƒ½åˆ†æ”¯"><a href="#åŠŸèƒ½åˆ†æ”¯" class="headerlink" title="åŠŸèƒ½åˆ†æ”¯"></a>åŠŸèƒ½åˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature-x develop</span><br></pre></td></tr></table></figure><h3 id="å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"><a href="#å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š" class="headerlink" title="å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff feature-x</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤featureåˆ†æ”¯ï¼š"><a href="#åˆ é™¤featureåˆ†æ”¯ï¼š" class="headerlink" title="åˆ é™¤featureåˆ†æ”¯ï¼š"></a>åˆ é™¤featureåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -d feature-x</span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git push origin --delete feature-x</span><br></pre></td></tr></table></figure><h2 id="é¢„å‘å¸ƒåˆ†æ”¯"><a href="#é¢„å‘å¸ƒåˆ†æ”¯" class="headerlink" title="é¢„å‘å¸ƒåˆ†æ”¯"></a>é¢„å‘å¸ƒåˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b release-1.2 develop</span><br></pre></td></tr></table></figure><h3 id="ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"><a href="#ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š" class="headerlink" title="ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"></a>ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge --no-ff release-1.2</span><br><span class="line"><span class="comment"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line">git tag -a 1.2</span><br></pre></td></tr></table></figure><h3 id="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"><a href="#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š" class="headerlink" title="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff release-1.2</span><br></pre></td></tr></table></figure><h3 id="æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š"><a href="#æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š" class="headerlink" title="æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š"></a>æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d release-1.2</span><br></pre></td></tr></table></figure><h2 id="ä¿®è¡¥bugåˆ†æ”¯"><a href="#ä¿®è¡¥bugåˆ†æ”¯" class="headerlink" title="ä¿®è¡¥bugåˆ†æ”¯"></a>ä¿®è¡¥bugåˆ†æ”¯</h2><h3 id="åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b fixbug-0.1 master</span><br></pre></td></tr></table></figure><h3 id="ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"><a href="#ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š" class="headerlink" title="ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š"></a>ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge --no-ff fixbug-0.1</span><br><span class="line"><span class="comment"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line">git tag -a 0.1.1</span><br></pre></td></tr></table></figure><h3 id="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1"><a href="#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1" class="headerlink" title="å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge --no-ff fixbug-0.1</span><br></pre></td></tr></table></figure><h3 id="æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š"><a href="#æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š" class="headerlink" title="æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š"></a>æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d fixbug-0.1</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge"><a href="#å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge" class="headerlink" title="å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge"></a>å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rebase åˆå¹¶</span></span><br><span class="line">git checkout issue3</span><br><span class="line">git rebase master</span><br><span class="line"><span class="comment"># master åˆå¹¶</span></span><br><span class="line">git checkout master</span><br><span class="line">git merge issue3</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å†²çªåçš„æäº¤"><a href="#ä¿®æ”¹å†²çªåçš„æäº¤" class="headerlink" title="ä¿®æ”¹å†²çªåçš„æäº¤"></a>ä¿®æ”¹å†²çªåçš„æäº¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure><h3 id="å–æ¶ˆrebase"><a href="#å–æ¶ˆrebase" class="headerlink" title="å–æ¶ˆrebase"></a>å–æ¶ˆrebase</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --abort</span><br></pre></td></tr></table></figure><h2 id="å›é€€"><a href="#å›é€€" class="headerlink" title="å›é€€"></a>å›é€€</h2><h3 id="commit-å›é€€"><a href="#commit-å›é€€" class="headerlink" title="commit å›é€€"></a>commit å›é€€</h3><blockquote><p>commit log</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-log.png" alt="git-commit-log"></p><blockquote><p>commit reset</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-reset.png" alt="git-commit-reset"></p><h3 id="push-å›é€€"><a href="#push-å›é€€" class="headerlink" title="push å›é€€"></a>push å›é€€</h3><blockquote><p>push log</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-log.png" alt="git-push-log"></p><blockquote><p>push reset</p></blockquote><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-reset.png" alt="git-push-reset"></p><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="æ·»åŠ è½»æ ‡ç­¾"><a href="#æ·»åŠ è½»æ ‡ç­¾" class="headerlink" title="æ·»åŠ è½»æ ‡ç­¾"></a>æ·»åŠ è½»æ ‡ç­¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag v2.0</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line">git tag</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨åŒ…å«æ ‡ç­¾èµ„æ–™çš„å†å²è®°å½•</span></span><br><span class="line">git <span class="built_in">log</span> --decorate</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ æ³¨è§£æ ‡ç­¾"><a href="#æ·»åŠ æ³¨è§£æ ‡ç­¾" class="headerlink" title="æ·»åŠ æ³¨è§£æ ‡ç­¾"></a>æ·»åŠ æ³¨è§£æ ‡ç­¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v3.0</span><br><span class="line">// æˆ–</span><br><span class="line">git tag -am <span class="string">"æ³¨è§£"</span> v3.0</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ ‡ç­¾çš„åˆ—è¡¨å’Œæ³¨è§£</span></span><br><span class="line">git tag -n</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤æ ‡ç­¾"><a href="#åˆ é™¤æ ‡ç­¾" class="headerlink" title="åˆ é™¤æ ‡ç­¾"></a>åˆ é™¤æ ‡ç­¾</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v2.0</span><br><span class="line">git tag -d v3.0</span><br></pre></td></tr></table></figure><h2 id="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹"><a href="#æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹" class="headerlink" title="æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹"></a>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.5</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"><a href="#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"></a>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h2 id="Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´"><a href="#Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´" class="headerlink" title="Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´"></a>Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´</h2><h3 id="æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“"><a href="#æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“"></a>æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€"></a>åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€"><a href="#ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€"></a>ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin http://xxx.git</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://www.ruanyifeng.com/blog/2012/07/git.html" target="_blank" rel="noopener">ã€ŠGitåˆ†æ”¯ç®¡ç†ç­–ç•¥â€“é˜®ä¸€å³°ã€‹</a></li><li><a href="https://backlogtool.com/git-tutorial/cn/stepup/stepup1_1.html" target="_blank" rel="noopener">çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;

      
    
    </summary>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ</title>
    <link href="http://yoursite.com/2019/02/27/dva%20models%E4%B8%80%E4%BA%9B%E9%9A%90%E8%97%8F%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2019/02/27/dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ/</id>
    <published>2019-02-27T12:34:09.000Z</published>
    <updated>2019-02-27T12:36:14.779Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://dvajs.com/guide/getting-started.html" target="_blank" rel="noopener">dva</a> æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹æ¡ˆ<br><a href="https://redux-saga.js.org/docs/api/" target="_blank" rel="noopener">redux-saga API</a></p></blockquote><h3 id="take-pattern"><a href="#take-pattern" class="headerlink" title="take(pattern)"></a>take(pattern)</h3><blockquote><p>ä½¿ç”¨takeæ“ä½œè¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨ Store ä¸Šç­‰å¾…æŒ‡å®šçš„ actionã€‚ åœ¨å‘èµ·ä¸ pattern åŒ¹é…çš„ action ä¹‹å‰ï¼ŒGenerator å°†æš‚åœï¼ˆegï¼šä¸‹ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœï¼‰ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; call, put, select, take &#125;) &#123;</span><br><span class="line">  <span class="keyword">yield</span> put(&#123;</span><br><span class="line">    type: <span class="string">'dict/xxxx'</span>,</span><br><span class="line">    payload: &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">yield</span> take(<span class="string">'dict/xxxx/@@end'</span>);</span><br><span class="line">  <span class="keyword">const</span> dictData = <span class="keyword">yield</span> select(<span class="function"><span class="params">state</span> =&gt;</span> state.dict.dicts);</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">yield</span> call(getList, &#123;</span><br><span class="line">    xxx: dictData.xxx</span><br><span class="line">    ...</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="race-effects"><a href="#race-effects" class="headerlink" title="race(effects)"></a>race(effects)</h3><blockquote><p>ä»»åŠ¡çš„ç«äº‰ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨å¤šä¸ª Effect é—´è¿è¡Œ ç«èµ›ï¼ˆRaceï¼‰ï¼ˆä¸ Promise.race([â€¦]) çš„è¡Œä¸ºç±»ä¼¼ï¼‰ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; race &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; list, timeout &#125; = <span class="keyword">yield</span> race(&#123;</span><br><span class="line">    list: call(services.fetchList),</span><br><span class="line">    timeout: call(delay, TIMEOUT),</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'timeout'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ"><a href="#ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ" class="headerlink" title="ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ"></a>ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ</h3><blockquote><p>æŠŠå¤šä¸ªè¦å¹¶è¡Œæ‰§è¡Œçš„ä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„éƒ½ç»“æŸä¹‹åï¼Œè¿›å…¥ä¸‹ä¸ªç¯èŠ‚ï¼Œç±»ä¼¼promise.allçš„æ“ä½œã€‚ä¸€èˆ¬æœ‰ä¸€äº›é›†æˆç•Œé¢ï¼Œæ¯”å¦‚dashboardï¼Œå…¶ä¸­å„ç»„ä»¶ä¹‹é—´ä¸šåŠ¡å…³è”è¾ƒå°ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼å»åˆ†åˆ«åŠ è½½æ•°æ®ï¼Œæ­¤æ—¶ï¼Œæ•´ä½“åŠ è½½æ—¶é—´åªå–å†³äºæ—¶é—´æœ€é•¿çš„é‚£ä¸ªã€‚</p></blockquote><blockquote><p>ä¹‹å‰æ˜¯ <code>yield []</code>, åæ¥ dva å‡çº§äº† saga çš„ç‰ˆæœ¬ä¹‹åå°±æ¨èç”¨ <code>yield all([])</code></p></blockquote><ul><li><p>yield []</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> [xx1_req, xx2_req, xx3_req] = <span class="keyword">yield</span> [</span><br><span class="line">    call(xx1, payload),</span><br><span class="line">    call(xx2, payload),</span><br><span class="line">    call(xx3, payload),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>yield all([])</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*fetchList(&#123; payload, callback &#125;, &#123; all &#125;) &#123;</span><br><span class="line">  <span class="keyword">const</span> [xx1_req, xx2_req, xx3_req] = <span class="keyword">yield</span> all([</span><br><span class="line">    call(xx1, payload),</span><br><span class="line">    call(xx2, payload),</span><br><span class="line">    call(xx3, payload),</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://dvajs.com/guide/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;dva&lt;/a&gt; æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
      <category term="React" scheme="http://yoursite.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶</title>
    <link href="http://yoursite.com/2019/01/04/%E6%8A%98%E8%85%BE%E4%B8%80%E4%B8%AAchrome%E6%8F%92%E4%BB%B6/"/>
    <id>http://yoursite.com/2019/01/04/æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶/</id>
    <published>2019-01-04T09:43:48.000Z</published>
    <updated>2019-01-04T09:49:11.302Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸å¼ºå¤§äº†ã€‚</p></blockquote><p>chromeæµè§ˆå™¨æ˜¯ä¸€ä¸ªå·¥ä½œã€å­¦ä¹ å’Œç”Ÿæ´»çš„å¿…å¤‡å·¥å…·ã€‚é™¤äº†chromeæœ¬èº«çš„åŸºæœ¬èƒ½åŠ›ï¼ˆæ§åˆ¶å°ç­‰ï¼‰å¤–ï¼Œèƒ½å¤§å¹…æé«˜è¿™ä¸ªç¥å™¨çš„ä½¿ç”¨ä½“éªŒçš„æ˜¯å®ƒå¯æ‰©å±•èƒ½åŠ›ï¼ˆæ’ä»¶ï¼‰ä»¥åŠä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æŠ˜è…¾ä¸€ä¸ªåœ¨çº¿ç¿»è¯‘çš„chromeæ’ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/hzzly/online-translate/master/online-translate.png" alt="online-translate"></p><p>å¥½äº†ï¼Œæœ‰äº†éœ€æ±‚æˆ‘ä»¬å°±å¾—å¼€å‘äº†(å›§)ï¼</p><h2 id="è¦ç‚¹ï¼š"><a href="#è¦ç‚¹ï¼š" class="headerlink" title="è¦ç‚¹ï¼š"></a>è¦ç‚¹ï¼š</h2><ul><li>manifest.json  // chromeé…ç½®æ–‡ä»¶</li><li>webpacké…ç½®(æ‰“åŒ…ï¼Œçƒ­ç¼–è¯‘)</li><li>jsonp</li><li>ajaxå°è£…</li></ul><p>å¼€å‘ä¹‹å‰äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Chromeæ’ä»¶=&gt;</p><h2 id="ä»€ä¹ˆæ˜¯Chromeæ’ä»¶"><a href="#ä»€ä¹ˆæ˜¯Chromeæ’ä»¶" class="headerlink" title="ä»€ä¹ˆæ˜¯Chromeæ’ä»¶"></a>ä»€ä¹ˆæ˜¯Chromeæ’ä»¶</h2><p>Chromeæ’ä»¶æ˜¯ä¸€ä¸ªç”¨WebæŠ€æœ¯å¼€å‘ã€ç”¨æ¥å¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç”±HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰èµ„æºç»„æˆçš„ä¸€ä¸ª.crxåç¼€çš„å‹ç¼©åŒ…ã€‚</p><h2 id="æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰"><a href="#æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰" class="headerlink" title="æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰"></a>æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰</h2><p>è¿™æ˜¯ä¸€ä¸ªChromeæ’ä»¶æœ€é‡è¦ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®æ‰€æœ‰å’Œæ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œå¿…é¡»æ”¾åœ¨éœ€è¦æµè§ˆå™¨æ‰“åŒ…çš„æ ¹ç›®å½•ã€‚å…¶ä¸­ï¼Œmanifest_versionã€nameã€version3ä¸ªæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œdescriptionå’Œiconsæ˜¯æ¨èçš„ã€‚</p><p>æ —å­(æ¯”è¾ƒå…¨)ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå¿…é¡»å†™ï¼Œè€Œä¸”å¿…é¡»æ˜¯2</span></span><br><span class="line">  <span class="string">"manifest_version"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶çš„åç§°</span></span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"demo"</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶çš„ç‰ˆæœ¬</span></span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="comment">// æ’ä»¶æè¿°</span></span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"ç®€å•çš„Chromeæ‰©å±•demo"</span>,</span><br><span class="line">  <span class="comment">// å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜</span></span><br><span class="line">  <span class="string">"icons"</span>: &#123;</span><br><span class="line">    <span class="string">"16"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="string">"48"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="string">"128"</span>: <span class="string">"img/icon.png"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢</span></span><br><span class="line">  <span class="string">"background"</span>: &#123;</span><br><span class="line">    <span class="comment">// 2ç§æŒ‡å®šæ–¹å¼ï¼Œå¦‚æœæŒ‡å®šJSï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ</span></span><br><span class="line">    <span class="string">"page"</span>: <span class="string">"background.html"</span></span><br><span class="line">    <span class="comment">//"scripts": ["js/background.js"]</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€</span></span><br><span class="line">  <span class="string">"browser_action"</span>: &#123;</span><br><span class="line">    <span class="string">"default_icon"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">    <span class="comment">// å›¾æ ‡æ‚¬åœæ—¶çš„æ ‡é¢˜ï¼Œå¯é€‰</span></span><br><span class="line">    <span class="string">"default_title"</span>: <span class="string">"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹Chromeæ’ä»¶"</span>,</span><br><span class="line">    <span class="string">"default_popup"</span>: <span class="string">"popup.html"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å½“æŸäº›ç‰¹å®šé¡µé¢æ‰“å¼€æ‰æ˜¾ç¤ºçš„å›¾æ ‡</span></span><br><span class="line">  <span class="comment">/*"page_action": &#123;</span></span><br><span class="line"><span class="comment">    "default_icon": "img/icon.png",</span></span><br><span class="line"><span class="comment">    "default_title": "æˆ‘æ˜¯pageAction",</span></span><br><span class="line"><span class="comment">    "default_popup": "popup.html"</span></span><br><span class="line"><span class="comment">  &#125;,*/</span></span><br><span class="line">  <span class="comment">// éœ€è¦ç›´æ¥æ³¨å…¥é¡µé¢çš„JS</span></span><br><span class="line">  <span class="string">"content_scripts"</span>: [&#123;</span><br><span class="line">    <span class="comment">//"matches": ["http://*/*", "https://*/*"],</span></span><br><span class="line">    <span class="comment">// "&lt;all_urls&gt;" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€</span></span><br><span class="line">    <span class="string">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>],</span><br><span class="line">    <span class="comment">// å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥</span></span><br><span class="line">    <span class="string">"js"</span>: [<span class="string">"js/jquery-1.8.3.js"</span>, <span class="string">"js/content-script.js"</span>],</span><br><span class="line">    <span class="comment">// JSçš„æ³¨å…¥å¯ä»¥éšä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯CSSçš„æ³¨æ„å°±è¦åƒä¸‡å°å¿ƒäº†ï¼Œå› ä¸ºä¸€ä¸å°å¿ƒå°±å¯èƒ½å½±å“å…¨å±€æ ·å¼</span></span><br><span class="line">    <span class="string">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">    <span class="comment">// ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š "document_start", "document_end", or "document_idle"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle</span></span><br><span class="line">    <span class="string">"run_at"</span>: <span class="string">"document_start"</span></span><br><span class="line">  &#125;, &#123; <span class="comment">// è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºcontent-scriptå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™</span></span><br><span class="line">    <span class="string">"matches"</span>: [<span class="string">"*://*/*.png"</span>, <span class="string">"*://*/*.jpg"</span>, <span class="string">"*://*/*.gif"</span>, <span class="string">"*://*/*.bmp"</span>],</span><br><span class="line">    <span class="string">"js"</span>: [<span class="string">"js/show-image-content-size.js"</span>]</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="comment">// æƒé™ç”³è¯·</span></span><br><span class="line">  <span class="string">"permissions"</span>: [</span><br><span class="line">    <span class="string">"contextMenus"</span>, <span class="comment">// å³é”®èœå•</span></span><br><span class="line">    <span class="string">"tabs"</span>, <span class="comment">// æ ‡ç­¾</span></span><br><span class="line">    <span class="string">"notifications"</span>, <span class="comment">// é€šçŸ¥</span></span><br><span class="line">    <span class="string">"webRequest"</span>, <span class="comment">// webè¯·æ±‚</span></span><br><span class="line">    <span class="string">"webRequestBlocking"</span>,</span><br><span class="line">    <span class="string">"storage"</span>, <span class="comment">// æ’ä»¶æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">    <span class="string">"http://*/*"</span>, <span class="comment">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class="line">    <span class="string">"https://*/*"</span> <span class="comment">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä»‹ç»å®Œåæˆ‘ä»¬å°±æ¥å¼€å‘äº†(ç ä»£ç ä¸­â€¦)</p><h2 id="å¼€å‘-åŸºäºVue"><a href="#å¼€å‘-åŸºäºVue" class="headerlink" title="å¼€å‘(åŸºäºVue)"></a>å¼€å‘(åŸºäºVue)</h2><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir online-translate</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> online-translate</span><br><span class="line"></span><br><span class="line">npm init</span><br><span class="line"></span><br><span class="line">// æ–‡ä»¶å±‚çº§</span><br><span class="line">â”œâ”€â”€ chrome  // æµè§ˆå™¨æ‰“åŒ…çš„æ–‡ä»¶å¤¹</span><br><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ src  // æºç </span><br><span class="line">â””â”€â”€ webpack.config.js  // wepack</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// å®‰è£…é¡¹ç›®ä¾èµ–</span><br><span class="line">npm install vue element-ui --save</span><br><span class="line"></span><br><span class="line">// å®‰è£…å¼€å‘ä¾èµ–</span><br><span class="line">npm install babel-core babel-loader babel-plugin-component babel-preset-env cross-env css-loader file-loader html-webpack-plugin style-loader vue-loader vue-template-compiler webpack webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure><h3 id="webpacké…ç½®"><a href="#webpacké…ç½®" class="headerlink" title="webpacké…ç½®"></a>webpacké…ç½®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    popup: <span class="string">'./src/popup.js'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./chrome'</span>),</span><br><span class="line">    publicPath: <span class="string">'/'</span>,</span><br><span class="line">    filename: <span class="string">'[name].[hash].js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          loaders: &#123;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// other vue-loader options go here</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        loader: <span class="string">'style-loader!css-loader'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(eot|svg|ttf|woff|woff2)(\?\S*)?$/</span>,</span><br><span class="line">        loader: <span class="string">'file-loader'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|svg)$/</span>,</span><br><span class="line">        loader: <span class="string">'file-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          name: <span class="string">'[name].[ext]?[hash]'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// new webpack.HotModuleReplacementPlugin(),</span></span><br><span class="line">    <span class="comment">// new webpack.NamedModulesPlugin(),</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: path.join(__dirname, <span class="string">'./index.html'</span>),</span><br><span class="line">      inject: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">    noInfo: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  performance: &#123;</span><br><span class="line">    hints: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devtool: <span class="string">'#eval-source-map'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports.devtool = <span class="string">'#source-map'</span></span><br><span class="line">  <span class="comment">// http://vue-loader.vuejs.org/en/workflow/production.html</span></span><br><span class="line">  <span class="built_in">module</span>.exports.plugins = (<span class="built_in">module</span>.exports.plugins || []).concat([</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line">        NODE_ENV: <span class="string">'"production"'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">      sourceMap: <span class="literal">false</span>,</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.LoaderOptionsPlugin(&#123;</span><br><span class="line">      minimize: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬å°±èƒ½æ„‰å¿«çš„å¼€å‘äº†</p><h3 id="æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼"><a href="#æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼" class="headerlink" title="æ¥ä¸‹æ¥å°±æ˜¯ Vue çš„å¼€å‘äº†ï¼"></a>æ¥ä¸‹æ¥å°±æ˜¯ <code>Vue</code> çš„å¼€å‘äº†ï¼</h3><p>æ­£å¸¸çš„é¡¹ç›®å¼€å‘â€¦</p><p>è¯¦ç»†æºç å¯ä»¥çœ‹<a href="https://github.com/hzzly/online-translate" target="_blank" rel="noopener">github</a></p><h3 id="webpackæ‰“åŒ…"><a href="#webpackæ‰“åŒ…" class="headerlink" title="webpackæ‰“åŒ…"></a>webpackæ‰“åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><p>æŠŠä»£ç æ‰“åŒ…åˆ°äº†chromeæ–‡ä»¶å¤¹å†…ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨chromeæ‰©å±•è¿›è¡Œæ‰“åŒ…æ‰©å±•ç¨‹åºï¼Œä¼šç”Ÿæˆ.crxå’Œ.pemæ–‡ä»¶ï¼Œç„¶åç›´æ¥å‘å¸ƒæˆ–è€…æŠŠ.crxæ–‡ä»¶æ‹–è¿›æ‰©å±•ç¨‹åºå†…è¿›è¡Œå†…æµ‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="chrome" scheme="http://yoursite.com/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Node é…ç½®æ–‡ä»¶çš„å®šåˆ¶</title>
    <link href="http://yoursite.com/2018/11/13/Node-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%9A%E5%88%B6/"/>
    <id>http://yoursite.com/2018/11/13/Node-é…ç½®æ–‡ä»¶çš„å®šåˆ¶/</id>
    <published>2018-11-13T13:54:17.000Z</published>
    <updated>2019-01-02T07:58:14.547Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶<br>å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤</p></blockquote><p>ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦ç”¨åˆ°ä¸€äº›å¯é…ç½®çš„å˜é‡ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œåœ¨å¼€å‘æ—¶æˆ‘ä»¬ä¼šè¿å¼€å‘çš„æ•°æ®åº“ï¼Œç”Ÿæˆç¯å¢ƒæˆ‘ä»¬éœ€è¦è¿ç”Ÿäº§çš„æ•°æ®åº“ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ è½½ä¸ä¸€æ ·çš„é…ç½®æ–‡ä»¶ï¼Œä»è€Œæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥å®šåˆ¶æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚</p><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><p>åœ¨ Node ä¸­å¯ä»¥é€šè¿‡ <code>process.env</code> æ¥è®¿é—®å½“å‰çš„ç¯å¢ƒå˜é‡ä¿¡æ¯ã€‚<br>æ¯”å¦‚æˆ‘ä»¬åœ¨ <code>package.json</code> ä¸­é€šè¿‡ <code>scripts</code> å®šä¹‰çš„shellè„šæœ¬æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "start": "node ./bin/www",</span><br><span class="line">    "dev": "NODE_ENV=dev node ./bin/www",</span><br><span class="line">    "pro": "NODE_ENV=pro node ./bin/www"</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æœ‰ä¸‰æ¡æ¡å¯åŠ¨å‘½ä»¤ï¼Œä¸€æ¡æ˜¯é»˜è®¤çš„ <code>start</code>ï¼Œå¦å¤–ä¸¤æ¡æˆ‘ä»¬é€šè¿‡ <code>NODE_ENV=xxx</code> æ¥è®¾ç½®äº†å¯¹åº”çš„ç¯å¢ƒï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œé€šè¿‡ <code>process.env.NODE_ENV</code> å°±å¯ä»¥å–åˆ°é¡¹ç›®çš„å½“å‰ç¯å¢ƒã€‚</p><h2 id="é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶"><a href="#é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶" class="headerlink" title="é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶"></a>é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶</h2><p>åœ¨ä¸Šé¢æˆ‘ä»¬é€šè¿‡shellè„šæœ¬æŒ‡å®šäº†å¯¹åº”çš„ç¯å¢ƒï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>process.env.NODE_ENV</code> æ¥åŠ è½½å¯¹åº”çš„é…ç½®æ–‡ä»¶äº†ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config/index.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    mongodb: <span class="string">'mongodb://localhost:27017/demo'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  build: &#123;</span><br><span class="line">    ...çœç•¥</span><br><span class="line">    mongodb: <span class="string">'mongodb://127.0.0.0:27017/demo'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./config'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mongodb = process.env.NODE_ENV === <span class="string">'dev'</span> ? config.build.mongodb : config.dev.mongodb</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒçš„æ”¾å¿ƒçš„å†™ä»£ç äº†ï¼Œä½†è¿™æ ·å†™è¿˜ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œéƒ½å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œäº†ï¼Œä¸å¤ªå¥½ç»´æŠ¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœŸæ­£çš„åŠ¨æ€åŠ è½½ï¼Œä¸éœ€è¦æˆ‘ä»¬å†åŠ åˆ¤æ–­äº†ã€‚</p><h2 id="config-lite"><a href="#config-lite" class="headerlink" title="config-lite"></a>config-lite</h2><blockquote><p><a href="https://github.com/nswbmw/config-lite" target="_blank" rel="noopener">config-lite</a>ï¼š A super simple &amp; flexible &amp; intuitive config module, support yaml &amp; toml.</p></blockquote><p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒï¼Œå°†é…ç½®å†™å…¥ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºconfigç›®å½•ï¼Œé‡Œé¢æ–°å»ºä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼šdefault.jsã€dev.jså’Œpro.jsã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// default.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dev.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  host: <span class="string">"https://dev.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://localhost:27017/test'</span>,</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pro.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  host: <span class="string">"https://pro.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>å¥½äº†ï¼Œé…ç½®æ–‡ä»¶å†™å¥½äº†ï¼Œå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ <code>config-lite</code> æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¾æ—§æ˜¯ä¾æ®æˆ‘ä»¬shellè„šæœ¬æŒ‡å®šçš„å¯¹åº”ç¯å¢ƒæ¥é€‰æ‹©ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚</p><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i config-lite --save</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œ<code>config-lite</code>ä¼šå»æŠ“å–dev.jsé…ç½®ï¼Œå¹¶ä¸”ä¼šä¸default.jsé‡Œé…ç½®å»åˆå¹¶ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å¯¹è±¡ï¼Œä¼šè¦†ç›–default.jsé‡Œçš„é…ç½®ã€‚åŒç† <code>npm run pro</code></p><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'config-lite'</span>)(__dirname);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€å¦‚æœè¿è¡Œ npm run dev</span></span><br><span class="line">config = &#123;</span><br><span class="line">  host: <span class="string">"https://dev.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://localhost:27017/test'</span>,</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€å¦‚æœè¿è¡Œ npm run pro</span></span><br><span class="line">config = &#123;</span><br><span class="line">  host: <span class="string">"https://pro.com"</span>,</span><br><span class="line">  mongodb: <span class="string">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class="line">  session: &#123;</span><br><span class="line">    secret: <span class="string">'config-lite-demo'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span>,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">      maxAge: <span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...çœç•¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æ›´å¥½ç»´æŠ¤çš„åŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶ã€‚è¿˜æœ‰ä¸€ä¸ª<code>é—®é¢˜</code>ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨windowså¹³å°ä¸‹ä½¿ç”¨ç±»ä¼¼äº: NODE_ENV=proçš„å‘½ä»¤è¡ŒæŒ‡ä»¤ä¼šå¡ä½ï¼Œwindowså¹³å°ä¸POSIXåœ¨ä½¿ç”¨å‘½ä»¤è¡Œæ—¶æœ‰è®¸å¤šåŒºåˆ«ï¼ˆä¾‹å¦‚åœ¨POSIXï¼Œä½¿ç”¨$ENV_VAR,åœ¨windowsï¼Œä½¿ç”¨%ENV_VAR%ã€‚ã€‚ã€‚ï¼‰ï¼‰ã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼ŸğŸ‘‡</p><h2 id="cross-env"><a href="#cross-env" class="headerlink" title="cross-env"></a>cross-env</h2><blockquote><p>cross-env è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œä¸åŒå¹³å°ä½¿ç”¨å”¯ä¸€æŒ‡ä»¤ï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜</p></blockquote><h3 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i cross-env --save</span><br></pre></td></tr></table></figure><h3 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "start": "node ./bin/www",</span><br><span class="line">    "dev": "cross-env NODE_ENV=dev node ./bin/www",</span><br><span class="line">    "pro": "cross-env NODE_ENV=pro node ./bin/www"</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · NODE_ENV ä¾¿è®¾ç½®æˆåŠŸï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜ã€‚</p><h2 id="egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"><a href="#egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨" class="headerlink" title="egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨"></a>egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨</h2><p>åœ¨ config ç›®å½•(è„šæ‰‹æ¶ç”Ÿæˆçš„)æ–°å¢ config.dev.js å’Œ config.pro.jsï¼Œç„¶ååœ¨æ–‡ä»¶å†…å†™æˆ‘ä»¬å¯¹åº”ç¯å¢ƒçš„é…ç½®ã€‚</p><ul><li>é…ç½®ç¯å¢ƒ<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "script": &#123;</span><br><span class="line">    ...</span><br><span class="line">    "dev": "EGG_SERVER_ENV=dev egg-bin dev",</span><br><span class="line">    "pro": "EGG_SERVER_ENV=pro egg-scripts start",</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>åœ¨ egg ä¸­é€šè¿‡ <code>EGG_SERVER_ENV</code> æ¥å£°æ˜å¯¹åº”çš„ç¯å¢ƒå˜é‡ã€‚</p><ul><li>ä½¿ç”¨<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = <span class="keyword">this</span>.app.config <span class="comment">// å¾—åˆ°å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶(ä¹Ÿä¼šå’Œ default è¿›è¡Œåˆå¹¶)</span></span><br></pre></td></tr></table></figure></li></ul><p>å®Œç»“ï¼Œå¥½ä¹…æ²¡å†™äº†ï¼Œæœ‰ç‚¹ç”Ÿç–äº†ï¼Œè‹¦ç¬‘ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶&lt;br&gt;å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="node" scheme="http://yoursite.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è·¯ç”±çš„å®ç°åŸç†</title>
    <link href="http://yoursite.com/2017/09/16/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/"/>
    <id>http://yoursite.com/2017/09/16/å‰ç«¯è·¯ç”±çš„å®ç°åŸç†/</id>
    <published>2017-09-16T13:09:32.000Z</published>
    <updated>2019-03-05T12:22:34.264Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><blockquote><p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„é¡µé¢ä¹Ÿä¸ç›¸åŒã€‚è¿™æ˜¯ä»è·¯ç”±çš„ç”¨é€”ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰ä¸€ç§è¯´æ³•æ˜¯ï¼šè·¯ç”±å°±æ˜¯URLåˆ°å‡½æ•°çš„æ˜ å°„ã€‚è¿™æ˜¯ä»è·¯ç”±çš„å®ç°åŸç†ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ã€‚è¿™ä¸¤ç§è¯´æ³•éƒ½å¾ˆæœ‰é“ç†ã€‚</p></blockquote><blockquote><p>æ—©æœŸçš„è·¯ç”±éƒ½æ˜¯åç«¯å®ç°çš„ï¼Œç›´æ¥æ ¹æ® url æ¥ reload é¡µé¢ï¼Œé¡µé¢å˜å¾—è¶Šæ¥è¶Šå¤æ‚æœåŠ¡å™¨ç«¯å‹åŠ›å˜å¤§ï¼Œéšç€ ajax çš„å‡ºç°ï¼Œé¡µé¢å®ç°é reload å°±èƒ½åˆ·æ–°æ•°æ®ï¼Œä¹Ÿç»™å‰ç«¯è·¯ç”±çš„å‡ºç°å¥ å®šäº†åŸºç¡€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®°å½• url æ¥è®°å½• ajax çš„å˜åŒ–ï¼Œä»è€Œå®ç°å‰ç«¯è·¯ç”±ã€‚</p></blockquote><p>å‰ç«¯è·¯ç”±è¯´ç™½äº†å°±æ˜¯ç›‘å¬æµè§ˆå™¨è·¯ç”±åœ°å€çš„å˜åŒ–ï¼Œæ¸²æŸ“ä¸åŒçš„é¡µé¢æˆ–ç»„ä»¶ã€‚<br>ä¸‹é¢ä¸»è¦è®²ä¸¤ç§ä¸»æµæ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼š</p><h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>è¿™é‡Œä¸ç»†è¯´æ¯ä¸€ä¸ª API çš„ç”¨æ³•ï¼Œå¤§å®¶å¯ä»¥çœ‹ MDN çš„æ–‡æ¡£ï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/History" target="_blank" rel="noopener">https://developer.mozilla.orgâ€¦</a></p><p>14å¹´åï¼Œå› ä¸ºHTML5æ ‡å‡†å‘å¸ƒï¼Œæ–°å¢äº†ä¸¤ä¸ª APIï¼Œhistory.pushState å’Œ history.replaceStateï¼Œé€šè¿‡è¿™ä¸¤ä¸ª API å¯ä»¥æ”¹å˜ url åœ°å€ä¸”ä¸ä¼šå‘é€è¯·æ±‚ã€‚</p><p>è¿™ä¸¤ä¸ª API éƒ½æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯</p><ul><li>çŠ¶æ€å¯¹è±¡ï¼ˆstate objectï¼‰ â€” ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œä¸ç”¨pushState()æ–¹æ³•åˆ›å»ºçš„æ–°å†å²è®°å½•æ¡ç›®å…³è”ã€‚æ— è®ºä½•æ—¶ç”¨æˆ·å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„çŠ¶æ€ï¼Œpopstateäº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ï¼Œå¹¶ä¸”äº‹ä»¶å¯¹è±¡çš„stateå±æ€§éƒ½åŒ…å«å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„æ‹·è´ã€‚</li><li>æ ‡é¢˜ï¼ˆtitleï¼‰ â€” FireFoxæµè§ˆå™¨ç›®å‰ä¼šå¿½ç•¥è¯¥å‚æ•°ï¼Œè™½ç„¶ä»¥åå¯èƒ½ä¼šç”¨ä¸Šã€‚è€ƒè™‘åˆ°æœªæ¥å¯èƒ½ä¼šå¯¹è¯¥æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œä¼ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¼šæ¯”è¾ƒå®‰å…¨ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªç®€çŸ­çš„æ ‡é¢˜ï¼Œæ ‡æ˜å°†è¦è¿›å…¥çš„çŠ¶æ€ã€‚</li><li>åœ°å€ï¼ˆURLï¼‰ â€” æ–°çš„å†å²è®°å½•æ¡ç›®çš„åœ°å€ã€‚æµè§ˆå™¨ä¸ä¼šåœ¨è°ƒç”¨pushState()æ–¹æ³•ååŠ è½½è¯¥åœ°å€ï¼Œä½†ä¹‹åï¼Œå¯èƒ½ä¼šè¯•å›¾åŠ è½½ï¼Œä¾‹å¦‚ç”¨æˆ·é‡å¯æµè§ˆå™¨ã€‚æ–°çš„URLä¸ä¸€å®šæ˜¯ç»å¯¹è·¯å¾„ï¼›å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒå°†ä»¥å½“å‰URLä¸ºåŸºå‡†ï¼›ä¼ å…¥çš„URLä¸å½“å‰URLåº”è¯¥æ˜¯åŒæºçš„ï¼Œå¦åˆ™ï¼ŒpushState()ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼›ä¸æŒ‡å®šçš„è¯åˆ™ä¸ºæ–‡æ¡£å½“å‰URLã€‚<br>ç›¸åŒä¹‹å¤„æ˜¯ä¸¤ä¸ª API éƒ½ä¼šæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œè€Œä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ã€‚</li></ul><p>ä¸åŒä¹‹å¤„åœ¨äºï¼ŒpushStateä¼šå¢åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•ï¼Œè€ŒreplaceStateåˆ™ä¼šæ›¿æ¢å½“å‰çš„å†å²è®°å½•ã€‚</p><p>æˆ‘ä»¬æ‹¿å¤§ç™¾åº¦çš„æ§åˆ¶å°ä¸¾ä¾‹å­ï¼ˆå…·ä½“è¯´æ˜¯æˆ‘çš„æµè§ˆå™¨åœ¨ç™¾åº¦é¦–é¡µæ‰“å¼€æ§åˆ¶å°ã€‚ã€‚ã€‚ï¼‰</p><p>æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"https://www.baidu.com/?name=hzzly"</span>);</span><br></pre></td></tr></table></figure><p>å¥½ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ­¤æ—¶çš„ url å˜æˆäº†è¿™æ ·<br><code>https://www.baidu.com/?name=hzzly</code></p><p>æˆ‘ä»¬è¿™é‡Œä¸ä¸€ä¸€æµ‹è¯•ï¼Œç›´æ¥ç»™å‡ºå…¶å®ƒç”¨æ³•ï¼Œå¤§å®¶è‡ªè¡Œå°è¯•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"https://www.baidu.com/name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"?name=hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com?name=hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"name=hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name=hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"/name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">window</span>.history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">"name/hzzly"</span>);</span><br><span class="line"><span class="comment">//url: https://www.baidu.com/name/hzzly</span></span><br></pre></td></tr></table></figure></p><p>æ¯æ¬¡æ”¹å˜ url é¡µé¢å¹¶æ²¡æœ‰åˆ·æ–°ï¼ŒåŒæ ·æ ¹æ®ä¸Šæ–‡æ‰€è¿°ï¼Œæµè§ˆå™¨ä¼šäº§ç”Ÿå†å²è®°å½•ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬historyå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” popstate äº‹ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchAndUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŒ¹é…è·¯å¾„ åš dom æ›´æ–°æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure></p><h1 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h1><p>æˆ‘ä»¬ç»å¸¸åœ¨ url ä¸­çœ‹åˆ° #ï¼Œè¿™ä¸ª # æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬æ‰€è°“çš„é”šç‚¹ï¼Œæ¯”å¦‚å…¸å‹çš„å„ä¸ªæ ‡é¢˜ä¹‹é—´çš„è·³è½¬ç­‰ï¼Œè·¯ç”±é‡Œçš„ # ä¸å«é”šç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º hashã€‚</p><p>åŒæ ·æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬å“ˆå¸Œå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” hashchange äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchAndUpdate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŒ¹é… hash åš dom æ›´æ–°æ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'hashchange'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨ window.location å¤„ç†å“ˆå¸Œçš„æ”¹å˜æ—¶ä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯å½“ä½œæ–°é¡µé¢åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬è·³è½¬é¡µé¢å°±å¯ä»¥åœ¨ hashchange äº‹ä»¶ä¸­æ³¨å†Œ ajax ä»è€Œæ”¹å˜é¡µé¢å†…å®¹ã€‚</p><h1 id="å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹"><a href="#å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹" class="headerlink" title="å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹"></a>å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹</h1><p>ä¼˜ç‚¹ï¼š<br>1.ä»æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„å±‚é¢æ¥æ¯”è¾ƒçš„è¯ï¼Œåç«¯è·¯ç”±æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™éƒ½è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å†å“åº”è¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹è‚¯å®šä¼šæœ‰å»¶è¿Ÿã€‚è€Œå‰ç«¯è·¯ç”±åœ¨è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™ä»…ä»…æ˜¯å˜æ¢äº†ä¸€ä¸‹è·¯å¾„è€Œå·²ï¼Œæ²¡æœ‰äº†ç½‘ç»œå»¶è¿Ÿï¼Œå¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ä¼šæœ‰ç›¸å½“å¤§çš„æå‡ã€‚<br>2.åœ¨æŸäº›åœºåˆä¸­ï¼Œç”¨ajaxè¯·æ±‚ï¼Œå¯ä»¥è®©é¡µé¢æ— åˆ·æ–°ï¼Œé¡µé¢å˜äº†ä½†Urlæ²¡æœ‰å˜åŒ–ï¼Œç”¨æˆ·å°±ä¸èƒ½å¤åˆ¶åˆ°æƒ³è¦çš„åœ°å€ï¼Œç”¨å‰ç«¯è·¯ç”±åšå•é¡µé¢ç½‘é¡µå°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜</p><p>ç¼ºç‚¹ï¼š<br>ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€é”®çš„æ—¶å€™ä¼šé‡æ–°å‘é€è¯·æ±‚ï¼Œæ²¡æœ‰åˆç†åœ°åˆ©ç”¨ç¼“å­˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·¯ç”±&quot;&gt;&lt;a href=&quot;#è·¯ç”±&quot; class=&quot;headerlink&quot; title=&quot;è·¯ç”±&quot;&gt;&lt;/a&gt;è·¯ç”±&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Vue.jsä¸­ä½¿ç”¨Mixins</title>
    <link href="http://yoursite.com/2017/09/12/%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8Mixins/"/>
    <id>http://yoursite.com/2017/09/12/åœ¨Vue-jsä¸­ä½¿ç”¨Mixins/</id>
    <published>2017-09-12T03:15:14.000Z</published>
    <updated>2019-01-02T07:46:54.665Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯?</p></blockquote><p>è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å®Œç¾çš„: å¦‚æœä½ å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶, åœ¨éœ€æ±‚å˜åŒ–(åŠŸèƒ½å˜åŒ–)æ—¶, å¯èƒ½ä¼šå¢åŠ éœ€è¦åŒæ—¶ä¿®æ”¹ä¸¤ä¸ªç»„ä»¶çš„é£é™©, è¿™è¿åäº†â€DRYâ€çš„å‰æ. å¦ä¸€æ–¹é¢, å¤ªå¤šçš„propså¾ˆå¿«ä¼šè®©äººå˜å¾—å‡Œä¹±, å¹¶ä¸”, è¿«ä½¿ç»´æŠ¤äººå‘˜, ç”šè‡³æ˜¯ä½ è‡ªå·±, è¦é¦–å…ˆç†è§£è¿™äº›propsçš„ä¸Šä¸‹æ–‡æ‰èƒ½ä½¿ç”¨å®ƒ, è¿™ä¼šè®©äººéå¸¸å¤±æœ›.</p><p>Vueçš„Mixinsæ˜¯éå¸¸å®ç”¨çš„ç¼–ç¨‹æ–¹å¼, å› ä¸ºæœ€ç»ˆå®ç”¨çš„ç¼–ç¨‹æ˜¯é€šè¿‡ä¸æ–­å‡å°‘è¿åŠ¨éƒ¨ä»¶(moving parts)ä½¿ä»£ç å˜å¾—å®¹æ˜“ç†è§£. (å…³äºè¿™ä¸€ç‚¹, Michael Feathersæœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¼•ç”¨). ä¸€ä¸ªmixinå…è®¸ä½ å°è£…ä¸€ä¸ªåŠŸèƒ½, ä»¥ä¾¿ä½ èƒ½åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç»„ä»¶ä¸­ä½¿ç”¨å®ƒ. å¦‚æœmixinè¢«æ­£ç¡®çš„åˆ›å»º, å®ƒä»¬æ˜¯çº¯ç²¹çš„â€“å®ƒä»¬ä¸ä¼šä¿®æ”¹æˆ–æ›´æ”¹å‡½æ•°çš„ä½œç”¨èŒƒå›´(scope)ä¹‹å¤–çš„å†…å®¹, å› æ­¤, æ‚¨å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹æ‰§è¡Œå®ƒä»¬, å¹¶ä¸”åªè¦è¾“å…¥å€¼ç›¸åŒ, æ€»æ˜¯èƒ½éå¸¸å¯é å¾—å¾—åˆ°ç›¸åŒçš„ç»“æœ. è¿™çœŸçš„éå¸¸å¼ºå¤§.</p><h1 id="è®¤è¯†Mixins"><a href="#è®¤è¯†Mixins" class="headerlink" title="è®¤è¯†Mixins"></a>è®¤è¯†Mixins</h1><p><a href="https://cn.vuejs.org/v2/guide/mixins.html" target="_blank" rel="noopener">æ··åˆ (mixins)</a> æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p><h1 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a>æ —å­</h1><blockquote><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸åŒçš„ç»„ä»¶, å®ƒä»¬çš„å·¥ä½œæ˜¯åˆ‡æ¢çŠ¶æ€boolean, ä¸€ä¸ªæ¨¡æ€(modal)å’Œä¸€ä¸ªæç¤º(tooltip). è¿™äº›tooltipså’Œmodalsæ²¡æœ‰å¾ˆå¤šå…±åŒä¹‹å¤„, é™¤äº†è¿™ä¸ªåŠŸèƒ½: å®ƒä»¬çœ‹èµ·æ¥ä¸ä¸€æ ·, å®ƒä»¬ä½¿ç”¨èµ·æ¥ä¹Ÿä¸å°½ç›¸åŒ, ä½†æ˜¯å®ƒä»¬çš„é€»è¾‘æ˜¯ç›¸ä¼¼çš„ .</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//modal</span></span><br><span class="line"><span class="keyword">const</span> Modal = &#123;</span><br><span class="line">  template: <span class="string">'#modal'</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//tooltip</span></span><br><span class="line"><span class="keyword">const</span> Tooltip = &#123;</span><br><span class="line">  template: <span class="string">'#tooltip'</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä»ä¸­æå–é€»è¾‘, å¹¶åˆ›å»ºå¯ä»¥å¤ç”¨çš„éƒ¨åˆ†ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toggle = &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      isShowing: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleShow() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isShowing = !<span class="keyword">this</span>.isShowing;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Modal = &#123;</span><br><span class="line">  template: <span class="string">'#modal'</span>,</span><br><span class="line">  mixins: [toggle]</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Tooltip = &#123;</span><br><span class="line">  template: <span class="string">'#tooltip'</span>,</span><br><span class="line">  mixins: [toggle]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>duang â€” ä¸€ä¸ªå°è€Œç®€å•çš„ğŸŒ°è®©æˆ‘ä»¬çŸ¥é“äº†Mixinså¯¹äºå°è£…ä¸€äº›å¯å¤ç”¨çš„åŠŸèƒ½å¦‚æ­¤æœ‰è¶£ã€æ–¹ä¾¿ã€å®ç”¨ã€‚</p><h1 id="é¡¹ç›®å®è·µ"><a href="#é¡¹ç›®å®è·µ" class="headerlink" title="é¡¹ç›®å®è·µ"></a>é¡¹ç›®å®è·µ</h1><blockquote><ul><li><a href="https://github.com/hzzly/MagicMusic/blob/master/src/common/js/mixin.js" target="_blank" rel="noopener">MagicMusic</a> star(200+)</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯?&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueæ’ä»¶çš„å¼€å‘(ä¸€)</title>
    <link href="http://yoursite.com/2017/08/25/Vue%E6%8F%92%E4%BB%B6%E7%9A%84%E5%BC%80%E5%8F%91-%E4%B8%80/"/>
    <id>http://yoursite.com/2017/08/25/Vueæ’ä»¶çš„å¼€å‘-ä¸€/</id>
    <published>2017-08-25T05:59:55.000Z</published>
    <updated>2017-08-25T06:05:54.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vue-toast æ’ä»¶ï¼Œæ¥äº†è§£æŒæ¡æ’ä»¶çš„å¼€å‘å’Œä½¿ç”¨ã€‚</p></blockquote><h1 id="è®¤è¯†æ’ä»¶"><a href="#è®¤è¯†æ’ä»¶" class="headerlink" title="è®¤è¯†æ’ä»¶"></a>è®¤è¯†æ’ä»¶</h1><p>æƒ³è¦å¼€å‘æ’ä»¶ï¼Œå…ˆè¦è®¤è¯†ä¸€ä¸ªæ’ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚<a href="https://cn.vuejs.org/v2/guide/plugins.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£:æ’ä»¶</a></p><p>Vue.js çš„æ’ä»¶åº”å½“æœ‰ä¸€ä¸ªå…¬å¼€æ–¹æ³• install ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ , ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MyPlugin.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.myGlobalMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚: vue-custom-element</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">Vue.directive(<span class="string">'my-directive'</span>, &#123;  <span class="comment">// 2. æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ vue-touch</span></span><br><span class="line">bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;)</span><br><span class="line">Vue.mixin(&#123;</span><br><span class="line">created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 3. é€šè¿‡å…¨å±€ mixinæ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚: vuex</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;)</span><br><span class="line">Vue.prototype.$myMethod = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;  <span class="comment">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°</span></span><br><span class="line"><span class="comment">// é€»è¾‘...</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¦è®²åˆ°çš„ vue-toast æ’ä»¶åˆ™æ˜¯é€šè¿‡æ·»åŠ å®ä¾‹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªå°ä¾‹å­ã€‚å…ˆæ–°å»ºä¸ªjsæ–‡ä»¶æ¥ç¼–å†™æ’ä»¶ï¼štoast.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.prototype.$msg = <span class="string">'Hello World'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>åœ¨ main.js ä¸­ï¼Œéœ€è¦å¯¼å…¥ toast.js å¹¶ä¸”é€šè¿‡å…¨å±€æ–¹æ³• Vue.use() æ¥ä½¿ç”¨æ’ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Toast <span class="keyword">from</span> <span class="string">'./toast.js'</span>;</span><br><span class="line">Vue.use(Toast);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­æ¥è·å–è¯¥æ’ä»¶å®šä¹‰çš„ $msg å±æ€§ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">mounted()&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.$msg);         <span class="comment">// Hello World</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº† Hello World ã€‚æ—¢ç„¶ $msg èƒ½è·å–åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥å®ç°æˆ‘ä»¬çš„ vue-toast æ’ä»¶äº†ã€‚</p><h1 id="å¼€å‘-vue-toast-æ’ä»¶"><a href="#å¼€å‘-vue-toast-æ’ä»¶" class="headerlink" title="å¼€å‘ vue-toast æ’ä»¶"></a>å¼€å‘ vue-toast æ’ä»¶</h1><p>éœ€æ±‚ï¼šåœ¨ç»„ä»¶ä¸­é€šè¿‡è°ƒç”¨ <strong>this.$toast(â€˜ç½‘ç»œè¯·æ±‚å¤±è´¥â€™) </strong>æ¥å¼¹å‡ºæç¤ºï¼Œé»˜è®¤åœ¨åº•éƒ¨æ˜¾ç¤ºã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ <strong>this.$toast.top()</strong> æˆ– <strong>this.$toast.center()</strong> ç­‰æ–¹æ³•æ¥å®ç°åœ¨ä¸åŒä½ç½®æ˜¾ç¤ºã€‚</p><p>æ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œå¼¹å‡ºæç¤ºçš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥åœ¨ body ä¸­æ·»åŠ ä¸€ä¸ª div ç”¨æ¥æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œä¸åŒçš„ä½ç½®æˆ‘é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»åæ¥å®šä½ï¼Œé‚£å°±å¯ä»¥å¼€å§‹å†™äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;     <span class="comment">// 1ã€åˆ›å»ºæ„é€ å™¨ï¼Œå®šä¹‰å¥½æç¤ºä¿¡æ¯çš„æ¨¡æ¿</span></span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> tpl = <span class="keyword">new</span> toastTpl().$mount().$el;  <span class="comment">// 2ã€åˆ›å»ºå®ä¾‹ï¼ŒæŒ‚è½½åˆ°æ–‡æ¡£ä»¥åçš„åœ°æ–¹</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(tpl);     <span class="comment">// 3ã€æŠŠåˆ›å»ºçš„å®ä¾‹æ·»åŠ åˆ°bodyä¸­</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;        <span class="comment">// 4ã€å»¶è¿Ÿ2.5ç§’åç§»é™¤è¯¥æç¤º</span></span><br><span class="line"><span class="built_in">document</span>.body.removeChild(tpl);</span><br><span class="line">&#125;, <span class="number">2500</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>å¥½åƒå¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±å®ç°äº† this.$toast() ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºä¸åŒä½ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toast.js</span></span><br><span class="line">[<span class="string">'bottom'</span>, <span class="string">'center'</span>, <span class="string">'top'</span>].forEach(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">Vue.prototype.$toast[type] = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Vue.prototype.$toast(tips,type)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡ŒæŠŠ type ä¼ ç»™ $toast åœ¨è¯¥æ–¹æ³•é‡Œè¿›è¡Œä¸åŒä½ç½®çš„å¤„ç†ï¼Œä¸Šé¢è¯´äº†é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»å(toast-bottomã€toast-topã€toast-center)æ¥å®ç°ï¼Œé‚£ $toast æ–¹æ³•éœ€è¦å°å°ä¿®æ”¹ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips,type</span>) =&gt;</span> &#123;     <span class="comment">// æ·»åŠ  type å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;             <span class="comment">// æ¨¡æ¿æ·»åŠ ä½ç½®ç±»</span></span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast toast-'</span>+ type +<span class="string">'"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½åƒå·®ä¸å¤šäº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³é»˜è®¤åœ¨é¡¶éƒ¨æ˜¾ç¤ºï¼Œæˆ‘æ¯æ¬¡éƒ½è¦è°ƒç”¨ this.$toast.top() å¥½åƒå°±æœ‰ç‚¹å¤šä½™äº†ï¼Œæˆ‘èƒ½ä¸èƒ½ this.$toast() å°±ç›´æ¥åœ¨æˆ‘æƒ³è¦çš„åœ°æ–¹å‘¢ï¼Ÿè¿˜æœ‰æˆ‘ä¸æƒ³è¦ 2.5s åæ‰æ¶ˆå¤±å‘¢ï¼Ÿè¿™æ—¶å€™æ³¨æ„åˆ° Toast.install(Vue,options) é‡Œçš„ options å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Vue.use() é€šè¿‡ options ä¼ è¿›æˆ‘ä»¬æƒ³è¦çš„å‚æ•°ã€‚æœ€åä¿®æ”¹æ’ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Toast = &#123;&#125;;</span><br><span class="line">Toast.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> opt = &#123;</span><br><span class="line">defaultType:<span class="string">'bottom'</span>,   <span class="comment">// é»˜è®¤æ˜¾ç¤ºä½ç½®</span></span><br><span class="line">duration:<span class="string">'2500'</span>         <span class="comment">// æŒç»­æ—¶é—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> property <span class="keyword">in</span> options)&#123;</span><br><span class="line">opt[property] = options[property];  <span class="comment">// ä½¿ç”¨ options çš„é…ç½®</span></span><br><span class="line">&#125;</span><br><span class="line">Vue.prototype.$toast = <span class="function">(<span class="params">tips,type</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(type)&#123;</span><br><span class="line">opt.defaultType = type;         <span class="comment">// å¦‚æœæœ‰ä¼ typeï¼Œä½ç½®åˆ™è®¾ä¸ºè¯¥type</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">document</span>.getElementsByClassName(<span class="string">'vue-toast'</span>).length)&#123;</span><br><span class="line"><span class="comment">// å¦‚æœtoastè¿˜åœ¨ï¼Œåˆ™ä¸å†æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> toastTpl = Vue.extend(&#123;</span><br><span class="line">template: <span class="string">'&lt;div class="vue-toast toast-'</span>+opt.defaultType+<span class="string">'"&gt;'</span> + tips + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> tpl = <span class="keyword">new</span> toastTpl().$mount().$el;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(tpl);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">document</span>.body.removeChild(tpl);</span><br><span class="line">&#125;, opt.duration)</span><br><span class="line">&#125;</span><br><span class="line">[<span class="string">'bottom'</span>, <span class="string">'center'</span>, <span class="string">'top'</span>].forEach(<span class="function"><span class="params">type</span> =&gt;</span> &#123;</span><br><span class="line">Vue.prototype.$toast[type] = <span class="function">(<span class="params">tips</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> Vue.prototype.$toast(tips,type)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å­ä¸€ä¸ªç®€å•çš„ vue æ’ä»¶å°±å®ç°äº†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ npm æ‰“åŒ…å‘å¸ƒï¼Œä¸‹æ¬¡å°±å¯ä»¥ä½¿ç”¨ npm install æ¥å®‰è£…äº†ã€‚</p><p>å¥½ä¹…æ²¡æ›´æ–°åšå®¢ï¼Œé€ƒã€‚ã€‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vu
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸echartsçš„å¯è§†åŒ–</title>
    <link href="http://yoursite.com/2017/07/09/vue%E4%B8%8Eecharts%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    <id>http://yoursite.com/2017/07/09/vueä¸echartsçš„å¯è§†åŒ–/</id>
    <published>2017-07-09T13:51:32.000Z</published>
    <updated>2017-07-09T15:03:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚</p><h1 id="ä¸€ã€é…æ–¹"><a href="#ä¸€ã€é…æ–¹" class="headerlink" title="ä¸€ã€é…æ–¹"></a>ä¸€ã€é…æ–¹</h1><ul><li>vue</li><li>echarts</li></ul><h1 id="äºŒã€å‚è€ƒæ¡ˆä¾‹"><a href="#äºŒã€å‚è€ƒæ¡ˆä¾‹" class="headerlink" title="äºŒã€å‚è€ƒæ¡ˆä¾‹"></a>äºŒã€å‚è€ƒæ¡ˆä¾‹</h1><ul><li><a href="http://gallery.echartsjs.com/explore.html" target="_blank" rel="noopener">gallery</a> ç¤¾åŒºdemo</li></ul><h1 id="ä¸‰ã€å®è·µ"><a href="#ä¸‰ã€å®è·µ" class="headerlink" title="ä¸‰ã€å®è·µ"></a>ä¸‰ã€å®è·µ</h1><h2 id="3-1å®‰è£…-echarts"><a href="#3-1å®‰è£…-echarts" class="headerlink" title="3.1å®‰è£… echarts"></a>3.1å®‰è£… echarts</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure><h2 id="3-2vue-dom-ç»“æ„"><a href="#3-2vue-dom-ç»“æ„" class="headerlink" title="3.2vue dom ç»“æ„"></a>3.2vue dom ç»“æ„</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"charts"</span> <span class="attr">style</span>=<span class="string">"height:300px;width:300px"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-3åœ¨vueä¸­å¼•å…¥echarts"><a href="#3-3åœ¨vueä¸­å¼•å…¥echarts" class="headerlink" title="3.3åœ¨vueä¸­å¼•å…¥echarts"></a>3.3åœ¨vueä¸­å¼•å…¥echarts</h2><p>å› ä¸ºEChartsåˆå§‹åŒ–å¿…é¡»ç»‘å®šdomï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨vueçš„mountedç”Ÿå‘½å‘¨æœŸé‡Œåˆå§‹åŒ–ã€‚</p><h3 id="3-3-1å…¨éƒ¨å¼•å…¥"><a href="#3-3-1å…¨éƒ¨å¼•å…¥" class="headerlink" title="3.3.1å…¨éƒ¨å¼•å…¥"></a>3.3.1å…¨éƒ¨å¼•å…¥</h3><p>å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä»£ç ä¸­ require(â€˜echartsâ€™) æˆ– import å¾—åˆ° EChartsï¼Œæˆ‘è¿™é‡Œé€šè¿‡es6çš„importæ¥å¼•å…¥<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">'echarts'</span></span><br><span class="line"> </span><br><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">this</span>.initChart()</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  initChart () &#123;</span><br><span class="line">    <span class="keyword">this</span>.chart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'charts'</span>))</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> option = &#123;</span><br><span class="line">      title: &#123; <span class="attr">text</span>: <span class="string">'ECharts å…¥é—¨ç¤ºä¾‹'</span> &#125;,</span><br><span class="line">      tooltip: &#123;&#125;,</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        data: [<span class="string">"è¡¬è¡«"</span>,<span class="string">"ç¾Šæ¯›è¡«"</span>,<span class="string">"é›ªçººè¡«"</span>,<span class="string">"è£¤å­"</span>,<span class="string">"é«˜è·Ÿé‹"</span>,<span class="string">"è¢œå­"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;&#125;,</span><br><span class="line">      series: [&#123;</span><br><span class="line">        name: <span class="string">'é”€é‡'</span>,</span><br><span class="line">        type: <span class="string">'bar'</span>,</span><br><span class="line">        data: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">this</span>.chart.setOption(option)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="3-3-2æŒ‰éœ€å¼•å…¥"><a href="#3-3-2æŒ‰éœ€å¼•å…¥" class="headerlink" title="3.3.2æŒ‰éœ€å¼•å…¥"></a>3.3.2æŒ‰éœ€å¼•å…¥</h3><p>é»˜è®¤ä½¿ç”¨ require(â€˜echartsâ€™) å¾—åˆ°çš„æ˜¯å·²ç»åŠ è½½äº†æ‰€æœ‰å›¾è¡¨å’Œç»„ä»¶çš„ ECharts åŒ…ï¼Œå› æ­¤ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­å¯¹ä½“ç§¯è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œä¹Ÿå¯ä»¥åªæŒ‰éœ€å¼•å…¥éœ€è¦çš„æ¨¡å—ã€‚</p><p>ä¾‹å¦‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­åªç”¨åˆ°äº†æŸ±çŠ¶å›¾ï¼Œæç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶ï¼Œå› æ­¤åœ¨å¼•å…¥çš„æ—¶å€™ä¹Ÿåªéœ€è¦å¼•å…¥è¿™äº›æ¨¡å—ï¼Œå¯ä»¥æœ‰æ•ˆçš„å°†æ‰“åŒ…åçš„ä½“ç§¯ä» 400 å¤š KB å‡å°åˆ° 170 å¤š KBã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ ECharts ä¸»æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">'echarts/lib/echarts'</span></span><br><span class="line"><span class="comment">// å¼•å…¥æŸ±çŠ¶å›¾</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/chart/bar'</span></span><br><span class="line"><span class="comment">// å¼•å…¥æç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/component/tooltip'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'echarts/lib/component/title'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// åé¢çš„è·Ÿä¸Šé¢çš„å°±ä¸€æ ·äº†</span></span><br></pre></td></tr></table></figure><h3 id="3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option"><a href="#3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option" class="headerlink" title="3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)"></a>3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§ watch optionså˜åŒ– åˆ©ç”¨vueçš„æ·±åº¦ watcherï¼Œoptionsä¸€æœ‰å˜åŒ–å°±é‡æ–°setOption</span></span><br><span class="line">watch: &#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    handler(options) &#123;</span><br><span class="line">      <span class="keyword">this</span>.chart.setOption(<span class="keyword">this</span>.options)</span><br><span class="line">    &#125;,</span><br><span class="line">    deep: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§ åªwatch æ•°æ®çš„å˜åŒ– åªæœ‰æ•°æ®å˜åŒ–æ—¶è§¦å‘ECharts</span></span><br><span class="line">watch: &#123;</span><br><span class="line">  seriesData(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setOptions(&#123;<span class="attr">series</span>:val&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-4ç»“æœ"><a href="#3-4ç»“æœ" class="headerlink" title="3.4ç»“æœ"></a>3.4ç»“æœ</h2><p><img src="http://omt3u4bph.bkt.clouddn.com/echarts.png" alt="vue-echarts"><br>åˆ°è¿™æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå°±å¯ä»¥æ˜¾ç¤ºå›¾è¡¨äº†ï¼Œå®ç°å¯è§†åŒ–æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ã€‚</p><h1 id="å››ã€å‚è€ƒ"><a href="#å››ã€å‚è€ƒ" class="headerlink" title="å››ã€å‚è€ƒ"></a>å››ã€å‚è€ƒ</h1><p><a href="http://echarts.baidu.com/tutorial.html#%E5%9C%A8%20webpack%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts" target="_blank" rel="noopener">åœ¨ webpack ä¸­ä½¿ç”¨ ECharts</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä¸€ã€é…æ–¹&quot;&gt;&lt;a href=&quot;#ä¸€ã€é…æ–¹&quot; class=&quot;headerli
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="echarts" scheme="http://yoursite.com/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ</title>
    <link href="http://yoursite.com/2017/06/21/%E5%9F%BA%E4%BA%8Evue-cli%E9%85%8D%E7%BD%AEproxyTable%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E8%B7%A8%E5%9F%9F/"/>
    <id>http://yoursite.com/2017/06/21/åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ/</id>
    <published>2017-06-21T02:30:54.000Z</published>
    <updated>2017-06-21T02:52:58.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£å†³è·¨åŸŸã€‚</p></blockquote><p>è¿˜ä¸æ‡‚å‰åç«¯åˆ†ç¦»çš„å¯ä»¥ç§»æ­¥ğŸ‘‰ï¼š<a href="http://hjingren.cn/2017/03/06/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E5%B0%9D%E8%AF%95/" target="_blank" rel="noopener">å‰åç«¯åˆ†ç¦»çš„å°è¯•</a></p><h1 id="é…ç½®-proxyTable"><a href="#é…ç½®-proxyTable" class="headerlink" title="é…ç½® proxyTable"></a>é…ç½® proxyTable</h1><p>åœ¨ config/index.js ä¸­ï¼ŒæŠŠ dev ä¸‹çš„ proxytable é‡Œé¢é…ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">proxyTable: &#123;</span><br><span class="line">  <span class="string">'/api'</span>: &#123;</span><br><span class="line">    target: <span class="string">'http://api.hjingren.cn'</span>,</span><br><span class="line">    changeOrigin: <span class="literal">true</span>,</span><br><span class="line">    pathRewrite: &#123;</span><br><span class="line">      <span class="string">'^/api'</span>: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰"><a href="#ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰" class="headerlink" title="ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰"></a>ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/api/playlist/detail?id=12345'</span>)</span><br></pre></td></tr></table></figure><p>æœ€åï¼švue-cliçš„è¿™ä¸ªé…ç½®æ¥è‡ªäºå…¶ä½¿ç”¨çš„æ’ä»¶<a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener">http-proxy-middleware</a>ï¼Œæƒ³è¿›ä¸€æ­¥äº†è§£çš„å¯ä»¥æ·±å…¥ç ”ç©¶ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”</title>
    <link href="http://yoursite.com/2017/06/16/%E5%9F%BA%E4%BA%8Evue-cli%E9%85%8D%E7%BD%AE%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%87%AA%E9%80%82%E5%BA%94/"/>
    <id>http://yoursite.com/2017/06/16/åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”/</id>
    <published>2017-06-16T10:44:03.000Z</published>
    <updated>2017-06-16T10:44:30.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼š<a href="http://hjingren.cn/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/" target="_blank" rel="noopener">ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³</a>ï¼Œä»Šå¤©æ¥èŠä¸€èŠåŸºäºvue-clié…ç½®çš„ç§»åŠ¨ç«¯å±å¹•é€‚é…é—®é¢˜ã€‚</p></blockquote><p>é…æ–¹è¿˜æ˜¯ä¸€æ ·ï¼šæ‰‹æ·˜çš„ <a href="https://github.com/amfe/lib-flexible" target="_blank" rel="noopener">lib-flexible</a> + rem</p><h1 id="é…ç½®-flexible"><a href="#é…ç½®-flexible" class="headerlink" title="é…ç½® flexible"></a>é…ç½® flexible</h1><h2 id="å®‰è£…-lib-flexible"><a href="#å®‰è£…-lib-flexible" class="headerlink" title="å®‰è£… lib-flexible"></a>å®‰è£… lib-flexible</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i lib-flexible --save</span><br></pre></td></tr></table></figure><h2 id="å¼•å…¥-lib-flexible"><a href="#å¼•å…¥-lib-flexible" class="headerlink" title="å¼•å…¥ lib-flexible"></a>å¼•å…¥ lib-flexible</h2><p>åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ main.js é‡Œ å¼•å…¥ lib-flexible</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'lib-flexible'</span></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ -meta-æ ‡ç­¾"><a href="#æ·»åŠ -meta-æ ‡ç­¾" class="headerlink" title="æ·»åŠ  meta æ ‡ç­¾"></a>æ·»åŠ  meta æ ‡ç­¾</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ index.html ä¸­æ·»åŠ å¦‚ä¸‹ meta</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="px-è½¬-rem"><a href="#px-è½¬-rem" class="headerlink" title="px è½¬ rem"></a>px è½¬ rem</h1><p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡ç¨¿å¾—åˆ°çš„å€¼å•ä½æ˜¯ pxï¼Œæ‰€ä»¥è¦å°† px è½¬æ¢æˆ rem å†å†™è¿›æ ·å¼ä¸­ã€‚<br>å°† px è½¬æ¢æˆ rem æˆ‘ä»¬å°†ä½¿ç”¨ px2rem è¿™ä¸ªå·¥å…·ï¼Œå®ƒæœ‰ webpack çš„ loaderï¼š<a href="https://github.com/Jinjiang/px2rem-loader" target="_blank" rel="noopener">px2rem-loader</a></p><h2 id="å®‰è£…-px2rem-loader"><a href="#å®‰è£…-px2rem-loader" class="headerlink" title="å®‰è£… px2rem-loader"></a>å®‰è£… px2rem-loader</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i px2rem-loade --save-dev</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-px2rem-loade"><a href="#é…ç½®-px2rem-loade" class="headerlink" title="é…ç½® px2rem-loade"></a>é…ç½® px2rem-loade</h2><p>åœ¨ vue-cli ç”Ÿæˆçš„ webpack é…ç½®ä¸­ï¼Œvue-loader çš„ options å’Œå…¶ä»–æ ·å¼æ–‡ä»¶ loader æœ€ç»ˆæ˜¯éƒ½æ˜¯ç”± build/utils.js é‡Œçš„ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆçš„ã€‚</p><p>æˆ‘ä»¬åªéœ€åœ¨ cssLoader åå†åŠ ä¸Šä¸€ä¸ª px2remLoader å³å¯ï¼Œpx2rem-loader çš„ remUnit é€‰é¡¹æ„æ€æ˜¯ 1rem=å¤šå°‘åƒç´ ï¼Œç»“åˆ lib-flexible çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°† px2remLoader çš„ options.remUnit è®¾ç½®æˆè®¾è®¡ç¨¿å®½åº¦çš„ 1/10ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾è®¾è®¡ç¨¿å®½ä¸º 750pxã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils.js</span></span><br><span class="line"><span class="keyword">var</span> cssLoader = &#123;</span><br><span class="line">  loader: <span class="string">'css-loader'</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    minimize: process.env.NODE_ENV === <span class="string">'production'</span>,</span><br><span class="line">    sourceMap: options.sourceMap</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> px2remLoader = &#123;</span><br><span class="line">  loader: <span class="string">'px2rem-loader'</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    remUnit: <span class="number">75</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>å¹¶æ”¾è¿› loaders æ•°ç»„ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateLoaders</span>(<span class="params">loader, loaderOptions</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loaders = [cssLoader, px2remLoader]</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯ï¼Œç„¶åæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™å•ä½ç›´æ¥å†™ pxï¼Œè®¾è®¡ç¨¿é‡å¤šå°‘å°±å¯ä»¥å†™å¤šå°‘äº†ï¼Œèˆ’æœå¤šäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼š&lt;a href=&quot;http://hjingren.cn/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Nginxä¸Nodeçš„çº ç¼ </title>
    <link href="http://yoursite.com/2017/06/11/Nginx%E4%B8%8ENode%E7%9A%84%E7%BA%A0%E7%BC%A0/"/>
    <id>http://yoursite.com/2017/06/11/Nginxä¸Nodeçš„çº ç¼ /</id>
    <published>2017-06-11T12:10:54.000Z</published>
    <updated>2017-06-11T12:13:53.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚</p></blockquote><h1 id="nginxçš„å¥½å¤„"><a href="#nginxçš„å¥½å¤„" class="headerlink" title="nginxçš„å¥½å¤„"></a>nginxçš„å¥½å¤„</h1><ul><li>çƒ­éƒ¨ç½²</li><li>é«˜å¹¶å‘è¿æ¥</li><li>å¤„ç†å“åº”è¯·æ±‚å¾ˆå¿«</li><li>å…·æœ‰å¾ˆé«˜çš„å¯é æ€§</li></ul><h2 id="çƒ­éƒ¨ç½²"><a href="#çƒ­éƒ¨ç½²" class="headerlink" title="çƒ­éƒ¨ç½²"></a>çƒ­éƒ¨ç½²</h2><p>åœ¨ä¸åœæ­¢æœåŠ¡çš„æƒ…å†µä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ›´æ¢æ—¥å¿—æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚</p><h2 id="é«˜å¹¶å‘è¿æ¥"><a href="#é«˜å¹¶å‘è¿æ¥" class="headerlink" title="é«˜å¹¶å‘è¿æ¥"></a>é«˜å¹¶å‘è¿æ¥</h2><p>é«˜å¹¶å‘ï¼šæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·åŒæ—¶çš„è®¿é—®URLåœ°å€ï¼Œæ¯”å¦‚ï¼šæ·˜å®çš„åŒ11ï¼ŒåŒ12ï¼Œå°±ä¼šäº§ç”Ÿé«˜å¹¶å‘ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ä¸ªç‰¹æ€§ï¼åœ¨è¿™ä¸€ä¸ª äº’è”ç½‘ å¿«é€Ÿå‘å±•ï¼Œ äº’è”ç½‘ ç”¨æˆ·æ•°é‡ä¸æ–­å¢åŠ ï¼Œä¸€äº›å¤§å…¬å¸ã€ç½‘ç«™éƒ½éœ€è¦é¢å¯¹é«˜å¹¶å‘è¯·æ±‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªèƒ½å¤Ÿåœ¨å³°å€¼é¡¶ä½10ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚çš„Serverï¼Œè‚¯å®šä¼šå¾—åˆ°å¤§å®¶çš„é’çã€‚ç†è®ºä¸Šï¼ŒNginxæ”¯æŒçš„å¹¶å‘è¿æ¥ä¸Šé™å–å†³äºä½ çš„å†…å­˜ï¼Œ10ä¸‡è¿œæœªå°é¡¶ã€‚</p><h1 id="Nginxèƒ½åšä»€ä¹ˆ"><a href="#Nginxèƒ½åšä»€ä¹ˆ" class="headerlink" title="Nginxèƒ½åšä»€ä¹ˆ"></a>Nginxèƒ½åšä»€ä¹ˆ</h1><ul><li>åå‘ä»£ç†</li><li>è´Ÿè½½å‡è¡¡</li><li>HTTPæœåŠ¡å™¨ï¼ˆåŒ…å«åŠ¨é™åˆ†ç¦»ï¼‰</li><li>æ­£å‘ä»£ç†</li></ul><h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><p>åå‘ä»£ç†åº”è¯¥æ˜¯Nginxåšçš„æœ€å¤šçš„ä¸€ä»¶äº‹äº†ï¼Œä»€ä¹ˆæ˜¯åå‘ä»£ç†å‘¢ï¼Œä»¥ä¸‹æ˜¯ç™¾åº¦ç™¾ç§‘çš„è¯´æ³•ï¼šåå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç®€å•æ¥è¯´å°±æ˜¯çœŸå®çš„æœåŠ¡å™¨ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ä¸€å°ä»£ç†æœåŠ¡å™¨ï¼Œè€Œä»£ç†æœåŠ¡å™¨èƒ½è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®çš„åŒæ—¶åˆè·ŸçœŸå®æœåŠ¡å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œç«¯å£ä¸åŒè€Œå·²ã€‚ </p><p>ä¸‹é¢è´´ä¸Šä¸€æ®µç®€å•çš„å®ç°åå‘ä»£ç†çš„ä»£ç ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;  </span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://localhost:8081;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è®¿é—®localhostçš„æ—¶å€™ï¼Œå°±ç›¸å½“äºè®¿é—®localhost:8081äº†</p><h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><p>è´Ÿè½½å‡è¡¡å¯ä»¥æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿›è¡Œå¤„ç†ï¼Œä»è€Œå®ç°äº†å¯¹æµ·é‡ç”¨æˆ·çš„è®¿é—®æ”¯æŒã€‚è´Ÿè½½å‡è¡¡çš„æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š</p><p>ç®€å•è€Œè¨€å°±æ˜¯å½“æœ‰2å°æˆ–ä»¥ä¸ŠæœåŠ¡å™¨æ—¶ï¼Œæ ¹æ®è§„åˆ™éšæœºçš„å°†è¯·æ±‚åˆ†å‘åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶é…ç½®åå‘ä»£ç†ï¼Œé€šè¿‡åå‘ä»£ç†è·³è½¬åˆ°è´Ÿè½½å‡è¡¡ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> test &#123;</span><br><span class="line"><span class="attribute">server</span> localhost:<span class="number">8080</span>;</span><br><span class="line"><span class="attribute">server</span> localhost:<span class="number">8081</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">81</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://test;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HTTPæœåŠ¡å™¨"><a href="#HTTPæœåŠ¡å™¨" class="headerlink" title="HTTPæœåŠ¡å™¨"></a>HTTPæœåŠ¡å™¨</h2><p>Nginxæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ï¼Œå½“åªæœ‰é™æ€èµ„æºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨Nginxæ¥åšæœåŠ¡å™¨ï¼ŒåŒæ—¶ç°åœ¨ä¹Ÿå¾ˆæµè¡ŒåŠ¨é™åˆ†ç¦»ï¼Œå°±å¯ä»¥é€šè¿‡Nginxæ¥å®ç°ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line"><span class="attribute">server_name</span>  localhost;</span><br><span class="line"> </span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">root</span>   /home/hzzly;</span><br><span class="line"><span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line"><span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line"><span class="attribute">root</span>   html;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h2><p>æ­£å‘ä»£ç†ï¼Œæ„æ€æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚å½“ä½ éœ€è¦æŠŠä½ çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨Nginxæ¥å®ç°æ­£å‘ä»£ç†ã€‚</p><h1 id="nodeçš„ç‰¹ç‚¹"><a href="#nodeçš„ç‰¹ç‚¹" class="headerlink" title="nodeçš„ç‰¹ç‚¹"></a>nodeçš„ç‰¹ç‚¹</h1><ul><li>å®ƒæ˜¯ä¸€ä¸ªjavascriptè¿è¡Œç¯å¢ƒ</li><li>ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š</li><li>äº‹ä»¶é©±åŠ¨</li><li>éé˜»å¡I/O</li><li>è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨</li><li>å¹¶å‘è¿æ¥ï¼ˆé«˜å¹¶å‘ï¼‰</li></ul><h2 id="nodeåº”ç”¨åœºæ™¯"><a href="#nodeåº”ç”¨åœºæ™¯" class="headerlink" title="nodeåº”ç”¨åœºæ™¯"></a>nodeåº”ç”¨åœºæ™¯</h2><p>NodeJSé€‚åˆè¿ç”¨åœ¨é«˜å¹¶å‘ã€I/Oå¯†é›†ã€å°‘é‡ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚ï¼ˆRESTful APIï¼ŒèŠå¤©ï¼‰</p><h2 id="Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"><a href="#Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢" class="headerlink" title="Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢"></a>Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢</h2><p>é€šè¿‡å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰å’Œå¼‚æ­¥æœºåˆ¶æ¥å®ç°éé˜»å¡ã€‚<br>é€šè¿‡äº‹ä»¶é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªç¯æ¥å®ç°å¹¶å‘è¿æ¥ã€‚</p><p>å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰</p><h1 id="nginxå’Œnodeçš„æ¯”è¾ƒ"><a href="#nginxå’Œnodeçš„æ¯”è¾ƒ" class="headerlink" title="nginxå’Œnodeçš„æ¯”è¾ƒ"></a>nginxå’Œnodeçš„æ¯”è¾ƒ</h1><ul><li>ä¸€ä¸ªæ›´ä¸“ä¸šï¼Œä¸€ä¸ªæ›´å…¨é¢ã€‚</li><li>Nginx é‡‡ç”¨Cç¼–å†™ï¼Œæ€§èƒ½æ›´é«˜ï¼Œä½†æ˜¯å®ƒä»…é€‚åˆäºåšwebæœåŠ¡å™¨ï¼Œç”¨äºåå‘ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡ç­‰æœåŠ¡ã€‚</li><li>NodeJsé«˜æ€§èƒ½å¹³å°ï¼ŒwebæœåŠ¡åªæ˜¯å…¶ä¸­ä¸€å—ï¼ŒNodeJsåœ¨å¤„ç†ä¸šåŠ¡å±‚ç”¨çš„æ˜¯JSç¼–å†™,é‡‡ç”¨çš„æ˜¯å¼‚æ­¥ç¼–ç¨‹æ–¹å¼å’Œæ€ç»´æ–¹å¼ã€‚</li><li>Node.jså‘å±•æ–¹å‘ä¸å†å•ç‹¬æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢å‘ç½‘ç»œçš„å¹³å°ï¼Œå®ƒç”šè‡³å¯ä»¥æ˜¯TCPæœåŠ¡å™¨ï¼Œæˆ–è€…å˜èº«ä¸ºè¿œç«¯æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚</li></ul><h1 id="nginxä¸nodeçš„å®Œç¾æ­é…"><a href="#nginxä¸nodeçš„å®Œç¾æ­é…" class="headerlink" title="nginxä¸nodeçš„å®Œç¾æ­é…"></a>nginxä¸nodeçš„å®Œç¾æ­é…</h1><p>nodeè‡ªå·±æœ¬èº«å¯ä»¥ä½œä¸ºæœåŠ¡å™¨è¿›è¡Œé©±åŠ¨ï¼Œä½†æ˜¯nodeæœ¬èº«å¯¹æ–‡ä»¶çš„å¤„ç†èƒ½åŠ›å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­åº”å°½é‡ä½¿ç”¨nginxæ¥å¤„ç†é™æ€çš„èµ„æºä»¥åŠåå‘ä»£ç†ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†nodeåˆ†å¸ƒå¼ä»¥åŠè´Ÿè½½å‡è¡¡çš„ç›¸å…³é—®é¢˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;nginxçš„å¥½å¤„&quot;&gt;&lt;a href=&quot;#nginxçš„å¥½å¤„&quot; class=&quot;headerlink&quot; t
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
      <category term="node" scheme="http://yoursite.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>jså®ç°å›¾ç‰‡æ‡’åŠ è½½</title>
    <link href="http://yoursite.com/2017/06/09/js%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
    <id>http://yoursite.com/2017/06/09/jså®ç°å›¾ç‰‡æ‡’åŠ è½½/</id>
    <published>2017-06-09T14:23:39.000Z</published>
    <updated>2019-07-09T11:35:09.931Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚</p></blockquote><h1 id="æ‡’åŠ è½½çš„æ„ä¹‰"><a href="#æ‡’åŠ è½½çš„æ„ä¹‰" class="headerlink" title="æ‡’åŠ è½½çš„æ„ä¹‰"></a>æ‡’åŠ è½½çš„æ„ä¹‰</h1><blockquote><p>æ‡’åŠ è½½çš„ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºæœåŠ¡å™¨å‰ç«¯çš„ä¼˜åŒ–ï¼Œå‡å°‘è¯·æ±‚æ•°æˆ–å»¶è¿Ÿè¯·æ±‚æ•°ï¼Œå¯¹æœåŠ¡å™¨ç¼“å‹ã€‚</p></blockquote><p><strong>é¢„åŠ è½½:</strong>æå‰åŠ è½½å¥½ï¼Œç¼“å­˜åˆ°æœ¬åœ°ï¼Œå½“éœ€è¦çš„æ—¶å€™ç›´æ¥è¯»å–ç¼“å­˜ï¼Œå¯¹æœåŠ¡å™¨å¢å‹</p><h1 id="æ‡’åŠ è½½å®ç°æ–¹å¼"><a href="#æ‡’åŠ è½½å®ç°æ–¹å¼" class="headerlink" title="æ‡’åŠ è½½å®ç°æ–¹å¼"></a>æ‡’åŠ è½½å®ç°æ–¹å¼</h1><ul><li><p>ç¬¬ä¸€ç§æ˜¯çº¯ç²¹çš„å»¶è¿ŸåŠ è½½ï¼Œä½¿ç”¨setTimeOutæˆ–setIntervalè¿›è¡ŒåŠ è½½å»¶è¿Ÿ</p></li><li><p>ç¬¬äºŒç§æ˜¯æ¡ä»¶åŠ è½½ï¼Œç¬¦åˆæŸäº›æ¡ä»¶ï¼Œæˆ–è§¦å‘äº†æŸäº›äº‹ä»¶æ‰å¼€å§‹å¼‚æ­¥ä¸‹è½½</p></li><li><p>ç¬¬ä¸‰ç§æ˜¯å¯è§†åŒºåŠ è½½ï¼Œå³ä»…åŠ è½½ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„åŒºåŸŸï¼Œè¿™ä¸ªä¸»è¦ç”±ç›‘æ§æ»šåŠ¨æ¡æ¥å®ç°ï¼Œä¸€èˆ¬ä¼šåœ¨è·ç”¨æˆ·çœ‹åˆ°æŸå›¾ç‰‡å‰ä¸€å®šè·ç¦»éå¼€å§‹åŠ è½½ï¼Œè¿™æ ·èƒ½ä¿è¯ç”¨æˆ·æ‹‰ä¸‹æ—¶æ­£å¥½èƒ½çœ‹åˆ°å›¾ç‰‡</p></li></ul><p>Web å›¾ç‰‡çš„æ‡’åŠ è½½å°±æ˜¯é€šè¿‡è¯»å–imgå…ƒç´ ï¼Œç„¶åè·å¾—imgå…ƒç´ çš„data-srcï¼ˆä¹Ÿå¯ä»¥çº¦å®šä¸ºå…¶ä»–å±æ€§åï¼‰å±æ€§çš„å€¼ï¼Œå¹¶èµ‹äºˆimgçš„srcï¼Œä»è€Œå®ç°åŠ¨æ€åŠ è½½å›¾ç‰‡çš„æœºåˆ¶</p><h2 id="1ã€æ‡’åŠ è½½HTMLçº¦å®š"><a href="#1ã€æ‡’åŠ è½½HTMLçº¦å®š" class="headerlink" title="1ã€æ‡’åŠ è½½HTMLçº¦å®š"></a>1ã€æ‡’åŠ è½½HTMLçº¦å®š</h2><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™å‡†å¤‡å®æ–½æ‡’åŠ è½½çš„imgå…ƒç´ æ·»åŠ æŒ‡å®šçš„class è¿™é‡Œä¸ºm-lazyload ,åŒæ—¶å°†img srcèµ‹å€¼ç»™ data-srcå±æ€§ã€‚<br>å…·ä½“ç¤ºä¾‹ä¸ºï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"m-lazyload"</span> <span class="attr">data-src</span>=<span class="string">"imgUrl"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="2ã€æ‡’åŠ è½½JavaScriptå®ç°"><a href="#2ã€æ‡’åŠ è½½JavaScriptå®ç°" class="headerlink" title="2ã€æ‡’åŠ è½½JavaScriptå®ç°"></a>2ã€æ‡’åŠ è½½JavaScriptå®ç°</h2><p>åŠ¨æ€åŠ è½½æ€»å…±åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:<br>1ã€æ·»åŠ é¡µé¢æ»šåŠ¨ç›‘å¬äº‹ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">imgBoxList.addEventListener(<span class="string">'scroll'</span>, debounce(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  _loadImage();</span><br><span class="line">&#125;, <span class="number">200</span>));</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç®€å•çš„é˜²æŠ–å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      func.apply(<span class="keyword">this</span>, args)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2ã€å½“è§¦å‘ç›‘å¬äº‹ä»¶æ—¶ä¼šæ‰§è¡Œ _loadImage å‡½æ•°ï¼Œè¯¥å‡½æ•°è´Ÿè´£åŠ è½½å›¾ç‰‡<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_loadImage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">const</span> domOffsetHeight = imgBoxList.offsetHeight;</span><br><span class="line">  <span class="keyword">const</span> imgs = imgBoxList.querySelectorAll(<span class="string">'img[data-src]'</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; imgs.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> el = imgs[i];</span><br><span class="line">    <span class="keyword">if</span> (_isShow(el, domOffsetHeight)) &#123;</span><br><span class="line">      el.src = el.getAttribute(<span class="string">'data-src'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3ã€åˆ¤æ–­è¯¥å›¾ç‰‡æ˜¯å¦åœ¨å½“å‰çª—å£çš„å¯è§†åŒºåŸŸå†…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_isShow</span>(<span class="params">el, domHeight</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rect = el.getBoundingClientRect();</span><br><span class="line">  <span class="keyword">return</span> rect.top &lt;= domHeight + <span class="number">200</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åˆ°è¿™ä¸€ä¸ªç®€å•çš„å›¾ç‰‡æ‡’åŠ è½½å°±å†™æˆäº†</p><blockquote><p>å½“ç½‘é¡µæ»šåŠ¨çš„äº‹ä»¶è¢«è§¦å‘ -&gt; æ‰§è¡ŒåŠ è½½å›¾ç‰‡æ“ä½œ -&gt; åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†… -&gt; åœ¨ï¼Œåˆ™åŠ¨æ€å°†data-srcçš„å€¼èµ‹äºˆè¯¥å›¾ç‰‡ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;æ‡’åŠ è½½çš„æ„ä¹‰&quot;&gt;&lt;a href=&quot;#æ‡’åŠ è½½çš„æ„ä¹‰&quot; class=&quot;headerlink&quot; title=&quot;æ‡’åŠ è½½çš„æ„ä¹‰&quot;&gt;&lt;/a&gt;æ‡’åŠ è½½çš„æ„ä¹‰
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2.0æ¥è¢­</title>
    <link href="http://yoursite.com/2017/06/05/DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A82-0%E6%9D%A5%E8%A2%AD/"/>
    <id>http://yoursite.com/2017/06/05/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2-0æ¥è¢­/</id>
    <published>2017-06-05T13:32:59.000Z</published>
    <updated>2017-06-06T02:11:34.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ <strong>åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤š</strong>ğŸ‘ã€‚</p></blockquote><p>[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®,ä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜]</p><h2 id="é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music"><a href="#é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music" class="headerlink" title="é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-music"></a>é¢„è§ˆåœ°å€ï¼š <a href="http://hzzly.net/magic-music" target="_blank" rel="noopener">http://hzzly.net/magic-music</a></h2><h2 id="Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic"><a href="#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic" class="headerlink" title="Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic"></a>Githubåœ°å€ï¼š <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="noopener">https://github.com/hzzly/MagicMusic</a></h2><p>æ¬¢è¿å¤§å®¶çš„starå’ŒforkğŸ˜„~</p><h2 id="å®ç°çš„åŠŸèƒ½"><a href="#å®ç°çš„åŠŸèƒ½" class="headerlink" title="å®ç°çš„åŠŸèƒ½"></a>å®ç°çš„åŠŸèƒ½</h2><ul><li><strong>é¦–é¡µ</strong><ul><li>è½®æ’­</li><li>ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]</li><li>æ­Œæ›²æ“ä½œï¼ˆåŠ¨ç”»ï¼‰</li></ul></li><li><strong>åº•éƒ¨æ’­æ”¾æ§ä»¶</strong><ul><li>æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li><li>å®æ—¶æ’­æ”¾è¿›åº¦æ¡</li></ul></li><li><strong>æ’­æ”¾é¡µ</strong><ul><li>ä¸Šä¸€æ›²ã€æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li><li>æ’­æ”¾è¿›åº¦æ¡ï¼ˆå¼§å½¢è¿›åº¦æ¡ï¼‰</li><li>æ­Œè¯æ»šåŠ¨ã€æ­Œè¯é«˜äº®</li></ul></li><li><strong>æ’­æ”¾åˆ—è¡¨</strong><ul><li>æ’­æ”¾æ­Œæ›²é«˜äº®</li><li>åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ)</li><li>åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X)</li><li>æ¸…ç©ºæ’­æ”¾åˆ—è¡¨</li><li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨</li></ul></li><li><strong>æ’è¡Œæ¦œ</strong><ul><li>æ’è¡Œæ¦œåˆ—è¡¨</li><li>æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)ã€å…¨éƒ¨æ’­æ”¾</li></ul></li><li><strong>éŸ³ä¹æœç´¢</strong><ul><li>æœç´¢å•æ›²ã€æ­Œæ‰‹</li><li>æœç´¢å†å²è®°å½•</li></ul></li><li><strong>ä¾§è¾¹æ </strong></li></ul><h2 id="æœªå®ç°çš„åŠŸèƒ½"><a href="#æœªå®ç°çš„åŠŸèƒ½" class="headerlink" title="æœªå®ç°çš„åŠŸèƒ½"></a>æœªå®ç°çš„åŠŸèƒ½</h2><ul><li>å–œæ¬¢ã€åˆ†äº«ã€ä¸‹è½½ã€åˆ‡æ¢æ’­æ”¾æ¨¡å¼</li></ul><h2 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h2><p><img src="http://hzzly.net/magic-music/screenshots/music.gif" alt="http://hzzly.net/magic-music/screenshots/music.gif"></p><p><strong>æ›´å¤šé¢„è§ˆğŸ‘‰</strong><a href="http://hzzly.net/magic-music/screenshots/" target="_blank" rel="noopener">æ›´å¤š</a></p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><p>1ã€<code>Vueå…¨å®¶æ¡¶(vue2ã€vue-routerã€vuex)</code> å¿«é€Ÿå¼€å‘SPAç¥å™¨<br>2ã€<code>Axios</code> vueä½œè€…æ¨èçš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆ<br>3ã€<code>ES6</code> å…¨é¢è¿‡åº¦es6çš„å†™æ³• è¶‹åŠ¿<br>4ã€<code>Webpack2</code> è„šæ‰‹æ¶å·²ç»é…ç½®å¥½äº†ï¼Œè¶…è´´å¿ƒ<br>5ã€<code>Promise</code> æŠŠè¯·æ±‚å°è£…åœ¨promiseä¸­ï¼Œæ–¹ä¾¿çš„å¯ä»¥ä½¿ç”¨.thenå›è°ƒ<br>6ã€<code>flexå¸ƒå±€</code> å¯¹äºç§»åŠ¨ç«¯å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨<br>7ã€<code>ç§»åŠ¨ç«¯å±å¹•é€‚é…</code> é‡‡ç”¨æ‰‹æ·˜çš„flexible+remæ–¹æ¡ˆ<br>8ã€<code>æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)</code> é¿å…é‡å¤èµ„æºè¯·æ±‚ï¼Œå¿«é€Ÿè¯»å–<br>9ã€<code>å›¾ç‰‡æ‡’åŠ è½½</code> vue-lazyload æå‡ç”¨æˆ·ä½“éªŒ</p><h2 id="æœ¬æ¬¡æ›´æ–°æ—¥å¿—"><a href="#æœ¬æ¬¡æ›´æ–°æ—¥å¿—" class="headerlink" title="æœ¬æ¬¡æ›´æ–°æ—¥å¿—"></a>æœ¬æ¬¡æ›´æ–°æ—¥å¿—</h2><ul><li>åç«¯apié‡‡ç”¨pm2æ¥éƒ¨ç½²ï¼Œé˜²æ­¢æ–­å¼€åæ•°æ®æ— æ³•è¯·æ±‚çš„å°´å°¬ã€‚</li><li>æŠŠç›‘å¬audioåŠ è½½å®Œæ•°æ®äº‹ä»¶ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œé¿å…é‡å¤ç›‘å¬ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ã€‚</li><li>æ›´æ–°axiosè¯·æ±‚ï¼Œè®©è¯·æ±‚æ›´åŠ ä¼˜ç¾ã€‚</li><li>ä¿®æ”¹æ’­æ”¾é¡µé¢ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</li><li>æ·»åŠ åŠ è½½éŸ³ä¹loadingç­‰å¾…ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li><li>æ·»åŠ æ’­æ”¾å…¨éƒ¨ï¼Œé¿å…ä¸€ä¸ªä¸€ä¸ªæ·»åŠ ã€‚</li><li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ä¸æ¸…ç©ºã€‚</li><li>ä¿®æ”¹é¦–é¡µtabåˆ‡æ¢åŠ¨æ•ˆ</li></ul><p><a href="http://hjingren.cn/2017/04/27/%E2%80%99DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨1.0</a></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>MagicMusicè¿˜åœ¨ä¸æ–­åŠªåŠ›çš„æ”¹è¿›ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œ<strong>ä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›</strong>ï¼Œè°¢è°¢ï¼ï¼ï¼å½“ç„¶æœ‰å»ºè®®å¯ä»¥åœ¨issuesé‡Œæã€‚<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href="https://github.com/hzzly/MagicMusic" target="_blank" rel="noopener">https://github.com/hzzly/MagicMusic</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p><h2 id="æ±‚å®ä¹ "><a href="#æ±‚å®ä¹ " class="headerlink" title="æ±‚å®ä¹ "></a>æ±‚å®ä¹ </h2><p>æœ¬äººå¤§ä¸‰ï¼Œæ±‚ä¸€ä¸ªå‰ç«¯å®ä¹ ï¼š<a href="http://hzzly.net/resume/" target="_blank" rel="noopener">ç®€å†</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ &lt;strong&gt;åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤š&lt;/strong&gt;ğŸ‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="vuex" scheme="http://yoursite.com/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7 Nginxçš„æŠ˜è…¾</title>
    <link href="http://yoursite.com/2017/06/05/CentOS-7-Nginx%E7%9A%84%E6%8A%98%E8%85%BE/"/>
    <id>http://yoursite.com/2017/06/05/CentOS-7-Nginxçš„æŠ˜è…¾/</id>
    <published>2017-06-05T05:52:23.000Z</published>
    <updated>2017-06-05T05:52:53.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CentOS-7-ä¸‹å®‰è£…-Nginx"><a href="#CentOS-7-ä¸‹å®‰è£…-Nginx" class="headerlink" title="CentOS 7 ä¸‹å®‰è£… Nginx"></a><strong>CentOS 7 ä¸‹å®‰è£… Nginx</strong></h2><h3 id="æŸ¥çœ‹centosç‰ˆæœ¬"><a href="#æŸ¥çœ‹centosç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹centosç‰ˆæœ¬"></a>æŸ¥çœ‹centosç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/redhat-release</span><br></pre></td></tr></table></figure><h3 id="ä¸€-gcc-å®‰è£…"><a href="#ä¸€-gcc-å®‰è£…" class="headerlink" title="ä¸€. gcc å®‰è£…"></a>ä¸€. gcc å®‰è£…</h3><blockquote><p>å®‰è£… nginx éœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ– gcc ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ gcc ç¯å¢ƒï¼Œåˆ™éœ€è¦å®‰è£…ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install gcc-c++</span><br></pre></td></tr></table></figure><h3 id="äºŒ-pcre-pcre-devel-å®‰è£…"><a href="#äºŒ-pcre-pcre-devel-å®‰è£…" class="headerlink" title="äºŒ. pcre pcre-devel å®‰è£…"></a>äºŒ. pcre pcre-devel å®‰è£…</h3><blockquote><p>PCRE(Perl Compatible Regular Expressions) æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginx çš„ http æ¨¡å—ä½¿ç”¨ pcre æ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨ linux ä¸Šå®‰è£… pcre åº“ï¼Œpcre-devel æ˜¯ä½¿ç”¨ pcre å¼€å‘çš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘åº“ã€‚nginxä¹Ÿéœ€è¦æ­¤åº“ã€‚å‘½ä»¤ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y pcre pcre-devel</span><br></pre></td></tr></table></figure><h3 id="ä¸‰-zlib-å®‰è£…"><a href="#ä¸‰-zlib-å®‰è£…" class="headerlink" title="ä¸‰. zlib å®‰è£…"></a>ä¸‰. zlib å®‰è£…</h3><blockquote><p>zlib åº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œ nginx ä½¿ç”¨ zlib å¯¹ http åŒ…çš„å†…å®¹è¿›è¡Œ gzip ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos ä¸Šå®‰è£… zlib åº“ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y zlib zlib-devel</span><br></pre></td></tr></table></figure><h3 id="å››-OpenSSL-å®‰è£…"><a href="#å››-OpenSSL-å®‰è£…" class="headerlink" title="å››. OpenSSL å®‰è£…"></a>å››. OpenSSL å®‰è£…</h3><blockquote><p>OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠ SSL åè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚<br>nginx ä¸ä»…æ”¯æŒ http åè®®ï¼Œè¿˜æ”¯æŒ httpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos å®‰è£… OpenSSL åº“ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure><h3 id="äº”ã€å®˜ç½‘ä¸‹è½½"><a href="#äº”ã€å®˜ç½‘ä¸‹è½½" class="headerlink" title="äº”ã€å®˜ç½‘ä¸‹è½½"></a>äº”ã€å®˜ç½‘ä¸‹è½½</h3><blockquote><ul><li>æ‰“å¼€<a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">http://nginx.org/en/download.html</a></li><li>æ‰¾åˆ°Stable versionä¸‹çš„ <a href="http://nginx.org/download/nginx-1.12.0.tar.gz" target="_blank" rel="noopener">nginx-1.12.0</a></li><li>å³é”® å¤åˆ¶é“¾æ¥</li><li>ä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br><span class="line">$ wget -c http://nginx.org/download/nginx-1.12.0.tar.gz</span><br></pre></td></tr></table></figure><h3 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf nginx-1.12.0.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> nginx-1.12.0</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><blockquote><p>ä½¿ç”¨é»˜è®¤é…ç½®</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br><span class="line">$ make install</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾å®‰è£…è·¯å¾„ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ whereis nginx</span><br></pre></td></tr></table></figure></p><h3 id="å¯åŠ¨ã€åœæ­¢nginx"><a href="#å¯åŠ¨ã€åœæ­¢nginx" class="headerlink" title="å¯åŠ¨ã€åœæ­¢nginx"></a>å¯åŠ¨ã€åœæ­¢nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/nginx/sbin/</span><br><span class="line">$ ./nginx </span><br><span class="line">$ ./nginx -s stop      //æ­¤æ–¹å¼ç›¸å½“äºå…ˆæŸ¥å‡ºnginxè¿›ç¨‹idå†ä½¿ç”¨<span class="built_in">kill</span>å‘½ä»¤å¼ºåˆ¶æ€æ‰è¿›ç¨‹ã€‚</span><br><span class="line">$ ./nginx -s quit      //æ­¤æ–¹å¼åœæ­¢æ­¥éª¤æ˜¯å¾…nginxè¿›ç¨‹å¤„ç†ä»»åŠ¡å®Œæ¯•è¿›è¡Œåœæ­¢ã€‚</span><br><span class="line">$ ./nginx -s reload    //é‡å¯ï¼Œå½“ ngin xçš„é…ç½®æ–‡ä»¶ nginx.conf ä¿®æ”¹åï¼Œè¦æƒ³è®©é…ç½®ç”Ÿæ•ˆéœ€è¦é‡å¯ nginxï¼Œä½¿ç”¨-s reloadä¸ç”¨å…ˆåœæ­¢ ngin xå†å¯åŠ¨ nginx å³å¯å°†é…ç½®ä¿¡æ¯åœ¨ nginx ä¸­ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure><h3 id="æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®æ­¤æœºå™¨çš„ IPï¼Œå¦‚æœæµè§ˆå™¨å‡ºç° Welcome to nginx! åˆ™è¡¨ç¤º Nginx å·²ç»å®‰è£…å¹¶è¿è¡ŒæˆåŠŸã€‚</p><h3 id="å¼€æœºè‡ªå¯åŠ¨"><a href="#å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="å¼€æœºè‡ªå¯åŠ¨"></a>å¼€æœºè‡ªå¯åŠ¨</h3><p>å³åœ¨rc.localå¢åŠ å¯åŠ¨ä»£ç å°±å¯ä»¥äº†ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/rc.local</span><br></pre></td></tr></table></figure></p><p>å¢åŠ ä¸€è¡Œ /usr/local/nginx/sbin/nginx</p><p>è®¾ç½®æ‰§è¡Œæƒé™ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod 755 /etc/rc.local</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;CentOS-7-ä¸‹å®‰è£…-Nginx&quot;&gt;&lt;a href=&quot;#CentOS-7-ä¸‹å®‰è£…-Nginx&quot; class=&quot;headerlink&quot; title=&quot;CentOS 7 ä¸‹å®‰è£… Nginx&quot;&gt;&lt;/a&gt;&lt;strong&gt;CentOS 7 ä¸‹å®‰è£… Nginx&lt;/stro
      
    
    </summary>
    
    
      <category term="nginx" scheme="http://yoursite.com/tags/nginx/"/>
    
  </entry>
  
</feed>
