<!DOCTYPE html>


  <html class="light page-post">


<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶ | Hzzly</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="éšç¬”,è„šæ‰‹æ¶,">
  

  <meta name="description" content="å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ç­‰ç­‰ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ï¼Œé‚£">
<meta name="keywords" content="éšç¬”,è„šæ‰‹æ¶">
<meta property="og:type" content="article">
<meta property="og:title" content="åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶">
<meta property="og:url" content="http://yoursite.com/2019/07/19/åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶/index.html">
<meta property="og:site_name" content="Hzzly">
<meta property="og:description" content="å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ç­‰ç­‰ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ï¼Œé‚£">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli2.png">
<meta property="og:image" content="https://img.shields.io/npm/v/hzzly-cli.svg">
<meta property="og:image" content="https://img.shields.io/npm/l/hzzly-cli.svg">
<meta property="og:image" content="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli.png">
<meta property="og:updated_time" content="2019-07-18T01:26:45.210Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶">
<meta name="twitter:description" content="å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ç­‰ç­‰ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ï¼Œé‚£">
<meta name="twitter:image" content="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli2.png">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-38189205-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?57e94d016e201fba3603a8a2b0263af0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  

</head>
</html>
<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">å¯¼èˆª</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">å¯¼èˆª</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
            åšå®¢
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
            æ ‡ç­¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/link/" rel="noopener noreferrer" target="_self">
            å‹é“¾
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
            å…³äº
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
            æœç´¢
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å¼€å§‹"><span class="toc-text">å¼€å§‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#åˆå§‹åŒ–é¡¹ç›®"><span class="toc-text">åˆå§‹åŒ–é¡¹ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¾èµ–"><span class="toc-text">ä¾èµ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#åˆæ¢"><span class="toc-text">åˆæ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬"><span class="toc-text">1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€æ·»åŠ å‘½ä»¤"><span class="toc-text">2ã€æ·»åŠ å‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•"><span class="toc-text">3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è„šæ‰‹æ¶å¼€å‘"><span class="toc-text">è„šæ‰‹æ¶å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€æ•ˆæœ"><span class="toc-text">1ã€æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ"><span class="toc-text">2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€åˆå§‹Command"><span class="toc-text">3ã€åˆå§‹Command</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4ã€å®šä¹‰Commandå‘½ä»¤"><span class="toc-text">4ã€å®šä¹‰Commandå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘"><span class="toc-text">5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1ã€æ€è·¯"><span class="toc-text">5.1ã€æ€è·¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2ã€checkAppName"><span class="toc-text">5.2ã€checkAppName</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3ã€checkEmpty"><span class="toc-text">5.3ã€checkEmpty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4ã€checkExist"><span class="toc-text">5.4ã€checkExist</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5ã€downloadAndGenerate"><span class="toc-text">5.5ã€downloadAndGenerate</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‘å¸ƒåˆ°npm"><span class="toc-text">å‘å¸ƒåˆ°npm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ›´æ–°åŒ…"><span class="toc-text">æ›´æ–°åŒ…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¼˜åŒ–"><span class="toc-text">ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€æ·»åŠ å°é¢æ¿"><span class="toc-text">1ã€æ·»åŠ å°é¢æ¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬"><span class="toc-text">2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€README-mdæ·»åŠ å¾½æ ‡"><span class="toc-text">3ã€README.mdæ·»åŠ å¾½æ ‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ·±å…¥inquirer-js"><span class="toc-text">æ·±å…¥inquirer.js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1ã€åŸºæœ¬ç”¨æ³•"><span class="toc-text">1ã€åŸºæœ¬ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ã€å‚æ•°è¯¦è§£"><span class="toc-text">2ã€å‚æ•°è¯¦è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ã€å®ä¾‹"><span class="toc-text">3ã€å®ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ„Ÿè°¢"><span class="toc-text">æ„Ÿè°¢</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">åŠ¨æ‰‹å¼€å‘ä¸€ä¸ªè‡ªå·±çš„é¡¹ç›®è„šæ‰‹æ¶</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2019.07.19</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>hzzly</span>
        </span>
      

      


      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <blockquote>
<p>å‰è¨€ï¼šéšç€å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸æ–­æ·±å…¥ï¼ŒåŒæ—¶ Node ç»™å‰ç«¯å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„æ”¹å˜ï¼Œä¿ƒè¿›äº†å‰ç«¯å¼€å‘çš„è‡ªåŠ¨åŒ–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€‰æ‹©ä½¿ç”¨è„šæ‰‹æ¶æ¥ä»é›¶åˆ°ä¸€æ­å»ºè‡ªå·±çš„é¡¹ç›®ã€‚å…¶ä¸­æœ€ç†Ÿæ‚‰çš„å°±æ˜¯vue-cliå’Œcreate-react-appï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–é…ç½®ã€ç”Ÿæˆé¡¹ç›®ç»“æ„ã€è‡ªåŠ¨å®‰è£…ä¾èµ–ç­‰ç­‰ï¼Œæœ€åæˆ‘ä»¬ä¸€è¡ŒæŒ‡ä»¤å³å¯è¿è¡Œé¡¹ç›®å¼€å§‹å¼€å‘ï¼Œæˆ–è€…è¿›è¡Œé¡¹ç›®æ„å»ºï¼ˆbuildï¼‰ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾—å­¦ä¼šå¦‚ä½•å¼€å‘ä¸€ä¸ªNodeå‘½ä»¤è¡Œå·¥å…·ã€‚</p>
</blockquote>
<p>åœ¨å‰é¢çš„æ–‡ç«  åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒç³»åˆ— ä¸­ï¼Œç»“å°¾å¤„æˆ‘ä»¬è¯´åˆ°ï¼Œæ—¢ç„¶æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„æ­å»ºå¥½äº†ï¼Œä½†ä¸èƒ½æ¯æ¬¡å¼€å‘éƒ½æ¥æ‰‹åŠ¨å¤åˆ¶é¡¹ç›®ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¦é€šè¿‡æ‰§è¡Œå‘½ä»¤å°±ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„é¡¹ç›®ç»“æ„ã€‚</p>
<p>æˆ‘ä»¬çš„åˆæ­¥è®¾æƒ³æ˜¯ï¼Œåœ¨æŒ‡å®šç›®å½•ä¸‹æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ˆå‡è®¾ä¸ºcreateï¼‰<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hzzly create demo</span><br></pre></td></tr></table></figure></p>
<p>å°±ä¼šç”Ÿæˆä¸€ä¸ªç›®å½•åä¸º demo çš„é¡¹ç›®ï¼Œé‡Œé¢åŒ…å«æœ‰æˆ‘ä»¬æ‰€éœ€çš„åŸºç¡€é¡¹ç›®ç»“æ„ã€‚</p>
<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir hzzly-cli</span><br><span class="line">cd hzzly-cli</span><br><span class="line">mkdir bin lib</span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure>
<h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add commander chalk boxen fs-extra inquirer ora update-notifier download-git-repo rimraf</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener">commander</a> ä¸€æ¬¾é‡é‡è½»ï¼Œè¡¨ç°åŠ›å’Œå¼ºå¤§çš„å‘½ä»¤è¡Œæ¡†æ¶</li>
<li><a href="https://github.com/chalk/chalk" target="_blank" rel="noopener">chalk</a> ç”¨äºæ‰“å°å½©è‰²çš„ä¿¡æ¯</li>
<li><a href="https://github.com/sindresorhus/boxen" target="_blank" rel="noopener">boxen</a> åˆ›å»ºå°â€œé¢æ¿â€</li>
<li><a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener">inquirer</a> äº¤äº’å¼å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢çš„é›†åˆ</li>
<li><a href="https://github.com/sindresorhus/ora" target="_blank" rel="noopener">ora</a> ç”¨äºåˆ›å»º spinnerï¼Œæ·»åŠ ä¸‹è½½æ¨¡æ¿ loading æ•ˆæœ</li>
<li><a href="https://github.com/yeoman/update-notifier" target="_blank" rel="noopener">update-notifier</a> ç”¨äºæ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬</li>
<li><a href="https://github.com/flipxfx/download-git-repo" target="_blank" rel="noopener">download-git-repo</a> ä»èŠ‚ç‚¹ä¸‹è½½å¹¶æå–gitå­˜å‚¨åº“</li>
</ul>
<h2 id="åˆæ¢"><a href="#åˆæ¢" class="headerlink" title="åˆæ¢"></a>åˆæ¢</h2><h3 id="1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬"><a href="#1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬"></a>1ã€åˆ›å»ºä¸€ä¸ªç”¨äºè¿è¡Œå‘½ä»¤çš„è„šæœ¬</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="meta">#! /usr/bin/env node</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello world ~"</span>);</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node bin/hzzly.js</span><br></pre></td></tr></table></figure></p>
<p>ä¸å‡ºæ„å¤–çš„è¯èƒ½å¤Ÿçœ‹åˆ°è¾“å‡ºäº† hello world ~ï¼Œå½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæˆ‘ä»¬æ˜¯è¦ç›´æ¥è¿è¡Œ hzzly å‘½ä»¤å°±èƒ½è¾“å‡º hello world ~</p>
<blockquote>
<p>ğŸ”¥Tip: ä¸»å…¥å£æ–‡ä»¶çš„æœ€ä¸Šæ–¹æ·»åŠ ä»£ç  #! /usr/bin/env node, è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„åº”ç”¨</p>
</blockquote>
<h3 id="2ã€æ·»åŠ å‘½ä»¤"><a href="#2ã€æ·»åŠ å‘½ä»¤" class="headerlink" title="2ã€æ·»åŠ å‘½ä»¤"></a>2ã€æ·»åŠ å‘½ä»¤</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123;</span><br><span class="line">  // ...</span><br><span class="line">  "bin": &#123;</span><br><span class="line">    "hzzly": "bin/hzzly.js"</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬æŒ‡å®š hzzly å‘½ä»¤çš„æ‰§è¡Œæ–‡ä»¶ä¸º bin/hzzly.jsã€‚</p>
<h3 id="3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•"><a href="#3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•" class="headerlink" title="3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•"></a>3ã€å…¨å±€è¿è¡Œå‘½ä»¤è°ƒè¯•</h3><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install . -g</span><br><span class="line">// æˆ–</span><br><span class="line">npm link</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ hzzly å‘½ä»¤äº†ã€‚</p>
<p>åˆ°æ­¤ï¼Œä¸€ä¸ªæœ¬åœ°çš„ npm å‘½ä»¤è¡Œå·¥å…·å°±å·²ç»æˆåŠŸå®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®Œå–„å…·ä½“çš„åŠŸèƒ½ã€‚</p>
<h2 id="è„šæ‰‹æ¶å¼€å‘"><a href="#è„šæ‰‹æ¶å¼€å‘" class="headerlink" title="è„šæ‰‹æ¶å¼€å‘"></a>è„šæ‰‹æ¶å¼€å‘</h2><h3 id="1ã€æ•ˆæœ"><a href="#1ã€æ•ˆæœ" class="headerlink" title="1ã€æ•ˆæœ"></a>1ã€æ•ˆæœ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Usage: hzzly &lt;<span class="built_in">command</span>&gt; [options] &lt;app-name&gt; [folder-name]</span><br><span class="line"> </span><br><span class="line">Options:</span><br><span class="line">  -v, --version  output the version number</span><br><span class="line">  -c, --<span class="built_in">clone</span>    use git <span class="built_in">clone</span></span><br><span class="line">  -h, --<span class="built_in">help</span>     output usage information</span><br><span class="line"> </span><br><span class="line">Commands:</span><br><span class="line">  setup          run remote setup commands</span><br><span class="line">  create         generate a new project from a react template</span><br><span class="line">  check          check <span class="built_in">test</span></span><br><span class="line"> </span><br><span class="line">Examples:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># create a new react project</span></span><br><span class="line">  $ hzzly create demo</span><br></pre></td></tr></table></figure>
<h3 id="2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ"><a href="#2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ" class="headerlink" title="2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ"></a>2ã€å‡†å¤‡é¡¹ç›®æ¨¡ç‰ˆ</h3><p>è„šæ‰‹æ¶æ˜¯å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç”Ÿæˆä¸€å¥—æ—¢å®šçš„é¡¹ç›®æ¶æ„ã€æ–‡ä»¶ã€é…ç½®ï¼Œè€Œæœ€å¸¸è§çš„åšæ³•çš„å°±æ˜¯å…ˆå†™å¥½ä¸€å¥—é¡¹ç›®æ¡†æ¶æ¨¡ç‰ˆï¼Œç­‰åˆ°è„šæ‰‹æ¶è¦ç”Ÿæˆé¡¹ç›®æ—¶ï¼Œåˆ™å°†è¿™å¥—æ¨¡ç‰ˆæ‹·è´åˆ°ç›®æ ‡ç›®å½•ä¸‹ã€‚</p>
<ul>
<li>ä¸€ç§æ˜¯ç›´æ¥æ”¾åœ¨æœ¬åœ°</li>
<li>å¦ä¸€ç§æ˜¯æ‰˜ç®¡åœ¨ github ä¸Š</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ‰˜ç®¡åœ¨ githubï¼Œç„¶åé€šè¿‡<code>download-git-repo</code>ä¸‹è½½åˆ°æŒ‡å®šç›®å½•ã€‚æˆ‘å‡†å¤‡äº†ä¸€ä¸ª<a href="https://github.com/hzzly/webpack-template" target="_blank" rel="noopener">é¡¹ç›®æ¨¡ç‰ˆ</a>ï¼Œä¹‹åå°±ä¼šç”¨å®ƒæ¥ä½œä¸ºè„šæ‰‹æ¶ç”Ÿæˆçš„é¡¹ç›®ç»“æ„ã€‚</p>
<h3 id="3ã€åˆå§‹Command"><a href="#3ã€åˆå§‹Command" class="headerlink" title="3ã€åˆå§‹Command"></a>3ã€åˆå§‹Command</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="keyword">const</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>);</span><br><span class="line"><span class="keyword">const</span> chalk = <span class="built_in">require</span>(<span class="string">"chalk"</span>);</span><br><span class="line"><span class="keyword">const</span> pkg = <span class="built_in">require</span>(<span class="string">'../package.json'</span>);</span><br><span class="line"> </span><br><span class="line">program</span><br><span class="line">  .version(pkg.version)</span><br><span class="line">  .usage(<span class="string">'&lt;command&gt; [options] &lt;app-name&gt; [folder-name]'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .on(<span class="string">"--help"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Examples:"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      chalk.gray(<span class="string">"  # create a new react project"</span>)</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"  $ hzzly create demo"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log();</span><br><span class="line">  &#125;);</span><br><span class="line">program.parse(process.argv)</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ <code>hzzly</code> å‘½ä»¤æ—¶å°±ä¼šæœ‰å¦‚ä¸‹æ•ˆæœï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage: hzzly &lt;<span class="built_in">command</span>&gt; [options] &lt;app-name&gt;</span><br><span class="line"> </span><br><span class="line">Options:</span><br><span class="line">  -V, --version  output the version number</span><br><span class="line">  -c, --<span class="built_in">clone</span>    use git <span class="built_in">clone</span></span><br><span class="line">  -h, --<span class="built_in">help</span>     output usage information</span><br><span class="line"> </span><br><span class="line">Examples:</span><br><span class="line"> </span><br><span class="line">  <span class="comment"># create a new react project</span></span><br><span class="line">  $ hzzly create demo</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥å»å®šä¹‰æˆ‘ä»¬çš„ Commands äº†ã€‚</p>
<h3 id="4ã€å®šä¹‰Commandå‘½ä»¤"><a href="#4ã€å®šä¹‰Commandå‘½ä»¤" class="headerlink" title="4ã€å®šä¹‰Commandå‘½ä»¤"></a>4ã€å®šä¹‰Commandå‘½ä»¤</h3><p>åœ¨ <code>program.parse(process.argv)</code> å‰é¢å»å®šä¹‰æˆ‘ä»¬çš„commandå‘½ä»¤</p>
<p>ä¸ºä»€ä¹ˆè¦åœ¨å®ƒå‰é¢å»å®šä¹‰å‘½ä»¤å‘¢ï¼Ÿ</p>
<blockquote>
<p>parse ç”¨äºè§£æprocess.argvï¼Œè®¾ç½®optionsä»¥åŠè§¦å‘commands</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="comment">// åŒä¸Š...</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName, option</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è·å¾—äº†å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšå“åº”çš„ä¸šåŠ¡å¤„ç†</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æŒ‡ä»¤ create åé¢è·Ÿçš„å‚æ•°å€¼: <span class="subst">$&#123;appName&#125;</span>`</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(option);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// åŒä¸Š</span></span><br></pre></td></tr></table></figure>
<ul>
<li>command å®šä¹‰å‘½ä»¤è¡ŒæŒ‡ä»¤</li>
<li>description å‘½ä»¤æè¿°ï¼Œå®ƒä¼šåœ¨helpé‡Œé¢å±•ç¤º</li>
<li>option å®šä¹‰å‚æ•°ã€‚å®ƒæ¥å—å››ä¸ªå‚æ•°ï¼Œåœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼Œå®ƒå¯è¾“å…¥çŸ­åå­— -aå’Œé•¿åå­—â€“name ,ä½¿ç”¨ | æˆ–è€… , åˆ†éš”ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œä½¿ç”¨æ—¶ï¼Œè¿™ä¸¤ä¸ªæ˜¯ç­‰ä»·çš„ï¼ŒåŒºåˆ«æ˜¯åè€…å¯ä»¥åœ¨ç¨‹åºé‡Œé€šè¿‡å›è°ƒè·å–åˆ°ï¼›ç¬¬äºŒä¸ªä¸ºæè¿°, ä¼šåœ¨ help ä¿¡æ¯é‡Œå±•ç¤ºå‡ºæ¥ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œä»–æ¥æ”¶çš„å‚æ•°ä¸ºä¸€ä¸ªstringï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‘½ä»¤è¡Œåˆ›å»ºå¤šä¸ªæ¨¡å—ï¼Œå°±éœ€è¦ä¸€ä¸ªå›è°ƒæ¥å¤„ç†ï¼›ç¬¬å››ä¸ªå‚æ•°ä¸ºé»˜è®¤å€¼</li>
<li>action æ³¨å†Œä¸€ä¸ª callback å‡½æ•°</li>
</ul>
<p>æ¥ä¸‹æ¥å°±æ˜¯å¤„ç†ç”Ÿæˆé¡¹ç›®æ¨¡æ¿çš„é€»è¾‘äº†ï¼Œç»§ç»­ã€‚</p>
<h3 id="5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘"><a href="#5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘" class="headerlink" title="5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘"></a>5ã€å¤„ç†ç”Ÿæˆé¡¹ç›®ç»“æ„é€»è¾‘</h3><h4 id="5-1ã€æ€è·¯"><a href="#5-1ã€æ€è·¯" class="headerlink" title="5.1ã€æ€è·¯"></a>5.1ã€æ€è·¯</h4><ul>
<li>1ã€è¾“å…¥ <code>vue create</code> æç¤ºè¾“å…¥é¡¹ç›®æ–‡ä»¶å¤¹åç§°</li>
<li>2ã€è¾“å…¥ <code>vue create .</code> è¡¨ç¤ºåœ¨å½“å‰ç›®å½•æ„å»ºé¡¹ç›®ï¼Œä½†è¦ç»™ä¸ªæç¤ºï¼ˆæ˜¯å¦ç¡®å®šè¦åœ¨æ‰€åœ¨ç›®å½•ç”Ÿæˆé¡¹ç›®ï¼Œå…¶å®ƒæ–‡ä»¶å°†è¢«åˆ é™¤ï¼‰</li>
<li>3ã€è¾“å…¥ <code>vue create app</code> è¡¨ç¤ºåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª <code>app</code> çš„ç›®å½•å¹¶åœ¨æ­¤ç›®å½•æ„å»ºé¡¹ç›®ï¼Œå½“æœ‰ç›¸åŒçš„ç›®å½•æ—¶ä¹Ÿè¦æç¤ºï¼ˆå½“å‰ç›®å½•å·²å­˜åœ¨ï¼Œæ˜¯å¦ç»§ç»­æ„å»ºï¼‰</li>
</ul>
<p>å¥½äº†ï¼Œæ€è·¯æœ‰äº†å°± so easy äº†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bin/hzzly.js</span></span><br><span class="line"><span class="comment">// åŒä¸Š...</span></span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// // è·å¾—äº†å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšå“åº”çš„ä¸šåŠ¡å¤„ç†</span></span><br><span class="line">    <span class="comment">// console.log(`æŒ‡ä»¤ create åé¢è·Ÿçš„å‚æ•°å€¼: $&#123;appName&#125;`);</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ä¼ appName</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> appName === <span class="string">'string'</span>) &#123;</span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒ appName ç›®å½•</span></span><br><span class="line">      checkAppName(appName);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æ²¡æœ‰ä¼ appNameçš„è¯æç¤ºç”¨æˆ·è¾“å…¥</span></span><br><span class="line">      <span class="keyword">const</span> opts = [&#123;</span><br><span class="line">        type: <span class="string">'input'</span>,</span><br><span class="line">        name: <span class="string">'appName'</span>,</span><br><span class="line">        message: <span class="string">'Please enter the app name for your projectï¼š'</span>,</span><br><span class="line">        validate: <span class="function"><span class="params">appName</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!appName) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'âš ï¸  app name must not be nullï¼'</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;];</span><br><span class="line">      <span class="comment">// inquirerå‘½ä»¤è¡Œäº¤äº’å·¥å…·</span></span><br><span class="line">      inquirer.prompt(opts).then(<span class="function">(<span class="params">&#123; appName &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (appName) &#123;</span><br><span class="line">          <span class="comment">// è¾“å…¥å®Œä¹‹ååˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒ appName ç›®å½•</span></span><br><span class="line">          checkAppName(appName);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// åŒä¸Š</span></span><br></pre></td></tr></table></figure>
<h4 id="5-2ã€checkAppName"><a href="#5-2ã€checkAppName" class="headerlink" title="5.2ã€checkAppName"></a>5.2ã€checkAppName</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†é¡¹ç›®åç§°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAppName</span>(<span class="params">appName</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–ç»å¯¹è·¯å¾„</span></span><br><span class="line">  <span class="keyword">const</span> to = path.resolve(appName);</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦åœ¨å½“å‰ç›®å½•æ„å»º</span></span><br><span class="line">  <span class="keyword">if</span> (appName === <span class="string">'.'</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å½“å‰ç›®å½•æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    checkEmpty(to)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (checkExist(to)) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä¼ å…¥çš„ appName åœ¨å½“å‰ç›®å½•å·²å­˜åœ¨</span></span><br><span class="line">    inquirer.prompt([&#123;</span><br><span class="line">      type: <span class="string">'confirm'</span>,</span><br><span class="line">      message: <span class="string">'Target directory exists. Continue?'</span>,</span><br><span class="line">      name: <span class="string">'ok'</span>,</span><br><span class="line">    &#125;]).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (answers.ok) &#123;</span><br><span class="line">        <span class="comment">// å›ç­”æ˜¯çš„è¯åˆ é™¤å·²å­˜åœ¨çš„ç›®å½•å¹¶ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line">        rm(appName)</span><br><span class="line">        downloadAndGenerate(REACT_TPL, to, appName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä»¥ä¸Šæƒ…å†µéƒ½ä¸æ˜¯å°±ç›´æ¥ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line">    downloadAndGenerate(REACT_TPL, to, appName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-3ã€checkEmpty"><a href="#5-3ã€checkEmpty" class="headerlink" title="5.3ã€checkEmpty"></a>5.3ã€checkEmpty</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­ç›®å½•æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkEmpty</span>(<span class="params">path, appName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dirFiles = fs.readdirSync(path);</span><br><span class="line">  <span class="keyword">if</span> (dirFiles.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    inquirer.prompt([&#123;</span><br><span class="line">      type: <span class="string">'confirm'</span>,</span><br><span class="line">      name: <span class="string">'ok'</span>,</span><br><span class="line">      message: <span class="string">'Target directory is not empty and will overwritten. Continue?'</span>,</span><br><span class="line">    &#125;]).then(<span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (answers.ok) &#123;</span><br><span class="line">        fs.emptyDirSync(path)</span><br><span class="line">        downloadAndGenerate(REACT_TPL, path, appName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    downloadAndGenerate(REACT_TPL, path, appName)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-4ã€checkExist"><a href="#5-4ã€checkExist" class="headerlink" title="5.4ã€checkExist"></a>5.4ã€checkExist</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­ç›®å½•æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkExist</span>(<span class="params">path</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fs.pathExistsSync(path);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5-5ã€downloadAndGenerate"><a href="#5-5ã€downloadAndGenerate" class="headerlink" title="5.5ã€downloadAndGenerate"></a>5.5ã€downloadAndGenerate</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹è½½æ¨¡æ¿æ„å»ºé¡¹ç›®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadAndGenerate</span>(<span class="params">template, tmp</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ç”Ÿæˆä¸‹è½½loading</span></span><br><span class="line">  <span class="keyword">const</span> spinner = ora(<span class="string">"downloading template"</span>);</span><br><span class="line">  <span class="keyword">const</span> clone = program.clone || <span class="literal">false</span>;</span><br><span class="line">  spinner.start();</span><br><span class="line">  download(template, tmp, &#123; clone &#125;, err =&gt; &#123;</span><br><span class="line">    spinner.stop();</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(</span><br><span class="line">        chalk.red(</span><br><span class="line">        <span class="string">"Failed to download repo "</span> + template + <span class="string">": "</span> + err.message.trim()</span><br><span class="line">        )</span><br><span class="line">      );</span><br><span class="line">      process.exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸‹è½½å®Œæˆåæç¤ºç”¨æˆ·æ“ä½œ</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`To get started:\n\n  cd <span class="subst">$&#123;tmp&#125;</span>\n  npm install\n  npm run dev\n\nDocumentation can be found at https://github.com/hzzly`</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™ï¼Œå¼€å‘é˜¶æ®µå°±å¯å‘Šä¸€æ®µè½äº†ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ <code>hzzly create &lt;app-name&gt;</code> å‘½ä»¤è¡Œæ„å»ºé¡¹ç›®ç›®å½•çš„æ­¥éª¤ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å‘å¸ƒåˆ°npmç»™å…¶ä»–äººä½¿ç”¨ã€‚</p>
<h2 id="å‘å¸ƒåˆ°npm"><a href="#å‘å¸ƒåˆ°npm" class="headerlink" title="å‘å¸ƒåˆ°npm"></a>å‘å¸ƒåˆ°npm</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¼€å‘çš„ hzzly è¿˜æ˜¯åœ¨æœ¬åœ°çš„ï¼Œç°åœ¨å°±è¯¥å°†å…¶å‘å¸ƒåˆ° <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a> ä¸Šäº†ã€‚</p>
<p>1ã€é¦–å…ˆ <a href="https://www.npmjs.com/signup" target="_blank" rel="noopener">æ³¨å†Œä¸€ä¸ªè´¦å·</a>ã€‚</p>
<p>2ã€åœ¨ç»ˆç«¯æ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm login</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±ä¾¿å¯å°†æœ¬åœ°æœºå™¨ä¸ npm è¿æ¥èµ·æ¥äº†ã€‚</p>
<p>3ã€ä¿®æ”¹package.json<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // ...</span><br><span class="line">  "files": [</span><br><span class="line">    <span class="string">"bin/"</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ·»åŠ  files å±æ€§æŒ‡å®šå“ªäº›æ–‡ä»¶æäº¤åˆ° npmï¼Œè¿™æ ·å¯ä»¥å‡å°‘åŒ…çš„å¤§å°ã€‚</p>
<p>4ã€å‘å¸ƒ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure></p>
<h3 id="æ›´æ–°åŒ…"><a href="#æ›´æ–°åŒ…" class="headerlink" title="æ›´æ–°åŒ…"></a>æ›´æ–°åŒ…</h3><p>é¦–å…ˆä¿®æ”¹ package.json é…ç½®æ–‡ä»¶ä¸­çš„ version å­—æ®µï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä» 1.0.0 æ”¹æˆ 1.0.1ï¼ˆåªèƒ½å¤§äºå½“å‰ç‰ˆæœ¬ï¼‰ï¼Œç„¶åä¿®æ”¹è„šæ‰‹æ¶ï¼Œæœ€åå†æ¬¡<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><h3 id="1ã€æ·»åŠ å°é¢æ¿"><a href="#1ã€æ·»åŠ å°é¢æ¿" class="headerlink" title="1ã€æ·»åŠ å°é¢æ¿"></a>1ã€æ·»åŠ å°é¢æ¿</h3><p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli2.png" alt="boxen"><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> boxen = <span class="built_in">require</span>(<span class="string">'boxen'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> BOXEN_OPTS = &#123;</span><br><span class="line">  padding: <span class="number">1</span>,</span><br><span class="line">  margin: <span class="number">1</span>,</span><br><span class="line">  align: <span class="string">'center'</span>,</span><br><span class="line">  borderColor: <span class="string">'#678491'</span>,</span><br><span class="line">  borderStyle: <span class="string">'round'</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializing</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> messages = [];</span><br><span class="line">  messages.push(</span><br><span class="line">    <span class="string">`ğŸ”¥  Welcome to use hzzly-cli <span class="subst">$&#123;chalk.grey(<span class="string">`v<span class="subst">$&#123;pkg.version&#125;</span>`</span>)&#125;</span>`</span></span><br><span class="line">  );</span><br><span class="line">  messages.push(</span><br><span class="line">    chalk.grey(<span class="string">'https://github.com/hzzly/hzzly-cli'</span>)</span><br><span class="line">  );</span><br><span class="line">  messages.push(</span><br><span class="line">    chalk.grey(<span class="string">'https://www.npmjs.com/package/hzzly-cli'</span>)</span><br><span class="line">  )</span><br><span class="line">  <span class="built_in">console</span>.log(boxen(messages.join(<span class="string">'\n'</span>), BOXEN_OPTS));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">program</span><br><span class="line">  .command(<span class="string">'create'</span>)</span><br><span class="line">  .description(<span class="string">'generate a new project from a template'</span>)</span><br><span class="line">  .option(<span class="string">"-c, --clone"</span>, <span class="string">"use git clone"</span>)</span><br><span class="line">  .action(<span class="function">(<span class="params">appName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å°é¢æ¿</span></span><br><span class="line">    initializing(pkg)</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬"><a href="#2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬" class="headerlink" title="2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬"></a>2ã€æ£€æŸ¥åŒ…çš„çº¿ä¸Šç‰ˆæœ¬ä¸æœ¬åœ°ç‰ˆæœ¬</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> updateNotifier = <span class="built_in">require</span>(<span class="string">'update-notifier'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkVersion</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Checking your hzzly-cli version...'</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> notifier = updateNotifier(&#123;</span><br><span class="line">    pkg,</span><br><span class="line">    updateCheckInterval: <span class="number">0</span></span><br><span class="line">  &#125;);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> update = notifier.update;</span><br><span class="line">  <span class="keyword">if</span> (update) &#123;</span><br><span class="line">    <span class="keyword">const</span> messages = [];</span><br><span class="line">    messages.push(<span class="string">`Update available <span class="subst">$&#123;chalk.grey(update.current)&#125;</span> â†’ <span class="subst">$&#123;chalk.green(update.latest)&#125;</span>`</span>)</span><br><span class="line">    messages.push(<span class="string">`Run <span class="subst">$&#123;chalk.cyan(<span class="string">`npm i -g <span class="subst">$&#123;pkg.name&#125;</span>`</span>)&#125;</span> to update`</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(boxen(messages.join(<span class="string">'\n'</span>), &#123; ...BOXEN_OPTS, <span class="attr">borderColor</span>: <span class="string">'#fae191'</span> &#125;));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Finish checking your hzzly-cli. CAUTION â†‘â†‘'</span>, <span class="string">'âš ï¸'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸ› ï¸  Finish checking your hzzly-cli. OK'</span>, chalk.green(<span class="string">'âœ”'</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initializing</span>(<span class="params">pkg</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  checkVersion(pkg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3ã€README-mdæ·»åŠ å¾½æ ‡"><a href="#3ã€README-mdæ·»åŠ å¾½æ ‡" class="headerlink" title="3ã€README.mdæ·»åŠ å¾½æ ‡"></a>3ã€README.mdæ·»åŠ å¾½æ ‡</h3><p>æ¨èè‡ªåŠ¨ç”Ÿæˆå¾½æ ‡ç½‘ç«™ <a href="https://shields.io/" target="_blank" rel="noopener">shields.io</a></p>
<p><img src="https://img.shields.io/npm/v/hzzly-cli.svg" alt="NPM version"></p>
<p><img src="https://img.shields.io/npm/l/hzzly-cli.svg" alt="MIT Licence"></p>
<h2 id="æ·±å…¥inquirer-js"><a href="#æ·±å…¥inquirer-js" class="headerlink" title="æ·±å…¥inquirer.js"></a>æ·±å…¥inquirer.js</h2><p>åˆ›å»ºè„šæ‰‹æ¶çš„æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°å¾ˆå¤šè„šæ‰‹æ¶éƒ½éœ€è¦æˆ‘ä»¬å’Œå‘½ä»¤è¡Œé¢‘ç¹äº¤äº’ï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨npm initçš„æ—¶å€™ä¸€æ ·ï¼Œé‚£ä¹ˆæ˜¯å¦‚ä½•å®ç°å’Œå‘½ä»¤è¡Œäº¤äº’çš„å‘¢ï¼Ÿæ­¤æ—¶inquirer.jsé—ªäº®ç™»åœºã€‚</p>
<h3 id="1ã€åŸºæœ¬ç”¨æ³•"><a href="#1ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="1ã€åŸºæœ¬ç”¨æ³•"></a>1ã€åŸºæœ¬ç”¨æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inquirer = <span class="built_in">require</span>(<span class="string">'inquirer'</span>);</span><br><span class="line">inquirer.prompt([<span class="comment">/* opts */</span>])</span><br><span class="line">  .then(<span class="function">(<span class="params">answers</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Use answers for... whatever!! </span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="2ã€å‚æ•°è¯¦è§£"><a href="#2ã€å‚æ•°è¯¦è§£" class="headerlink" title="2ã€å‚æ•°è¯¦è§£"></a>2ã€å‚æ•°è¯¦è§£</h3><ul>
<li>typeï¼šè¡¨ç¤ºæé—®çš„ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šinput, confirm, list, rawlist, expand, checkbox, password, editorï¼›</li>
<li>name: å­˜å‚¨å½“å‰é—®é¢˜å›ç­”çš„å˜é‡ï¼›</li>
<li>messageï¼šé—®é¢˜çš„æè¿°ï¼›</li>
<li>defaultï¼šé»˜è®¤å€¼ï¼›</li>
<li>choicesï¼šåˆ—è¡¨é€‰é¡¹ï¼Œåœ¨æŸäº›typeä¸‹å¯ç”¨ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªåˆ†éš”ç¬¦(separator)ï¼›</li>
<li>validateï¼šå¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œæ ¡éªŒï¼›</li>
<li>filterï¼šå¯¹ç”¨æˆ·çš„å›ç­”è¿›è¡Œè¿‡æ»¤å¤„ç†ï¼Œè¿”å›å¤„ç†åçš„å€¼ï¼›</li>
<li>transformerï¼šå¯¹ç”¨æˆ·å›ç­”çš„æ˜¾ç¤ºæ•ˆæœè¿›è¡Œå¤„ç†(å¦‚ï¼šä¿®æ”¹å›ç­”çš„å­—ä½“æˆ–èƒŒæ™¯é¢œè‰²)ï¼Œä½†ä¸ä¼šå½±å“æœ€ç»ˆçš„ç­”æ¡ˆçš„å†…å®¹ï¼›</li>
<li>whenï¼šæ ¹æ®å‰é¢é—®é¢˜çš„å›ç­”ï¼Œåˆ¤æ–­å½“å‰é—®é¢˜æ˜¯å¦éœ€è¦è¢«å›ç­”ï¼›</li>
<li>pageSizeï¼šä¿®æ”¹æŸäº›typeç±»å‹ä¸‹çš„æ¸²æŸ“è¡Œæ•°ï¼›</li>
<li>prefixï¼šä¿®æ”¹messageé»˜è®¤å‰ç¼€ï¼›</li>
<li>suffixï¼šä¿®æ”¹messageé»˜è®¤åç¼€ã€‚</li>
</ul>
<h3 id="3ã€å®ä¾‹"><a href="#3ã€å®ä¾‹" class="headerlink" title="3ã€å®ä¾‹"></a>3ã€å®ä¾‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> opts = [</span><br><span class="line">  &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    message: <span class="string">'å§“å'</span>,</span><br><span class="line">    name: <span class="string">'name'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'input'</span>,</span><br><span class="line">    message: <span class="string">'æ‰‹æœºå·'</span>,</span><br><span class="line">    name: <span class="string">'phone'</span>,</span><br><span class="line">    validate: <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (val.match(<span class="regexp">/\d&#123;11&#125;/g</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'è¯·è¾“å…¥11ä½æ•°å­—'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦å‚åŠ æœ¬æ¬¡è€ƒæ ¸ï¼Ÿ'</span>,</span><br><span class="line">    name: <span class="string">'assess'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'confirm'</span>,</span><br><span class="line">    message: <span class="string">'æ˜¯å¦åŒæ„æœ¬æ¬¡è€ƒæ ¸é¡»çŸ¥ï¼Ÿ'</span>,</span><br><span class="line">    name: <span class="string">'notice'</span>,</span><br><span class="line">    when: <span class="function"><span class="params">answers</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> answers.assess</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'list'</span>,</span><br><span class="line">    message: <span class="string">'æ¬¢è¿æ¥åˆ°æœ¬æ¬¡è€ƒæ ¸ï¼Œè¯·é€‰æ‹©è¯­è¨€ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'eductionBg'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">"js"</span>,</span><br><span class="line">      <span class="string">"java"</span>,</span><br><span class="line">      <span class="string">"php"</span></span><br><span class="line">    ],</span><br><span class="line">    filter: <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å°†é€‰æ‹©çš„å†…å®¹åé¢åŠ è¯­è¨€</span></span><br><span class="line">      <span class="keyword">return</span> val + <span class="string">'è¯­è¨€'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'rawlist'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢é€›çš„ç¤¾åŒºï¼š'</span>,</span><br><span class="line">    name: <span class="string">'game'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      <span class="string">"æ˜é‡‘"</span>,</span><br><span class="line">      <span class="string">"github"</span>,</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'expand'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢çš„æ°´æœï¼š'</span>,</span><br><span class="line">    name: <span class="string">'fruit'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"a"</span>,</span><br><span class="line">        name: <span class="string">"Apple"</span>,</span><br><span class="line">        value: <span class="string">"apple"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"O"</span>,</span><br><span class="line">        name: <span class="string">"Orange"</span>,</span><br><span class="line">        value: <span class="string">"orange"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        key: <span class="string">"p"</span>,</span><br><span class="line">        name: <span class="string">"Pear"</span>,</span><br><span class="line">        value: <span class="string">"pear"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'checkbox'</span>,</span><br><span class="line">    message: <span class="string">'è¯·é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'color'</span>,</span><br><span class="line">    choices: [</span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"red"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">new</span> inquirer.Separator(), <span class="comment">// æ·»åŠ åˆ†éš”ç¬¦</span></span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"blur"</span>,</span><br><span class="line">        checked: <span class="literal">true</span> <span class="comment">// é»˜è®¤é€‰ä¸­</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"green"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">new</span> inquirer.Separator(<span class="string">"--- åˆ†éš”ç¬¦ ---"</span>), <span class="comment">// è‡ªå®šä¹‰åˆ†éš”ç¬¦</span></span><br><span class="line">      &#123;</span><br><span class="line">        name: <span class="string">"yellow"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    type: <span class="string">'password'</span>,</span><br><span class="line">    message: <span class="string">'è¯·è¾“å…¥ä½ çš„å¯†ç ï¼š'</span>,</span><br><span class="line">    name: <span class="string">'pwd'</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">inquirer.prompt(opts).then(<span class="function"><span class="params">answers</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(answers);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/cli/hzzly-cli.png" alt="inquirer"></p>
<p>ä»£ç å·²ä¸Šä¼ è‡³æˆ‘çš„<a href="https://github.com/hzzly/hzzly-cli" target="_blank" rel="noopener">GitHub</a>ï¼Œæ¬¢è¿ Starã€Fork</p>
<h2 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h2><p><a href="https://segmentfault.com/a/1190000002918295" target="_blank" rel="noopener">Nodejs åˆ¶ä½œå‘½ä»¤è¡Œå·¥å…·</a></p>
<p><a href="https://juejin.im/post/5cc160b2f265da03452bdf5b" target="_blank" rel="noopener">ç”¨ä¸€æ¬¡å°±ä¼šçˆ±ä¸Šçš„cliå·¥å…·å¼€å‘</a></p>
<p><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener">commander.js</a></p>

    
  </div>

</article>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">æ”¯æŒä¸€ä¸‹</span>
      <div class="donation-body">
        <div class="tip text-center">æ‰«ä¸€æ‰«ï¼Œæ”¯æŒhzzly</div>
        <ul>
        
          <li class="item">
            
              <span>å¾®ä¿¡æ‰«ä¸€æ‰«</span>
            
            <img src="" alt="">
          </li>
        
          <li class="item">
            
              <span>æ”¯ä»˜å®æ‰«ä¸€æ‰«</span>
            
            <img src="" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2019/07/15/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸‰/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2019/08/13/æ·±ç©¶HTTPS/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">å…³é—­</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/archives/" rel="noopener noreferrer" target="_self">
              åšå®¢
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/tag/" rel="noopener noreferrer" target="_self">
              æ ‡ç­¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/link/" rel="noopener noreferrer" target="_self">
              å‹é“¾
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/about/" rel="noopener noreferrer" target="_self">
              å…³äº
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">
              æœç´¢
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
