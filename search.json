[{"title":"åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ","url":"http://yoursite.com/2019/07/12/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒäºŒ/","content":"<h2 id=\"ç‰ˆæœ¬\"><a href=\"#ç‰ˆæœ¬\" class=\"headerlink\" title=\"ç‰ˆæœ¬\"></a>ç‰ˆæœ¬</h2><ul>\n<li>webpack 4</li>\n<li>Babel 7</li>\n</ul>\n<blockquote>\n<p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨é’ˆå¯¹ä¸Šç¯‡çš„webpacké…ç½®è¿›è¡Œä¼˜åŒ–</p>\n</blockquote>\n<h3 id=\"å¿«é€Ÿæµè§ˆï¼š\"><a href=\"#å¿«é€Ÿæµè§ˆï¼š\" class=\"headerlink\" title=\"å¿«é€Ÿæµè§ˆï¼š\"></a>å¿«é€Ÿæµè§ˆï¼š</h3><ul>\n<li><a href=\"http://hjingren.cn/2019/07/11/%E5%8A%A8%E6%89%8B%E6%90%AD%E5%BB%BAreact%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%80/\" target=\"_blank\" rel=\"noopener\">webpackåŸºç¡€ç¯‡</a></li>\n</ul>\n<h2 id=\"webpackä¼˜åŒ–\"><a href=\"#webpackä¼˜åŒ–\" class=\"headerlink\" title=\"webpackä¼˜åŒ–\"></a>webpackä¼˜åŒ–</h2><h3 id=\"1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰\"><a href=\"#1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰\" class=\"headerlink\" title=\"1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰\"></a>1ã€æŠ½å–cssï¼ˆMiniCssExtractPluginï¼‰</h3><p>ä¸ºæ¯ä¸ªå¼•å…¥ CSS çš„ JS æ–‡ä»¶åˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œæé«˜é¦–é¡µåŠ è½½é€Ÿåº¦</p>\n<ul>\n<li>æŠŠ style-loader æ›¿æ¢æˆ MiniCssExtractPlugin.loader</li>\n<li>æ–°å¢ plugins</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> MiniCssExtractPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'mini-css-extract-plugin'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(sc|sa|c)ss$/</span>,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          <span class=\"comment\">// 'style-loader',</span></span><br><span class=\"line\">          MiniCssExtractPlugin.loader,</span><br><span class=\"line\">          <span class=\"comment\">// ...åŒä¸Š</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> MiniCssExtractPlugin(&#123;</span><br><span class=\"line\">      filename: <span class=\"string\">'[name].[hash].css'</span>,</span><br><span class=\"line\">      chunkFilename: <span class=\"string\">'[id].[hash].css'</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰\"><a href=\"#2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰\" class=\"headerlink\" title=\"2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰\"></a>2ã€å‹ç¼©CSSï¼ˆOptimizeCssAssetsWebpackPluginï¼‰</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> OptimizeCssAssetsWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'optimize-css-assets-webpack-plugin'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> OptimizeCssAssetsWebpackPlugin(),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"3ã€å‹ç¼©JS\"><a href=\"#3ã€å‹ç¼©JS\" class=\"headerlink\" title=\"3ã€å‹ç¼©JS\"></a>3ã€å‹ç¼©JS</h3><p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ ä»£ç å°±ä¼šè‡ªåŠ¨å‹ç¼©<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mode: <span class=\"string\">'production'</span>,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰\"><a href=\"#4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰\" class=\"headerlink\" title=\"4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰\"></a>4ã€ä»£ç åˆ†å‰²ï¼ˆSplitChunksPluginï¼‰</h3><p>ä»£ç åˆ†å‰²ï¼Œå•ç‹¬æ‰“åŒ…ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…æ‰€æœ‰é¡µé¢åªç”Ÿæˆä¸€ä¸ªjsæ–‡ä»¶ï¼Œé¦–å±åŠ è½½å¾ˆæ…¢çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...</span></span><br><span class=\"line\">  optimization: &#123;</span><br><span class=\"line\">    splitChunks: &#123;</span><br><span class=\"line\">      chunks: <span class=\"string\">'all'</span>,   <span class=\"comment\">// include all types of chunks</span></span><br><span class=\"line\">      <span class=\"comment\">// minSize: 30000,   // å¼•å…¥çš„åº“å¤§äº30kbæ—¶æ‰ä¼šåšä»£ç åˆ†å‰²</span></span><br><span class=\"line\">      <span class=\"comment\">// minChunks: 1,     // ä¸€ä¸ªæ¨¡å—è‡³å°‘è¢«ç”¨äº†1æ¬¡æ‰ä¼šè¢«åˆ†å‰²</span></span><br><span class=\"line\">      <span class=\"comment\">// maxAsyncRequests: 5,     // åŒæ—¶å¼‚æ­¥åŠ è½½çš„æ¨¡å—æ•°æœ€å¤šæ˜¯5ä¸ªï¼Œå¦‚æœè¶…è¿‡5ä¸ªåˆ™ä¸åšä»£ç åˆ†å‰²</span></span><br><span class=\"line\">      <span class=\"comment\">// maxInitialRequests: 3,   // å…¥å£æ–‡ä»¶è¿›è¡ŒåŠ è½½æ—¶ï¼Œå¼•å…¥çš„åº“æœ€å¤šåˆ†å‰²å‡º3ä¸ªjsæ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"comment\">// automaticNameDelimiter: '~',  // ç”Ÿæˆæ–‡ä»¶åçš„æ–‡ä»¶é“¾æ¥ç¬¦</span></span><br><span class=\"line\">      <span class=\"comment\">// name: true,   // å¼€å¯è‡ªå®šä¹‰åç§°æ•ˆæœ</span></span><br><span class=\"line\">      <span class=\"comment\">// cacheGroups: &#123;  // åˆ¤æ–­åˆ†å‰²å‡ºçš„ä»£ç æ”¾åˆ°é‚£é‡Œå»</span></span><br><span class=\"line\">      <span class=\"comment\">//   vendors: &#123;   // é…åˆchunksï¼šâ€˜allâ€™ä½¿ç”¨ï¼Œè¡¨ç¤ºå¦‚æœå¼•å…¥çš„åº“æ˜¯åœ¨node-modulesä¸­ï¼Œé‚£å°±ä¼šæŠŠè¿™ä¸ªåº“åˆ†å‰²å‡ºæ¥å¹¶èµ·åä¸ºvendors.js</span></span><br><span class=\"line\">      <span class=\"comment\">//     test: /[\\/]node_modules[\\/]/,</span></span><br><span class=\"line\">      <span class=\"comment\">//     priority: -10,</span></span><br><span class=\"line\">      <span class=\"comment\">//     filename: 'vendors.js'</span></span><br><span class=\"line\">      <span class=\"comment\">//   &#125;,</span></span><br><span class=\"line\">      <span class=\"comment\">//   default: &#123;  // ä¸ºénode-modulesåº“ä¸­åˆ†å‰²å‡ºçš„ä»£ç è®¾ç½®é»˜è®¤å­˜æ”¾åç§°</span></span><br><span class=\"line\">      <span class=\"comment\">//     priority: -20,</span></span><br><span class=\"line\">      <span class=\"comment\">//     reuseExistingChunk: true, // é¿å…è¢«é‡å¤æ‰“åŒ…åˆ†å‰²</span></span><br><span class=\"line\">      <span class=\"comment\">//     filename: 'common.js'</span></span><br><span class=\"line\">      <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">      <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5ã€é…ç½®å…¨å±€å˜é‡\"><a href=\"#5ã€é…ç½®å…¨å±€å˜é‡\" class=\"headerlink\" title=\"5ã€é…ç½®å…¨å±€å˜é‡\"></a>5ã€é…ç½®å…¨å±€å˜é‡</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">\"webpack\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.DefinePlugin(&#123;</span><br><span class=\"line\">\t    <span class=\"string\">'process.env.NODE_ENV'</span>: <span class=\"built_in\">JSON</span>.stringify(<span class=\"string\">'development'</span>),</span><br><span class=\"line\">\t \t&#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ğŸ”¥Tip1 é—®é¢˜ï¼šå½“ç”¨ DefinePlugin æ¥é…ç½®å…¨å±€å˜é‡æ—¶ï¼Œåªç»™ä¾èµ–ä¸­æ³¨å…¥äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå°±æ˜¯srcæ–‡ä»¶å¤¹ä¸‹é¢çš„å’Œä¾èµ–çš„æ¨¡å—ã€‚å½“æˆ‘ä»¬åœ¨webpacké…ç½®æ–‡ä»¶ä¸­å»å– process.env.NODE_ENV ä¾ç„¶æ˜¯ undefinedã€‚</p>\n<blockquote>\n<p>è§£å†³ï¼šåœ¨package.jsonå‘½ä»¤ä¸­æ³¨å…¥<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"start\": \"webpack-dev-server NODE_ENV=development --config ./build/webpack.config.js\",</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"6ã€CSS-Tree-Shaking\"><a href=\"#6ã€CSS-Tree-Shaking\" class=\"headerlink\" title=\"6ã€CSS Tree Shaking\"></a>6ã€CSS Tree Shaking</h3><p>å»é™¤é¡¹ç›®ä»£ç ä¸­ç”¨ä¸åˆ°çš„ CSS æ ·å¼ï¼Œä»…ä¿ç•™è¢«ä½¿ç”¨çš„æ ·å¼ä»£ç </p>\n<p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“ä½¿ç”¨ CSS Tree Shaking çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ css-modules å…³é—­ï¼Œä¸ç„¶ css ä¼šè¢«å…¨éƒ¨æ¸…é™¤æ‰ã€‚<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add glob-all purify-css purifycss-webpack -D</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> PurifyCSS = <span class=\"built_in\">require</span>(<span class=\"string\">\"purifycss-webpack\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> glob = <span class=\"built_in\">require</span>(<span class=\"string\">\"glob-all\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> PurifyCSS(&#123;</span><br><span class=\"line\">      paths: glob.sync([</span><br><span class=\"line\">        <span class=\"comment\">// è¦åšCSS Tree Shakingçš„è·¯å¾„æ–‡ä»¶</span></span><br><span class=\"line\">        path.resolve(__dirname, <span class=\"string\">\"../public/*.html\"</span>), <span class=\"comment\">// è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking</span></span><br><span class=\"line\">        path.resolve(__dirname, <span class=\"string\">\"../src/*.js\"</span>)</span><br><span class=\"line\">      ])</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"7ã€JS-Tree-Shaking\"><a href=\"#7ã€JS-Tree-Shaking\" class=\"headerlink\" title=\"7ã€JS Tree Shaking\"></a>7ã€JS Tree Shaking</h3><p>æ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥</p>\n<p>webpack 4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ tree shakingå°±ä¼šç”Ÿæ•ˆã€‚</p>\n<h3 id=\"8ã€resolveï¼ˆè§£æï¼‰\"><a href=\"#8ã€resolveï¼ˆè§£æï¼‰\" class=\"headerlink\" title=\"8ã€resolveï¼ˆè§£æï¼‰\"></a>8ã€resolveï¼ˆè§£æï¼‰</h3><p>èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚</p>\n<ul>\n<li>extension: æŒ‡å®šextensionä¹‹åå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é…</li>\n<li>alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  resolve: &#123;</span><br><span class=\"line\">    extensions: [<span class=\"string\">'.js'</span>, <span class=\"string\">'.jsx'</span>],</span><br><span class=\"line\">    alias: &#123;</span><br><span class=\"line\">      <span class=\"string\">'@'</span>: path.join(__dirname, <span class=\"string\">'../src'</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"9ã€æ¨¡å—çƒ­æ›¿æ¢HMR\"><a href=\"#9ã€æ¨¡å—çƒ­æ›¿æ¢HMR\" class=\"headerlink\" title=\"9ã€æ¨¡å—çƒ­æ›¿æ¢HMR\"></a>9ã€æ¨¡å—çƒ­æ›¿æ¢HMR</h3><p>æ¨¡å—çƒ­æ›¿æ¢ä¹Ÿç§°ä¸ºHMRï¼Œä»£ç æ›´æ–°æ—¶åªä¼šæ›´æ–°è¢«ä¿®æ”¹éƒ¨åˆ†éƒ½æ˜¾ç¤ºã€‚æœ‰å¦‚ä¸‹æœ‰ç‚¹</p>\n<ul>\n<li>é’ˆå¯¹äºæ ·å¼è°ƒè¯•æ›´åŠ æ–¹ä¾¿</li>\n<li>åªä¼šæ›´æ–°è¢«ä¿®æ”¹ä»£ç çš„é‚£éƒ¨åˆ†æ˜¾ç¤ºï¼Œæå‡å¼€å‘æ•ˆç‡</li>\n<li>ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æ—¶ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</li>\n</ul>\n<p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨Node.jsçš„æ–¹å¼å®ç°</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add express webpack-dev-middleware webpack-hot-middleware react-hot-loader cross-env -D</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">cd</span> build</span><br><span class=\"line\">touch dev-server.js</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// dev-server.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpackDevMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-dev-middleware'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpackHotMiddleware = <span class=\"built_in\">require</span>(<span class=\"string\">\"webpack-hot-middleware\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./webpack.config.js'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> complier = webpack(config);   <span class=\"comment\">// ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨æ‰§è¡Œä¸€æ¬¡å°±ä¼šé‡æ–°æ‰“åŒ…ä¸€ä¸‹ä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = express();  <span class=\"comment\">// ç”Ÿæˆä¸€ä¸ªå®ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> DIST_DIR = path.resolve(__dirname, <span class=\"string\">'../'</span>, <span class=\"string\">'dist'</span>);  <span class=\"comment\">// è®¾ç½®é™æ€è®¿é—®æ–‡ä»¶è·¯å¾„</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> port = <span class=\"built_in\">parseInt</span>(process.env.PORT, <span class=\"number\">10</span>) || <span class=\"number\">8586</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> host = process.env.HOST || <span class=\"string\">'localhost'</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> devMiddleware = webpackDevMiddleware(complier, &#123;</span><br><span class=\"line\">  quiet: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  noInfo: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  stats: <span class=\"string\">'minimal'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">const</span> hotMiddleware = webpackHotMiddleware(complier, &#123;</span><br><span class=\"line\">  log: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  heartbeat: <span class=\"number\">2000</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"> </span><br><span class=\"line\">app.use(devMiddleware)</span><br><span class=\"line\">app.use(hotMiddleware)</span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®è®¿é—®é™æ€æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class=\"line\">app.use(express.static(DIST_DIR))</span><br><span class=\"line\"></span><br><span class=\"line\">app.listen(port, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">`App running at: http://<span class=\"subst\">$&#123;host&#125;</span>:<span class=\"subst\">$&#123;port&#125;</span>`</span>);</span><br><span class=\"line\">&#125;)  <span class=\"comment\">//ç›‘å¬ç«¯å£</span></span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹webpack.config.js<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.config.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> isDev = process.env.NODE_ENV === <span class=\"string\">'development'</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  entry: &#123;</span><br><span class=\"line\">\t\tmain: [</span><br><span class=\"line\">\t\t\t<span class=\"string\">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">'./src/index.js'</span></span><br><span class=\"line\">\t\t]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(sc|sa|c)ss$/</span>,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          isDev ? <span class=\"string\">'style-loader'</span> : MiniCssExtractPlugin.loader,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            loader: <span class=\"string\">'css-loader'</span>,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">              modules: &#123;</span><br><span class=\"line\">                localIdentName: <span class=\"string\">'[local]_[hash:base64:5]'</span>,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              sourceMap: !isDev &amp;&amp; <span class=\"literal\">true</span>, <span class=\"comment\">// å¼€å‘æ—¶åˆ·æ–°ä¼šå¯¼è‡´é—ªå±ï¼ˆæ ·å¼åŠ è½½æ…¢ä¸€æ­¥ï¼‰</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"string\">'postcss-loader'</span>, <span class=\"comment\">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class=\"line\">          <span class=\"string\">'sass-loader'</span>, <span class=\"comment\">// ç¼–è¯‘scss</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.NamedModulesPlugin(), <span class=\"comment\">// ç”¨äºå¯åŠ¨HMRæ—¶å¯ä»¥æ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> webpack.HotModuleReplacementPlugin(), <span class=\"comment\">// å¼€å¯HMR(çƒ­æ›¿æ¢åŠŸèƒ½,æ›¿æ¢æ›´æ–°éƒ¨åˆ†,ä¸é‡è½½é¡µé¢ï¼) ç›¸å½“äºåœ¨å‘½ä»¤è¡ŒåŠ  --hot</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä¿®æ”¹å…¥å£æ–‡ä»¶index.js<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// index.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; AppContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-hot-loader'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; BrowserRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react-router-dom'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> Router <span class=\"keyword\">from</span> <span class=\"string\">'./router'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  ReactDOM.render(</span><br><span class=\"line\">    &lt;AppContainer&gt;</span><br><span class=\"line\">      &lt;BrowserRouter&gt;</span><br><span class=\"line\">        &lt;Router /&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/BrowserRouter&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;/</span>AppContainer&gt;,</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'root'</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* åˆå§‹åŒ– */</span></span><br><span class=\"line\">render();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* çƒ­æ›´æ–° */</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">module</span>.hot) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">module</span>.hot.accept(<span class=\"string\">'./router/index.js'</span>, () =&gt; &#123;</span><br><span class=\"line\">    render();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä¿®æ”¹scriptå‘½ä»¤è¡Œ<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"start\": \"cross-env NODE_ENV=development node ./build/dev-server.js\",</span><br></pre></td></tr></table></figure></p>\n<p>okï¼Œå½“æˆ‘ä»¬ä¿®æ”¹ä»£ç æ—¶ï¼Œé¡µé¢å°±ä¸éœ€è¦åˆ·æ–°äº†ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ã€‚</p>\n<h2 id=\"webpackåˆ†ç¦»é…ç½®æ–‡ä»¶\"><a href=\"#webpackåˆ†ç¦»é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"webpackåˆ†ç¦»é…ç½®æ–‡ä»¶\"></a>webpackåˆ†ç¦»é…ç½®æ–‡ä»¶</h2><p>é’ˆå¯¹å¼€å‘ç¯å¢ƒå’Œå‘å¸ƒç¯å¢ƒé…ç½®å¯¹åº”çš„webpackï¼Œå…¬å…±çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œå†ä½¿ç”¨ webpack-merge æ¥å°†ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®åˆå¹¶èµ·æ¥</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> build</span><br><span class=\"line\">touch webpack.base.conf.js</span><br><span class=\"line\">touch webpack.dev.conf.js</span><br><span class=\"line\">touch webpack.prd.conf.js</span><br><span class=\"line\"> </span><br><span class=\"line\">yarn add webpack-merge -D</span><br></pre></td></tr></table></figure>\n<h3 id=\"1ã€æå–å…¬å…±é…ç½®\"><a href=\"#1ã€æå–å…¬å…±é…ç½®\" class=\"headerlink\" title=\"1ã€æå–å…¬å…±é…ç½®\"></a>1ã€æå–å…¬å…±é…ç½®</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.base.conf.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; CleanWebpackPlugin &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'clean-webpack-plugin'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> MiniCssExtractPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'mini-css-extract-plugin'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> isDev = process.env.NODE_ENV === <span class=\"string\">'development'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  entry: [<span class=\"string\">'./src/index.js'</span>],</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">'../dist'</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...åŒwebpack.config.jsçš„modules</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> CleanWebpackPlugin(),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">      filename: <span class=\"string\">'index.html'</span>, <span class=\"comment\">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class=\"line\">      template: path.join(__dirname, <span class=\"string\">'../public/index.html'</span>), <span class=\"comment\">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  resolve: &#123;</span><br><span class=\"line\">    extensions: [<span class=\"string\">'.js'</span>, <span class=\"string\">'.jsx'</span>],</span><br><span class=\"line\">    alias: &#123;</span><br><span class=\"line\">      <span class=\"string\">'@'</span>: path.join(__dirname, <span class=\"string\">'../src'</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  optimization: &#123;</span><br><span class=\"line\">    splitChunks: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç </span></span><br><span class=\"line\">      chunks: <span class=\"string\">'all'</span>, <span class=\"comment\">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  performance: <span class=\"literal\">false</span>, <span class=\"comment\">// å…³é—­æ€§èƒ½æç¤º</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2ã€é…ç½®å¼€å‘ç¯å¢ƒ\"><a href=\"#2ã€é…ç½®å¼€å‘ç¯å¢ƒ\" class=\"headerlink\" title=\"2ã€é…ç½®å¼€å‘ç¯å¢ƒ\"></a>2ã€é…ç½®å¼€å‘ç¯å¢ƒ</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.dev.conf.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">\"path\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">\"webpack\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-merge'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> commonConfig = <span class=\"built_in\">require</span>(<span class=\"string\">'./webpack.base.conf.js'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = merge(commonConfig, &#123;</span><br><span class=\"line\">\tmode: <span class=\"string\">\"development\"</span>,</span><br><span class=\"line\">\tdevtool: <span class=\"string\">'cheap-module-eval-soure-map'</span>,</span><br><span class=\"line\">\tentry: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//å®ç°åˆ·æ–°æµè§ˆå™¨webpack-hot-middleware/client?noInfo=true&amp;reload=true æ˜¯å¿…å¡«çš„</span></span><br><span class=\"line\">\t\tmain: [</span><br><span class=\"line\">\t\t\t<span class=\"string\">'webpack-hot-middleware/client?noInfo=true&amp;reload=true'</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">'./src/index.js'</span></span><br><span class=\"line\">\t\t]</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\toutput: &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">\t\tpath: path.resolve(__dirname, <span class=\"string\">\"../dist\"</span>),</span><br><span class=\"line\">    <span class=\"comment\">// æ–‡ä»¶åç§°</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"bundle.[name].[hash].js\"</span>,</span><br><span class=\"line\">\t\tchunkFilename: <span class=\"string\">'[name].[hash].js'</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tplugins: [</span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> webpack.NamedModulesPlugin(),</span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class=\"line\">\t\t<span class=\"comment\">// new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// \t'process.env.NODE_ENV': JSON.stringify('development'),</span></span><br><span class=\"line\">\t \t<span class=\"comment\">// &#125;),</span></span><br><span class=\"line\">\t],</span><br><span class=\"line\">\tdevServer: &#123;</span><br><span class=\"line\">\t\thot: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\tcontentBase: path.resolve(__dirname, <span class=\"string\">\"../dist\"</span>),</span><br><span class=\"line\">\t\thost: <span class=\"string\">\"localhost\"</span>,</span><br><span class=\"line\">\t\tport: <span class=\"number\">8586</span>,</span><br><span class=\"line\">\t\thistoryApiFallback: <span class=\"literal\">true</span>, <span class=\"comment\">// è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class=\"line\">\t\tproxy: &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// \"/api\": \"http://localhost:3000\"</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"3ã€é…ç½®å‘å¸ƒç¯å¢ƒ\"><a href=\"#3ã€é…ç½®å‘å¸ƒç¯å¢ƒ\" class=\"headerlink\" title=\"3ã€é…ç½®å‘å¸ƒç¯å¢ƒ\"></a>3ã€é…ç½®å‘å¸ƒç¯å¢ƒ</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.prd.conf.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack-merge'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> commonConfig = <span class=\"built_in\">require</span>(<span class=\"string\">'./webpack.base.conf.js'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = merge(commonConfig, &#123;</span><br><span class=\"line\">  mode: <span class=\"string\">'production'</span>,</span><br><span class=\"line\">  devtool: <span class=\"string\">'cheap-module-source-map'</span>,</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    publicPath: <span class=\"string\">'/'</span>, <span class=\"comment\">// æ‰“åŒ…è·¯å¾„</span></span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">'../dist'</span>),</span><br><span class=\"line\">    <span class=\"comment\">// æ–‡ä»¶åç§°</span></span><br><span class=\"line\">    filename: <span class=\"string\">'bundle.[name].[hash].js'</span>,</span><br><span class=\"line\">    chunkFilename: <span class=\"string\">'[name].[hash].js'</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  optimization: &#123;</span><br><span class=\"line\">    usedExports: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    splitChunks: &#123;</span><br><span class=\"line\">      chunks: <span class=\"string\">'all'</span>, <span class=\"comment\">// æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class=\"line\">      cacheGroups: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å…¬å…±ä»£ç æ‰“åŒ…åˆ†ç»„é…ç½®</span></span><br><span class=\"line\">        vendors: &#123;</span><br><span class=\"line\">          test: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">          name: <span class=\"string\">'vendors'</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> MiniCssExtractPlugin(&#123;</span><br><span class=\"line\">      filename: <span class=\"string\">'[name].[hash].css'</span>,</span><br><span class=\"line\">      chunkFilename: <span class=\"string\">'[id].[hash].css'</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   'process.env.NODE_ENV': JSON.stringify('production'),</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;),</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ\"><a href=\"#4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ\" class=\"headerlink\" title=\"4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ\"></a>4ã€ä¿®æ”¹scriptå‘½ä»¤è¡Œ</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"start\": \"cross-env NODE_ENV=development node ./build/dev-server.js\",</span><br><span class=\"line\">\"build\": \"cross-env NODE_ENV=production webpack --config ./build/webpack.prod.conf.js\",</span><br></pre></td></tr></table></figure>\n<p>å†™åˆ°è¿™é‡Œï¼Œä¸€ä¸ªåŸºæœ¬çš„Reactå¼€å‘ç¯å¢ƒä¹Ÿå°±æ­èµ·æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥é’ˆå¯¹ä»£ç æˆ–è€…å¼€å‘æ•ˆç‡è¿›è¡Œä¼˜åŒ–ã€‚</p>\n","categories":[],"tags":["éšç¬”","webpack","react"]},{"title":"åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€","url":"http://yoursite.com/2019/07/11/åŠ¨æ‰‹æ­å»ºreactå¼€å‘ç¯å¢ƒä¸€/","content":"<h2 id=\"ç‰ˆæœ¬\"><a href=\"#ç‰ˆæœ¬\" class=\"headerlink\" title=\"ç‰ˆæœ¬\"></a>ç‰ˆæœ¬</h2><ul>\n<li>webpack 4</li>\n<li>Babel 7</li>\n</ul>\n<blockquote>\n<p>æœ¬ç¯‡ä¸»è¦ä½¿ç”¨webpackæ­å»ºåŸºç¡€çš„Reactç¯å¢ƒ</p>\n</blockquote>\n<h2 id=\"webpackæ ¸å¿ƒæ¦‚å¿µ\"><a href=\"#webpackæ ¸å¿ƒæ¦‚å¿µ\" class=\"headerlink\" title=\"webpackæ ¸å¿ƒæ¦‚å¿µ\"></a>webpackæ ¸å¿ƒæ¦‚å¿µ</h2><ul>\n<li>entry: å…¥å£èµ·ç‚¹</li>\n<li>output: è¾“å‡º</li>\n<li>module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å—</li>\n<li>loader: è½¬æ¢å·¥å…·ï¼Œwebpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ã€‚loader è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­</li>\n<li>plugin: æ‰©å±•æ’ä»¶ï¼Œloader ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼Œåœ¨webpackæ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰ç­‰</li>\n<li>mode: webpacçš„æ‰“åŒ…ç¯å¢ƒ[development, production]</li>\n<li>chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²</li>\n</ul>\n<h2 id=\"åŸºç¡€é…ç½®\"><a href=\"#åŸºç¡€é…ç½®\" class=\"headerlink\" title=\"åŸºç¡€é…ç½®\"></a>åŸºç¡€é…ç½®</h2><h3 id=\"1ã€åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#1ã€åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"1ã€åˆå§‹åŒ–é¡¹ç›®\"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir webpack-template</span><br><span class=\"line\">cd webpack-template</span><br><span class=\"line\">mkdir src</span><br><span class=\"line\">mkdir public</span><br><span class=\"line\">mkdir build</span><br><span class=\"line\">mkdir dist</span><br><span class=\"line\">npm init -y</span><br></pre></td></tr></table></figure>\n<h3 id=\"2ã€å®‰è£…webpack\"><a href=\"#2ã€å®‰è£…webpack\" class=\"headerlink\" title=\"2ã€å®‰è£…webpack\"></a>2ã€å®‰è£…webpack</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add webpack webpack-cli -D</span><br><span class=\"line\"><span class=\"built_in\">cd</span> build</span><br><span class=\"line\">touch webpack.config.js</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç®€å•çš„webpacké…ç½®</span></span><br><span class=\"line\"><span class=\"comment\">// webpack.config.jsåˆå§‹åŒ–å†…å®¹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  mode: <span class=\"string\">\"development\"</span>,  <span class=\"comment\">// æŒ‡å®šç¯å¢ƒ</span></span><br><span class=\"line\">  entry: [<span class=\"string\">\"./src/index.js\"</span>],  <span class=\"comment\">// æ‰“åŒ…å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¾“å‡ºç›®å½•</span></span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">\"../dist\"</span>),</span><br><span class=\"line\">    <span class=\"comment\">// æ–‡ä»¶åç§°</span></span><br><span class=\"line\">    filename: <span class=\"string\">\"bundle.js\"</span></span><br><span class=\"line\">  &#125;,  <span class=\"comment\">// æ‰“åŒ…è¾“å‡ºåˆ° dist/bundle.js.</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>:&#123;&#125;,</span><br><span class=\"line\">  plugins:[]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>package.jsonæ›´æ”¹<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"start\": \"webpack --config ./build/webpack.config.js\"</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"3ã€HtmlWebpackPlugin\"><a href=\"#3ã€HtmlWebpackPlugin\" class=\"headerlink\" title=\"3ã€HtmlWebpackPlugin\"></a>3ã€HtmlWebpackPlugin</h3><p>å°†æ‰“åŒ…çš„jsè‡ªåŠ¨æ’å…¥åˆ° index.html é‡Œé¢å»ã€‚<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add html-webpack-plugin -D</span><br><span class=\"line\"><span class=\"built_in\">cd</span> public</span><br><span class=\"line\">touch index.html</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Webpack Template<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"root\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  plugins:[</span><br><span class=\"line\">    <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">      filename: <span class=\"string\">'index.html'</span>, <span class=\"comment\">// æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class=\"line\">      template: path.join(__dirname, <span class=\"string\">'../public/index.html'</span>), <span class=\"comment\">// æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX\"><a href=\"#4ã€é…ç½®è½¬ä¹‰ES6-ES7-JSX\" class=\"headerlink\" title=\"4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX\"></a>4ã€é…ç½®è½¬ä¹‰ES6/ES7/JSX</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(js|jsx)$/</span>,</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">        use: <span class=\"string\">'babel-loader'</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ–°å»º.babelrcæ–‡ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"presets\"</span>: [<span class=\"string\">\"@babel/preset-env\"</span>, <span class=\"string\">\"@babel/preset-react\"</span>],</span><br><span class=\"line\">  <span class=\"string\">\"plugins\"</span>: [<span class=\"string\">\"@babel/plugin-transform-runtime\"</span>, <span class=\"string\">\"@babel/plugin-proposal-class-properties\"</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ğŸ”¥Tip1 é—®é¢˜ï¼šSupport for the experimental syntax â€˜classPropertiesâ€™ isnâ€™t currently enabled</p>\n<blockquote>\n<p>yarn add @babel/plugin-proposal-class-properties å¹¶åœ¨pluginsä¸­é…ç½®</p>\n</blockquote>\n<h3 id=\"5ã€é…ç½®è½¬ä¹‰Typescript\"><a href=\"#5ã€é…ç½®è½¬ä¹‰Typescript\" class=\"headerlink\" title=\"5ã€é…ç½®è½¬ä¹‰Typescript\"></a>5ã€é…ç½®è½¬ä¹‰Typescript</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add typescript ts-loader -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.tsx?$/</span>,</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">\"ts-loader\"</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ–°å»ºtsconfig.json<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"compilerOptions\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"baseUrl\"</span>: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"rootDir\"</span>: <span class=\"string\">\".\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"outDir\"</span>: <span class=\"string\">\"dist\"</span>,</span><br><span class=\"line\">    \"module\": \"esnext\", // æ¨¡å—å¼•å…¥çš„æ–¹å¼</span><br><span class=\"line\">    \"target\": \"es6\", // è½¬æ¢ä¸ºes6</span><br><span class=\"line\">    \"lib\": [\"dom\", \"es7\"],</span><br><span class=\"line\">    \"jsx\": \"preserve\",</span><br><span class=\"line\">    \"moduleResolution\": \"node\",</span><br><span class=\"line\">    \"sourceMap\": true,</span><br><span class=\"line\">    \"allowJs\": true, // åœ¨typescriptä¸­å…è®¸å¼•å…¥jsæ–‡ä»¶</span><br><span class=\"line\">    \"forceConsistentCasingInFileNames\": true,</span><br><span class=\"line\">    \"noImplicitReturns\": true,</span><br><span class=\"line\">    \"noImplicitThis\": true,</span><br><span class=\"line\">    \"noImplicitAny\": true,</span><br><span class=\"line\">    \"noUnusedLocals\": true,</span><br><span class=\"line\">    \"noUnusedParameters\": true,</span><br><span class=\"line\">    \"strictNullChecks\": true,</span><br><span class=\"line\">    \"importHelpers\": true,</span><br><span class=\"line\">    \"suppressImplicitAnyIndexErrors\": true,</span><br><span class=\"line\">    \"experimentalDecorators\": true,</span><br><span class=\"line\">    \"downlevelIteration\": true,</span><br><span class=\"line\">    \"allowSyntheticDefaultImports\": true,</span><br><span class=\"line\">    \"paths\": &#123;</span><br><span class=\"line\">      \"@/*\": [\"src/*\"]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  \"exclude\": [\"node_modules\", \"dist\", \"build\", \"mock\"]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"6ã€CleanWebpackPlugin\"><a href=\"#6ã€CleanWebpackPlugin\" class=\"headerlink\" title=\"6ã€CleanWebpackPlugin\"></a>6ã€CleanWebpackPlugin</h3><p>æ¸…é™¤ dist ç›®å½•ä¸‹æ—§ç‰ˆæœ¬æ–‡ä»¶ã€‚<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add clean-webpack-plugin -D</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; CleanWebpackPlugin &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'clean-webpack-plugin'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  plugins:[</span><br><span class=\"line\">    <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> CleanWebpackPlugin()</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"7ã€source-map\"><a href=\"#7ã€source-map\" class=\"headerlink\" title=\"7ã€source-map\"></a>7ã€source-map</h3><p>å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">devtool: <span class=\"string\">\"cheap-module-eval-source-map\"</span>,  <span class=\"comment\">// development</span></span><br><span class=\"line\">devtool: <span class=\"string\">\"cheap-module-source-map\"</span>,  <span class=\"comment\">// production</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"8ã€WebpackDevServer\"><a href=\"#8ã€WebpackDevServer\" class=\"headerlink\" title=\"8ã€WebpackDevServer\"></a>8ã€WebpackDevServer</h3><p>webpackåœ¨æœ¬åœ°ä¸ºæ­å»ºäº†ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå®æ—¶æ‰“åŒ…é‡åŠ è½½ä¿®æ”¹çš„ä»£ç ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add webpack-dev-server -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  devServer: &#123;</span><br><span class=\"line\">    hot: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    contentBase: path.resolve(__dirname, <span class=\"string\">\"../dist\"</span>),</span><br><span class=\"line\">    host: <span class=\"string\">\"localhost\"</span>,</span><br><span class=\"line\">    port: <span class=\"number\">8586</span>,</span><br><span class=\"line\">    historyApiFallback: <span class=\"literal\">true</span>, <span class=\"comment\">//  è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class=\"line\">    proxy: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€</span></span><br><span class=\"line\">      <span class=\"comment\">// \"/api\": \"http://localhost:3000\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹package.jsonå‘½ä»¤<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// package.json</span><br><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"start\": \"webpack-dev-server --config ./build/webpack.config.js\",</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules\"><a href=\"#9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules\" class=\"headerlink\" title=\"9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules\"></a>9ã€ç¼–è¯‘csså’Œscsså¹¶ä½¿ç”¨css-modules</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add css-loader style-loader sass-loader node-sass -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(sc|sa|c)ss$/</span>,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          <span class=\"string\">'style-loader'</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            loader: <span class=\"string\">'css-loader'</span>,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">              modules: &#123;</span><br><span class=\"line\">                localIdentName: <span class=\"string\">'[local]_[hash:base64:5]'</span>,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">              <span class=\"comment\">// sourceMap: !isDev &amp;&amp; true,</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"string\">'sass-loader'</span>, <span class=\"comment\">// ç¼–è¯‘scss</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ğŸ”¥Tip2 é—®é¢˜ï¼šå½“åœ¨ css-loader é…ç½®ä¸Š sourceMap æ—¶ï¼Œé…åˆçƒ­åŠ è½½æ ·å¼ä¼šé—ªå±</p>\n<blockquote>\n<p>sourceMap: !isDev &amp;&amp; true,</p>\n</blockquote>\n<h3 id=\"10ã€é›†æˆpostcss\"><a href=\"#10ã€é›†æˆpostcss\" class=\"headerlink\" title=\"10ã€é›†æˆpostcss\"></a>10ã€é›†æˆpostcss</h3><p>ä¸ºcssæŸäº›ç‰¹æ€§è‡ªåŠ¨å¢åŠ å‰ç¼€ï¼Œå¹¶åšä¸€äº›å…¼å®¹å¤„ç†ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(sc|sa|c)ss$/</span>,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">          <span class=\"string\">'postcss-loader'</span>, <span class=\"comment\">// ä½¿ç”¨ postcss ä¸º css åŠ ä¸Šæµè§ˆå™¨å‰ç¼€</span></span><br><span class=\"line\">          <span class=\"string\">'sass-loader'</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ–°å»ºpostcss.config.jsæ–‡ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  loader: <span class=\"string\">'postcss-loader'</span>,</span><br><span class=\"line\">  plugins: &#123;</span><br><span class=\"line\">    <span class=\"string\">'postcss-preset-env'</span>: &#123;&#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ–°å»º.browserlistrcæ–‡ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>% <span class=\"keyword\">in</span> CN</span><br><span class=\"line\">android &gt;= <span class=\"number\">4.4</span></span><br><span class=\"line\">ios &gt;= <span class=\"number\">8</span></span><br><span class=\"line\">not ie &lt;= <span class=\"number\">11</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"11ã€å›¾ç‰‡å¤„ç†\"><a href=\"#11ã€å›¾ç‰‡å¤„ç†\" class=\"headerlink\" title=\"11ã€å›¾ç‰‡å¤„ç†\"></a>11ã€å›¾ç‰‡å¤„ç†</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add file-loader url-loader -D</span><br><span class=\"line\"><span class=\"comment\"># file-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜</span></span><br><span class=\"line\"><span class=\"comment\"># url-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loader è¿›è¡Œæ‹·è´</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(png|jpg|jpeg|gif|svg)/</span>,</span><br><span class=\"line\">        use: &#123;</span><br><span class=\"line\">          loader: <span class=\"string\">'url-loader'</span>,</span><br><span class=\"line\">          options: &#123;</span><br><span class=\"line\">            outputPath: <span class=\"string\">'images/'</span>,</span><br><span class=\"line\">            limit: <span class=\"number\">10</span> * <span class=\"number\">1024</span>,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"12ã€å­—ä½“æ–‡ä»¶å¤„ç†\"><a href=\"#12ã€å­—ä½“æ–‡ä»¶å¤„ç†\" class=\"headerlink\" title=\"12ã€å­—ä½“æ–‡ä»¶å¤„ç†\"></a>12ã€å­—ä½“æ–‡ä»¶å¤„ç†</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...åŒä¸Š</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(eot|woff2?|ttf|svg)$/</span>,</span><br><span class=\"line\">        use: [</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            loader: <span class=\"string\">'url-loader'</span>,</span><br><span class=\"line\">            options: &#123;</span><br><span class=\"line\">              name: <span class=\"string\">'[name]-[hash:5].min.[ext]'</span>,</span><br><span class=\"line\">              limit: <span class=\"number\">5000</span>,</span><br><span class=\"line\">              publicPath: <span class=\"string\">'fonts/'</span>,</span><br><span class=\"line\">              outputPath: <span class=\"string\">'fonts/'</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>åˆ°è¿™é‡Œï¼Œwebpackçš„åŸºæœ¬é…ç½®æˆ‘ä»¬å·²ç»å‡†å¤‡çš„å·®ä¸å¤šäº†ï¼Œèµ¶ç´§å†™ç‚¹reactæ¥è¯•è¯•æ°´ã€‚</p>\n<h2 id=\"æµ‹è¯•Reactç¯å¢ƒ\"><a href=\"#æµ‹è¯•Reactç¯å¢ƒ\" class=\"headerlink\" title=\"æµ‹è¯•Reactç¯å¢ƒ\"></a>æµ‹è¯•Reactç¯å¢ƒ</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add react react-dom react-router react-router-dom</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/index.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; PureComponent &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">'react-dom'</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">PureComponent</span> </span>&#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        hello word~</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    )</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"> </span></span><br><span class=\"line\"><span class=\"regexp\">ReactDOM.render(</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;App /</span>&gt;,</span><br><span class=\"line\">  <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'root'</span>)</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œ <code>npm start</code> ï¼Œå¦‚æœé¡µé¢ä¸Šèƒ½æ­£å¸¸æ˜¾ç¤º <code>hello word~</code> é‚£è¡¨ç¤ºæˆ‘ä»¬çš„webapckåŸºç¡€é…ç½®æˆåŠŸã€‚</p>\n<p>ç¬¬ä¸€ç¯‡webpackåŸºç¡€é…ç½®åˆ°æ­¤ç»“æŸäº†ï¼Œä¸‹ä¸€ç¯‡å¯¹webpackè¿›è¡Œä¼˜åŒ–é…ç½®ã€‚</p>\n","categories":[],"tags":["éšç¬”","webpack","react"]},{"title":"Nginxä¸‹å‡çº§https","url":"http://yoursite.com/2019/06/11/Nginxä¸‹å‡çº§https/","content":"<h2 id=\"è´­ä¹°è¯ä¹¦\"><a href=\"#è´­ä¹°è¯ä¹¦\" class=\"headerlink\" title=\"è´­ä¹°è¯ä¹¦\"></a>è´­ä¹°è¯ä¹¦</h2><p>å¯ä»¥å»é˜¿é‡Œäº‘çš„äº‘ç›¾è¯ä¹¦æœåŠ¡<a href=\"https://common-buy.aliyun.com/?spm=5176.2020520163.cas.3.75c3lKQ2lKQ27E&amp;commodityCode=cas#/buy\" target=\"_blank\" rel=\"noopener\">è´­ä¹°</a></p>\n<h2 id=\"ä¸‹è½½è¯ä¹¦\"><a href=\"#ä¸‹è½½è¯ä¹¦\" class=\"headerlink\" title=\"ä¸‹è½½è¯ä¹¦\"></a>ä¸‹è½½è¯ä¹¦</h2><p>åœ¨è¯ä¹¦æ§åˆ¶å°ä¸‹è½½ Nginx ç‰ˆæœ¬è¯ä¹¦ã€‚ä¸‹è½½åˆ°æœ¬åœ°çš„å‹ç¼©æ–‡ä»¶åŒ…è§£å‹ååŒ…å«ï¼š</p>\n<ul>\n<li><strong>.pem</strong>æ–‡ä»¶ï¼šè¯ä¹¦æ–‡ä»¶</li>\n<li><strong>.key</strong>æ–‡ä»¶ï¼šè¯ä¹¦çš„ç§é’¥æ–‡ä»¶ï¼ˆç”³è¯·è¯ä¹¦æ—¶å¦‚æœæ²¡æœ‰é€‰æ‹©<strong>è‡ªåŠ¨åˆ›å»ºCSR</strong>ï¼Œåˆ™æ²¡æœ‰è¯¥æ–‡ä»¶ï¼‰</li>\n</ul>\n<h2 id=\"é…ç½®Nginx\"><a href=\"#é…ç½®Nginx\" class=\"headerlink\" title=\"é…ç½®Nginx\"></a>é…ç½®Nginx</h2><p>1ã€åœ¨ Nginx çš„å®‰è£…ç›®å½•ä¸‹åˆ›å»º cert ç›®å½•ï¼Œå¹¶ä¸”å°†ä¸‹è½½çš„å…¨éƒ¨æ–‡ä»¶æ‹·è´åˆ° cert ç›®å½•ä¸­ï¼Œå¦‚æœç”³è¯·è¯ä¹¦æ—¶æ˜¯è‡ªå·±åˆ›å»ºçš„CSRæ–‡ä»¶ï¼Œè¯·å°†å¯¹åº”çš„ç§é’¥æ–‡ä»¶æ”¾åˆ° cert ç›®å½•ä¸‹ã€‚</p>\n<p>2ã€æ‰“å¼€ Nginx å®‰è£…ç›®å½•ä¸‹ conf ç›®å½•ä¸­çš„ nginx.conf æ–‡ä»¶</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#user  nobody;</span></span><br><span class=\"line\"><span class=\"attribute\">worker_processes</span>  <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#error_log  logs/error.log;</span></span><br><span class=\"line\"><span class=\"comment\">#error_log  logs/error.log  notice;</span></span><br><span class=\"line\"><span class=\"comment\">#error_log  logs/error.log  info;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#pid        logs/nginx.pid;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">events</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">worker_connections</span>  <span class=\"number\">1024</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">http</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">include</span>       mime.types;</span><br><span class=\"line\">    <span class=\"attribute\">default_type</span>  application/octet-stream;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '</span></span><br><span class=\"line\">    <span class=\"comment\">#                  '$status $body_bytes_sent \"$http_referer\" '</span></span><br><span class=\"line\">    <span class=\"comment\">#                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#access_log  logs/access.log  main;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">sendfile</span>        <span class=\"literal\">on</span>;</span><br><span class=\"line\">    <span class=\"comment\">#tcp_nopush     on;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#keepalive_timeout  0;</span></span><br><span class=\"line\">    <span class=\"attribute\">keepalive_timeout</span>  <span class=\"number\">65</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attribute\">gzip</span>  <span class=\"literal\">on</span>;   <span class=\"comment\">#å¼€å¯gzip</span></span><br><span class=\"line\">    <span class=\"attribute\">gzip_min_length</span> <span class=\"number\">1k</span>; <span class=\"comment\">#ä½äº1kbçš„èµ„æºä¸å‹ç¼©</span></span><br><span class=\"line\">    <span class=\"attribute\">gzip_comp_level</span> <span class=\"number\">3</span>; <span class=\"comment\">#å‹ç¼©çº§åˆ«ã€1-9ã€‘ï¼Œè¶Šå¤§å‹ç¼©ç‡è¶Šé«˜ï¼ŒåŒæ—¶æ¶ˆè€—cpuèµ„æºä¹Ÿè¶Šå¤šï¼Œå»ºè®®è®¾ç½®åœ¨4å·¦å³ã€‚</span></span><br><span class=\"line\">    <span class=\"attribute\">gzip_types</span> text/plain application/javascript application/x-javascript text/javascript text/xml text/css;  <span class=\"comment\">#éœ€è¦å‹ç¼©å“ªäº›å“åº”ç±»å‹çš„èµ„æºï¼Œå¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸å»ºè®®å‹ç¼©å›¾ç‰‡ï¼Œä¸‹é¢ä¼šè®²ä¸ºä»€ä¹ˆã€‚</span></span><br><span class=\"line\">    <span class=\"attribute\">gzip_disable</span> <span class=\"string\">\"MSIE [1-6]\\.\"</span>;  <span class=\"comment\">#é…ç½®ç¦ç”¨gzipæ¡ä»¶ï¼Œæ”¯æŒæ­£åˆ™ã€‚æ­¤å¤„è¡¨ç¤ºie6åŠä»¥ä¸‹ä¸å¯ç”¨gzipï¼ˆå› ä¸ºieä½ç‰ˆæœ¬ä¸æ”¯æŒï¼‰</span></span><br><span class=\"line\">    <span class=\"attribute\">gzip_vary</span> <span class=\"literal\">on</span>;  <span class=\"comment\">#æ˜¯å¦æ·»åŠ â€œVary: Accept-Encodingâ€å“åº”å¤´</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"section\">server</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">listen</span>       <span class=\"number\">80</span> default backlog=<span class=\"number\">2048</span>; <span class=\"comment\">#é…ç½®httpå¯ç”¨</span></span><br><span class=\"line\">        <span class=\"attribute\">listen</span>       <span class=\"number\">443</span> ssl; <span class=\"comment\">#é…ç½®https</span></span><br><span class=\"line\">        <span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attribute\">ssl_certificate</span>      ../cert/hzzly.pem; <span class=\"comment\">#é…ç½®è¯ä¹¦æ–‡ä»¶</span></span><br><span class=\"line\">        <span class=\"attribute\">ssl_certificate_key</span>  ../cert/hzzly.key; <span class=\"comment\">#é…ç½®ç§é’¥æ–‡ä»¶</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attribute\">ssl_session_cache</span>    shared:SSL:<span class=\"number\">1m</span>;</span><br><span class=\"line\">        <span class=\"attribute\">ssl_session_timeout</span>  <span class=\"number\">5m</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attribute\">ssl_ciphers</span>  HIGH:!aNULL:!MD5;</span><br><span class=\"line\">        <span class=\"attribute\">ssl_prefer_server_ciphers</span>  <span class=\"literal\">on</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">            <span class=\"attribute\">root</span>   /home/hzzly;</span><br><span class=\"line\">            <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># location ^~ /apis/ &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">#     proxy_set_header Host $host;</span></span><br><span class=\"line\">        <span class=\"comment\">#     proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class=\"line\">        <span class=\"comment\">#     proxy_set_header X-Forwarded-Server $host;</span></span><br><span class=\"line\">        <span class=\"comment\">#     # åŒ¹é…ä»»ä½•ä»¥ /apis/ å¼€å§‹çš„è¯·æ±‚ï¼Œå¹¶åœæ­¢åŒ¹é… å…¶å®ƒlocation</span></span><br><span class=\"line\">        <span class=\"comment\">#     proxy_pass http://xxxxxxxxxx/;</span></span><br><span class=\"line\">        <span class=\"comment\"># &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># location ^~ /assets/ &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">#     gzip_static on;</span></span><br><span class=\"line\">        <span class=\"comment\">#     expires max;</span></span><br><span class=\"line\">        <span class=\"comment\">#     add_header Cache-Control public;</span></span><br><span class=\"line\">        <span class=\"comment\"># &#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>3ã€é‡å¯ Nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/nginx/sbin</span><br><span class=\"line\">$ ./nginx -s reload</span><br></pre></td></tr></table></figure>\n<h2 id=\"é”™è¯¯è¯¦è§£\"><a href=\"#é”™è¯¯è¯¦è§£\" class=\"headerlink\" title=\"é”™è¯¯è¯¦è§£\"></a>é”™è¯¯è¯¦è§£</h2><h3 id=\"1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯\"><a href=\"#1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯\" class=\"headerlink\" title=\"1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯\"></a>1ã€Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx: [emerg] the <span class=\"string\">\"ssl\"</span> parameter requires ngx_http_ssl_module <span class=\"keyword\">in</span> ...</span><br></pre></td></tr></table></figure>\n<p><strong>Nginxå¼€å¯SSLæ¨¡å—</strong></p>\n<p>åˆ‡æ¢åˆ°æºç åŒ…ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/src/nginx-1.16.0</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹æ–°çš„configureå‚æ•°</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./configure --prefix=/usr/<span class=\"built_in\">local</span>/nginx --with-http_stub_status_module --with-http_ssl_module</span><br></pre></td></tr></table></figure>\n<p>é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ make  //è¿™é‡Œä¸è¦è¿›è¡Œmake installï¼Œå¦åˆ™å°±æ˜¯è¦†ç›–å®‰è£…</span><br></pre></td></tr></table></figure>\n<p>å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cp /usr/<span class=\"built_in\">local</span>/nginx/sbin/nginx /usr/<span class=\"built_in\">local</span>/nginx/sbin/nginx.bak</span><br></pre></td></tr></table></figure>\n<p>å°†åˆšåˆšç¼–è¯‘å¥½çš„nginxè¦†ç›–æ‰åŸæœ‰çš„nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cp ./objs/nginx /usr/<span class=\"built_in\">local</span>/nginx/sbin/</span><br></pre></td></tr></table></figure>\n<p>é‡å¯ Nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/nginx/sbin</span><br><span class=\"line\">$ ./nginx -s reload</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["éšç¬”","nginx"]},{"title":"å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾","url":"http://yoursite.com/2019/03/04/å›¾è§£è¯æ³•ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾/","content":"<h2 id=\"ä½œç”¨åŸŸ\"><a href=\"#ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"ä½œç”¨åŸŸ\"></a>ä½œç”¨åŸŸ</h2><blockquote>\n<p>ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºæºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸã€‚</p>\n<p>ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚</p>\n<p>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p>\n<p>æƒ³äº†è§£æ›´å¤šå…³äºä½œç”¨åŸŸçš„é—®é¢˜æ¨èé˜…è¯»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptä¸Šå·ã€‹ç¬¬ä¸€ç« ï¼ˆæˆ–ç¬¬ä¸€éƒ¨åˆ†ï¼‰ï¼Œä»ç¼–è¯‘åŸç†çš„è§’åº¦è¯´æ˜ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸã€‚æ¦‚æ‹¬çš„è¯´ä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è®¾è®¡è‰¯å¥½çš„è§„åˆ™æ¥å­˜å‚¨å˜é‡ï¼Œå¹¶ä¸”ä¹‹åå¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°è¿™äº›å˜é‡ã€‚</p>\n</blockquote>\n<h2 id=\"è¯æ³•ä½œç”¨åŸŸ\"><a href=\"#è¯æ³•ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"è¯æ³•ä½œç”¨åŸŸ\"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p>åœ¨ä½ ä¸çŸ¥é“çš„javascriptä¸Šå·ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š<strong>è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œè¯æ³•ä½œç”¨åŸŸæ˜¯ç”±ä½ åœ¨å†™ä»£ç æ—¶å°†å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œæ¥å†³å®šçš„ï¼Œå› æ­¤å½“è¯æ³•åˆ†æå™¨å¤„ç†ä»£ç æ—¶ä¼šä¿æŒä½œç”¨åŸŸä¸å˜(å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯è¿™æ ·çš„)ã€‚</strong></p>\n<p>åœ¨JSä¸­è¯æ³•ä½œç”¨åŸŸçš„è§„åˆ™ï¼š</p>\n<blockquote>\n<ul>\n<li>å‡½æ•°å…è®¸è®¿é—®å‡½æ•°å¤–éƒ¨çš„æ•°æ®</li>\n<li>æ•´ä¸ªä»£ç ç»“æ„ä¸­åªæœ‰å‡½æ•°å¯ä»¥é™å®šä½œç”¨åŸŸ</li>\n<li>ä½œç”¨è§„åˆ™é¦–å…ˆä½¿ç”¨æå‡è§„åˆ™åˆ†æ</li>\n<li>å¦‚æœå½“å‰ä½œç”¨åŸŸä¸­æœ‰äº†åå­—äº†ï¼Œå°±ä¸è€ƒè™‘å¤–é¢çš„åå­—</li>\n</ul>\n</blockquote>\n<p>æ —1ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">3</span>;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// 3</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo();</span><br></pre></td></tr></table></figure></p>\n<p>æ —2ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// 2</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bar</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">3</span>;</span><br><span class=\"line\">  foo();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span>;</span><br><span class=\"line\">bar();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"ä½œç”¨åŸŸé“¾\"><a href=\"#ä½œç”¨åŸŸé“¾\" class=\"headerlink\" title=\"ä½œç”¨åŸŸé“¾\"></a>ä½œç”¨åŸŸé“¾</h2><p>åªæœ‰å‡½æ•°æ‰èƒ½åˆ¶é€ ä½œç”¨åŸŸç»“æ„ï¼Œé‚£ä¹ˆåªè¦æ˜¯ä»£ç ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œå³å…¨å±€ä½œç”¨åŸŸã€‚</p>\n<p>å‡¡æ˜¯ä»£ç ä¸­æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ„æˆå¦ä¸€ä¸ªä½œç”¨åŸŸã€‚å¦‚æœå‡½æ•°ä¸­è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å°±åˆå¯ä»¥è¯ç”Ÿä¸€ä¸ªä½œç”¨åŸŸï¼Œé‚£ä¹ˆå°†è¿™æ ·çš„æ‰€æœ‰ä½œç”¨åŸŸåˆ—å‡ºæ¥ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªç»“æ„ï¼šå‡½æ•°å†…æŒ‡å‘å‡½æ•°å¤–çš„é“¾å¼ç»“æ„ã€‚</p>\n<p>ä»¥ä¸Šé¢æ —2ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// 2</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bar</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">3</span>;</span><br><span class=\"line\">  foo();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">2</span>;</span><br><span class=\"line\">bar();</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>å…¨å±€ä½œç”¨åŸŸï¼Œæœ‰ä¸‰ä¸ªæ ‡è¯†ç¬¦ï¼šfooã€barã€a</li>\n<li>bar æ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ša</li>\n</ul>\n<p>ä½œç”¨åŸŸæ˜¯ç”±ä»£ç å†™åœ¨å“ªé‡Œå†³å®šçš„ï¼Œå¹¶ä¸”æ˜¯é€çº§åŒ…å«çš„ã€‚</p>\n<p>æˆ‘ä»¬ç”¨çº§é“¾æ¥è¡¨ç¤ºä¸€ä¸‹ä»¥ä¸Šä»£ç å—ï¼š</p>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope1.png\" alt=\"scope1\"></p>\n<p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå‡½æ•°fooå’Œbarä»¥åŠå˜é‡ a=2ï¼Œ åœ¨1çº§é“¾ï¼Œè€Œbarä¸‹åˆå¯ä»¥å±•å¼€2çº§é“¾ï¼Œ2çº§é“¾ä¸Šæœ‰a=3ã€‚ç¨‹åºbar()è°ƒç”¨è¿›å…¥ä¸­é—´2çº§é“¾ï¼Œè€Œbarä¸­åˆè°ƒç”¨äº†fooå‡½æ•°ï¼Œæ­¤æ—¶ç¨‹åºè¿›å…¥fooçš„ä½œç”¨åŸŸé“¾ï¼ŒæŒ‰ç…§å‘ä¸ŠæŸ¥æ‰¾çš„åŸåˆ™ï¼Œç¨‹åºä¼šä»è¿™ä¸€æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œé¦–å…ˆ2çº§é“¾æ²¡æœ‰aï¼Œå‘ä¸Šåˆ°è¾¾1çº§é“¾ï¼Œåˆšå¥½1çº§é“¾ä¸Šæœ‰a=2ï¼Œæ‰€ä»¥å°±ç›´æ¥ä½¿ç”¨2ï¼Œç¨‹åºæœ€åçš„ç»“æœå°±æ˜¯æ‰“å°2ã€‚</p>\n<p>æ‰€ä»¥æ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œä¹Ÿæ— è®ºå®ƒå¦‚ä½•è¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªç”±å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚</p>\n<h2 id=\"å®è·µ\"><a href=\"#å®è·µ\" class=\"headerlink\" title=\"å®è·µ\"></a>å®è·µ</h2><p><a href=\"https://github.com/mqyqingfeng/Blog/issues/3\" target=\"_blank\" rel=\"noopener\">ã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹</a>æ€è€ƒé¢˜<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> scope = <span class=\"string\">\"global scope\"</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkscope</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> scope = <span class=\"string\">\"local scope\"</span>;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">f</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> scope;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> f();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">checkscope();</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/scope/scope2.png\" alt=\"scope2\"></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/3\" target=\"_blank\" rel=\"noopener\">JavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></li>\n</ul>\n","categories":[],"tags":["js"]},{"title":"gitflowåŸºæœ¬æ“ä½œ","url":"http://yoursite.com/2019/03/03/gitflowåŸºæœ¬æ“ä½œ/","content":"<blockquote>\n<p>å‰è¨€ï¼šåœ¨å¤šç»„å‘˜ï¼Œå¤šé¡¹ç›®ç­‰ç¯å¢ƒè¿›è¡ŒååŒå·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»Ÿä¸€è§„èŒƒã€ç»Ÿä¸€æµç¨‹ï¼Œåˆ™ä¼šå¯¼è‡´é¢å¤–çš„å·¥ä½œé‡ï¼Œç”šè‡³ä¼šåšæ— ç”¨åŠŸã€‚æ‰€ä»¥è¦å‡å°‘ç‰ˆæœ¬å†²çªï¼Œå‡è½»ä¸å¿…è¦çš„å·¥ä½œï¼Œå°±éœ€è¦è§„èŒƒåŒ–çš„å·¥ä½œæµç¨‹ï¼Œæœ¬æ–‡å°±gitflowä½œç®€è¦çš„å‘½ä»¤æ“ä½œã€‚</p>\n</blockquote>\n<h2 id=\"ä¸»åˆ†æ”¯\"><a href=\"#ä¸»åˆ†æ”¯\" class=\"headerlink\" title=\"ä¸»åˆ†æ”¯\"></a>ä¸»åˆ†æ”¯</h2><blockquote>\n<p>master åªè´Ÿè´£ç®¡ç†å‘å¸ƒçš„çŠ¶æ€ã€‚åœ¨æäº¤æ—¶ä½¿ç”¨æ ‡ç­¾è®°å½•å‘å¸ƒç‰ˆæœ¬å·ã€‚<br>develop é’ˆå¯¹å‘å¸ƒçš„æ—¥å¸¸å¼€å‘åˆ†æ”¯ã€‚åˆšæ‰æˆ‘ä»¬å·²ç»è®²è§£è¿‡æœ‰åˆå¹¶åˆ†æ”¯çš„åŠŸç”¨ã€‚</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-1.png\" alt=\"gitflow\"></p>\n<h2 id=\"å¼€å‘åˆ†æ”¯\"><a href=\"#å¼€å‘åˆ†æ”¯\" class=\"headerlink\" title=\"å¼€å‘åˆ†æ”¯\"></a>å¼€å‘åˆ†æ”¯</h2><h3 id=\"Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š\"><a href=\"#Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š\" class=\"headerlink\" title=\"Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š\"></a>Gitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -b develop master</span><br></pre></td></tr></table></figure>\n<h3 id=\"å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š\"><a href=\"#å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š\" class=\"headerlink\" title=\"å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š\"></a>å°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># åˆ‡æ¢åˆ°Masteråˆ†æ”¯</span></span><br><span class=\"line\">git checkout master</span><br><span class=\"line\"><span class=\"comment\"># å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶(ä½¿ç”¨äº†--no-ffå‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æäº¤)</span></span><br><span class=\"line\">git merge --no-ff develop</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸´æ—¶æ€§åˆ†æ”¯\"><a href=\"#ä¸´æ—¶æ€§åˆ†æ”¯\" class=\"headerlink\" title=\"ä¸´æ—¶æ€§åˆ†æ”¯\"></a>ä¸´æ—¶æ€§åˆ†æ”¯</h2><blockquote>\n<p>åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯<br>é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯<br>ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-workflow-2.png\" alt=\"gitflow\"></p>\n<h2 id=\"åŠŸèƒ½åˆ†æ”¯\"><a href=\"#åŠŸèƒ½åˆ†æ”¯\" class=\"headerlink\" title=\"åŠŸèƒ½åˆ†æ”¯\"></a>åŠŸèƒ½åˆ†æ”¯</h2><h3 id=\"åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š\"><a href=\"#åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š\"></a>åˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -b feature-x develop</span><br></pre></td></tr></table></figure>\n<h3 id=\"å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\"><a href=\"#å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\"></a>å¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout develop</span><br><span class=\"line\">git merge --no-ff feature-x</span><br></pre></td></tr></table></figure>\n<h3 id=\"åˆ é™¤featureåˆ†æ”¯ï¼š\"><a href=\"#åˆ é™¤featureåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"åˆ é™¤featureåˆ†æ”¯ï¼š\"></a>åˆ é™¤featureåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -d feature-x</span><br><span class=\"line\"><span class=\"comment\"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class=\"line\">git push origin --delete feature-x</span><br></pre></td></tr></table></figure>\n<h2 id=\"é¢„å‘å¸ƒåˆ†æ”¯\"><a href=\"#é¢„å‘å¸ƒåˆ†æ”¯\" class=\"headerlink\" title=\"é¢„å‘å¸ƒåˆ†æ”¯\"></a>é¢„å‘å¸ƒåˆ†æ”¯</h2><h3 id=\"åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š\"><a href=\"#åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š\"></a>åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -b release-1.2 develop</span><br></pre></td></tr></table></figure>\n<h3 id=\"ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\"><a href=\"#ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\"></a>ç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout master</span><br><span class=\"line\">git merge --no-ff release-1.2</span><br><span class=\"line\"><span class=\"comment\"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class=\"line\">git tag -a 1.2</span><br></pre></td></tr></table></figure>\n<h3 id=\"å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\"><a href=\"#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout develop</span><br><span class=\"line\">git merge --no-ff release-1.2</span><br></pre></td></tr></table></figure>\n<h3 id=\"æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š\"><a href=\"#æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š\"></a>æœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -d release-1.2</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¿®è¡¥bugåˆ†æ”¯\"><a href=\"#ä¿®è¡¥bugåˆ†æ”¯\" class=\"headerlink\" title=\"ä¿®è¡¥bugåˆ†æ”¯\"></a>ä¿®è¡¥bugåˆ†æ”¯</h2><h3 id=\"åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š\"><a href=\"#åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š\"></a>åˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout -b fixbug-0.1 master</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\"><a href=\"#ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\"></a>ä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout master</span><br><span class=\"line\">git merge --no-ff fixbug-0.1</span><br><span class=\"line\"><span class=\"comment\"># å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾</span></span><br><span class=\"line\">git tag -a 0.1.1</span><br></pre></td></tr></table></figure>\n<h3 id=\"å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1\"><a href=\"#å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š-1\" class=\"headerlink\" title=\"å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\"></a>å†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout develop</span><br><span class=\"line\">git merge --no-ff fixbug-0.1</span><br></pre></td></tr></table></figure>\n<h3 id=\"æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š\"><a href=\"#æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š\" class=\"headerlink\" title=\"æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š\"></a>æœ€åï¼Œåˆ é™¤ä¿®è¡¥bugåˆ†æ”¯ï¼š</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -d fixbug-0.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge\"><a href=\"#å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge\" class=\"headerlink\" title=\"å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge\"></a>å–æ¶ˆåˆšæ‰çš„åˆå¹¶merge</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard HEAD~</span><br></pre></td></tr></table></figure>\n<h2 id=\"åˆå¹¶\"><a href=\"#åˆå¹¶\" class=\"headerlink\" title=\"åˆå¹¶\"></a>åˆå¹¶</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># rebase åˆå¹¶</span></span><br><span class=\"line\">git checkout issue3</span><br><span class=\"line\">git rebase master</span><br><span class=\"line\"><span class=\"comment\"># master åˆå¹¶</span></span><br><span class=\"line\">git checkout master</span><br><span class=\"line\">git merge issue3</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¿®æ”¹å†²çªåçš„æäº¤\"><a href=\"#ä¿®æ”¹å†²çªåçš„æäº¤\" class=\"headerlink\" title=\"ä¿®æ”¹å†²çªåçš„æäº¤\"></a>ä¿®æ”¹å†²çªåçš„æäº¤</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase --<span class=\"built_in\">continue</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å–æ¶ˆrebase\"><a href=\"#å–æ¶ˆrebase\" class=\"headerlink\" title=\"å–æ¶ˆrebase\"></a>å–æ¶ˆrebase</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rebase --abort</span><br></pre></td></tr></table></figure>\n<h2 id=\"å›é€€\"><a href=\"#å›é€€\" class=\"headerlink\" title=\"å›é€€\"></a>å›é€€</h2><h3 id=\"commit-å›é€€\"><a href=\"#commit-å›é€€\" class=\"headerlink\" title=\"commit å›é€€\"></a>commit å›é€€</h3><blockquote>\n<p>commit log</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-log.png\" alt=\"git-commit-log\"></p>\n<blockquote>\n<p>commit reset</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-commit-reset.png\" alt=\"git-commit-reset\"></p>\n<h3 id=\"push-å›é€€\"><a href=\"#push-å›é€€\" class=\"headerlink\" title=\"push å›é€€\"></a>push å›é€€</h3><blockquote>\n<p>push log</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-log.png\" alt=\"git-push-log\"></p>\n<blockquote>\n<p>push reset</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/hzzly.github.io/master/images/git/git-push-reset.png\" alt=\"git-push-reset\"></p>\n<h2 id=\"æ ‡ç­¾\"><a href=\"#æ ‡ç­¾\" class=\"headerlink\" title=\"æ ‡ç­¾\"></a>æ ‡ç­¾</h2><h3 id=\"æ·»åŠ è½»æ ‡ç­¾\"><a href=\"#æ·»åŠ è½»æ ‡ç­¾\" class=\"headerlink\" title=\"æ·»åŠ è½»æ ‡ç­¾\"></a>æ·»åŠ è½»æ ‡ç­¾</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git tag v2.0</span><br><span class=\"line\"><span class=\"comment\"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨</span></span><br><span class=\"line\">git tag</span><br><span class=\"line\"><span class=\"comment\"># æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨åŒ…å«æ ‡ç­¾èµ„æ–™çš„å†å²è®°å½•</span></span><br><span class=\"line\">git <span class=\"built_in\">log</span> --decorate</span><br></pre></td></tr></table></figure>\n<h2 id=\"æ·»åŠ æ³¨è§£æ ‡ç­¾\"><a href=\"#æ·»åŠ æ³¨è§£æ ‡ç­¾\" class=\"headerlink\" title=\"æ·»åŠ æ³¨è§£æ ‡ç­¾\"></a>æ·»åŠ æ³¨è§£æ ‡ç­¾</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git tag -a v3.0</span><br><span class=\"line\">// æˆ–</span><br><span class=\"line\">git tag -am <span class=\"string\">\"æ³¨è§£\"</span> v3.0</span><br><span class=\"line\"><span class=\"comment\"># æ˜¾ç¤ºæ ‡ç­¾çš„åˆ—è¡¨å’Œæ³¨è§£</span></span><br><span class=\"line\">git tag -n</span><br></pre></td></tr></table></figure>\n<h2 id=\"åˆ é™¤æ ‡ç­¾\"><a href=\"#åˆ é™¤æ ‡ç­¾\" class=\"headerlink\" title=\"åˆ é™¤æ ‡ç­¾\"></a>åˆ é™¤æ ‡ç­¾</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git tag -d v2.0</span><br><span class=\"line\">git tag -d v3.0</span><br></pre></td></tr></table></figure>\n<h2 id=\"æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹\"><a href=\"#æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹\" class=\"headerlink\" title=\"æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹\"></a>æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin v1.5</span><br></pre></td></tr></table></figure>\n<h2 id=\"æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯\"><a href=\"#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯\" class=\"headerlink\" title=\"æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯\"></a>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -a</span><br></pre></td></tr></table></figure>\n<h2 id=\"Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´\"><a href=\"#Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´\" class=\"headerlink\" title=\"Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´\"></a>Gitè¿œç¨‹ä»“åº“åœ°å€å˜æ›´</h2><h3 id=\"æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“\"><a href=\"#æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“\" class=\"headerlink\" title=\"æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“\"></a>æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote</span><br></pre></td></tr></table></figure>\n<h3 id=\"åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€\"><a href=\"#åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€\" class=\"headerlink\" title=\"åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€\"></a>åˆ é™¤è¿œç¨‹ä»“åº“åœ°å€</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote rm origin</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€\"><a href=\"#ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€\" class=\"headerlink\" title=\"ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€\"></a>ä¿®æ”¹å˜æ›´åçš„è¿œç¨‹ä»“åº“åœ°å€</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote add origin http://xxx.git</span><br></pre></td></tr></table></figure>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2012/07/git.html\" target=\"_blank\" rel=\"noopener\">ã€ŠGitåˆ†æ”¯ç®¡ç†ç­–ç•¥â€“é˜®ä¸€å³°ã€‹</a></li>\n<li><a href=\"https://backlogtool.com/git-tutorial/cn/stepup/stepup1_1.html\" target=\"_blank\" rel=\"noopener\">çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨</a></li>\n</ul>\n","categories":[],"tags":["git"]},{"title":"dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ","url":"http://yoursite.com/2019/02/27/dva modelsä¸€äº›éšè—çš„éªšæ“ä½œ/","content":"<blockquote>\n<p><a href=\"https://dvajs.com/guide/getting-started.html\" target=\"_blank\" rel=\"noopener\">dva</a> æ˜¯ä¸€ä¸ªåŸºäº redux å’Œ redux-saga çš„æ•°æ®æµæ–¹æ¡ˆ<br><a href=\"https://redux-saga.js.org/docs/api/\" target=\"_blank\" rel=\"noopener\">redux-saga API</a></p>\n</blockquote>\n<h3 id=\"take-pattern\"><a href=\"#take-pattern\" class=\"headerlink\" title=\"take(pattern)\"></a>take(pattern)</h3><blockquote>\n<p>ä½¿ç”¨takeæ“ä½œè¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨ Store ä¸Šç­‰å¾…æŒ‡å®šçš„ actionã€‚ åœ¨å‘èµ·ä¸ pattern åŒ¹é…çš„ action ä¹‹å‰ï¼ŒGenerator å°†æš‚åœï¼ˆegï¼šä¸‹ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœï¼‰ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*fetchList(&#123; payload, callback &#125;, &#123; call, put, select, take &#125;) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> put(&#123;</span><br><span class=\"line\">    type: <span class=\"string\">'dict/xxxx'</span>,</span><br><span class=\"line\">    payload: &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> take(<span class=\"string\">'dict/xxxx/@@end'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> dictData = <span class=\"keyword\">yield</span> select(<span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.dict.dicts);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> response = <span class=\"keyword\">yield</span> call(getList, &#123;</span><br><span class=\"line\">    xxx: dictData.xxx</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"race-effects\"><a href=\"#race-effects\" class=\"headerlink\" title=\"race(effects)\"></a>race(effects)</h3><blockquote>\n<p>ä»»åŠ¡çš„ç«äº‰ï¼Œç”¨æ¥å‘½ä»¤ middleware åœ¨å¤šä¸ª Effect é—´è¿è¡Œ ç«èµ›ï¼ˆRaceï¼‰ï¼ˆä¸ Promise.race([â€¦]) çš„è¡Œä¸ºç±»ä¼¼ï¼‰ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*fetchList(&#123; payload, callback &#125;, &#123; race &#125;) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; list, timeout &#125; = <span class=\"keyword\">yield</span> race(&#123;</span><br><span class=\"line\">    list: call(services.fetchList),</span><br><span class=\"line\">    timeout: call(delay, TIMEOUT),</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (timeout) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'timeout'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ\"><a href=\"#ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ\" class=\"headerlink\" title=\"ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ\"></a>ä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œ</h3><blockquote>\n<p>æŠŠå¤šä¸ªè¦å¹¶è¡Œæ‰§è¡Œçš„ä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„éƒ½ç»“æŸä¹‹åï¼Œè¿›å…¥ä¸‹ä¸ªç¯èŠ‚ï¼Œç±»ä¼¼promise.allçš„æ“ä½œã€‚ä¸€èˆ¬æœ‰ä¸€äº›é›†æˆç•Œé¢ï¼Œæ¯”å¦‚dashboardï¼Œå…¶ä¸­å„ç»„ä»¶ä¹‹é—´ä¸šåŠ¡å…³è”è¾ƒå°ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼å»åˆ†åˆ«åŠ è½½æ•°æ®ï¼Œæ­¤æ—¶ï¼Œæ•´ä½“åŠ è½½æ—¶é—´åªå–å†³äºæ—¶é—´æœ€é•¿çš„é‚£ä¸ªã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¹‹å‰æ˜¯ <code>yield []</code>, åæ¥ dva å‡çº§äº† saga çš„ç‰ˆæœ¬ä¹‹åå°±æ¨èç”¨ <code>yield all([])</code></p>\n</blockquote>\n<ul>\n<li><p>yield []</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*fetchList(&#123; payload, callback &#125;, &#123; &#125;) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [xx1_req, xx2_req, xx3_req] = <span class=\"keyword\">yield</span> [</span><br><span class=\"line\">    call(xx1, payload),</span><br><span class=\"line\">    call(xx2, payload),</span><br><span class=\"line\">    call(xx3, payload),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>yield all([])</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*fetchList(&#123; payload, callback &#125;, &#123; all &#125;) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [xx1_req, xx2_req, xx3_req] = <span class=\"keyword\">yield</span> all([</span><br><span class=\"line\">    call(xx1, payload),</span><br><span class=\"line\">    call(xx2, payload),</span><br><span class=\"line\">    call(xx3, payload),</span><br><span class=\"line\">  ])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n","categories":[],"tags":["éšç¬”","JavaScript","React"]},{"title":"æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶","url":"http://yoursite.com/2019/01/04/æŠ˜è…¾ä¸€ä¸ªchromeæ’ä»¶/","content":"<blockquote>\n<p>å‰è¨€ï¼šä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæ˜¯å¦æœ‰æ—¶ä¸€ä¸ªå•è¯ä¸è®¤è¯†æˆ–è€…ä¸šåŠ¡å‘½åè€Œçƒ¦æ¼å‘¢ï¼Œä»¥è‡³äºéœ€è¦æ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæ‰“å¼€googleç¿»è¯‘ï¼Œå¦‚æ­¤ç¹ççš„æ‰“å¼€é¡µé¢å¯èƒ½ä¸€å¤©é‡å¤å¥½å‡ éï¼Œè€Œæˆ‘ä»¬å¼€å‘è€…å¯¹äºæµè§ˆå™¨æ ‡ç­¾æ‰“å¼€çš„åˆå¤šï¼Œæ‰€ä»¥å¦‚ä½•ç®€åŒ–æˆ‘ä»¬é‡æ–°æ‰“å¼€æ ‡ç­¾æ¥ç¿»è¯‘å‘¢ï¼Ÿæ‰€ä»¥æµè§ˆå™¨æ’ä»¶å°±éå¸¸å¼ºå¤§äº†ã€‚</p>\n</blockquote>\n<p>chromeæµè§ˆå™¨æ˜¯ä¸€ä¸ªå·¥ä½œã€å­¦ä¹ å’Œç”Ÿæ´»çš„å¿…å¤‡å·¥å…·ã€‚é™¤äº†chromeæœ¬èº«çš„åŸºæœ¬èƒ½åŠ›ï¼ˆæ§åˆ¶å°ç­‰ï¼‰å¤–ï¼Œèƒ½å¤§å¹…æé«˜è¿™ä¸ªç¥å™¨çš„ä½¿ç”¨ä½“éªŒçš„æ˜¯å®ƒå¯æ‰©å±•èƒ½åŠ›ï¼ˆæ’ä»¶ï¼‰ä»¥åŠä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æŠ˜è…¾ä¸€ä¸ªåœ¨çº¿ç¿»è¯‘çš„chromeæ’ä»¶ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/hzzly/online-translate/master/online-translate.png\" alt=\"online-translate\"></p>\n<p>å¥½äº†ï¼Œæœ‰äº†éœ€æ±‚æˆ‘ä»¬å°±å¾—å¼€å‘äº†(å›§)ï¼</p>\n<h2 id=\"è¦ç‚¹ï¼š\"><a href=\"#è¦ç‚¹ï¼š\" class=\"headerlink\" title=\"è¦ç‚¹ï¼š\"></a>è¦ç‚¹ï¼š</h2><ul>\n<li>manifest.json  // chromeé…ç½®æ–‡ä»¶</li>\n<li>webpacké…ç½®(æ‰“åŒ…ï¼Œçƒ­ç¼–è¯‘)</li>\n<li>jsonp</li>\n<li>ajaxå°è£…</li>\n</ul>\n<p>å¼€å‘ä¹‹å‰äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Chromeæ’ä»¶=&gt;</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯Chromeæ’ä»¶\"><a href=\"#ä»€ä¹ˆæ˜¯Chromeæ’ä»¶\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯Chromeæ’ä»¶\"></a>ä»€ä¹ˆæ˜¯Chromeæ’ä»¶</h2><p>Chromeæ’ä»¶æ˜¯ä¸€ä¸ªç”¨WebæŠ€æœ¯å¼€å‘ã€ç”¨æ¥å¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„è½¯ä»¶ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç”±HTMLã€CSSã€JSã€å›¾ç‰‡ç­‰èµ„æºç»„æˆçš„ä¸€ä¸ª.crxåç¼€çš„å‹ç¼©åŒ…ã€‚</p>\n<h2 id=\"æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰\"><a href=\"#æ ¸å¿ƒä»‹ç»ï¼ˆmanifest-jsonï¼‰\" class=\"headerlink\" title=\"æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰\"></a>æ ¸å¿ƒä»‹ç»ï¼ˆmanifest.jsonï¼‰</h2><p>è¿™æ˜¯ä¸€ä¸ªChromeæ’ä»¶æœ€é‡è¦ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„æ–‡ä»¶ï¼Œç”¨æ¥é…ç½®æ‰€æœ‰å’Œæ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œå¿…é¡»æ”¾åœ¨éœ€è¦æµè§ˆå™¨æ‰“åŒ…çš„æ ¹ç›®å½•ã€‚å…¶ä¸­ï¼Œmanifest_versionã€nameã€version3ä¸ªæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œdescriptionå’Œiconsæ˜¯æ¨èçš„ã€‚</p>\n<p>æ —å­(æ¯”è¾ƒå…¨)ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// æ¸…å•æ–‡ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªå¿…é¡»å†™ï¼Œè€Œä¸”å¿…é¡»æ˜¯2</span></span><br><span class=\"line\">  <span class=\"string\">\"manifest_version\"</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"comment\">// æ’ä»¶çš„åç§°</span></span><br><span class=\"line\">  <span class=\"string\">\"name\"</span>: <span class=\"string\">\"demo\"</span>,</span><br><span class=\"line\">  <span class=\"comment\">// æ’ä»¶çš„ç‰ˆæœ¬</span></span><br><span class=\"line\">  <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.0.0\"</span>,</span><br><span class=\"line\">  <span class=\"comment\">// æ’ä»¶æè¿°</span></span><br><span class=\"line\">  <span class=\"string\">\"description\"</span>: <span class=\"string\">\"ç®€å•çš„Chromeæ‰©å±•demo\"</span>,</span><br><span class=\"line\">  <span class=\"comment\">// å›¾æ ‡ï¼Œä¸€èˆ¬å·æ‡’å…¨éƒ¨ç”¨ä¸€ä¸ªå°ºå¯¸çš„ä¹Ÿæ²¡é—®é¢˜</span></span><br><span class=\"line\">  <span class=\"string\">\"icons\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"16\"</span>: <span class=\"string\">\"img/icon.png\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"48\"</span>: <span class=\"string\">\"img/icon.png\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"128\"</span>: <span class=\"string\">\"img/icon.png\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// ä¼šä¸€ç›´å¸¸é©»çš„åå°JSæˆ–åå°é¡µé¢</span></span><br><span class=\"line\">  <span class=\"string\">\"background\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 2ç§æŒ‡å®šæ–¹å¼ï¼Œå¦‚æœæŒ‡å®šJSï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªèƒŒæ™¯é¡µ</span></span><br><span class=\"line\">    <span class=\"string\">\"page\"</span>: <span class=\"string\">\"background.html\"</span></span><br><span class=\"line\">    <span class=\"comment\">//\"scripts\": [\"js/background.js\"]</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æµè§ˆå™¨å³ä¸Šè§’å›¾æ ‡è®¾ç½®ï¼Œbrowser_actionã€page_actionã€appå¿…é¡»ä¸‰é€‰ä¸€</span></span><br><span class=\"line\">  <span class=\"string\">\"browser_action\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"default_icon\"</span>: <span class=\"string\">\"img/icon.png\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// å›¾æ ‡æ‚¬åœæ—¶çš„æ ‡é¢˜ï¼Œå¯é€‰</span></span><br><span class=\"line\">    <span class=\"string\">\"default_title\"</span>: <span class=\"string\">\"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹Chromeæ’ä»¶\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"default_popup\"</span>: <span class=\"string\">\"popup.html\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“æŸäº›ç‰¹å®šé¡µé¢æ‰“å¼€æ‰æ˜¾ç¤ºçš„å›¾æ ‡</span></span><br><span class=\"line\">  <span class=\"comment\">/*\"page_action\": &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    \"default_icon\": \"img/icon.png\",</span></span><br><span class=\"line\"><span class=\"comment\">    \"default_title\": \"æˆ‘æ˜¯pageAction\",</span></span><br><span class=\"line\"><span class=\"comment\">    \"default_popup\": \"popup.html\"</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;,*/</span></span><br><span class=\"line\">  <span class=\"comment\">// éœ€è¦ç›´æ¥æ³¨å…¥é¡µé¢çš„JS</span></span><br><span class=\"line\">  <span class=\"string\">\"content_scripts\"</span>: [&#123;</span><br><span class=\"line\">    <span class=\"comment\">//\"matches\": [\"http://*/*\", \"https://*/*\"],</span></span><br><span class=\"line\">    <span class=\"comment\">// \"&lt;all_urls&gt;\" è¡¨ç¤ºåŒ¹é…æ‰€æœ‰åœ°å€</span></span><br><span class=\"line\">    <span class=\"string\">\"matches\"</span>: [<span class=\"string\">\"&lt;all_urls&gt;\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// å¤šä¸ªJSæŒ‰é¡ºåºæ³¨å…¥</span></span><br><span class=\"line\">    <span class=\"string\">\"js\"</span>: [<span class=\"string\">\"js/jquery-1.8.3.js\"</span>, <span class=\"string\">\"js/content-script.js\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// JSçš„æ³¨å…¥å¯ä»¥éšä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯CSSçš„æ³¨æ„å°±è¦åƒä¸‡å°å¿ƒäº†ï¼Œå› ä¸ºä¸€ä¸å°å¿ƒå°±å¯èƒ½å½±å“å…¨å±€æ ·å¼</span></span><br><span class=\"line\">    <span class=\"string\">\"css\"</span>: [<span class=\"string\">\"css/custom.css\"</span>],</span><br><span class=\"line\">    <span class=\"comment\">// ä»£ç æ³¨å…¥çš„æ—¶é—´ï¼Œå¯é€‰å€¼ï¼š \"document_start\", \"document_end\", or \"document_idle\"ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºé¡µé¢ç©ºé—²æ—¶ï¼Œé»˜è®¤document_idle</span></span><br><span class=\"line\">    <span class=\"string\">\"run_at\"</span>: <span class=\"string\">\"document_start\"</span></span><br><span class=\"line\">  &#125;, &#123; <span class=\"comment\">// è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºcontent-scriptå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™</span></span><br><span class=\"line\">    <span class=\"string\">\"matches\"</span>: [<span class=\"string\">\"*://*/*.png\"</span>, <span class=\"string\">\"*://*/*.jpg\"</span>, <span class=\"string\">\"*://*/*.gif\"</span>, <span class=\"string\">\"*://*/*.bmp\"</span>],</span><br><span class=\"line\">    <span class=\"string\">\"js\"</span>: [<span class=\"string\">\"js/show-image-content-size.js\"</span>]</span><br><span class=\"line\">  &#125;],</span><br><span class=\"line\">  <span class=\"comment\">// æƒé™ç”³è¯·</span></span><br><span class=\"line\">  <span class=\"string\">\"permissions\"</span>: [</span><br><span class=\"line\">    <span class=\"string\">\"contextMenus\"</span>, <span class=\"comment\">// å³é”®èœå•</span></span><br><span class=\"line\">    <span class=\"string\">\"tabs\"</span>, <span class=\"comment\">// æ ‡ç­¾</span></span><br><span class=\"line\">    <span class=\"string\">\"notifications\"</span>, <span class=\"comment\">// é€šçŸ¥</span></span><br><span class=\"line\">    <span class=\"string\">\"webRequest\"</span>, <span class=\"comment\">// webè¯·æ±‚</span></span><br><span class=\"line\">    <span class=\"string\">\"webRequestBlocking\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"storage\"</span>, <span class=\"comment\">// æ’ä»¶æœ¬åœ°å­˜å‚¨</span></span><br><span class=\"line\">    <span class=\"string\">\"http://*/*\"</span>, <span class=\"comment\">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">    <span class=\"string\">\"https://*/*\"</span> <span class=\"comment\">// éœ€è¦è¯·æ±‚çš„åœ°å€</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»‹ç»å®Œåæˆ‘ä»¬å°±æ¥å¼€å‘äº†(ç ä»£ç ä¸­â€¦)</p>\n<h2 id=\"å¼€å‘-åŸºäºVue\"><a href=\"#å¼€å‘-åŸºäºVue\" class=\"headerlink\" title=\"å¼€å‘(åŸºäºVue)\"></a>å¼€å‘(åŸºäºVue)</h2><h3 id=\"åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"åˆå§‹åŒ–é¡¹ç›®\"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir online-translate</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> online-translate</span><br><span class=\"line\"></span><br><span class=\"line\">npm init</span><br><span class=\"line\"></span><br><span class=\"line\">// æ–‡ä»¶å±‚çº§</span><br><span class=\"line\">â”œâ”€â”€ chrome  // æµè§ˆå™¨æ‰“åŒ…çš„æ–‡ä»¶å¤¹</span><br><span class=\"line\">â”œâ”€â”€ index.html</span><br><span class=\"line\">â”œâ”€â”€ package.json</span><br><span class=\"line\">â”œâ”€â”€ src  // æºç </span><br><span class=\"line\">â””â”€â”€ webpack.config.js  // wepack</span><br></pre></td></tr></table></figure>\n<h3 id=\"å®‰è£…ä¾èµ–\"><a href=\"#å®‰è£…ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ä¾èµ–\"></a>å®‰è£…ä¾èµ–</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å®‰è£…é¡¹ç›®ä¾èµ–</span><br><span class=\"line\">npm install vue element-ui --save</span><br><span class=\"line\"></span><br><span class=\"line\">// å®‰è£…å¼€å‘ä¾èµ–</span><br><span class=\"line\">npm install babel-core babel-loader babel-plugin-component babel-preset-env cross-env css-loader file-loader html-webpack-plugin style-loader vue-loader vue-template-compiler webpack webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure>\n<h3 id=\"webpacké…ç½®\"><a href=\"#webpacké…ç½®\" class=\"headerlink\" title=\"webpacké…ç½®\"></a>webpacké…ç½®</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.config.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  entry: &#123;</span><br><span class=\"line\">    popup: <span class=\"string\">'./src/popup.js'</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    path: path.resolve(__dirname, <span class=\"string\">'./chrome'</span>),</span><br><span class=\"line\">    publicPath: <span class=\"string\">'/'</span>,</span><br><span class=\"line\">    filename: <span class=\"string\">'[name].[hash].js'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    rules: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'vue-loader'</span>,</span><br><span class=\"line\">        options: &#123;</span><br><span class=\"line\">          loaders: &#123;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// other vue-loader options go here</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'babel-loader'</span>,</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'style-loader!css-loader'</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(eot|svg|ttf|woff|woff2)(\\?\\S*)?$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'file-loader'</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(png|jpg|gif|svg)$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'file-loader'</span>,</span><br><span class=\"line\">        options: &#123;</span><br><span class=\"line\">          name: <span class=\"string\">'[name].[ext]?[hash]'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  plugins: [</span><br><span class=\"line\">    <span class=\"comment\">// new webpack.HotModuleReplacementPlugin(),</span></span><br><span class=\"line\">    <span class=\"comment\">// new webpack.NamedModulesPlugin(),</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</span><br><span class=\"line\">      template: path.join(__dirname, <span class=\"string\">'./index.html'</span>),</span><br><span class=\"line\">      inject: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  devServer: &#123;</span><br><span class=\"line\">    historyApiFallback: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    noInfo: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  performance: &#123;</span><br><span class=\"line\">    hints: <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  devtool: <span class=\"string\">'#eval-source-map'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (process.env.NODE_ENV === <span class=\"string\">'production'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">module</span>.exports.devtool = <span class=\"string\">'#source-map'</span></span><br><span class=\"line\">  <span class=\"comment\">// http://vue-loader.vuejs.org/en/workflow/production.html</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>.exports.plugins = (<span class=\"built_in\">module</span>.exports.plugins || []).concat([</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.DefinePlugin(&#123;</span><br><span class=\"line\">      <span class=\"string\">'process.env'</span>: &#123;</span><br><span class=\"line\">        NODE_ENV: <span class=\"string\">'\"production\"'</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class=\"line\">      sourceMap: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      compress: &#123;</span><br><span class=\"line\">        warnings: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.LoaderOptionsPlugin(&#123;</span><br><span class=\"line\">      minimize: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬å°±èƒ½æ„‰å¿«çš„å¼€å‘äº†</p>\n<h3 id=\"æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼\"><a href=\"#æ¥ä¸‹æ¥å°±æ˜¯-Vue-çš„å¼€å‘äº†ï¼\" class=\"headerlink\" title=\"æ¥ä¸‹æ¥å°±æ˜¯ Vue çš„å¼€å‘äº†ï¼\"></a>æ¥ä¸‹æ¥å°±æ˜¯ <code>Vue</code> çš„å¼€å‘äº†ï¼</h3><p>æ­£å¸¸çš„é¡¹ç›®å¼€å‘â€¦</p>\n<p>è¯¦ç»†æºç å¯ä»¥çœ‹<a href=\"https://github.com/hzzly/online-translate\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<h3 id=\"webpackæ‰“åŒ…\"><a href=\"#webpackæ‰“åŒ…\" class=\"headerlink\" title=\"webpackæ‰“åŒ…\"></a>webpackæ‰“åŒ…</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n<p>æŠŠä»£ç æ‰“åŒ…åˆ°äº†chromeæ–‡ä»¶å¤¹å†…ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨chromeæ‰©å±•è¿›è¡Œæ‰“åŒ…æ‰©å±•ç¨‹åºï¼Œä¼šç”Ÿæˆ.crxå’Œ.pemæ–‡ä»¶ï¼Œç„¶åç›´æ¥å‘å¸ƒæˆ–è€…æŠŠ.crxæ–‡ä»¶æ‹–è¿›æ‰©å±•ç¨‹åºå†…è¿›è¡Œå†…æµ‹ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue","chrome"]},{"title":"Node é…ç½®æ–‡ä»¶çš„å®šåˆ¶","url":"http://yoursite.com/2018/11/13/Node-é…ç½®æ–‡ä»¶çš„å®šåˆ¶/","content":"<blockquote>\n<p>åœ¨ä»»ä½•ä¸€ä¸ªé¡¹ç›®ä¸­éƒ½ç¼ºå°‘ä¸äº†é…ç½®æ–‡ä»¶<br>å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹: æ•°æ®é‡ä¸å¤§,ä¿¡æ¯éœ€è¦é•¿æœŸä¿å­˜,å®¹æ˜“ç»´æŠ¤</p>\n</blockquote>\n<p>ç°åœ¨æ˜¯å¤§å‰ç«¯çš„æ—¶ä»£ï¼ŒNode çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚åœ¨ä½¿ç”¨ Node ä½œä¸ºåç«¯æˆ–è€…ä¸­é—´å±‚çš„æŠ€æœ¯æ¶æ„æ—¶ï¼Œå¾€å¾€éœ€è¦ç”¨åˆ°ä¸€äº›å¯é…ç½®çš„å˜é‡ï¼Œæ¯”å¦‚æ•°æ®åº“ï¼Œåœ¨å¼€å‘æ—¶æˆ‘ä»¬ä¼šè¿å¼€å‘çš„æ•°æ®åº“ï¼Œç”Ÿæˆç¯å¢ƒæˆ‘ä»¬éœ€è¦è¿ç”Ÿäº§çš„æ•°æ®åº“ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ è½½ä¸ä¸€æ ·çš„é…ç½®æ–‡ä»¶ï¼Œä»è€Œæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·æ¥å®šåˆ¶æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ã€‚</p>\n<h2 id=\"ç¯å¢ƒå˜é‡\"><a href=\"#ç¯å¢ƒå˜é‡\" class=\"headerlink\" title=\"ç¯å¢ƒå˜é‡\"></a>ç¯å¢ƒå˜é‡</h2><p>åœ¨ Node ä¸­å¯ä»¥é€šè¿‡ <code>process.env</code> æ¥è®¿é—®å½“å‰çš„ç¯å¢ƒå˜é‡ä¿¡æ¯ã€‚<br>æ¯”å¦‚æˆ‘ä»¬åœ¨ <code>package.json</code> ä¸­é€šè¿‡ <code>scripts</code> å®šä¹‰çš„shellè„šæœ¬æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ã€‚<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"start\": \"node ./bin/www\",</span><br><span class=\"line\">    \"dev\": \"NODE_ENV=dev node ./bin/www\",</span><br><span class=\"line\">    \"pro\": \"NODE_ENV=pro node ./bin/www\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æœ‰ä¸‰æ¡æ¡å¯åŠ¨å‘½ä»¤ï¼Œä¸€æ¡æ˜¯é»˜è®¤çš„ <code>start</code>ï¼Œå¦å¤–ä¸¤æ¡æˆ‘ä»¬é€šè¿‡ <code>NODE_ENV=xxx</code> æ¥è®¾ç½®äº†å¯¹åº”çš„ç¯å¢ƒï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œé€šè¿‡ <code>process.env.NODE_ENV</code> å°±å¯ä»¥å–åˆ°é¡¹ç›®çš„å½“å‰ç¯å¢ƒã€‚</p>\n<h2 id=\"é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶\"><a href=\"#é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶\" class=\"headerlink\" title=\"é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶\"></a>é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®šå¯¹åº”çš„é…ç½®æ–‡ä»¶</h2><p>åœ¨ä¸Šé¢æˆ‘ä»¬é€šè¿‡shellè„šæœ¬æŒ‡å®šäº†å¯¹åº”çš„ç¯å¢ƒï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>process.env.NODE_ENV</code> æ¥åŠ è½½å¯¹åº”çš„é…ç½®æ–‡ä»¶äº†ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// config/index.js</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  dev: &#123;</span><br><span class=\"line\">    ...çœç•¥</span><br><span class=\"line\">    mongodb: <span class=\"string\">'mongodb://localhost:27017/demo'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  build: &#123;</span><br><span class=\"line\">    ...çœç•¥</span><br><span class=\"line\">    mongodb: <span class=\"string\">'mongodb://127.0.0.0:27017/demo'</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./config'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> mongodb = process.env.NODE_ENV === <span class=\"string\">'dev'</span> ? config.build.mongodb : config.dev.mongodb</span><br></pre></td></tr></table></figure></p>\n<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒçš„æ”¾å¿ƒçš„å†™ä»£ç äº†ï¼Œä½†è¿™æ ·\bå†™è¿˜ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œéƒ½å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œäº†ï¼Œä¸å¤ªå¥½ç»´æŠ¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœŸæ­£çš„åŠ¨æ€åŠ è½½ï¼Œä¸éœ€è¦æˆ‘ä»¬å†åŠ åˆ¤æ–­äº†ã€‚</p>\n<h2 id=\"config-lite\"><a href=\"#config-lite\" class=\"headerlink\" title=\"config-lite\"></a>config-lite</h2><blockquote>\n<p><a href=\"https://github.com/nswbmw/config-lite\" target=\"_blank\" rel=\"noopener\">config-lite</a>ï¼š A super simple &amp; flexible &amp; intuitive config module, support yaml &amp; toml.</p>\n</blockquote>\n<p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒï¼Œå°†é…ç½®å†™å…¥ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºconfigç›®å½•ï¼Œé‡Œé¢æ–°å»ºä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼šdefault.jsã€dev.jså’Œpro.jsã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// default.js</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  session: &#123;</span><br><span class=\"line\">    secret: <span class=\"string\">'config-lite-demo'</span>,</span><br><span class=\"line\">    resave: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    saveUninitialized: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    cookie: &#123;</span><br><span class=\"line\">      maxAge: <span class=\"number\">1000</span>*<span class=\"number\">60</span>*<span class=\"number\">60</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// dev.js</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  host: <span class=\"string\">\"https://dev.com\"</span>,</span><br><span class=\"line\">  mongodb: <span class=\"string\">'mongodb://localhost:27017/test'</span>,</span><br><span class=\"line\">  ...çœç•¥</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// pro.js</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  host: <span class=\"string\">\"https://pro.com\"</span>,</span><br><span class=\"line\">  mongodb: <span class=\"string\">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class=\"line\">  ...çœç•¥</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>å¥½äº†ï¼Œé…ç½®æ–‡ä»¶å†™å¥½äº†ï¼Œå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ <code>config-lite</code> æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¾æ—§æ˜¯ä¾æ®æˆ‘ä»¬shellè„šæœ¬æŒ‡å®šçš„å¯¹åº”ç¯å¢ƒæ¥é€‰æ‹©ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚</p>\n<h3 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm i config-lite --save</span><br></pre></td></tr></table></figure>\n<p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®çš„æ—¶å€™ï¼Œ<code>config-lite</code>ä¼šå»æŠ“å–dev.jsé…ç½®ï¼Œå¹¶ä¸”ä¼šä¸default.jsé‡Œé…ç½®å»åˆå¹¶ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å¯¹è±¡ï¼Œä¼šè¦†ç›–default.jsé‡Œçš„é…ç½®ã€‚åŒç† <code>npm run pro</code></p>\n<h3 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'config-lite'</span>)(__dirname);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 1ã€å¦‚æœ\bè¿è¡Œ npm run dev</span></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  host: <span class=\"string\">\"https://dev.com\"</span>,</span><br><span class=\"line\">  mongodb: <span class=\"string\">'mongodb://localhost:27017/test'</span>,</span><br><span class=\"line\">  session: &#123;</span><br><span class=\"line\">    secret: <span class=\"string\">'config-lite-demo'</span>,</span><br><span class=\"line\">    resave: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    saveUninitialized: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    cookie: &#123;</span><br><span class=\"line\">      maxAge: <span class=\"number\">1000</span>*<span class=\"number\">60</span>*<span class=\"number\">60</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  ...çœç•¥</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2ã€å¦‚æœ\bè¿è¡Œ npm run pro</span></span><br><span class=\"line\">config = &#123;</span><br><span class=\"line\">  host: <span class=\"string\">\"https://pro.com\"</span>,</span><br><span class=\"line\">  mongodb: <span class=\"string\">'mongodb://127.0.0.0:27017/test'</span>,</span><br><span class=\"line\">  session: &#123;</span><br><span class=\"line\">    secret: <span class=\"string\">'config-lite-demo'</span>,</span><br><span class=\"line\">    resave: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    saveUninitialized: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    cookie: &#123;</span><br><span class=\"line\">      maxAge: <span class=\"number\">1000</span>*<span class=\"number\">60</span>*<span class=\"number\">60</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  ...çœç•¥</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>\bè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æ›´å¥½ç»´æŠ¤çš„åŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶ã€‚è¿˜æœ‰ä¸€ä¸ª<code>é—®é¢˜</code>ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨windowså¹³å°ä¸‹ä½¿ç”¨ç±»ä¼¼äº: NODE_ENV=proçš„å‘½ä»¤è¡ŒæŒ‡ä»¤ä¼šå¡ä½ï¼Œwindowså¹³å°ä¸POSIXåœ¨ä½¿ç”¨å‘½ä»¤è¡Œæ—¶æœ‰è®¸å¤šåŒºåˆ«ï¼ˆä¾‹å¦‚åœ¨POSIXï¼Œä½¿ç”¨$ENV_VAR,åœ¨windowsï¼Œä½¿ç”¨%ENV_VAR%ã€‚ã€‚ã€‚ï¼‰ï¼‰ã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼ŸğŸ‘‡</p>\n<h2 id=\"cross-env\"><a href=\"#cross-env\" class=\"headerlink\" title=\"cross-env\"></a>cross-env</h2><blockquote>\n<p>cross-env è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œä¸åŒå¹³å°ä½¿ç”¨å”¯ä¸€æŒ‡ä»¤ï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜</p>\n</blockquote>\n<h3 id=\"Install-1\"><a href=\"#Install-1\" class=\"headerlink\" title=\"Install\"></a>Install</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm i cross-env --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"Usage-1\"><a href=\"#Usage-1\" class=\"headerlink\" title=\"Usage\"></a>Usage</h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"start\": \"node ./bin/www\",</span><br><span class=\"line\">    \"dev\": \"cross-env NODE_ENV=dev node ./bin/www\",</span><br><span class=\"line\">    \"pro\": \"cross-env NODE_ENV=pro node ./bin/www\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™æ · NODE_ENV ä¾¿è®¾ç½®æˆåŠŸï¼Œæ— éœ€æ‹…å¿ƒè·¨å¹³å°é—®é¢˜ã€‚</p>\n<h2 id=\"egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨\"><a href=\"#egg-é…ç½®æ–‡ä»¶çš„ä½¿ç”¨\" class=\"headerlink\" title=\"egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨\"></a>egg é…ç½®æ–‡ä»¶çš„ä½¿ç”¨</h2><p>åœ¨ config ç›®å½•(è„šæ‰‹æ¶ç”Ÿæˆçš„)æ–°å¢ config.dev.js å’Œ config.pro.jsï¼Œç„¶ååœ¨æ–‡ä»¶å†…å†™æˆ‘ä»¬å¯¹åº”ç¯å¢ƒçš„é…ç½®ã€‚</p>\n<ul>\n<li>é…ç½®ç¯å¢ƒ<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  \"script\": &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    \"dev\": \"EGG_SERVER_ENV=dev egg-bin dev\",</span><br><span class=\"line\">    \"pro\": \"EGG_SERVER_ENV=pro egg-scripts start\",</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>åœ¨ egg ä¸­é€šè¿‡ <code>EGG_SERVER_ENV</code> \bæ¥å£°æ˜å¯¹åº”çš„ç¯å¢ƒå˜é‡ã€‚</p>\n<ul>\n<li>ä½¿ç”¨<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"keyword\">this</span>.app.config <span class=\"comment\">// å¾—åˆ°å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶(ä¹Ÿä¼šå’Œ default è¿›è¡Œåˆå¹¶)</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å®Œç»“ï¼Œå¥½ä¹…æ²¡å†™äº†ï¼Œæœ‰ç‚¹ç”Ÿç–äº†ï¼Œè‹¦ç¬‘ï¼ï¼ï¼</p>\n","categories":[],"tags":["éšç¬”","node"]},{"title":"å‰ç«¯è·¯ç”±çš„å®ç°åŸç†","url":"http://yoursite.com/2017/09/16/å‰ç«¯è·¯ç”±çš„å®ç°åŸç†/","content":"<h2 id=\"è·¯ç”±\"><a href=\"#è·¯ç”±\" class=\"headerlink\" title=\"è·¯ç”±\"></a>è·¯ç”±</h2><blockquote>\n<p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ã€‚ä½†è·¯ç”±åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äº›è¯´ï¼šè·¯ç”±å°±æ˜¯æŒ‡éšç€æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„é¡µé¢ä¹Ÿä¸ç›¸åŒã€‚è¿™æ˜¯ä»è·¯ç”±çš„ç”¨é€”ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰ä¸€ç§è¯´æ³•æ˜¯ï¼šè·¯ç”±å°±æ˜¯URLåˆ°å‡½æ•°çš„æ˜ å°„ã€‚è¿™æ˜¯ä»è·¯ç”±çš„å®ç°åŸç†ä¸Šæ¥è§£é‡Šè·¯ç”±æ˜¯ä»€ä¹ˆçš„ã€‚è¿™ä¸¤ç§è¯´æ³•éƒ½å¾ˆæœ‰é“ç†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ—©æœŸçš„è·¯ç”±éƒ½æ˜¯åç«¯å®ç°çš„ï¼Œç›´æ¥æ ¹æ® url æ¥ reload é¡µé¢ï¼Œé¡µé¢å˜å¾—è¶Šæ¥è¶Šå¤æ‚æœåŠ¡å™¨ç«¯å‹åŠ›å˜å¤§ï¼Œéšç€ ajax çš„å‡ºç°ï¼Œé¡µé¢å®ç°é reload å°±èƒ½åˆ·æ–°æ•°æ®ï¼Œä¹Ÿç»™å‰ç«¯è·¯ç”±çš„å‡ºç°å¥ å®šäº†åŸºç¡€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®°å½• url æ¥è®°å½• ajax çš„å˜åŒ–ï¼Œä»è€Œå®ç°å‰ç«¯è·¯ç”±ã€‚</p>\n</blockquote>\n<p>å‰ç«¯è·¯ç”±è¯´ç™½äº†å°±æ˜¯ç›‘å¬æµè§ˆå™¨è·¯ç”±åœ°å€çš„å˜åŒ–ï¼Œæ¸²æŸ“ä¸åŒçš„é¡µé¢æˆ–ç»„ä»¶ã€‚<br>ä¸‹é¢ä¸»è¦è®²ä¸¤ç§ä¸»æµæ–¹å¼å®ç°å‰ç«¯è·¯ç”±ï¼š</p>\n<h2 id=\"History\"><a href=\"#History\" class=\"headerlink\" title=\"History\"></a>History</h2><p>è¿™é‡Œä¸ç»†è¯´æ¯ä¸€ä¸ª API çš„ç”¨æ³•ï¼Œå¤§å®¶å¯ä»¥çœ‹ MDN çš„æ–‡æ¡£ï¼š<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History\" target=\"_blank\" rel=\"noopener\">https://developer.mozilla.orgâ€¦</a></p>\n<p>14å¹´åï¼Œå› ä¸ºHTML5æ ‡å‡†å‘å¸ƒï¼Œæ–°å¢äº†ä¸¤ä¸ª APIï¼Œhistory.pushState å’Œ history.replaceStateï¼Œé€šè¿‡è¿™ä¸¤ä¸ª API å¯ä»¥æ”¹å˜ url åœ°å€ä¸”ä¸ä¼šå‘é€è¯·æ±‚ã€‚</p>\n<p>è¿™ä¸¤ä¸ª API éƒ½æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯</p>\n<ul>\n<li>çŠ¶æ€å¯¹è±¡ï¼ˆstate objectï¼‰ â€” ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œä¸ç”¨pushState()æ–¹æ³•åˆ›å»ºçš„æ–°å†å²è®°å½•æ¡ç›®å…³è”ã€‚æ— è®ºä½•æ—¶ç”¨æˆ·å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„çŠ¶æ€ï¼Œpopstateäº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ï¼Œå¹¶ä¸”äº‹ä»¶å¯¹è±¡çš„stateå±æ€§éƒ½åŒ…å«å†å²è®°å½•æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„æ‹·è´ã€‚</li>\n<li>æ ‡é¢˜ï¼ˆtitleï¼‰ â€” FireFoxæµè§ˆå™¨ç›®å‰ä¼šå¿½ç•¥è¯¥å‚æ•°ï¼Œè™½ç„¶ä»¥åå¯èƒ½ä¼šç”¨ä¸Šã€‚è€ƒè™‘åˆ°æœªæ¥å¯èƒ½ä¼šå¯¹è¯¥æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œä¼ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¼šæ¯”è¾ƒå®‰å…¨ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªç®€çŸ­çš„æ ‡é¢˜ï¼Œæ ‡æ˜å°†è¦è¿›å…¥çš„çŠ¶æ€ã€‚</li>\n<li>åœ°å€ï¼ˆURLï¼‰ â€” æ–°çš„å†å²è®°å½•æ¡ç›®çš„åœ°å€ã€‚æµè§ˆå™¨ä¸ä¼šåœ¨è°ƒç”¨pushState()æ–¹æ³•ååŠ è½½è¯¥åœ°å€ï¼Œä½†ä¹‹åï¼Œå¯èƒ½ä¼šè¯•å›¾åŠ è½½ï¼Œä¾‹å¦‚ç”¨æˆ·é‡å¯æµè§ˆå™¨ã€‚æ–°çš„URLä¸ä¸€å®šæ˜¯ç»å¯¹è·¯å¾„ï¼›å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒå°†ä»¥å½“å‰URLä¸ºåŸºå‡†ï¼›ä¼ å…¥çš„URLä¸å½“å‰URLåº”è¯¥æ˜¯åŒæºçš„ï¼Œå¦åˆ™ï¼ŒpushState()ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼›ä¸æŒ‡å®šçš„è¯åˆ™ä¸ºæ–‡æ¡£å½“å‰URLã€‚<br>ç›¸åŒä¹‹å¤„æ˜¯ä¸¤ä¸ª API éƒ½ä¼šæ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•ï¼Œè€Œä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ã€‚</li>\n</ul>\n<p>ä¸åŒä¹‹å¤„åœ¨äºï¼ŒpushStateä¼šå¢åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•ï¼Œè€ŒreplaceStateåˆ™ä¼šæ›¿æ¢å½“å‰çš„å†å²è®°å½•ã€‚</p>\n<p>æˆ‘ä»¬æ‹¿å¤§ç™¾åº¦çš„æ§åˆ¶å°ä¸¾ä¾‹å­ï¼ˆå…·ä½“è¯´æ˜¯æˆ‘çš„æµè§ˆå™¨åœ¨ç™¾åº¦é¦–é¡µæ‰“å¼€æ§åˆ¶å°ã€‚ã€‚ã€‚ï¼‰</p>\n<p>æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"https://www.baidu.com/?name=hzzly\"</span>);</span><br></pre></td></tr></table></figure>\n<p>å¥½ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ­¤æ—¶çš„ url å˜æˆäº†è¿™æ ·<br><code>https://www.baidu.com/?name=hzzly</code></p>\n<p>æˆ‘ä»¬è¿™é‡Œä¸ä¸€ä¸€æµ‹è¯•ï¼Œç›´æ¥ç»™å‡ºå…¶å®ƒç”¨æ³•ï¼Œå¤§å®¶è‡ªè¡Œå°è¯•<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"https://www.baidu.com/name/hzzly\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//url: https://www.baidu.com/name/hzzly</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"?name=hzzly\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//url: https://www.baidu.com?name=hzzly</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"name=hzzly\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//url: https://www.baidu.com/name=hzzly</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"/name/hzzly\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//url: https://www.baidu.com/name/hzzly</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">window</span>.history.pushState(<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"string\">\"name/hzzly\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//url: https://www.baidu.com/name/hzzly</span></span><br></pre></td></tr></table></figure></p>\n<p>æ¯æ¬¡æ”¹å˜ url é¡µé¢å¹¶æ²¡æœ‰åˆ·æ–°ï¼ŒåŒæ ·æ ¹æ®ä¸Šæ–‡æ‰€è¿°ï¼Œæµè§ˆå™¨ä¼šäº§ç”Ÿå†å²è®°å½•ã€‚</p>\n<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬historyå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” popstate äº‹ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matchAndUpdate</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// åŒ¹é…è·¯å¾„ åš dom æ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'popstate'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"hash\"><a href=\"#hash\" class=\"headerlink\" title=\"hash\"></a>hash</h1><p>æˆ‘ä»¬ç»å¸¸åœ¨ url ä¸­çœ‹åˆ° #ï¼Œè¿™ä¸ª # æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬æ‰€è°“çš„é”šç‚¹ï¼Œæ¯”å¦‚å…¸å‹çš„å„ä¸ªæ ‡é¢˜ä¹‹é—´çš„è·³è½¬ç­‰ï¼Œè·¯ç”±é‡Œçš„ # ä¸å«é”šç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º hashã€‚</p>\n<p>åŒæ ·æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹æ®ç›‘å¬å“ˆå¸Œå˜åŒ–è§¦å‘çš„äº‹ä»¶ â€”â€” hashchange äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">matchAndUpdate</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// åŒ¹é… hash åš dom æ›´æ–°æ“ä½œ</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'hashchange'</span>, matchAndUpdate)</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬ç”¨ window.location å¤„ç†å“ˆå¸Œçš„æ”¹å˜æ—¶ä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯å½“ä½œæ–°é¡µé¢åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬è·³è½¬é¡µé¢å°±å¯ä»¥åœ¨ hashchange äº‹ä»¶ä¸­æ³¨å†Œ ajax ä»è€Œæ”¹å˜é¡µé¢å†…å®¹ã€‚</p>\n<h1 id=\"å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹\"><a href=\"#å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹\"></a>å‰ç«¯è·¯ç”±ä¼˜ç¼ºç‚¹</h1><p>ä¼˜ç‚¹ï¼š<br>1.ä»æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„å±‚é¢æ¥æ¯”è¾ƒçš„è¯ï¼Œåç«¯è·¯ç”±æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™éƒ½è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å†å“åº”è¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹è‚¯å®šä¼šæœ‰å»¶è¿Ÿã€‚è€Œå‰ç«¯è·¯ç”±åœ¨è®¿é—®ä¸€ä¸ªæ–°é¡µé¢çš„æ—¶å€™ä»…ä»…æ˜¯å˜æ¢äº†ä¸€ä¸‹è·¯å¾„è€Œå·²ï¼Œæ²¡æœ‰äº†ç½‘ç»œå»¶è¿Ÿï¼Œå¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ä¼šæœ‰ç›¸å½“å¤§çš„æå‡ã€‚<br>2.åœ¨æŸäº›åœºåˆä¸­ï¼Œç”¨ajaxè¯·æ±‚ï¼Œå¯ä»¥è®©é¡µé¢æ— åˆ·æ–°ï¼Œé¡µé¢å˜äº†ä½†Urlæ²¡æœ‰å˜åŒ–ï¼Œç”¨æˆ·å°±ä¸èƒ½å¤åˆ¶åˆ°æƒ³è¦çš„åœ°å€ï¼Œç”¨å‰ç«¯è·¯ç”±åšå•é¡µé¢ç½‘é¡µå°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜</p>\n<p>ç¼ºç‚¹ï¼š<br>ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€é”®çš„æ—¶å€™ä¼šé‡æ–°å‘é€è¯·æ±‚ï¼Œæ²¡æœ‰åˆç†åœ°åˆ©ç”¨ç¼“å­˜ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"åœ¨Vue.jsä¸­ä½¿ç”¨Mixins","url":"http://yoursite.com/2017/09/12/åœ¨Vue-jsä¸­ä½¿ç”¨Mixins/","content":"<blockquote>\n<p>ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯: æœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç»„ä»¶, å®ƒä»¬æ‹¥æœ‰éå¸¸ç›¸ä¼¼çš„åŸºæœ¬åŠŸèƒ½, ä½†æ˜¯å®ƒä»¬ä¹‹é—´åˆæœ‰è¶³å¤Ÿçš„ä¸åŒçš„åœ°æ–¹, è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æˆ‘ä»¬æ˜¯åº”è¯¥å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶å‘¢? è¿˜æ˜¯åˆ›å»ºä¸€ä¸ªåŸºç¡€ç»„ä»¶, ç„¶åå®šä¹‰è¶³å¤Ÿå¤šçš„propsä»¥æ–¹ä¾¿åŒºåˆ†ä½¿ç”¨åœºæ™¯?</p>\n</blockquote>\n<p>è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å®Œç¾çš„: å¦‚æœä½ å°†å®ƒä»¬åˆ†æˆä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç»„ä»¶, åœ¨éœ€æ±‚å˜åŒ–(åŠŸèƒ½å˜åŒ–)æ—¶, å¯èƒ½ä¼šå¢åŠ éœ€è¦åŒæ—¶ä¿®æ”¹ä¸¤ä¸ªç»„ä»¶çš„é£é™©, è¿™è¿åäº†â€DRYâ€çš„å‰æ. å¦ä¸€æ–¹é¢, å¤ªå¤šçš„propså¾ˆå¿«ä¼šè®©äººå˜å¾—å‡Œä¹±, å¹¶ä¸”, è¿«ä½¿ç»´æŠ¤äººå‘˜, ç”šè‡³æ˜¯ä½ è‡ªå·±, è¦é¦–å…ˆç†è§£è¿™äº›propsçš„ä¸Šä¸‹æ–‡æ‰èƒ½ä½¿ç”¨å®ƒ, è¿™ä¼šè®©äººéå¸¸å¤±æœ›.</p>\n<p>Vueçš„Mixinsæ˜¯éå¸¸å®ç”¨çš„ç¼–ç¨‹æ–¹å¼, å› ä¸ºæœ€ç»ˆå®ç”¨çš„ç¼–ç¨‹æ˜¯é€šè¿‡ä¸æ–­å‡å°‘è¿åŠ¨éƒ¨ä»¶(moving parts)ä½¿ä»£ç å˜å¾—å®¹æ˜“ç†è§£. (å…³äºè¿™ä¸€ç‚¹, Michael Feathersæœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¼•ç”¨). ä¸€ä¸ªmixinå…è®¸ä½ å°è£…ä¸€ä¸ªåŠŸèƒ½, ä»¥ä¾¿ä½ èƒ½åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç»„ä»¶ä¸­ä½¿ç”¨å®ƒ. å¦‚æœmixinè¢«æ­£ç¡®çš„åˆ›å»º, å®ƒä»¬æ˜¯çº¯ç²¹çš„â€“å®ƒä»¬ä¸ä¼šä¿®æ”¹æˆ–æ›´æ”¹å‡½æ•°çš„ä½œç”¨èŒƒå›´(scope)ä¹‹å¤–çš„å†…å®¹, å› æ­¤, æ‚¨å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹æ‰§è¡Œå®ƒä»¬, å¹¶ä¸”åªè¦è¾“å…¥å€¼ç›¸åŒ, æ€»æ˜¯èƒ½éå¸¸å¯é å¾—å¾—åˆ°ç›¸åŒçš„ç»“æœ. è¿™çœŸçš„éå¸¸å¼ºå¤§.</p>\n<h1 id=\"è®¤è¯†Mixins\"><a href=\"#è®¤è¯†Mixins\" class=\"headerlink\" title=\"è®¤è¯†Mixins\"></a>è®¤è¯†Mixins</h1><p><a href=\"https://cn.vuejs.org/v2/guide/mixins.html\" target=\"_blank\" rel=\"noopener\">æ··åˆ (mixins)</a> æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p>\n<h1 id=\"æ —å­\"><a href=\"#æ —å­\" class=\"headerlink\" title=\"æ —å­\"></a>æ —å­</h1><blockquote>\n<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›ä¸åŒçš„ç»„ä»¶, å®ƒä»¬çš„å·¥ä½œæ˜¯åˆ‡æ¢çŠ¶æ€boolean, ä¸€ä¸ªæ¨¡æ€(modal)å’Œä¸€ä¸ªæç¤º(tooltip). è¿™äº›tooltipså’Œmodalsæ²¡æœ‰å¾ˆå¤šå…±åŒä¹‹å¤„, é™¤äº†è¿™ä¸ªåŠŸèƒ½: å®ƒä»¬çœ‹èµ·æ¥ä¸ä¸€æ ·, å®ƒä»¬ä½¿ç”¨èµ·æ¥ä¹Ÿä¸å°½ç›¸åŒ, ä½†æ˜¯å®ƒä»¬çš„é€»è¾‘æ˜¯ç›¸ä¼¼çš„ .</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//modal</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Modal = &#123;</span><br><span class=\"line\">  template: <span class=\"string\">'#modal'</span>,</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      isShowing: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    toggleShow() &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.isShowing = !<span class=\"keyword\">this</span>.isShowing;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//tooltip</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Tooltip = &#123;</span><br><span class=\"line\">  template: <span class=\"string\">'#tooltip'</span>,</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      isShowing: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    toggleShow() &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.isShowing = !<span class=\"keyword\">this</span>.isShowing;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬å¯ä»¥ä»ä¸­æå–é€»è¾‘, å¹¶åˆ›å»ºå¯ä»¥å¤ç”¨çš„éƒ¨åˆ†ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> toggle = &#123;</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      isShowing: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    toggleShow() &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.isShowing = !<span class=\"keyword\">this</span>.isShowing;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> Modal = &#123;</span><br><span class=\"line\">  template: <span class=\"string\">'#modal'</span>,</span><br><span class=\"line\">  mixins: [toggle]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> Tooltip = &#123;</span><br><span class=\"line\">  template: <span class=\"string\">'#tooltip'</span>,</span><br><span class=\"line\">  mixins: [toggle]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>duang â€” ä¸€ä¸ªå°è€Œç®€å•çš„ğŸŒ°è®©æˆ‘ä»¬çŸ¥é“äº†Mixinså¯¹äºå°è£…ä¸€äº›å¯å¤ç”¨çš„åŠŸèƒ½å¦‚æ­¤æœ‰è¶£ã€æ–¹ä¾¿ã€å®ç”¨ã€‚</p>\n<h1 id=\"é¡¹ç›®å®è·µ\"><a href=\"#é¡¹ç›®å®è·µ\" class=\"headerlink\" title=\"é¡¹ç›®å®è·µ\"></a>é¡¹ç›®å®è·µ</h1><blockquote>\n<ul>\n<li><a href=\"https://github.com/hzzly/MagicMusic/blob/master/src/common/js/mixin.js\" target=\"_blank\" rel=\"noopener\">MagicMusic</a> star(200+)</li>\n</ul>\n</blockquote>\n","categories":[],"tags":["éšç¬”","vue"]},{"title":"Vueæ’ä»¶çš„å¼€å‘(ä¸€)","url":"http://yoursite.com/2017/08/25/Vueæ’ä»¶çš„å¼€å‘-ä¸€/","content":"<blockquote>\n<p>å‰è¨€ï¼šéšç€ Vue.js è¶Šæ¥è¶Šç«ï¼ŒVue.js çš„ç›¸å…³æ’ä»¶ä¹Ÿåœ¨ä¸æ–­çš„è¢«è´¡çŒ®å‡ºæ¥ï¼Œæ•°ä¸èƒœæ•°ã€‚æ¯”å¦‚å®˜æ–¹æ¨èçš„ vue-routerã€vuex ç­‰ï¼Œéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ’ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬æ›´å¤šçš„äººè¿˜åªåœç•™åœ¨ä½¿ç”¨çš„é˜¶æ®µï¼Œæ¯”è¾ƒå°‘è‡ªå·±å¼€å‘ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ vue-toast æ’ä»¶ï¼Œæ¥äº†è§£æŒæ¡æ’ä»¶çš„å¼€å‘å’Œä½¿ç”¨ã€‚</p>\n</blockquote>\n<h1 id=\"è®¤è¯†æ’ä»¶\"><a href=\"#è®¤è¯†æ’ä»¶\" class=\"headerlink\" title=\"è®¤è¯†æ’ä»¶\"></a>è®¤è¯†æ’ä»¶</h1><p>æƒ³è¦å¼€å‘æ’ä»¶ï¼Œå…ˆè¦è®¤è¯†ä¸€ä¸ªæ’ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚<a href=\"https://cn.vuejs.org/v2/guide/plugins.html\" target=\"_blank\" rel=\"noopener\">å®˜æ–¹æ–‡æ¡£:æ’ä»¶</a></p>\n<p>Vue.js çš„æ’ä»¶åº”å½“æœ‰ä¸€ä¸ªå…¬å¼€æ–¹æ³• install ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ , ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MyPlugin.install = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Vue, options</span>) </span>&#123;</span><br><span class=\"line\">\tVue.myGlobalMethod = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;  <span class=\"comment\">// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚: vue-custom-element</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// é€»è¾‘...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tVue.directive(<span class=\"string\">'my-directive'</span>, &#123;  <span class=\"comment\">// 2. æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ vue-touch</span></span><br><span class=\"line\">\t\tbind (el, binding, vnode, oldVnode) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é€»è¾‘...</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t...</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\tVue.mixin(&#123;</span><br><span class=\"line\">\t\tcreated: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;  <span class=\"comment\">// 3. é€šè¿‡å…¨å±€ mixinæ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚: vuex</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// é€»è¾‘...</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t...</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\tVue.prototype.$myMethod = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;  <span class=\"comment\">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// é€»è¾‘...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ¥ä¸‹æ¥è¦è®²åˆ°çš„ vue-toast æ’ä»¶åˆ™æ˜¯é€šè¿‡æ·»åŠ å®ä¾‹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªå°ä¾‹å­ã€‚å…ˆæ–°å»ºä¸ªjsæ–‡ä»¶æ¥ç¼–å†™æ’ä»¶ï¼štoast.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toast.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> Toast = &#123;&#125;;</span><br><span class=\"line\">Toast.install = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Vue, options</span>) </span>&#123;</span><br><span class=\"line\">\tVue.prototype.$msg = <span class=\"string\">'Hello World'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure>\n<p>åœ¨ main.js ä¸­ï¼Œéœ€è¦å¯¼å…¥ toast.js å¹¶ä¸”é€šè¿‡å…¨å±€æ–¹æ³• Vue.use() æ¥ä½¿ç”¨æ’ä»¶ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// main.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> Toast <span class=\"keyword\">from</span> <span class=\"string\">'./toast.js'</span>;</span><br><span class=\"line\">Vue.use(Toast);</span><br></pre></td></tr></table></figure>\n<p>ç„¶åï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­æ¥è·å–è¯¥æ’ä»¶å®šä¹‰çš„ $msg å±æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// App.vue</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\tmounted()&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.$msg);         <span class=\"comment\">// Hello World</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å°æˆåŠŸçš„æ‰“å°å‡ºäº† Hello World ã€‚æ—¢ç„¶ $msg èƒ½è·å–åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥å®ç°æˆ‘ä»¬çš„ vue-toast æ’ä»¶äº†ã€‚</p>\n<h1 id=\"å¼€å‘-vue-toast-æ’ä»¶\"><a href=\"#å¼€å‘-vue-toast-æ’ä»¶\" class=\"headerlink\" title=\"å¼€å‘ vue-toast æ’ä»¶\"></a>å¼€å‘ vue-toast æ’ä»¶</h1><p>éœ€æ±‚ï¼šåœ¨ç»„ä»¶ä¸­é€šè¿‡è°ƒç”¨ <strong>this.$toast(â€˜ç½‘ç»œè¯·æ±‚å¤±è´¥â€™) </strong>æ¥å¼¹å‡ºæç¤ºï¼Œé»˜è®¤åœ¨åº•éƒ¨æ˜¾ç¤ºã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ <strong>this.$toast.top()</strong> æˆ– <strong>this.$toast.center()</strong> ç­‰æ–¹æ³•æ¥å®ç°åœ¨ä¸åŒä½ç½®æ˜¾ç¤ºã€‚</p>\n<p>æ•´ç†ä¸€ä¸‹æ€è·¯ï¼Œå¼¹å‡ºæç¤ºçš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥åœ¨ body ä¸­æ·»åŠ ä¸€ä¸ª div ç”¨æ¥æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œä¸åŒçš„ä½ç½®æˆ‘é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»åæ¥å®šä½ï¼Œé‚£å°±å¯ä»¥å¼€å§‹å†™äº†ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toast.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> Toast = &#123;&#125;;</span><br><span class=\"line\">Toast.install = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Vue, options</span>) </span>&#123;</span><br><span class=\"line\">\tVue.prototype.$toast = <span class=\"function\">(<span class=\"params\">tips</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> toastTpl = Vue.extend(&#123;     <span class=\"comment\">// 1ã€åˆ›å»ºæ„é€ å™¨ï¼Œå®šä¹‰å¥½æç¤ºä¿¡æ¯çš„æ¨¡æ¿</span></span><br><span class=\"line\">\t\t\ttemplate: <span class=\"string\">'&lt;div class=\"vue-toast\"&gt;'</span> + tips + <span class=\"string\">'&lt;/div&gt;'</span></span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> tpl = <span class=\"keyword\">new</span> toastTpl().$mount().$el;  <span class=\"comment\">// 2ã€åˆ›å»ºå®ä¾‹ï¼ŒæŒ‚è½½åˆ°æ–‡æ¡£ä»¥åçš„åœ°æ–¹</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">document</span>.body.appendChild(tpl);     <span class=\"comment\">// 3ã€æŠŠåˆ›å»ºçš„å®ä¾‹æ·»åŠ åˆ°bodyä¸­</span></span><br><span class=\"line\">\t\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;        <span class=\"comment\">// 4ã€å»¶è¿Ÿ2.5ç§’åç§»é™¤è¯¥æç¤º</span></span><br><span class=\"line\">\t\t\t<span class=\"built_in\">document</span>.body.removeChild(tpl);</span><br><span class=\"line\">\t\t&#125;, <span class=\"number\">2500</span>)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure>\n<p>å¥½åƒå¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±å®ç°äº† this.$toast() ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºä¸åŒä½ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// toast.js</span></span><br><span class=\"line\">[<span class=\"string\">'bottom'</span>, <span class=\"string\">'center'</span>, <span class=\"string\">'top'</span>].forEach(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> &#123;</span><br><span class=\"line\">\tVue.prototype.$toast[type] = <span class=\"function\">(<span class=\"params\">tips</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> Vue.prototype.$toast(tips,type)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡ŒæŠŠ type ä¼ ç»™ $toast åœ¨è¯¥æ–¹æ³•é‡Œè¿›è¡Œä¸åŒä½ç½®çš„å¤„ç†ï¼Œä¸Šé¢è¯´äº†é€šè¿‡æ·»åŠ ä¸åŒçš„ç±»å(toast-bottomã€toast-topã€toast-center)æ¥å®ç°ï¼Œé‚£ $toast æ–¹æ³•éœ€è¦å°å°ä¿®æ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Vue.prototype.$toast = <span class=\"function\">(<span class=\"params\">tips,type</span>) =&gt;</span> &#123;     <span class=\"comment\">// æ·»åŠ  type å‚æ•°</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> toastTpl = Vue.extend(&#123;             <span class=\"comment\">// æ¨¡æ¿æ·»åŠ ä½ç½®ç±»</span></span><br><span class=\"line\">\t\ttemplate: <span class=\"string\">'&lt;div class=\"vue-toast toast-'</span>+ type +<span class=\"string\">'\"&gt;'</span> + tips + <span class=\"string\">'&lt;/div&gt;'</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">\t...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¥½åƒå·®ä¸å¤šäº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³é»˜è®¤åœ¨é¡¶éƒ¨æ˜¾ç¤ºï¼Œæˆ‘æ¯æ¬¡éƒ½è¦è°ƒç”¨ this.$toast.top() å¥½åƒå°±æœ‰ç‚¹å¤šä½™äº†ï¼Œæˆ‘èƒ½ä¸èƒ½ this.$toast() å°±ç›´æ¥åœ¨æˆ‘æƒ³è¦çš„åœ°æ–¹å‘¢ï¼Ÿè¿˜æœ‰æˆ‘ä¸æƒ³è¦ 2.5s åæ‰æ¶ˆå¤±å‘¢ï¼Ÿè¿™æ—¶å€™æ³¨æ„åˆ° Toast.install(Vue,options) é‡Œçš„ options å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Vue.use() é€šè¿‡ options ä¼ è¿›æˆ‘ä»¬æƒ³è¦çš„å‚æ•°ã€‚æœ€åä¿®æ”¹æ’ä»¶å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> Toast = &#123;&#125;;</span><br><span class=\"line\">Toast.install = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Vue, options</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> opt = &#123;</span><br><span class=\"line\">\t\tdefaultType:<span class=\"string\">'bottom'</span>,   <span class=\"comment\">// é»˜è®¤æ˜¾ç¤ºä½ç½®</span></span><br><span class=\"line\">\t\tduration:<span class=\"string\">'2500'</span>         <span class=\"comment\">// æŒç»­æ—¶é—´</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> property <span class=\"keyword\">in</span> options)&#123;</span><br><span class=\"line\">\t\topt[property] = options[property];  <span class=\"comment\">// ä½¿ç”¨ options çš„é…ç½®</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tVue.prototype.$toast = <span class=\"function\">(<span class=\"params\">tips,type</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(type)&#123;</span><br><span class=\"line\">\t\t\topt.defaultType = type;         <span class=\"comment\">// å¦‚æœæœ‰ä¼ typeï¼Œä½ç½®åˆ™è®¾ä¸ºè¯¥type</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(<span class=\"built_in\">document</span>.getElementsByClassName(<span class=\"string\">'vue-toast'</span>).length)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// å¦‚æœtoastè¿˜åœ¨ï¼Œåˆ™ä¸å†æ‰§è¡Œ</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> toastTpl = Vue.extend(&#123;</span><br><span class=\"line\">\t\t\ttemplate: <span class=\"string\">'&lt;div class=\"vue-toast toast-'</span>+opt.defaultType+<span class=\"string\">'\"&gt;'</span> + tips + <span class=\"string\">'&lt;/div&gt;'</span></span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> tpl = <span class=\"keyword\">new</span> toastTpl().$mount().$el;</span><br><span class=\"line\">\t\t<span class=\"built_in\">document</span>.body.appendChild(tpl);</span><br><span class=\"line\">\t\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">document</span>.body.removeChild(tpl);</span><br><span class=\"line\">\t\t&#125;, opt.duration)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t[<span class=\"string\">'bottom'</span>, <span class=\"string\">'center'</span>, <span class=\"string\">'top'</span>].forEach(<span class=\"function\"><span class=\"params\">type</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\tVue.prototype.$toast[type] = <span class=\"function\">(<span class=\"params\">tips</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> Vue.prototype.$toast(tips,type)</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = Toast;</span><br></pre></td></tr></table></figure>\n<p>è¿™æ ·å­ä¸€ä¸ªç®€å•çš„ vue æ’ä»¶å°±å®ç°äº†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ npm æ‰“åŒ…å‘å¸ƒï¼Œä¸‹æ¬¡å°±å¯ä»¥ä½¿ç”¨ npm install æ¥å®‰è£…äº†ã€‚</p>\n<p>å¥½ä¹…æ²¡æ›´æ–°åšå®¢ï¼Œé€ƒã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue"]},{"title":"vueä¸echartsçš„å¯è§†åŒ–","url":"http://yoursite.com/2017/07/09/vueä¸echartsçš„å¯è§†åŒ–/","content":"<p>å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰å·æ‡’å“¦ã€‚å› ä¸ºè¿›å…¥äº†å…¬å¸å®ä¹ ï¼Œéœ€è¦ç†Ÿæ‚‰é¡¹ç›®éœ€æ±‚ä»¥åŠæŠ€æœ¯æ ˆï¼Œå…¬å¸æŠ€æœ¯æ ˆç”¨çš„reactä¸dvaï¼Œæ‰€ä»¥éœ€è¦ç°å­¦ç°å–ã€‚è¶ç€å‘¨æœ«å†™å†™vueï¼Œç¾æ»‹æ»‹ï¼Œå“ˆå“ˆå“ˆã€‚</p>\n<h1 id=\"ä¸€ã€é…æ–¹\"><a href=\"#ä¸€ã€é…æ–¹\" class=\"headerlink\" title=\"ä¸€ã€é…æ–¹\"></a>ä¸€ã€é…æ–¹</h1><ul>\n<li>vue</li>\n<li>echarts</li>\n</ul>\n<h1 id=\"äºŒã€å‚è€ƒæ¡ˆä¾‹\"><a href=\"#äºŒã€å‚è€ƒæ¡ˆä¾‹\" class=\"headerlink\" title=\"äºŒã€å‚è€ƒæ¡ˆä¾‹\"></a>äºŒã€å‚è€ƒæ¡ˆä¾‹</h1><ul>\n<li><a href=\"http://gallery.echartsjs.com/explore.html\" target=\"_blank\" rel=\"noopener\">gallery</a> ç¤¾åŒºdemo</li>\n</ul>\n<h1 id=\"ä¸‰ã€å®è·µ\"><a href=\"#ä¸‰ã€å®è·µ\" class=\"headerlink\" title=\"ä¸‰ã€å®è·µ\"></a>ä¸‰ã€å®è·µ</h1><h2 id=\"3-1å®‰è£…-echarts\"><a href=\"#3-1å®‰è£…-echarts\" class=\"headerlink\" title=\"3.1å®‰è£… echarts\"></a>3.1å®‰è£… echarts</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install echarts --save</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-2vue-dom-ç»“æ„\"><a href=\"#3-2vue-dom-ç»“æ„\" class=\"headerlink\" title=\"3.2vue dom ç»“æ„\"></a>3.2vue dom ç»“æ„</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"charts\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height:300px;width:300px\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3-3åœ¨vueä¸­å¼•å…¥echarts\"><a href=\"#3-3åœ¨vueä¸­å¼•å…¥echarts\" class=\"headerlink\" title=\"3.3åœ¨vueä¸­å¼•å…¥echarts\"></a>3.3åœ¨vueä¸­å¼•å…¥echarts</h2><p>å› ä¸ºEChartsåˆå§‹åŒ–å¿…é¡»ç»‘å®šdomï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨vueçš„mountedç”Ÿå‘½å‘¨æœŸé‡Œåˆå§‹åŒ–ã€‚</p>\n<h3 id=\"3-3-1å…¨éƒ¨å¼•å…¥\"><a href=\"#3-3-1å…¨éƒ¨å¼•å…¥\" class=\"headerlink\" title=\"3.3.1å…¨éƒ¨å¼•å…¥\"></a>3.3.1å…¨éƒ¨å¼•å…¥</h3><p>å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä»£ç ä¸­ require(â€˜echartsâ€™) æˆ– import å¾—åˆ° EChartsï¼Œæˆ‘è¿™é‡Œé€šè¿‡es6çš„importæ¥å¼•å…¥<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> echarts <span class=\"keyword\">from</span> <span class=\"string\">'echarts'</span></span><br><span class=\"line\"> </span><br><span class=\"line\">mounted () &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.initChart()</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">methods: &#123;</span><br><span class=\"line\">  initChart () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.chart = echarts.init(<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'charts'</span>))</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"keyword\">let</span> option = &#123;</span><br><span class=\"line\">      title: &#123; <span class=\"attr\">text</span>: <span class=\"string\">'ECharts å…¥é—¨ç¤ºä¾‹'</span> &#125;,</span><br><span class=\"line\">      tooltip: &#123;&#125;,</span><br><span class=\"line\">      xAxis: &#123;</span><br><span class=\"line\">        data: [<span class=\"string\">\"è¡¬è¡«\"</span>,<span class=\"string\">\"ç¾Šæ¯›è¡«\"</span>,<span class=\"string\">\"é›ªçººè¡«\"</span>,<span class=\"string\">\"è£¤å­\"</span>,<span class=\"string\">\"é«˜è·Ÿé‹\"</span>,<span class=\"string\">\"è¢œå­\"</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      yAxis: &#123;&#125;,</span><br><span class=\"line\">      series: [&#123;</span><br><span class=\"line\">        name: <span class=\"string\">'é”€é‡'</span>,</span><br><span class=\"line\">        type: <span class=\"string\">'bar'</span>,</span><br><span class=\"line\">        data: [<span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">36</span>, <span class=\"number\">10</span>, <span class=\"number\">10</span>, <span class=\"number\">20</span>]</span><br><span class=\"line\">      &#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"keyword\">this</span>.chart.setOption(option)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"3-3-2æŒ‰éœ€å¼•å…¥\"><a href=\"#3-3-2æŒ‰éœ€å¼•å…¥\" class=\"headerlink\" title=\"3.3.2æŒ‰éœ€å¼•å…¥\"></a>3.3.2æŒ‰éœ€å¼•å…¥</h3><p>é»˜è®¤ä½¿ç”¨ require(â€˜echartsâ€™) å¾—åˆ°çš„æ˜¯å·²ç»åŠ è½½äº†æ‰€æœ‰å›¾è¡¨å’Œç»„ä»¶çš„ ECharts åŒ…ï¼Œå› æ­¤ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­å¯¹ä½“ç§¯è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œä¹Ÿå¯ä»¥åªæŒ‰éœ€å¼•å…¥éœ€è¦çš„æ¨¡å—ã€‚</p>\n<p>ä¾‹å¦‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­åªç”¨åˆ°äº†æŸ±çŠ¶å›¾ï¼Œæç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶ï¼Œå› æ­¤åœ¨å¼•å…¥çš„æ—¶å€™ä¹Ÿåªéœ€è¦å¼•å…¥è¿™äº›æ¨¡å—ï¼Œå¯ä»¥æœ‰æ•ˆçš„å°†æ‰“åŒ…åçš„ä½“ç§¯ä» 400 å¤š KB å‡å°åˆ° 170 å¤š KBã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¼•å…¥ ECharts ä¸»æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> echarts <span class=\"keyword\">from</span> <span class=\"string\">'echarts/lib/echarts'</span></span><br><span class=\"line\"><span class=\"comment\">// å¼•å…¥æŸ±çŠ¶å›¾</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'echarts/lib/chart/bar'</span></span><br><span class=\"line\"><span class=\"comment\">// å¼•å…¥æç¤ºæ¡†å’Œæ ‡é¢˜ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'echarts/lib/component/tooltip'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'echarts/lib/component/title'</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// åé¢çš„è·Ÿä¸Šé¢çš„å°±ä¸€æ ·äº†</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option\"><a href=\"#3-3-3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®-option\" class=\"headerlink\" title=\"3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)\"></a>3.3.3åŠ¨æ€æ”¹å˜EChartsçš„é…ç½®(option)</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç¬¬ä¸€ç§ watch optionså˜åŒ– åˆ©ç”¨vueçš„æ·±åº¦ watcherï¼Œoptionsä¸€æœ‰å˜åŒ–å°±é‡æ–°setOption</span></span><br><span class=\"line\">watch: &#123;</span><br><span class=\"line\">  options: &#123;</span><br><span class=\"line\">    handler(options) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.chart.setOption(<span class=\"keyword\">this</span>.options)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    deep: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ç¬¬äºŒç§ åªwatch æ•°æ®çš„å˜åŒ– åªæœ‰æ•°æ®å˜åŒ–æ—¶è§¦å‘ECharts</span></span><br><span class=\"line\">watch: &#123;</span><br><span class=\"line\">  seriesData(val) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.setOptions(&#123;<span class=\"attr\">series</span>:val&#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-4ç»“æœ\"><a href=\"#3-4ç»“æœ\" class=\"headerlink\" title=\"3.4ç»“æœ\"></a>3.4ç»“æœ</h2><p><img src=\"http://omt3u4bph.bkt.clouddn.com/echarts.png\" alt=\"vue-echarts\"><br>åˆ°è¿™æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå°±å¯ä»¥æ˜¾ç¤ºå›¾è¡¨äº†ï¼Œå®ç°å¯è§†åŒ–æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ã€‚</p>\n<h1 id=\"å››ã€å‚è€ƒ\"><a href=\"#å››ã€å‚è€ƒ\" class=\"headerlink\" title=\"å››ã€å‚è€ƒ\"></a>å››ã€å‚è€ƒ</h1><p><a href=\"http://echarts.baidu.com/tutorial.html#%E5%9C%A8%20webpack%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20ECharts\" target=\"_blank\" rel=\"noopener\">åœ¨ webpack ä¸­ä½¿ç”¨ ECharts</a></p>\n","categories":[],"tags":["éšç¬”","vue","echarts"]},{"title":"åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ","url":"http://yoursite.com/2017/06/21/åŸºäºvue-clié…ç½®proxyTableå¼€å‘ç¯å¢ƒçš„è·¨åŸŸ/","content":"<blockquote>\n<p>å‰è¨€ï¼šç›®å‰å‰ç«¯é¡¹ç›®æ™®éé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ€æƒ³æ¥å¼€å‘ï¼Œè¿™æ ·åœ¨å’Œåç«¯è¿›è¡Œæ•°æ®è”è°ƒæ—¶åŠ¿å¿…ä¼šé¢ä¸´æ¼äººçš„è·¨åŸŸé—®é¢˜ï¼Œæœ€è¿‘å‡ ä¸ªåŸºäºVueå¼€å‘é¡¹ç›®æ—¶ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šå…³äºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œå°±ç®€å•çš„ä»‹ç»åŸºäºvue-clié…ç½®proxyTableçš„å¼€å‘ç¯å¢ƒæ¥è§£å†³è·¨åŸŸã€‚</p>\n</blockquote>\n<p>è¿˜ä¸æ‡‚å‰åç«¯åˆ†ç¦»çš„å¯ä»¥ç§»æ­¥ğŸ‘‰ï¼š<a href=\"http://hjingren.cn/2017/03/06/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E5%B0%9D%E8%AF%95/\" target=\"_blank\" rel=\"noopener\">å‰åç«¯åˆ†ç¦»çš„å°è¯•</a></p>\n<h1 id=\"é…ç½®-proxyTable\"><a href=\"#é…ç½®-proxyTable\" class=\"headerlink\" title=\"é…ç½® proxyTable\"></a>é…ç½® proxyTable</h1><p>åœ¨ config/index.js ä¸­ï¼ŒæŠŠ dev ä¸‹çš„ proxytable é‡Œé¢é…ç½®å¦‚ä¸‹ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">proxyTable: &#123;</span><br><span class=\"line\">  <span class=\"string\">'/api'</span>: &#123;</span><br><span class=\"line\">    target: <span class=\"string\">'http://api.hjingren.cn'</span>,</span><br><span class=\"line\">    changeOrigin: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    pathRewrite: &#123;</span><br><span class=\"line\">      <span class=\"string\">'^/api'</span>: <span class=\"string\">''</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰\"><a href=\"#ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰\" class=\"headerlink\" title=\"ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰\"></a>ä½¿ç”¨ï¼ˆè¯·æ±‚ï¼‰</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(<span class=\"string\">'/api/playlist/detail?id=12345'</span>)</span><br></pre></td></tr></table></figure>\n<p>æœ€åï¼švue-cliçš„è¿™ä¸ªé…ç½®æ¥è‡ªäºå…¶ä½¿ç”¨çš„æ’ä»¶<a href=\"https://github.com/chimurai/http-proxy-middleware\" target=\"_blank\" rel=\"noopener\">http-proxy-middleware</a>ï¼Œæƒ³è¿›ä¸€æ­¥äº†è§£çš„å¯ä»¥æ·±å…¥ç ”ç©¶ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue"]},{"title":"è‡´æ­‰","url":"http://yoursite.com/2017/06/19/è‡´æ­‰/","content":"<h1 id=\"è‡´æ­‰\"><a href=\"#è‡´æ­‰\" class=\"headerlink\" title=\"è‡´æ­‰\"></a>è‡´æ­‰</h1><p>æˆ‘åœ¨å†™æ–‡ç« çš„æ—¶å€™çš„æ—¶å€™åªæ³¨æ„äº†åŸä½œè€…çš„æ–‡ç« å†…å®¹æ˜¯å¦å¤Ÿå¥½ï¼Œè€Œå¿½ç•¥äº†å†…å®¹çš„åŸåˆ›æ€§ã€‚å› æ­¤å‘ç”Ÿäº†æœ€è¿‘å‡ ç¯‡å†…å®¹æŠ„è¢­åŸåˆ›ä½œå“è¿™æ ·ä¸å¥½çš„äº‹æƒ…ã€‚æœ¬äººä»¥å…¨éƒ¨åˆ é™¤ã€‚</p>\n<p>åŸåˆ›æ˜¯å¾ˆå¤šä½œè€…æœ€ä¸ºçœ‹é‡çš„äº‹æƒ…ã€‚æ­£æ‰€è°“æ”¯æŒåŸåˆ›ï¼Œç›—ç‰ˆå¿…ç©¶ã€‚æœ¬äººè®¤è¯†åˆ°äº†äº‹æƒ…çš„ä¸¥é‡æ€§ã€‚</p>\n<p>å› æ­¤ï¼Œåœ¨è¿™é‡Œæˆ‘å‘åŸä½œè€…è¡¨è¾¾æ·±æ·±çš„æ­‰æ„ï¼š</p>\n<p><strong>å¯¹ä¸èµ·ï¼</strong></p>\n","categories":[],"tags":["éšç¬”"]},{"title":"åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”","url":"http://yoursite.com/2017/06/16/åŸºäºvue-clié…ç½®ç§»åŠ¨ç«¯è‡ªé€‚åº”/","content":"<blockquote>\n<p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äºç§»åŠ¨ç«¯å±å¹•é€‚é…ï¼š<a href=\"http://hjingren.cn/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/\" target=\"_blank\" rel=\"noopener\">ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³</a>ï¼Œä»Šå¤©æ¥èŠä¸€èŠåŸºäºvue-clié…ç½®çš„ç§»åŠ¨ç«¯å±å¹•é€‚é…é—®é¢˜ã€‚</p>\n</blockquote>\n<p>é…æ–¹è¿˜æ˜¯ä¸€æ ·ï¼šæ‰‹æ·˜çš„ <a href=\"https://github.com/amfe/lib-flexible\" target=\"_blank\" rel=\"noopener\">lib-flexible</a> + rem</p>\n<h1 id=\"é…ç½®-flexible\"><a href=\"#é…ç½®-flexible\" class=\"headerlink\" title=\"é…ç½® flexible\"></a>é…ç½® flexible</h1><h2 id=\"å®‰è£…-lib-flexible\"><a href=\"#å®‰è£…-lib-flexible\" class=\"headerlink\" title=\"å®‰è£… lib-flexible\"></a>å®‰è£… lib-flexible</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i lib-flexible --save</span><br></pre></td></tr></table></figure>\n<h2 id=\"å¼•å…¥-lib-flexible\"><a href=\"#å¼•å…¥-lib-flexible\" class=\"headerlink\" title=\"å¼•å…¥ lib-flexible\"></a>å¼•å…¥ lib-flexible</h2><p>åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ main.js é‡Œ å¼•å…¥ lib-flexible</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// main.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'lib-flexible'</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"æ·»åŠ -meta-æ ‡ç­¾\"><a href=\"#æ·»åŠ -meta-æ ‡ç­¾\" class=\"headerlink\" title=\"æ·»åŠ  meta æ ‡ç­¾\"></a>æ·»åŠ  meta æ ‡ç­¾</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ index.html ä¸­æ·»åŠ å¦‚ä¸‹ meta</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"px-è½¬-rem\"><a href=\"#px-è½¬-rem\" class=\"headerlink\" title=\"px è½¬ rem\"></a>px è½¬ rem</h1><p>å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡ç¨¿å¾—åˆ°çš„å€¼å•ä½æ˜¯ pxï¼Œæ‰€ä»¥è¦å°† px è½¬æ¢æˆ rem å†å†™è¿›æ ·å¼ä¸­ã€‚<br>å°† px è½¬æ¢æˆ rem æˆ‘ä»¬å°†ä½¿ç”¨ px2rem è¿™ä¸ªå·¥å…·ï¼Œå®ƒæœ‰ webpack çš„ loaderï¼š<a href=\"https://github.com/Jinjiang/px2rem-loader\" target=\"_blank\" rel=\"noopener\">px2rem-loader</a></p>\n<h2 id=\"å®‰è£…-px2rem-loader\"><a href=\"#å®‰è£…-px2rem-loader\" class=\"headerlink\" title=\"å®‰è£… px2rem-loader\"></a>å®‰è£… px2rem-loader</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå¦‚ä¸‹å®‰è£…ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i px2rem-loade --save-dev</span><br></pre></td></tr></table></figure>\n<h2 id=\"é…ç½®-px2rem-loade\"><a href=\"#é…ç½®-px2rem-loade\" class=\"headerlink\" title=\"é…ç½® px2rem-loade\"></a>é…ç½® px2rem-loade</h2><p>åœ¨ vue-cli ç”Ÿæˆçš„ webpack é…ç½®ä¸­ï¼Œvue-loader çš„ options å’Œå…¶ä»–æ ·å¼æ–‡ä»¶ loader æœ€ç»ˆæ˜¯éƒ½æ˜¯ç”± build/utils.js é‡Œçš„ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆçš„ã€‚</p>\n<p>æˆ‘ä»¬åªéœ€åœ¨ cssLoader åå†åŠ ä¸Šä¸€ä¸ª px2remLoader å³å¯ï¼Œpx2rem-loader çš„ remUnit é€‰é¡¹æ„æ€æ˜¯ 1rem=å¤šå°‘åƒç´ ï¼Œç»“åˆ lib-flexible çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°† px2remLoader çš„ options.remUnit è®¾ç½®æˆè®¾è®¡ç¨¿å®½åº¦çš„ 1/10ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾è®¾è®¡ç¨¿å®½ä¸º 750pxã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// utils.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> cssLoader = &#123;</span><br><span class=\"line\">  loader: <span class=\"string\">'css-loader'</span>,</span><br><span class=\"line\">  options: &#123;</span><br><span class=\"line\">    minimize: process.env.NODE_ENV === <span class=\"string\">'production'</span>,</span><br><span class=\"line\">    sourceMap: options.sourceMap</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> px2remLoader = &#123;</span><br><span class=\"line\">  loader: <span class=\"string\">'px2rem-loader'</span>,</span><br><span class=\"line\">  options: &#123;</span><br><span class=\"line\">    remUnit: <span class=\"number\">75</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n<p>å¹¶æ”¾è¿› loaders æ•°ç»„ä¸­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// utils.js</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">generateLoaders</span>(<span class=\"params\">loader, loaderOptions</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> loaders = [cssLoader, px2remLoader]</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯ï¼Œç„¶åæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å†™å•ä½ç›´æ¥å†™ pxï¼Œè®¾è®¡ç¨¿é‡å¤šå°‘å°±å¯ä»¥å†™å¤šå°‘äº†ï¼Œèˆ’æœå¤šäº†ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue"]},{"title":"Nginxä¸Nodeçš„çº ç¼ ","url":"http://yoursite.com/2017/06/11/Nginxä¸Nodeçš„çº ç¼ /","content":"<blockquote>\n<p>å‰è¨€ï¼šå‰å‡ å¤©é¢è¯•è¢«é—®åˆ°ï¼šâ€œnginxçš„å¥½å¤„ï¼Ÿnginxå’Œnodeçš„æ¯”è¾ƒâ€ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ€»ç»“ä¸€æ³¢ã€‚</p>\n</blockquote>\n<h1 id=\"nginxçš„å¥½å¤„\"><a href=\"#nginxçš„å¥½å¤„\" class=\"headerlink\" title=\"nginxçš„å¥½å¤„\"></a>nginxçš„å¥½å¤„</h1><ul>\n<li>çƒ­éƒ¨ç½²</li>\n<li>é«˜å¹¶å‘è¿æ¥</li>\n<li>å¤„ç†å“åº”è¯·æ±‚å¾ˆå¿«</li>\n<li>å…·æœ‰å¾ˆé«˜çš„å¯é æ€§</li>\n</ul>\n<h2 id=\"çƒ­éƒ¨ç½²\"><a href=\"#çƒ­éƒ¨ç½²\" class=\"headerlink\" title=\"çƒ­éƒ¨ç½²\"></a>çƒ­éƒ¨ç½²</h2><p>åœ¨ä¸åœæ­¢æœåŠ¡çš„æƒ…å†µä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ›´æ¢æ—¥å¿—æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚</p>\n<h2 id=\"é«˜å¹¶å‘è¿æ¥\"><a href=\"#é«˜å¹¶å‘è¿æ¥\" class=\"headerlink\" title=\"é«˜å¹¶å‘è¿æ¥\"></a>é«˜å¹¶å‘è¿æ¥</h2><p>é«˜å¹¶å‘ï¼šæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·åŒæ—¶çš„è®¿é—®URLåœ°å€ï¼Œæ¯”å¦‚ï¼šæ·˜å®çš„åŒ11ï¼ŒåŒ12ï¼Œå°±ä¼šäº§ç”Ÿé«˜å¹¶å‘ã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€ä¸ªç‰¹æ€§ï¼åœ¨è¿™ä¸€ä¸ª äº’è”ç½‘ å¿«é€Ÿå‘å±•ï¼Œ äº’è”ç½‘ ç”¨æˆ·æ•°é‡ä¸æ–­å¢åŠ ï¼Œä¸€äº›å¤§å…¬å¸ã€ç½‘ç«™éƒ½éœ€è¦é¢å¯¹é«˜å¹¶å‘è¯·æ±‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªèƒ½å¤Ÿåœ¨å³°å€¼é¡¶ä½10ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚çš„Serverï¼Œè‚¯å®šä¼šå¾—åˆ°å¤§å®¶çš„é’çã€‚ç†è®ºä¸Šï¼ŒNginxæ”¯æŒçš„å¹¶å‘è¿æ¥ä¸Šé™å–å†³äºä½ çš„å†…å­˜ï¼Œ10ä¸‡è¿œæœªå°é¡¶ã€‚</p>\n<h1 id=\"Nginxèƒ½åšä»€ä¹ˆ\"><a href=\"#Nginxèƒ½åšä»€ä¹ˆ\" class=\"headerlink\" title=\"Nginxèƒ½åšä»€ä¹ˆ\"></a>Nginxèƒ½åšä»€ä¹ˆ</h1><ul>\n<li>åå‘ä»£ç†</li>\n<li>è´Ÿè½½å‡è¡¡</li>\n<li>HTTPæœåŠ¡å™¨ï¼ˆåŒ…å«åŠ¨é™åˆ†ç¦»ï¼‰</li>\n<li>æ­£å‘ä»£ç†</li>\n</ul>\n<h2 id=\"åå‘ä»£ç†\"><a href=\"#åå‘ä»£ç†\" class=\"headerlink\" title=\"åå‘ä»£ç†\"></a>åå‘ä»£ç†</h2><p>åå‘ä»£ç†åº”è¯¥æ˜¯Nginxåšçš„æœ€å¤šçš„ä¸€ä»¶äº‹äº†ï¼Œä»€ä¹ˆæ˜¯åå‘ä»£ç†å‘¢ï¼Œä»¥ä¸‹æ˜¯ç™¾åº¦ç™¾ç§‘çš„è¯´æ³•ï¼šåå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç®€å•æ¥è¯´å°±æ˜¯çœŸå®çš„æœåŠ¡å™¨ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®ï¼Œæ‰€ä»¥éœ€è¦ä¸€å°ä»£ç†æœåŠ¡å™¨ï¼Œè€Œä»£ç†æœåŠ¡å™¨èƒ½è¢«å¤–éƒ¨ç½‘ç»œè®¿é—®çš„åŒæ—¶åˆè·ŸçœŸå®æœåŠ¡å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æ˜¯åŒä¸€å°æœåŠ¡å™¨ï¼Œç«¯å£ä¸åŒè€Œå·²ã€‚ </p>\n<p>ä¸‹é¢è´´ä¸Šä¸€æ®µç®€å•çš„å®ç°åå‘ä»£ç†çš„ä»£ç ï¼š</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;  </span><br><span class=\"line\">\t<span class=\"attribute\">listen</span>       <span class=\"number\">80</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">\t\t<span class=\"attribute\">proxy_pass</span> http://localhost:8081;</span><br><span class=\"line\">\t\t<span class=\"attribute\">proxy_set_header</span> Host <span class=\"variable\">$host</span>:<span class=\"variable\">$server_port</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å½“æˆ‘ä»¬è®¿é—®localhostçš„æ—¶å€™ï¼Œå°±ç›¸å½“äºè®¿é—®localhost:8081äº†</p>\n<h2 id=\"è´Ÿè½½å‡è¡¡\"><a href=\"#è´Ÿè½½å‡è¡¡\" class=\"headerlink\" title=\"è´Ÿè½½å‡è¡¡\"></a>è´Ÿè½½å‡è¡¡</h2><p>è´Ÿè½½å‡è¡¡å¯ä»¥æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿›è¡Œå¤„ç†ï¼Œä»è€Œå®ç°äº†å¯¹æµ·é‡ç”¨æˆ·çš„è®¿é—®æ”¯æŒã€‚è´Ÿè½½å‡è¡¡çš„æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š</p>\n<p>ç®€å•è€Œè¨€å°±æ˜¯å½“æœ‰2å°æˆ–ä»¥ä¸ŠæœåŠ¡å™¨æ—¶ï¼Œæ ¹æ®è§„åˆ™éšæœºçš„å°†è¯·æ±‚åˆ†å‘åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šå¤„ç†ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶é…ç½®åå‘ä»£ç†ï¼Œé€šè¿‡åå‘ä»£ç†è·³è½¬åˆ°è´Ÿè½½å‡è¡¡ã€‚</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">upstream</span> test &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">server</span> localhost:<span class=\"number\">8080</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">server</span> localhost:<span class=\"number\">8081</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">listen</span>       <span class=\"number\">81</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">\t\t<span class=\"attribute\">proxy_pass</span> http://test;</span><br><span class=\"line\">\t\t<span class=\"attribute\">proxy_set_header</span> Host <span class=\"variable\">$host</span>:<span class=\"variable\">$server_port</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"HTTPæœåŠ¡å™¨\"><a href=\"#HTTPæœåŠ¡å™¨\" class=\"headerlink\" title=\"HTTPæœåŠ¡å™¨\"></a>HTTPæœåŠ¡å™¨</h2><p>Nginxæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ï¼Œå½“åªæœ‰é™æ€èµ„æºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨Nginxæ¥åšæœåŠ¡å™¨ï¼ŒåŒæ—¶ç°åœ¨ä¹Ÿå¾ˆæµè¡ŒåŠ¨é™åˆ†ç¦»ï¼Œå°±å¯ä»¥é€šè¿‡Nginxæ¥å®ç°ã€‚</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">listen</span>       <span class=\"number\">80</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">server_name</span>  localhost;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">\t\t<span class=\"attribute\">root</span>   /home/hzzly;</span><br><span class=\"line\">\t\t<span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\">#error_page  404              /404.html;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\"># redirect server error pages to the static page /50x.html</span></span><br><span class=\"line\">\t<span class=\"comment\">#</span></span><br><span class=\"line\">\t<span class=\"attribute\">error_page</span>   <span class=\"number\">500</span> <span class=\"number\">502</span> <span class=\"number\">503</span> <span class=\"number\">504</span>  /50x.html;</span><br><span class=\"line\">\t<span class=\"attribute\">location</span> = /50x.html &#123;</span><br><span class=\"line\">\t\t<span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"æ­£å‘ä»£ç†\"><a href=\"#æ­£å‘ä»£ç†\" class=\"headerlink\" title=\"æ­£å‘ä»£ç†\"></a>æ­£å‘ä»£ç†</h2><p>æ­£å‘ä»£ç†ï¼Œæ„æ€æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚å½“ä½ éœ€è¦æŠŠä½ çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨Nginxæ¥å®ç°æ­£å‘ä»£ç†ã€‚</p>\n<h1 id=\"nodeçš„ç‰¹ç‚¹\"><a href=\"#nodeçš„ç‰¹ç‚¹\" class=\"headerlink\" title=\"nodeçš„ç‰¹ç‚¹\"></a>nodeçš„ç‰¹ç‚¹</h1><ul>\n<li>å®ƒæ˜¯ä¸€ä¸ªjavascriptè¿è¡Œç¯å¢ƒ</li>\n<li>ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š</li>\n<li>äº‹ä»¶é©±åŠ¨</li>\n<li>éé˜»å¡I/O</li>\n<li>è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨</li>\n<li>å¹¶å‘è¿æ¥ï¼ˆé«˜å¹¶å‘ï¼‰</li>\n</ul>\n<h2 id=\"nodeåº”ç”¨åœºæ™¯\"><a href=\"#nodeåº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"nodeåº”ç”¨åœºæ™¯\"></a>nodeåº”ç”¨åœºæ™¯</h2><p>NodeJSé€‚åˆè¿ç”¨åœ¨é«˜å¹¶å‘ã€I/Oå¯†é›†ã€å°‘é‡ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚ï¼ˆRESTful APIï¼ŒèŠå¤©ï¼‰</p>\n<h2 id=\"Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\"><a href=\"#Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\" class=\"headerlink\" title=\"Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\"></a>Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢</h2><p>é€šè¿‡å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰å’Œå¼‚æ­¥æœºåˆ¶æ¥å®ç°éé˜»å¡ã€‚<br>é€šè¿‡äº‹ä»¶é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªç¯æ¥å®ç°å¹¶å‘è¿æ¥ã€‚</p>\n<p>å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰</p>\n<h1 id=\"nginxå’Œnodeçš„æ¯”è¾ƒ\"><a href=\"#nginxå’Œnodeçš„æ¯”è¾ƒ\" class=\"headerlink\" title=\"nginxå’Œnodeçš„æ¯”è¾ƒ\"></a>nginxå’Œnodeçš„æ¯”è¾ƒ</h1><ul>\n<li>ä¸€ä¸ªæ›´ä¸“ä¸šï¼Œä¸€ä¸ªæ›´å…¨é¢ã€‚</li>\n<li>Nginx é‡‡ç”¨Cç¼–å†™ï¼Œæ€§èƒ½æ›´é«˜ï¼Œä½†æ˜¯å®ƒä»…é€‚åˆäºåšwebæœåŠ¡å™¨ï¼Œç”¨äºåå‘ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡ç­‰æœåŠ¡ã€‚</li>\n<li>NodeJsé«˜æ€§èƒ½å¹³å°ï¼ŒwebæœåŠ¡åªæ˜¯å…¶ä¸­ä¸€å—ï¼ŒNodeJsåœ¨å¤„ç†ä¸šåŠ¡å±‚ç”¨çš„æ˜¯JSç¼–å†™,é‡‡ç”¨çš„æ˜¯å¼‚æ­¥ç¼–ç¨‹æ–¹å¼å’Œæ€ç»´æ–¹å¼ã€‚</li>\n<li>Node.jså‘å±•æ–¹å‘ä¸å†å•ç‹¬æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢å‘ç½‘ç»œçš„å¹³å°ï¼Œå®ƒç”šè‡³å¯ä»¥æ˜¯TCPæœåŠ¡å™¨ï¼Œæˆ–è€…å˜èº«ä¸ºè¿œç«¯æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚</li>\n</ul>\n<h1 id=\"nginxä¸nodeçš„å®Œç¾æ­é…\"><a href=\"#nginxä¸nodeçš„å®Œç¾æ­é…\" class=\"headerlink\" title=\"nginxä¸nodeçš„å®Œç¾æ­é…\"></a>nginxä¸nodeçš„å®Œç¾æ­é…</h1><p>nodeè‡ªå·±æœ¬èº«å¯ä»¥ä½œä¸ºæœåŠ¡å™¨è¿›è¡Œé©±åŠ¨ï¼Œä½†æ˜¯nodeæœ¬èº«å¯¹æ–‡ä»¶çš„å¤„ç†èƒ½åŠ›å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­åº”å°½é‡ä½¿ç”¨nginxæ¥å¤„ç†é™æ€çš„èµ„æºä»¥åŠåå‘ä»£ç†ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†nodeåˆ†å¸ƒå¼ä»¥åŠè´Ÿè½½å‡è¡¡çš„ç›¸å…³é—®é¢˜ã€‚</p>\n","categories":[],"tags":["éšç¬”","nginx","node"]},{"title":"jså®ç°å›¾ç‰‡æ‡’åŠ è½½","url":"http://yoursite.com/2017/06/09/jså®ç°å›¾ç‰‡æ‡’åŠ è½½/","content":"<blockquote>\n<p>å‰è¨€ï¼šæœ€è¿‘é¢è¯•éƒ½è¢«é—®åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ•´ç†ä¸€æ³¢ã€‚</p>\n</blockquote>\n<h1 id=\"æ‡’åŠ è½½çš„æ„ä¹‰\"><a href=\"#æ‡’åŠ è½½çš„æ„ä¹‰\" class=\"headerlink\" title=\"æ‡’åŠ è½½çš„æ„ä¹‰\"></a>æ‡’åŠ è½½çš„æ„ä¹‰</h1><blockquote>\n<p>æ‡’åŠ è½½çš„ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºæœåŠ¡å™¨å‰ç«¯çš„ä¼˜åŒ–ï¼Œå‡å°‘è¯·æ±‚æ•°æˆ–å»¶è¿Ÿè¯·æ±‚æ•°ï¼Œå¯¹æœåŠ¡å™¨ç¼“å‹ã€‚</p>\n</blockquote>\n<p><strong>é¢„åŠ è½½:</strong>æå‰åŠ è½½å¥½ï¼Œç¼“å­˜åˆ°æœ¬åœ°ï¼Œå½“éœ€è¦çš„æ—¶å€™ç›´æ¥è¯»å–ç¼“å­˜ï¼Œå¯¹æœåŠ¡å™¨å¢å‹</p>\n<h1 id=\"æ‡’åŠ è½½å®ç°æ–¹å¼\"><a href=\"#æ‡’åŠ è½½å®ç°æ–¹å¼\" class=\"headerlink\" title=\"æ‡’åŠ è½½å®ç°æ–¹å¼\"></a>æ‡’åŠ è½½å®ç°æ–¹å¼</h1><ul>\n<li><p>ç¬¬ä¸€ç§æ˜¯çº¯ç²¹çš„å»¶è¿ŸåŠ è½½ï¼Œä½¿ç”¨setTimeOutæˆ–setIntervalè¿›è¡ŒåŠ è½½å»¶è¿Ÿ</p>\n</li>\n<li><p>ç¬¬äºŒç§æ˜¯æ¡ä»¶åŠ è½½ï¼Œç¬¦åˆæŸäº›æ¡ä»¶ï¼Œæˆ–è§¦å‘äº†æŸäº›äº‹ä»¶æ‰å¼€å§‹å¼‚æ­¥ä¸‹è½½</p>\n</li>\n<li><p>ç¬¬ä¸‰ç§æ˜¯å¯è§†åŒºåŠ è½½ï¼Œå³ä»…åŠ è½½ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„åŒºåŸŸï¼Œè¿™ä¸ªä¸»è¦ç”±ç›‘æ§æ»šåŠ¨æ¡æ¥å®ç°ï¼Œä¸€èˆ¬ä¼šåœ¨è·ç”¨æˆ·çœ‹åˆ°æŸå›¾ç‰‡å‰ä¸€å®šè·ç¦»éå¼€å§‹åŠ è½½ï¼Œè¿™æ ·èƒ½ä¿è¯ç”¨æˆ·æ‹‰ä¸‹æ—¶æ­£å¥½èƒ½çœ‹åˆ°å›¾ç‰‡</p>\n</li>\n</ul>\n<p>Web å›¾ç‰‡çš„æ‡’åŠ è½½å°±æ˜¯é€šè¿‡è¯»å–imgå…ƒç´ ï¼Œç„¶åè·å¾—imgå…ƒç´ çš„data-srcï¼ˆä¹Ÿå¯ä»¥çº¦å®šä¸ºå…¶ä»–å±æ€§åï¼‰å±æ€§çš„å€¼ï¼Œå¹¶èµ‹äºˆimgçš„srcï¼Œä»è€Œå®ç°åŠ¨æ€åŠ è½½å›¾ç‰‡çš„æœºåˆ¶</p>\n<h2 id=\"1ã€æ‡’åŠ è½½HTMLçº¦å®š\"><a href=\"#1ã€æ‡’åŠ è½½HTMLçº¦å®š\" class=\"headerlink\" title=\"1ã€æ‡’åŠ è½½HTMLçº¦å®š\"></a>1ã€æ‡’åŠ è½½HTMLçº¦å®š</h2><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦ç»™å‡†å¤‡å®æ–½æ‡’åŠ è½½çš„imgå…ƒç´ æ·»åŠ æŒ‡å®šçš„class è¿™é‡Œä¸ºm-lazyload ,åŒæ—¶å°†img srcèµ‹å€¼ç»™ data-srcå±æ€§ã€‚<br>å…·ä½“ç¤ºä¾‹ä¸ºï¼š<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">\"m-lazyload\"</span> <span class=\"attr\">data-src</span>=<span class=\"string\">\"imgUrl\"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"2ã€æ‡’åŠ è½½JavaScriptå®ç°\"><a href=\"#2ã€æ‡’åŠ è½½JavaScriptå®ç°\" class=\"headerlink\" title=\"2ã€æ‡’åŠ è½½JavaScriptå®ç°\"></a>2ã€æ‡’åŠ è½½JavaScriptå®ç°</h2><p>åŠ¨æ€åŠ è½½æ€»å…±åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤:<br>1ã€æ·»åŠ é¡µé¢æ»šåŠ¨ç›‘å¬äº‹ä»¶<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">imgBoxList.addEventListener(<span class=\"string\">'scroll'</span>, debounce(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  _loadImage();</span><br><span class=\"line\">&#125;, <span class=\"number\">200</span>));</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// ç®€å•çš„é˜²æŠ–å‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">func, delay</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> timer</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (timer) &#123;</span><br><span class=\"line\">      clearTimeout(timer)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    timer = setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      func.apply(<span class=\"keyword\">this</span>, args)</span><br><span class=\"line\">    &#125;, delay)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2ã€å½“è§¦å‘ç›‘å¬äº‹ä»¶æ—¶ä¼šæ‰§è¡Œ _loadImage å‡½æ•°ï¼Œè¯¥å‡½æ•°è´Ÿè´£åŠ è½½å›¾ç‰‡<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">_loadImage</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> domOffsetHeight = imgBoxList.offsetHeight;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgs = imgBoxList.querySelectorAll(<span class=\"string\">'img[data-src]'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; imgs.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> el = imgs[i];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (_isShow(el, domOffsetHeight)) &#123;</span><br><span class=\"line\">      el.src = el.getAttribute(<span class=\"string\">'data-src'</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>3ã€åˆ¤æ–­è¯¥å›¾ç‰‡æ˜¯å¦åœ¨å½“å‰çª—å£çš„å¯è§†åŒºåŸŸå†…<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">_isShow</span>(<span class=\"params\">el, domHeight</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> rect = el.getBoundingClientRect();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> rect.top &lt;= domHeight + <span class=\"number\">200</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>åˆ°è¿™ä¸€ä¸ªç®€å•çš„å›¾ç‰‡æ‡’åŠ è½½å°±å†™æˆäº†</p>\n<blockquote>\n<p>å½“ç½‘é¡µæ»šåŠ¨çš„äº‹ä»¶è¢«è§¦å‘ -&gt; æ‰§è¡ŒåŠ è½½å›¾ç‰‡æ“ä½œ -&gt; åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†… -&gt; åœ¨ï¼Œåˆ™åŠ¨æ€å°†data-srcçš„å€¼èµ‹äºˆè¯¥å›¾ç‰‡ã€‚</p>\n</blockquote>\n","categories":[],"tags":["éšç¬”","JavaScript"]},{"title":"DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2.0æ¥è¢­","url":"http://yoursite.com/2017/06/05/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨2-0æ¥è¢­/","content":"<blockquote>\n<p>å‰è¨€ï¼šä¹‹å‰åšçš„ç¬¬ä¸€ç‰ˆæ’­æ”¾å™¨åŠŸèƒ½åšå‡ºæ¥äº†ï¼Œä½†å‘ç°ç»“æ„ä¸æ˜¯å¾ˆä¼˜é›…ä»¥åŠåç«¯apiå¾ˆä¸ç¨³å®šï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€æ¬¡å°å‡çº§ã€‚æ­¤æ¬¡å‡çº§ <strong>åŠŸèƒ½æ›´å…¨ï¼Œä½“éªŒæ›´å¥½ï¼Œapiæ›´ç¨³å®šï¼ŒæŠ€æœ¯æ ˆæ›´å¤šï¼Œæ”¶è·ä¹Ÿæ›´å¤š</strong>ğŸ‘ã€‚</p>\n</blockquote>\n<p>[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®,ä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜]</p>\n<h2 id=\"é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music\"><a href=\"#é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music\" class=\"headerlink\" title=\"é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-music\"></a>é¢„è§ˆåœ°å€ï¼š <a href=\"http://hzzly.net/magic-music\" target=\"_blank\" rel=\"noopener\">http://hzzly.net/magic-music</a></h2><h2 id=\"Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic\"><a href=\"#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic\" class=\"headerlink\" title=\"Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic\"></a>Githubåœ°å€ï¼š <a href=\"https://github.com/hzzly/MagicMusic\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/MagicMusic</a></h2><p>æ¬¢è¿å¤§å®¶çš„starå’ŒforkğŸ˜„~</p>\n<h2 id=\"å®ç°çš„åŠŸèƒ½\"><a href=\"#å®ç°çš„åŠŸèƒ½\" class=\"headerlink\" title=\"å®ç°çš„åŠŸèƒ½\"></a>å®ç°çš„åŠŸèƒ½</h2><ul>\n<li><strong>é¦–é¡µ</strong><ul>\n<li>è½®æ’­</li>\n<li>ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]</li>\n<li>æ­Œæ›²æ“ä½œï¼ˆåŠ¨ç”»ï¼‰</li>\n</ul>\n</li>\n<li><strong>åº•éƒ¨æ’­æ”¾æ§ä»¶</strong><ul>\n<li>æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li>\n<li>å®æ—¶æ’­æ”¾è¿›åº¦æ¡</li>\n</ul>\n</li>\n<li><strong>æ’­æ”¾é¡µ</strong><ul>\n<li>ä¸Šä¸€æ›²ã€æ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ›²</li>\n<li>æ’­æ”¾è¿›åº¦æ¡ï¼ˆå¼§å½¢è¿›åº¦æ¡ï¼‰</li>\n<li>æ­Œè¯æ»šåŠ¨ã€æ­Œè¯é«˜äº®</li>\n</ul>\n</li>\n<li><strong>æ’­æ”¾åˆ—è¡¨</strong><ul>\n<li>æ’­æ”¾æ­Œæ›²é«˜äº®</li>\n<li>åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ)</li>\n<li>åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X)</li>\n<li>æ¸…ç©ºæ’­æ”¾åˆ—è¡¨</li>\n<li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨</li>\n</ul>\n</li>\n<li><strong>æ’è¡Œæ¦œ</strong><ul>\n<li>æ’è¡Œæ¦œåˆ—è¡¨</li>\n<li>æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)ã€å…¨éƒ¨æ’­æ”¾</li>\n</ul>\n</li>\n<li><strong>éŸ³ä¹æœç´¢</strong><ul>\n<li>æœç´¢å•æ›²ã€æ­Œæ‰‹</li>\n<li>æœç´¢å†å²è®°å½•</li>\n</ul>\n</li>\n<li><strong>ä¾§è¾¹æ </strong></li>\n</ul>\n<h2 id=\"æœªå®ç°çš„åŠŸèƒ½\"><a href=\"#æœªå®ç°çš„åŠŸèƒ½\" class=\"headerlink\" title=\"æœªå®ç°çš„åŠŸèƒ½\"></a>æœªå®ç°çš„åŠŸèƒ½</h2><ul>\n<li>å–œæ¬¢ã€åˆ†äº«ã€ä¸‹è½½ã€åˆ‡æ¢æ’­æ”¾æ¨¡å¼</li>\n</ul>\n<h2 id=\"é¢„è§ˆ\"><a href=\"#é¢„è§ˆ\" class=\"headerlink\" title=\"é¢„è§ˆ\"></a>é¢„è§ˆ</h2><p><img src=\"http://hzzly.net/magic-music/screenshots/music.gif\" alt=\"http://hzzly.net/magic-music/screenshots/music.gif\"></p>\n<p><strong>æ›´å¤šé¢„è§ˆğŸ‘‰</strong><a href=\"http://hzzly.net/magic-music/screenshots/\" target=\"_blank\" rel=\"noopener\">æ›´å¤š</a></p>\n<h2 id=\"æŠ€æœ¯æ ˆ\"><a href=\"#æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"æŠ€æœ¯æ ˆ\"></a>æŠ€æœ¯æ ˆ</h2><p>1ã€<code>Vueå…¨å®¶æ¡¶(vue2ã€vue-routerã€vuex)</code> å¿«é€Ÿå¼€å‘SPAç¥å™¨<br>2ã€<code>Axios</code> vueä½œè€…æ¨èçš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆ<br>3ã€<code>ES6</code> å…¨é¢è¿‡åº¦es6çš„å†™æ³• è¶‹åŠ¿<br>4ã€<code>Webpack2</code> è„šæ‰‹æ¶å·²ç»é…ç½®å¥½äº†ï¼Œè¶…è´´å¿ƒ<br>5ã€<code>Promise</code> æŠŠè¯·æ±‚å°è£…åœ¨promiseä¸­ï¼Œæ–¹ä¾¿çš„å¯ä»¥ä½¿ç”¨.thenå›è°ƒ<br>6ã€<code>flexå¸ƒå±€</code> å¯¹äºç§»åŠ¨ç«¯å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ä½¿ç”¨<br>7ã€<code>ç§»åŠ¨ç«¯å±å¹•é€‚é…</code> é‡‡ç”¨æ‰‹æ·˜çš„flexible+remæ–¹æ¡ˆ<br>8ã€<code>æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)</code> é¿å…é‡å¤èµ„æºè¯·æ±‚ï¼Œå¿«é€Ÿè¯»å–<br>9ã€<code>å›¾ç‰‡æ‡’åŠ è½½</code> vue-lazyload æå‡ç”¨æˆ·ä½“éªŒ</p>\n<h2 id=\"æœ¬æ¬¡æ›´æ–°æ—¥å¿—\"><a href=\"#æœ¬æ¬¡æ›´æ–°æ—¥å¿—\" class=\"headerlink\" title=\"æœ¬æ¬¡æ›´æ–°æ—¥å¿—\"></a>æœ¬æ¬¡æ›´æ–°æ—¥å¿—</h2><ul>\n<li>åç«¯apié‡‡ç”¨pm2æ¥éƒ¨ç½²ï¼Œé˜²æ­¢æ–­å¼€åæ•°æ®æ— æ³•è¯·æ±‚çš„å°´å°¬ã€‚</li>\n<li>æŠŠç›‘å¬audioåŠ è½½å®Œæ•°æ®äº‹ä»¶ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œé¿å…é‡å¤ç›‘å¬ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ã€‚</li>\n<li>æ›´æ–°axiosè¯·æ±‚ï¼Œè®©è¯·æ±‚æ›´åŠ ä¼˜ç¾ã€‚</li>\n<li>ä¿®æ”¹æ’­æ”¾é¡µé¢ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</li>\n<li>æ·»åŠ åŠ è½½éŸ³ä¹loadingç­‰å¾…ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>\n<li>æ·»åŠ æ’­æ”¾å…¨éƒ¨ï¼Œé¿å…ä¸€ä¸ªä¸€ä¸ªæ·»åŠ ã€‚</li>\n<li>æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨ä¸æ¸…ç©ºã€‚</li>\n<li>ä¿®æ”¹é¦–é¡µtabåˆ‡æ¢åŠ¨æ•ˆ</li>\n</ul>\n<p><a href=\"http://hjingren.cn/2017/04/27/%E2%80%99DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/\" target=\"_blank\" rel=\"noopener\">DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨1.0</a></p>\n<h2 id=\"åè®°\"><a href=\"#åè®°\" class=\"headerlink\" title=\"åè®°\"></a>åè®°</h2><p>MagicMusicè¿˜åœ¨ä¸æ–­åŠªåŠ›çš„æ”¹è¿›ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œ<strong>ä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›</strong>ï¼Œè°¢è°¢ï¼ï¼ï¼å½“ç„¶æœ‰å»ºè®®å¯ä»¥åœ¨issuesé‡Œæã€‚<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/MagicMusic\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/MagicMusic</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<h2 id=\"æ±‚å®ä¹ \"><a href=\"#æ±‚å®ä¹ \" class=\"headerlink\" title=\"æ±‚å®ä¹ \"></a>æ±‚å®ä¹ </h2><p>æœ¬äººå¤§ä¸‰ï¼Œæ±‚ä¸€ä¸ªå‰ç«¯å®ä¹ ï¼š<a href=\"http://hzzly.net/resume/\" target=\"_blank\" rel=\"noopener\">ç®€å†</a></p>\n","categories":[],"tags":["éšç¬”","vue","vuex"]},{"title":"CentOS 7 Nginxçš„æŠ˜è…¾","url":"http://yoursite.com/2017/06/05/CentOS-7-Nginxçš„æŠ˜è…¾/","content":"<h2 id=\"CentOS-7-ä¸‹å®‰è£…-Nginx\"><a href=\"#CentOS-7-ä¸‹å®‰è£…-Nginx\" class=\"headerlink\" title=\"CentOS 7 ä¸‹å®‰è£… Nginx\"></a><strong>CentOS 7 ä¸‹å®‰è£… Nginx</strong></h2><h3 id=\"æŸ¥çœ‹centosç‰ˆæœ¬\"><a href=\"#æŸ¥çœ‹centosç‰ˆæœ¬\" class=\"headerlink\" title=\"æŸ¥çœ‹centosç‰ˆæœ¬\"></a>æŸ¥çœ‹centosç‰ˆæœ¬</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cat /etc/redhat-release</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸€-gcc-å®‰è£…\"><a href=\"#ä¸€-gcc-å®‰è£…\" class=\"headerlink\" title=\"ä¸€. gcc å®‰è£…\"></a>ä¸€. gcc å®‰è£…</h3><blockquote>\n<p>å®‰è£… nginx éœ€è¦å…ˆå°†å®˜ç½‘ä¸‹è½½çš„æºç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¾èµ– gcc ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ gcc ç¯å¢ƒï¼Œåˆ™éœ€è¦å®‰è£…ï¼š</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install gcc-c++</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒ-pcre-pcre-devel-å®‰è£…\"><a href=\"#äºŒ-pcre-pcre-devel-å®‰è£…\" class=\"headerlink\" title=\"äºŒ. pcre pcre-devel å®‰è£…\"></a>äºŒ. pcre pcre-devel å®‰è£…</h3><blockquote>\n<p>PCRE(Perl Compatible Regular Expressions) æ˜¯ä¸€ä¸ªPerlåº“ï¼ŒåŒ…æ‹¬ perl å…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ã€‚nginx çš„ http æ¨¡å—ä½¿ç”¨ pcre æ¥è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦åœ¨ linux ä¸Šå®‰è£… pcre åº“ï¼Œpcre-devel æ˜¯ä½¿ç”¨ pcre å¼€å‘çš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘åº“ã€‚nginxä¹Ÿéœ€è¦æ­¤åº“ã€‚å‘½ä»¤ï¼š</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y pcre pcre-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰-zlib-å®‰è£…\"><a href=\"#ä¸‰-zlib-å®‰è£…\" class=\"headerlink\" title=\"ä¸‰. zlib å®‰è£…\"></a>ä¸‰. zlib å®‰è£…</h3><blockquote>\n<p>zlib åº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹å¼ï¼Œ nginx ä½¿ç”¨ zlib å¯¹ http åŒ…çš„å†…å®¹è¿›è¡Œ gzip ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos ä¸Šå®‰è£… zlib åº“ã€‚</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y zlib zlib-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"å››-OpenSSL-å®‰è£…\"><a href=\"#å››-OpenSSL-å®‰è£…\" class=\"headerlink\" title=\"å››. OpenSSL å®‰è£…\"></a>å››. OpenSSL å®‰è£…</h3><blockquote>\n<p>OpenSSL æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠ SSL åè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚<br>nginx ä¸ä»…æ”¯æŒ http åè®®ï¼Œè¿˜æ”¯æŒ httpsï¼ˆå³åœ¨sslåè®®ä¸Šä¼ è¾“httpï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Centos å®‰è£… OpenSSL åº“ã€‚</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"äº”ã€å®˜ç½‘ä¸‹è½½\"><a href=\"#äº”ã€å®˜ç½‘ä¸‹è½½\" class=\"headerlink\" title=\"äº”ã€å®˜ç½‘ä¸‹è½½\"></a>äº”ã€å®˜ç½‘ä¸‹è½½</h3><blockquote>\n<ul>\n<li>æ‰“å¼€<a href=\"http://nginx.org/en/download.html\" target=\"_blank\" rel=\"noopener\">http://nginx.org/en/download.html</a></li>\n<li>æ‰¾åˆ°Stable versionä¸‹çš„ <a href=\"http://nginx.org/download/nginx-1.12.0.tar.gz\" target=\"_blank\" rel=\"noopener\">nginx-1.12.0</a></li>\n<li>å³é”® å¤åˆ¶é“¾æ¥</li>\n<li>ä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½</li>\n</ul>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/</span><br><span class=\"line\">$ wget -c http://nginx.org/download/nginx-1.12.0.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"è§£å‹\"><a href=\"#è§£å‹\" class=\"headerlink\" title=\"è§£å‹\"></a>è§£å‹</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar -zxvf nginx-1.12.0.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> nginx-1.12.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"é…ç½®\"><a href=\"#é…ç½®\" class=\"headerlink\" title=\"é…ç½®\"></a>é…ç½®</h3><blockquote>\n<p>ä½¿ç”¨é»˜è®¤é…ç½®</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./configure</span><br></pre></td></tr></table></figure>\n<h3 id=\"ç¼–è¯‘å®‰è£…\"><a href=\"#ç¼–è¯‘å®‰è£…\" class=\"headerlink\" title=\"ç¼–è¯‘å®‰è£…\"></a>ç¼–è¯‘å®‰è£…</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ make</span><br><span class=\"line\">$ make install</span><br></pre></td></tr></table></figure>\n<p>æŸ¥æ‰¾å®‰è£…è·¯å¾„ï¼š<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ whereis nginx</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"å¯åŠ¨ã€åœæ­¢nginx\"><a href=\"#å¯åŠ¨ã€åœæ­¢nginx\" class=\"headerlink\" title=\"å¯åŠ¨ã€åœæ­¢nginx\"></a>å¯åŠ¨ã€åœæ­¢nginx</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/nginx/sbin/</span><br><span class=\"line\">$ ./nginx </span><br><span class=\"line\">$ ./nginx -s stop      //æ­¤æ–¹å¼ç›¸å½“äºå…ˆæŸ¥å‡ºnginxè¿›ç¨‹idå†ä½¿ç”¨<span class=\"built_in\">kill</span>å‘½ä»¤å¼ºåˆ¶æ€æ‰è¿›ç¨‹ã€‚</span><br><span class=\"line\">$ ./nginx -s quit      //æ­¤æ–¹å¼åœæ­¢æ­¥éª¤æ˜¯å¾…nginxè¿›ç¨‹å¤„ç†ä»»åŠ¡å®Œæ¯•è¿›è¡Œåœæ­¢ã€‚</span><br><span class=\"line\">$ ./nginx -s reload    //é‡å¯ï¼Œå½“ ngin xçš„é…ç½®æ–‡ä»¶ nginx.conf ä¿®æ”¹åï¼Œè¦æƒ³è®©é…ç½®ç”Ÿæ•ˆéœ€è¦é‡å¯ nginxï¼Œä½¿ç”¨-s reloadä¸ç”¨å…ˆåœæ­¢ ngin xå†å¯åŠ¨ nginx å³å¯å°†é…ç½®ä¿¡æ¯åœ¨ nginx ä¸­ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ\"><a href=\"#æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ\" class=\"headerlink\" title=\"æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ\"></a>æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®æ­¤æœºå™¨çš„ IPï¼Œå¦‚æœæµè§ˆå™¨å‡ºç° Welcome to nginx! åˆ™è¡¨ç¤º Nginx å·²ç»å®‰è£…å¹¶è¿è¡ŒæˆåŠŸã€‚</p>\n<h3 id=\"å¼€æœºè‡ªå¯åŠ¨\"><a href=\"#å¼€æœºè‡ªå¯åŠ¨\" class=\"headerlink\" title=\"å¼€æœºè‡ªå¯åŠ¨\"></a>å¼€æœºè‡ªå¯åŠ¨</h3><p>å³åœ¨rc.localå¢åŠ å¯åŠ¨ä»£ç å°±å¯ä»¥äº†ã€‚<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ vi /etc/rc.local</span><br></pre></td></tr></table></figure></p>\n<p>å¢åŠ ä¸€è¡Œ /usr/local/nginx/sbin/nginx</p>\n<p>è®¾ç½®æ‰§è¡Œæƒé™ï¼š<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ chmod 755 /etc/rc.local</span><br></pre></td></tr></table></figure></p>\n","categories":[],"tags":["nginx"]},{"title":"å¾æœå‰ç«¯é¢è¯•","url":"http://yoursite.com/2017/05/31/å‰ç«¯é¢è¯•æ•´ç†/","content":"<blockquote>\n<p>å‰è¨€ï¼šä»¥ä¸‹æ˜¯æ•´ç†ä¸€äº›é¢è¯•ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ç»å…¸é¢è¯•é¢˜ä»¥åŠè‡ªå·±é¢è¯•è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æœªè§£å†³çš„é—®é¢˜ï¼Œé€šè¿‡å¯¹çŸ¥è¯†çš„æ•´ç†ä»¥åŠç»éªŒçš„æ€»ç»“ï¼Œé‡æ–°å·©å›ºè‡ªèº«çš„å‰ç«¯åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœ‰é”™è¯¯æˆ–æ›´å¥½çš„ç­”æ¡ˆï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œæ°´å¹³æœ‰é™ï¼Œæœ›å„ä½ä¸åæŒ‡æ•™ã€‚:ï¼‰</p>\n</blockquote>\n<h1 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h1><h2 id=\"åŸå‹\"><a href=\"#åŸå‹\" class=\"headerlink\" title=\"åŸå‹\"></a>åŸå‹</h2><blockquote>\n<p>æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯åŸå‹ã€‚</p>\n</blockquote>\n<p>å½“æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œé€‰æ‹©æ€§çš„å°†ä¸€äº›å±æ€§å’Œæ–¹æ³•é€šè¿‡prototypeå±æ€§ï¼ŒæŒ‚è½½åœ¨åŸå‹å¯¹è±¡ä¸Šã€‚è€Œæ¯ä¸€ä¸ªnewå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½æœ‰ä¸€ä¸ª<strong>proto</strong>å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§ï¼Œè®©å®ä¾‹å¯¹è±¡ä¹Ÿèƒ½å¤Ÿè®¿é—®åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå½“æ‰€æœ‰çš„å®ä¾‹éƒ½èƒ½å¤Ÿé€šè¿‡<strong>proto</strong>è®¿é—®åˆ°åŸå‹å¯¹è±¡æ—¶ï¼ŒåŸå‹å¯¹è±¡çš„æ–¹æ³•ä¸å±æ€§å°±å˜æˆäº†å…±æœ‰æ–¹æ³•ä¸å±æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å£°æ˜æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\">name, age</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// é€šè¿‡prototyeå±æ€§ï¼Œå°†æ–¹æ³•æŒ‚è½½åˆ°åŸå‹å¯¹è±¡ä¸Š</span></span><br><span class=\"line\">Person.prototype.getName = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'tim'</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'jak'</span>, <span class=\"number\">22</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(p1.getName === p2.getName); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/599584-2fc7dad23d112791.png\" alt=\"http://omt3u4bph.bkt.clouddn.com/599584-2fc7dad23d112791.png\"><br>é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ„é€ å‡½æ•°çš„prototypeä¸æ‰€æœ‰å®ä¾‹å¯¹è±¡çš„<strong>proto</strong>éƒ½æŒ‡å‘åŸå‹å¯¹è±¡ã€‚è€ŒåŸå‹å¯¹è±¡çš„constructoræŒ‡å‘æ„é€ å‡½æ•°ã€‚</p>\n<h2 id=\"åŸå‹é“¾\"><a href=\"#åŸå‹é“¾\" class=\"headerlink\" title=\"åŸå‹é“¾\"></a>åŸå‹é“¾</h2><blockquote>\n<p>æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå«åštoStringçš„æ–¹æ³•ã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆ°åº•æ˜¯åœ¨å“ªé‡Œçš„å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>å…ˆéšæ„å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/599584-da97dde356289ade.png\" alt=\"http://omt3u4bph.bkt.clouddn.com/599584-da97dde356289ade.png\"><br>å…¶ä¸­fooæ˜¯Functionå¯¹è±¡çš„å®ä¾‹ã€‚è€ŒFunctionçš„åŸå‹å¯¹è±¡åŒæ—¶åˆæ˜¯Objectçš„å®ä¾‹ã€‚è¿™æ ·å°±æ„æˆäº†ä¸€æ¡åŸå‹é“¾ã€‚åŸå‹é“¾çš„è®¿é—®ï¼Œå…¶å®è·Ÿä½œç”¨åŸŸé“¾æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ¬¡å•å‘çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚å› æ­¤å®ä¾‹å¯¹è±¡èƒ½å¤Ÿé€šè¿‡åŸå‹é“¾ï¼Œè®¿é—®åˆ°å¤„äºåŸå‹é“¾ä¸Šå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¸æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯fooæœ€ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°å¤„äºObjectåŸå‹å¯¹è±¡ä¸Šçš„toStringæ–¹æ³•çš„åŸå› ã€‚</p>\n<h2 id=\"ä½œç”¨åŸŸé“¾\"><a href=\"#ä½œç”¨åŸŸé“¾\" class=\"headerlink\" title=\"ä½œç”¨åŸŸé“¾\"></a>ä½œç”¨åŸŸé“¾</h2><p>ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯æ‰§è¡Œç¯å¢ƒé‡Œæœ‰æƒè®¿é—®çš„å˜é‡å’Œå‡½æ•°æ˜¯æœ‰åºçš„ï¼Œä½œç”¨åŸŸé“¾çš„å˜é‡åªèƒ½å‘ä¸Šè®¿é—®ï¼Œå˜é‡è®¿é—®åˆ°windowå¯¹è±¡å³è¢«ç»ˆæ­¢ï¼Œä½œç”¨åŸŸé“¾å‘ä¸‹è®¿é—®å˜é‡æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p>\n<h2 id=\"é—­åŒ…\"><a href=\"#é—­åŒ…\" class=\"headerlink\" title=\"é—­åŒ…\"></a>é—­åŒ…</h2><blockquote>\n<ul>\n<li>ç¬¬ä¸€ç§ç†è§£ï¼ˆçº¢å®ä¹¦ï¼‰ï¼šæ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡å¦ä¸€ä¸ªå‡½æ•°è®¿é—®è¿™ä¸ªå‡½æ•°çš„å±€éƒ¨å˜é‡</li>\n<li>ç¬¬äºŒç§ç†è§£ï¼ˆä½ ä¸çŸ¥é“çš„javascriptï¼‰ï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œè¿™ä¸ªå‡½æ•°æŒæœ‰å¯¹è¯¥è¯æ³•ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨å°±å«åšé—­åŒ…</li>\n<li>é—­åŒ…æœ¬è´¨è¿˜æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡è¿™ä¸ªå‡½æ•°ç»‘å®šäº†ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå‡½æ•°å†…éƒ¨å¼•ç”¨çš„æ‰€æœ‰å˜é‡ï¼‰</li>\n</ul>\n</blockquote>\n<p><strong>ç¼ºç‚¹ï¼š</strong>å¸¸é©»å†…å­˜ï¼Œä¼šå¢å¤§å†…å­˜ä½¿ç”¨é‡ï¼Œä½¿ç”¨ä¸å½“å¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„éœ²ã€‚<br><strong>ä½œç”¨(ä½¿ç”¨åœºæ™¯)ï¼š</strong>å¯ä»¥ç”¨æ¥ç®¡ç†ç§æœ‰å˜é‡å’Œç§æœ‰æ–¹æ³•ï¼Œå°†å¯¹å˜é‡ï¼ˆçŠ¶æ€ï¼‰çš„å˜åŒ–å°è£…åœ¨å®‰å…¨çš„ç¯å¢ƒä¸­ï¼Œä½¿å¾—è¿™äº›å˜é‡ä¸èƒ½è¢«å¤–éƒ¨éšæ„ä¿®æ”¹ï¼ŒåŒæ—¶åˆå¯ä»¥é€šè¿‡æŒ‡å®šçš„å‡½æ•°æ¥å£æ¥æ“ä½œã€‚<br><strong>é—­åŒ…æœ‰ä¸‰ä¸ªç‰¹æ€§ï¼š</strong><br>1.å‡½æ•°åµŒå¥—å‡½æ•°<br>2.å‡½æ•°å†…éƒ¨å¯ä»¥å¼•ç”¨å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡<br>3.å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p>\n<p>é¢˜å¤–è¯ï¼š</p>\n<blockquote>\n<ul>\n<li>JavaScriptçš„ä½œç”¨åŸŸå°±æ˜¯è¯æ³•ä½œç”¨åŸŸè€Œä¸æ˜¯åŠ¨æ€ä½œç”¨åŸŸ,</li>\n<li>è¯æ³•ä½œç”¨åŸŸæœ€é‡è¦çš„ç‰¹å¾æ˜¯å®ƒçš„å®šä¹‰è¿‡ç¨‹å‘ç”Ÿåœ¨ä»£ç çš„ä¹¦å†™é˜¶æ®µ</li>\n<li>åŠ¨æ€ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºè°ƒç”¨æ ˆçš„ è¯æ³•ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾æ˜¯åŸºäºä»£ç ä¸­çš„ä½œç”¨åŸŸåµŒå¥—</li>\n</ul>\n</blockquote>\n<h2 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h2><blockquote>\n<p>JavaScriptçš„thisæ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚</p>\n</blockquote>\n<p><strong>thisçš„æŒ‡å‘ï¼š</strong></p>\n<p>1ã€ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼ˆthisæŒ‡å‘å…¨å±€å¯¹è±¡windowå¯¹è±¡ï¼‰<br>2ã€ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼ˆthisæŒ‡å‘è¯¥å¯¹è±¡ï¼‰<br>3ã€æ„é€ å™¨è°ƒç”¨ï¼ˆthisæŒ‡å‘ç”¨newè¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼‰<br>4ã€callã€applyã€bindçš„è°ƒç”¨ï¼ˆthisæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼‰</p>\n<h2 id=\"é«˜é˜¶å‡½æ•°\"><a href=\"#é«˜é˜¶å‡½æ•°\" class=\"headerlink\" title=\"é«˜é˜¶å‡½æ•°\"></a>é«˜é˜¶å‡½æ•°</h2><p>1ã€å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’<br>2ã€å‡½æ•°ä½œä¸ºè¿”å›å€¼è¾“å‡º</p>\n<h2 id=\"newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢\"><a href=\"#newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢\" class=\"headerlink\" title=\"newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢?\"></a>newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢?</h2><p>1ã€åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡<br>2ã€å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰<br>3ã€æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰<br>4ã€è¿”å›æ–°å¯¹è±¡</p>\n<h2 id=\"ç»§æ‰¿\"><a href=\"#ç»§æ‰¿\" class=\"headerlink\" title=\"ç»§æ‰¿\"></a>ç»§æ‰¿</h2><p>1ã€ç®€å•åŸå‹é“¾ç»§æ‰¿<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Super</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = <span class=\"string\">'hzzly'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Sub</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Sub.prototype = <span class=\"keyword\">new</span> Super();    <span class=\"comment\">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p>\n<p>ç¼ºç‚¹ï¼š<br>ä¿®æ”¹sub1.nameåsub2.nameä¹Ÿå˜äº†ï¼Œå› ä¸ºæ¥è‡ªåŸå‹å¯¹è±¡çš„å¼•ç”¨å±æ€§æ˜¯æ‰€æœ‰å®ä¾‹å…±äº«çš„ã€‚</p>\n<p>2ã€æ„é€ å‡½æ•°å¼ç»§æ‰¿<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Super</span>(<span class=\"params\">val</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.val = val;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.fun = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;  <span class=\"comment\">// å®ä¾‹å‡½æ•°</span></span><br><span class=\"line\">\t\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Sub</span>(<span class=\"params\">val</span>)</span>&#123;</span><br><span class=\"line\">\tSuper.call(<span class=\"keyword\">this</span>, val);   <span class=\"comment\">// æ ¸å¿ƒ</span></span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç¼ºç‚¹ï¼š<br>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»å®ä¾‹éƒ½æŒæœ‰ä¸€ä¸ªæ–°çš„funå‡½æ•°ï¼Œå¤ªå¤šäº†å°±ä¼šå½±å“æ€§èƒ½ï¼Œå†…å­˜çˆ†ç‚¸ã€‚ã€‚</p>\n<p>3ã€ç»„åˆå¼ç»§æ‰¿<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Super</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = <span class=\"string\">'hzzly'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// åŸå‹å‡½æ•°</span></span><br><span class=\"line\">Super.prototype.fun1 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\">Super.prototype.fun2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">//Super.prototype.fun3...</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Sub</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\tSuper.call(<span class=\"keyword\">this</span>);   <span class=\"comment\">// æ ¸å¿ƒ</span></span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Sub.prototype = <span class=\"keyword\">new</span> Super();    <span class=\"comment\">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p>\n<p>ç¼ºç‚¹ï¼š<br>å­ç±»åŸå‹ä¸Šæœ‰ä¸€ä»½å¤šä½™çš„çˆ¶ç±»å®ä¾‹å±æ€§ï¼Œå› ä¸ºçˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œç”Ÿæˆäº†ä¸¤ä»½ï¼Œè€Œå­ç±»å®ä¾‹ä¸Šçš„é‚£ä¸€ä»½å±è”½äº†å­ç±»åŸå‹ä¸Šçˆ¶ç±»çš„ã€‚ã€‚ã€‚åˆæ˜¯å†…å­˜æµªè´¹ã€‚</p>\n<p>4ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Super</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.name = <span class=\"string\">'hzzly'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Super.prototype.fun1 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\">Super.prototype.fun2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">//Super.prototype.fun3...</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Sub</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\tSuper.call(<span class=\"keyword\">this</span>);   <span class=\"comment\">// æ ¸å¿ƒ</span></span><br><span class=\"line\">\t<span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Sub.prototype=<span class=\"built_in\">Object</span>.create(Super.prototype)   <span class=\"comment\">// æ ¸å¿ƒ</span></span><br><span class=\"line\">Sub.prototype.constructor=Sub   <span class=\"comment\">// æ ¸å¿ƒ</span></span><br></pre></td></tr></table></figure></p>\n<p>5ã€es6çš„classç»§æ‰¿æ–¹å¼<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">B.__proto__ === A   <span class=\"comment\">// true</span></span><br><span class=\"line\">B.prototype.__proto__ === A.prototype   <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure></p>\n<p>es6å¼•å…¥äº†classã€extendsã€superã€static(éƒ¨åˆ†ä¸ºES2016æ ‡å‡†)</p>\n<h2 id=\"nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ\"><a href=\"#nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ\"></a>nullå’Œundefinedçš„åŒºåˆ«ï¼Ÿ</h2><p>1ã€nullæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„å¯¹è±¡ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º0ï¼›undefinedæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„åŸå§‹å€¼ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸ºNaNã€‚<br>2ã€undefinedè¡¨ç¤ºâ€ç¼ºå°‘å€¼â€ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰ã€‚<br>3ã€nullè¡¨ç¤ºâ€æ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚</p>\n<h2 id=\"callã€applyã€bindçš„åŒºåˆ«\"><a href=\"#callã€applyã€bindçš„åŒºåˆ«\" class=\"headerlink\" title=\"callã€applyã€bindçš„åŒºåˆ«\"></a>callã€applyã€bindçš„åŒºåˆ«</h2><ul>\n<li>ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ã€‚</li>\n<li>ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ã€‚</li>\n<li>call ä¼ å…¥çš„å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°è¦ä¸€ä¸ªä¸€ä¸ªä¼ ï¼Œç”¨<code>ï¼Œ</code>éš”å¼€ã€‚</li>\n<li>apply æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œå¯ä»¥ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä¸ºç±»æ•°ç»„ã€‚</li>\n<li>bind æ˜¯è¿”å›ä¸€ä¸ªæ”¹å˜äº†ä¸Šä¸‹æ–‡çš„å‡½æ•°å‰¯æœ¬ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼›apply ã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚</li>\n</ul>\n<h2 id=\"æœ¬åœ°å­˜å‚¨\"><a href=\"#æœ¬åœ°å­˜å‚¨\" class=\"headerlink\" title=\"æœ¬åœ°å­˜å‚¨\"></a>æœ¬åœ°å­˜å‚¨</h2><blockquote>\n<ul>\n<li>sessionStorageç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ªä¼šè¯ï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­çš„é¡µé¢æ‰èƒ½è®¿é—®å¹¶ä¸”å½“ä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯ã€‚å› æ­¤sessionStorageä¸æ˜¯ä¸€ç§æŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œä»…ä»…æ˜¯ä¼šè¯çº§åˆ«çš„å­˜å‚¨ã€‚</li>\n<li>localStorageç”¨äºæŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</li>\n</ul>\n</blockquote>\n<p>å…·ä½“å‚è§ï¼š<a href=\"http://hjingren.cn/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/\" target=\"_blank\" rel=\"noopener\">æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage</a></p>\n<h2 id=\"cookie-å’Œsession\"><a href=\"#cookie-å’Œsession\" class=\"headerlink\" title=\"cookie å’Œsession\"></a>cookie å’Œsession</h2><p>1ã€cookieæ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œsessionæ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚<br>2ã€cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„COOKIEå¹¶è¿›è¡ŒCOOKIEæ¬ºéª—ï¼Œè€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨sessionã€‚<br>3ã€sessionä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œè€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨COOKIEã€‚<br>4ã€å•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜20ä¸ªcookieã€‚æ¯æ¬¡è¯·æ±‚ä¸€ä¸ªæ–°çš„é¡µé¢çš„æ—¶å€™Cookieéƒ½ä¼šè¢«å‘é€è¿‡å»ï¼Œä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚</p>\n<h2 id=\"XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ\"><a href=\"#XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ\"></a>XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ</h2><p>1ã€æ•°æ®ä½“ç§¯æ–¹é¢ã€‚<br>JSONç›¸å¯¹äºXMLæ¥è®²ï¼Œæ•°æ®çš„ä½“ç§¯å°ï¼Œä¼ é€’çš„é€Ÿåº¦æ›´å¿«äº›ã€‚<br>2ã€æ•°æ®äº¤äº’æ–¹é¢ã€‚<br>JSONä¸JavaScriptçš„äº¤äº’æ›´åŠ æ–¹ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†ï¼Œæ›´å¥½çš„æ•°æ®äº¤äº’ã€‚<br>3ã€æ•°æ®æè¿°æ–¹é¢ã€‚<br>JSONå¯¹æ•°æ®çš„æè¿°æ€§æ¯”XMLè¾ƒå·®ã€‚<br>4ã€ä¼ è¾“é€Ÿåº¦æ–¹é¢ã€‚<br>JSONçš„é€Ÿåº¦è¦è¿œè¿œå¿«äºXMLã€‚</p>\n<h2 id=\"å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡\"><a href=\"#å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡\" class=\"headerlink\" title=\"å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡?\"></a>å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡?</h2><p>è°ƒç”¨localstorgeã€cookiesç­‰æœ¬åœ°å­˜å‚¨æ–¹å¼</p>\n<h2 id=\"çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«\"><a href=\"#çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«\" class=\"headerlink\" title=\"çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«\"></a>çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«</h2><p>1ã€ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹.<br>2ã€çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚<br>3ã€è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚<br>4ã€çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¿›ç¨‹è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºçš„å‡ºå£ã€‚ä½†æ˜¯çº¿ç¨‹ä¸èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ§åˆ¶ã€‚<br>5ã€ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰åœ¨äºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰å¤šä¸ªæ‰§è¡Œéƒ¨åˆ†å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä½†æ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰å°†å¤šä¸ªçº¿ç¨‹çœ‹åšå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ä»¥åŠèµ„æºåˆ†é…ã€‚è¿™å°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹çš„é‡è¦åŒºåˆ«ã€‚</p>\n<h2 id=\"æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§\"><a href=\"#æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§\" class=\"headerlink\" title=\"æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§\"></a>æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§</h2><ul>\n<li><p>æ¸è¿›å¢å¼º ï¼šé’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›å’Œè¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>\n</li>\n<li><p>ä¼˜é›…é™çº§ ï¼šä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ã€‚</p>\n</li>\n</ul>\n<h2 id=\"æ€§èƒ½ä¼˜åŒ–\"><a href=\"#æ€§èƒ½ä¼˜åŒ–\" class=\"headerlink\" title=\"æ€§èƒ½ä¼˜åŒ–\"></a>æ€§èƒ½ä¼˜åŒ–</h2><ul>\n<li>ç½‘é¡µå†…å®¹<ul>\n<li>å‡å°‘ httpè¯·æ±‚æ¬¡æ•°</li>\n<li>å‡å°‘ DNSæŸ¥è¯¢æ¬¡æ•°</li>\n<li>é¿å…é¡µé¢è·³è½¬</li>\n<li>ç¼“å­˜ Ajax</li>\n<li>å»¶è¿ŸåŠ è½½</li>\n<li>æå‰åŠ è½½</li>\n<li>å‡å°‘ DOMå…ƒç´ æ•°é‡</li>\n<li>é¿å… 404</li>\n</ul>\n</li>\n<li>æœåŠ¡å™¨<ul>\n<li>ä½¿ç”¨CDN(å†…å®¹åˆ†å‘ç½‘ç»œ)</li>\n<li>æ·»åŠ Expiresæˆ–Cache-ControlæŠ¥æ–‡å¤´</li>\n<li>Gzipå‹ç¼©ä¼ è¾“æ–‡ä»¶</li>\n</ul>\n</li>\n<li>CSS<ul>\n<li>å°†æ ·å¼è¡¨ç½®é¡¶</li>\n<li>ç”¨<link>ä»£æ›¿@import</li>\n</ul>\n</li>\n<li>JavaScript<ul>\n<li>æŠŠè„šæœ¬ç½®äºé¡µé¢åº•éƒ¨</li>\n<li>ä½¿ç”¨å¤–éƒ¨JavaScriptå’ŒCSS</li>\n<li>ç²¾ç®€JavaScriptå’ŒCSS</li>\n<li>å»é™¤é‡å¤è„šæœ¬</li>\n<li>å‡å°‘DOMè®¿é—®</li>\n</ul>\n</li>\n<li>å›¾ç‰‡<ul>\n<li>ä¼˜åŒ–å›¾åƒ</li>\n<li>ä¼˜åŒ–CSS Spirite</li>\n<li>ä¸è¦åœ¨HTMLä¸­ç¼©æ”¾å›¾ç‰‡</li>\n<li>favicon.icoè¦å°è€Œä¸”å¯ç¼“å­˜</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜\"><a href=\"#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜\" class=\"headerlink\" title=\"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?\"></a>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?</h2><p>jsonpã€CORSã€document.domain+iframeã€window.nameã€window.postMessage</p>\n<p>jsonpçš„åŸç†æ˜¯åŠ¨æ€æ’å…¥scriptæ ‡ç­¾</p>\n<h2 id=\"è¯·è§£é‡Šä¸€ä¸‹-JavaScript-çš„åŒæºç­–ç•¥ã€‚\"><a href=\"#è¯·è§£é‡Šä¸€ä¸‹-JavaScript-çš„åŒæºç­–ç•¥ã€‚\" class=\"headerlink\" title=\"è¯·è§£é‡Šä¸€ä¸‹ JavaScript çš„åŒæºç­–ç•¥ã€‚\"></a>è¯·è§£é‡Šä¸€ä¸‹ JavaScript çš„åŒæºç­–ç•¥ã€‚</h2><p>è¿™é‡Œçš„åŒæºç­–ç•¥æŒ‡çš„æ˜¯ï¼šåè®®ï¼ŒåŸŸåï¼Œç«¯å£ç›¸åŒï¼ŒåŒæºç­–ç•¥æ˜¯ä¸€ç§å®‰å…¨åè®®ã€‚</p>\n<p>æŒ‡ä¸€æ®µè„šæœ¬åªèƒ½è¯»å–æ¥è‡ªåŒä¸€æ¥æºçš„çª—å£å’Œæ–‡æ¡£çš„å±æ€§ã€‚</p>\n<h2 id=\"å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ\"><a href=\"#å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ\" class=\"headerlink\" title=\"å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ\"></a>å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ</h2><p>1ã€å†…å­˜æ³„æ¼æŒ‡ä»»ä½•å¯¹è±¡åœ¨æ‚¨ä¸å†æ‹¥æœ‰æˆ–éœ€è¦å®ƒä¹‹åä»ç„¶å­˜åœ¨ã€‚<br>2ã€åƒåœ¾å›æ”¶å™¨å®šæœŸæ‰«æå¯¹è±¡ï¼Œå¹¶è®¡ç®—å¼•ç”¨äº†æ¯ä¸ªå¯¹è±¡çš„å…¶ä»–å¯¹è±¡çš„æ•°é‡ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ•°é‡ä¸º 0ï¼ˆæ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨è¿‡è¯¥å¯¹è±¡ï¼‰ï¼Œæˆ–å¯¹è¯¥å¯¹è±¡çš„æƒŸä¸€å¼•ç”¨æ˜¯å¾ªç¯çš„ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„å†…å­˜å³å¯å›æ”¶ã€‚<br>3ã€setTimeout çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½¿ç”¨å­—ç¬¦ä¸²è€Œéå‡½æ•°çš„è¯ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚<br>é—­åŒ…ã€æ§åˆ¶å°æ—¥å¿—ã€å¾ªç¯ï¼ˆåœ¨ä¸¤ä¸ªå¯¹è±¡å½¼æ­¤å¼•ç”¨ä¸”å½¼æ­¤ä¿ç•™æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå¾ªç¯ï¼‰</p>\n<h2 id=\"Javascriptåƒåœ¾å›æ”¶æ–¹æ³•\"><a href=\"#Javascriptåƒåœ¾å›æ”¶æ–¹æ³•\" class=\"headerlink\" title=\"Javascriptåƒåœ¾å›æ”¶æ–¹æ³•\"></a>Javascriptåƒåœ¾å›æ”¶æ–¹æ³•</h2><p>1ã€æ ‡è®°æ¸…é™¤ï¼šè¿™æ˜¯JavaScriptæœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒçš„æ—¶å€™ï¼Œæ¯”å¦‚å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œåƒåœ¾å›æ”¶å™¨å°†å…¶æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒçš„æ—¶å€™ï¼ˆå‡½æ•°æ‰§è¡Œç»“æŸï¼‰å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚</p>\n<p>2ã€å¼•ç”¨è®¡æ•°ï¼šå¼•ç”¨è®¡æ•°çš„ç­–ç•¥æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«ä½¿ç”¨çš„æ¬¡æ•°ï¼Œå½“å£°æ˜äº†ä¸€ä¸ª å˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼ç»™è¯¥å˜é‡çš„æ—¶å€™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±åŠ 1ï¼Œå¦‚æœè¯¥å˜é‡çš„å€¼å˜æˆäº†å¦å¤–ä¸€ä¸ªï¼Œåˆ™è¿™ä¸ªå€¼å¾—å¼•ç”¨æ¬¡æ•°å‡1ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å˜ä¸º0çš„æ—¶ å€™ï¼Œè¯´æ˜æ²¡æœ‰å˜é‡åœ¨ä½¿ç”¨ï¼Œè¿™ä¸ªå€¼æ²¡æ³•è¢«è®¿é—®äº†ï¼Œå› æ­¤å¯ä»¥å°†å…¶å ç”¨çš„ç©ºé—´å›æ”¶ï¼Œè¿™æ ·åƒåœ¾å›æ”¶å™¨ä¼šåœ¨è¿è¡Œçš„æ—¶å€™æ¸…ç†æ‰å¼•ç”¨æ¬¡æ•°ä¸º0çš„å€¼å ç”¨çš„ç©ºé—´ã€‚</p>\n<h2 id=\"äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ\"><a href=\"#äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ\" class=\"headerlink\" title=\"äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ\"></a>äº‹ä»¶ã€IEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ</h2><p>äº‹ä»¶å¤„ç†æœºåˆ¶ï¼šIEæ˜¯äº‹ä»¶å†’æ³¡ã€firefoxåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ã€‚</p>\n<p>é˜»æ­¢å†’æ³¡ï¼šev.stopPropagation()</p>\n<h2 id=\"è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶\"><a href=\"#è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶\" class=\"headerlink\" title=\"è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶\"></a>è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶</h2><ul>\n<li>å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨</li>\n<li>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li>\n<li>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡</li>\n<li>ä¸èƒ½ä½¿ç”¨withè¯­å¥</li>\n<li>å¢åŠ äº†ä¿ç•™å­—</li>\n<li>argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–</li>\n</ul>\n<p><strong>è®¾ç«‹â€ä¸¥æ ¼æ¨¡å¼â€çš„ç›®çš„ï¼š</strong></p>\n<p>æ¶ˆé™¤Javascriptè¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸º;</p>\n<p>æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨ï¼›</p>\n<p>æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œå¢åŠ è¿è¡Œé€Ÿåº¦ï¼›</p>\n<p>ä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„Javascriptåšå¥½é“ºå«ã€‚</p>\n<h2 id=\"è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†\"><a href=\"#è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†\" class=\"headerlink\" title=\"è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†\"></a>è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†</h2><p>äº‹ä»¶ä»£ç†ï¼ˆEvent Delegationï¼‰ï¼Œåˆç§°ä¹‹ä¸ºäº‹ä»¶å§”æ‰˜ã€‚å³æ˜¯æŠŠåŸæœ¬éœ€è¦ç»‘å®šçš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶å…ƒç´ ï¼Œè®©çˆ¶å…ƒç´ æ‹…å½“äº‹ä»¶ç›‘å¬çš„èŒåŠ¡ã€‚äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯DOMå…ƒç´ çš„äº‹ä»¶å†’æ³¡ã€‚ä½¿ç”¨äº‹ä»¶ä»£ç†çš„å¥½å¤„æ˜¯å¯ä»¥æé«˜æ€§èƒ½ã€‚</p>\n<h2 id=\"Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\"><a href=\"#Event-Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\" class=\"headerlink\" title=\"Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢\"></a>Event Loopã€æ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶è½®è¯¢</h2><p>å¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼ˆå›è°ƒå‡½æ•°ï¼‰(éµå¾ªå…ˆè¿›å…ˆå‡ºåŸåˆ™)ï¼Œä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åï¼ˆå³ä¸€æ¬¡å¾ªç¯ç»“æŸï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å¼€å§‹å°±åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­â€œè¯»å–â€äº‹ä»¶ï¼Œç„¶åè°ƒç”¨å®ƒæ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰</p>\n<p>ä¸»çº¿ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œäº§ç”Ÿå †ï¼ˆheapï¼‰å’Œæ ˆï¼ˆstackï¼‰ï¼Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰è°ƒç”¨å„ç§å¤–éƒ¨APIï¼Œå®ƒä»¬åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­åŠ å…¥å„ç§äº‹ä»¶ï¼ˆclickï¼Œloadï¼Œdoneï¼‰ã€‚åªè¦æ ˆä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹å°±ä¼šå»è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œä¾æ¬¡æ‰§è¡Œé‚£äº›äº‹ä»¶æ‰€å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚</p>\n<p>æ‰§è¡Œæ ˆä¸­çš„ä»£ç ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰ï¼Œæ€»æ˜¯åœ¨è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ä¹‹å‰æ‰§è¡Œã€‚</p>\n<h2 id=\"ç¼“å­˜\"><a href=\"#ç¼“å­˜\" class=\"headerlink\" title=\"ç¼“å­˜\"></a>ç¼“å­˜</h2><blockquote>\n<p>æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cachingï¼‰æ˜¯æµè§ˆå™¨ç«¯ä¿å­˜æ•°æ®ç”¨äºå¿«é€Ÿè¯»å–æˆ–é¿å…é‡å¤èµ„æºè¯·æ±‚çš„ä¼˜åŒ–æœºåˆ¶ï¼Œæœ‰æ•ˆçš„ç¼“å­˜ä½¿ç”¨å¯ä»¥é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚å’Œæµè§ˆå™¨å¿«é€Ÿåœ°è¯»å–æœ¬åœ°æ•°æ®ï¼Œ</p>\n</blockquote>\n<ul>\n<li><p>httpç¼“å­˜</p>\n<blockquote>\n<p>httpç¼“å­˜æ˜¯åŸºäºHTTPåè®®çš„æµè§ˆå™¨æ–‡ä»¶çº§ç¼“å­˜æœºåˆ¶ã€‚å³é’ˆå¯¹æ–‡ä»¶çš„é‡å¤è¯·æ±‚æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®åè®®å¤´åˆ¤æ–­ä»æœåŠ¡å™¨ç«¯è¯·æ±‚æ–‡ä»¶è¿˜æ˜¯ä»æœ¬åœ°è¯»å–æ–‡ä»¶<br>åˆ¤æ–­expiresï¼Œå¦‚æœæœªè¿‡æœŸï¼Œç›´æ¥è¯»å–httpç¼“å­˜æ–‡ä»¶</p>\n</blockquote>\n</li>\n<li><p>indexDB</p>\n<blockquote>\n<p>æ˜¯ä¸€ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¯è§‚æ•°é‡çš„ç»“æ„åŒ–æ•°æ®,å¹¶ä¸”ä¸ºè¿™äº›æ•°æ®æ·»åŠ ç´¢å¼•è¿›è¡Œé«˜æ€§èƒ½æ£€ç´¢ã€‚</p>\n</blockquote>\n</li>\n<li><p>cookie</p>\n<blockquote>\n<p>æŒ‡ä¸€èˆ¬ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€å‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰ã€‚cookieä¸€èˆ¬é€šè¿‡httpè¯·æ±‚ä¸­åœ¨å¤´éƒ¨ä¸€èµ·å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚ä¸€æ¡cookieè®°å½•ä¸»è¦ç”±é”®ã€å€¼ã€åŸŸã€è¿‡æœŸæ—¶é—´ã€å¤§å°ç»„æˆï¼Œä¸€èˆ¬ç”¨æˆ·ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</p>\n</blockquote>\n</li>\n<li><p>localstorage</p>\n<blockquote>\n<p>localStorageæ˜¯h5çš„ä¸€ç§æ–°çš„æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ,åŠ å¿«ä¸‹æ¬¡é¡µé¢æ‰“å¼€æ—¶çš„æ¸²æŸ“é€Ÿåº¦,é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</p>\n</blockquote>\n</li>\n<li><p>sessionstorage</p>\n<blockquote>\n<p>ä¹Ÿæ˜¯h5çš„ä¸€ç§æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆï¼Œæ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚</p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h1><h2 id=\"ES6çš„äº†è§£\"><a href=\"#ES6çš„äº†è§£\" class=\"headerlink\" title=\"ES6çš„äº†è§£\"></a>ES6çš„äº†è§£</h2><p>es6æ˜¯ä¸€ä¸ªæ–°çš„æ ‡å‡†ï¼Œå®ƒåŒ…å«äº†è®¸å¤šæ–°çš„è¯­è¨€ç‰¹æ€§å’Œåº“ï¼Œæ˜¯JSæœ€å®è´¨æ€§çš„ä¸€æ¬¡å‡çº§ã€‚æ¯”å¦‚â€™ç®­å¤´å‡½æ•°â€™ã€â€™å­—ç¬¦ä¸²æ¨¡æ¿â€™ã€â€™generators(ç”Ÿæˆå™¨)â€™ã€â€™async/awaitâ€™ã€â€™è§£æ„èµ‹å€¼â€™ã€â€™classâ€™ç­‰ç­‰ï¼Œè¿˜æœ‰å°±æ˜¯å¼•å…¥moduleæ¨¡å—çš„æ¦‚å¿µã€‚</p>\n<p><code>ç®­å¤´å‡½æ•°</code>å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°<br>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚<br>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚<br>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚<br>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚</p>\n<p><code>async/await</code>æ˜¯å†™å¼‚æ­¥ä»£ç çš„æ–°æ–¹å¼ï¼Œä»¥å‰çš„æ–¹æ³•æœ‰å›è°ƒå‡½æ•°å’ŒPromiseã€‚<br>async/awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚<br>async/awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚<br>async/awaitä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œè¿™æ­£æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚</p>\n<h2 id=\"è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\"><a href=\"#è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\" class=\"headerlink\" title=\"è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\"></a>è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£</h2><blockquote>\n<p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶ç›‘å¬â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚</p>\n</blockquote>\n<p>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>\n<p>Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:</p>\n<blockquote>\n<ul>\n<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰</li>\n<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚</li>\n</ul>\n</blockquote>\n<h2 id=\"è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£\"><a href=\"#è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£\" class=\"headerlink\" title=\"è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£\"></a>è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£</h2><p>CommonJSæ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—çš„è§„èŒƒï¼ŒNode.jsé‡‡ç”¨äº†è¿™ä¸ªè§„èŒƒã€‚CommonJSè§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚AMDè§„èŒƒåˆ™æ˜¯éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚</p>\n<p>AMDæ¨èçš„é£æ ¼é€šè¿‡è¿”å›ä¸€ä¸ªå¯¹è±¡åšä¸ºæ¨¡å—å¯¹è±¡ï¼ŒCommonJSçš„é£æ ¼é€šè¿‡å¯¹module.exportsæˆ–exportsçš„å±æ€§èµ‹å€¼æ¥è¾¾åˆ°æš´éœ²æ¨¡å—å¯¹è±¡çš„ç›®çš„ã€‚</p>\n<h2 id=\"Gulpã€Webpackæ¯”è¾ƒ\"><a href=\"#Gulpã€Webpackæ¯”è¾ƒ\" class=\"headerlink\" title=\"Gulpã€Webpackæ¯”è¾ƒ\"></a>Gulpã€Webpackæ¯”è¾ƒ</h2><ul>\n<li>Gulp</li>\n</ul>\n<p>1ã€Gulpå°±æ˜¯ä¸ºäº†è§„èŒƒå‰ç«¯å¼€å‘æµç¨‹ï¼Œå®ç°å‰åç«¯åˆ†ç¦»ã€æ¨¡å—åŒ–å¼€å‘ã€ç‰ˆæœ¬æ§åˆ¶ã€æ–‡ä»¶åˆå¹¶ä¸å‹ç¼©ã€mockæ•°æ®ç­‰åŠŸèƒ½çš„ä¸€ä¸ªå‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚<br>2ã€Gulpå°±åƒæ˜¯ä¸€ä¸ªäº§å“çš„æµæ°´çº¿ï¼Œæ•´ä¸ªäº§å“ä»æ— åˆ°æœ‰ï¼Œéƒ½è¦å—æµæ°´çº¿çš„æ§åˆ¶ï¼Œåœ¨æµæ°´çº¿ä¸Šæˆ‘ä»¬å¯ä»¥å¯¹äº§å“è¿›è¡Œç®¡ç†ã€‚<br>3ã€Gulpæ˜¯é€šè¿‡taskå¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹è¿›è¡Œæ„å»ºã€‚</p>\n<ul>\n<li>Webpack</li>\n</ul>\n<p>1ã€å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·<br>2ã€å¯ä»¥å¾ˆå¥½çš„ç®¡ç†æ¨¡å—ä»¥åŠå„ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–<br>3ã€å¯¹jsã€cssã€å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶éƒ½æ”¯æŒæ‰“åŒ…<br>4ã€æœ‰ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶webpack.config.js<br>5ã€å¯ä»¥å°†ä»£ç åˆ‡å‰²æˆä¸åŒçš„chunkï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œé™ä½äº†åˆå§‹åŒ–æ—¶é—´<br>6ã€å¯ä»¥ç”Ÿæˆä¼˜åŒ–ä¸”åˆå¹¶åçš„é™æ€èµ„æº</p>\n<p>ä¸¤å¤§ç‰¹è‰²ï¼š1ã€ä»£ç å¯ä»¥è‡ªåŠ¨å®Œæˆç¼–è¯‘ã€‚2ã€loader å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„é™æ€æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒä¸²è”æ“ä½œ</p>\n<h1 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h1><h2 id=\"display-noneå’Œvisibility-hiddençš„åŒºåˆ«ï¼Ÿ\"><a href=\"#display-noneå’Œvisibility-hiddençš„åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"display:noneå’Œvisibility:hiddençš„åŒºåˆ«ï¼Ÿ\"></a>display:noneå’Œvisibility:hiddençš„åŒºåˆ«ï¼Ÿ</h2><p>display:none  éšè—å¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†ç»™å®ƒåˆ†é…ç©ºé—´ï¼Œå®ƒå„è¾¹çš„å…ƒç´ ä¼šåˆæ‹¢ï¼Œå°±å½“ä»–ä»æ¥ä¸å­˜åœ¨ã€‚</p>\n<p>visibility:hidden  éšè—å¯¹åº”çš„å…ƒç´ ï¼Œä½†æ˜¯åœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ã€‚</p>\n<h2 id=\"position-absoluteå’Œfloatå±æ€§çš„å¼‚åŒ\"><a href=\"#position-absoluteå’Œfloatå±æ€§çš„å¼‚åŒ\" class=\"headerlink\" title=\"position:absoluteå’Œfloatå±æ€§çš„å¼‚åŒ\"></a>position:absoluteå’Œfloatå±æ€§çš„å¼‚åŒ</h2><p>Aï¼šå…±åŒç‚¹ï¼š<br>å¯¹å†…è”å…ƒç´ è®¾ç½®<code>float</code>å’Œ<code>absolute</code>å±æ€§ï¼Œå¯ä»¥è®©å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®å…¶å®½é«˜ã€‚</p>\n<p>Bï¼šä¸åŒç‚¹ï¼š<br>floatä»ä¼šå æ®ä½ç½®ï¼Œpositionä¼šè¦†ç›–æ–‡æ¡£æµä¸­çš„å…¶ä»–å…ƒç´ ã€‚</p>\n<h2 id=\"box-sizingå±æ€§\"><a href=\"#box-sizingå±æ€§\" class=\"headerlink\" title=\"box-sizingå±æ€§\"></a>box-sizingå±æ€§</h2><ul>\n<li><p>content-boxï¼šè®©å…ƒç´ ç»´æŒW3Cçš„æ ‡å‡†ç›’æ¨¡å‹ã€‚å…ƒç´ çš„å®½åº¦/é«˜åº¦ç”±border + padding + contentçš„å®½åº¦/é«˜åº¦å†³å®šï¼Œè®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„å®½/é«˜ï¼Œä¸€æ—¦ä¿®æ”¹äº†å…ƒç´ çš„è¾¹æ¡†æˆ–å†…è·ï¼Œå°±ä¼šå½±å“å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œå°±ä¸å¾—ä¸é‡æ–°è®¡ç®—å…ƒç´ çš„ç›’å­å°ºå¯¸ï¼Œä»è€Œå½±å“æ•´ä¸ªé¡µé¢çš„å¸ƒå±€ã€‚</p>\n</li>\n<li><p>border-boxï¼šè®©å…ƒç´ ç»´æŒIEä¼ ç»Ÿç›’æ¨¡å‹ï¼ˆIE6ä»¥ä¸‹ç‰ˆæœ¬å’ŒIE6~7çš„æ€ªå¼‚æ¨¡å¼ï¼‰ã€‚è®¾ç½®width/heightå±æ€§æŒ‡çš„æ˜¯border + padding + content</p>\n</li>\n</ul>\n<h2 id=\"positionçš„å€¼\"><a href=\"#positionçš„å€¼\" class=\"headerlink\" title=\"positionçš„å€¼\"></a>positionçš„å€¼</h2><ul>\n<li>static  é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­</li>\n<li>relative ç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶åœ¨æ™®é€šæµä¸­çš„ä½ç½®è¿›è¡Œå®šä½ã€‚ </li>\n<li>absolute ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œ ç›¸å¯¹äºæœ€è¿‘ä¸€çº§çš„ å®šä½ä¸æ˜¯ static çš„çˆ¶å…ƒç´ æ¥è¿›è¡Œå®šä½ã€‚</li>\n<li>fixed ï¼ˆè€IEä¸æ”¯æŒï¼‰ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ã€‚ </li>\n</ul>\n<h2 id=\"CSS3æ–°ç‰¹æ€§\"><a href=\"#CSS3æ–°ç‰¹æ€§\" class=\"headerlink\" title=\"CSS3æ–°ç‰¹æ€§\"></a>CSS3æ–°ç‰¹æ€§</h2><p>CSS3å®ç°åœ†è§’ï¼ˆborder-radiusï¼‰ï¼Œé˜´å½±ï¼ˆbox-shadowï¼‰ï¼Œ<br>å¯¹æ–‡å­—åŠ ç‰¹æ•ˆï¼ˆtext-shadowã€ï¼‰ï¼Œçº¿æ€§æ¸å˜ï¼ˆgradientï¼‰ï¼Œæ—‹è½¬ï¼ˆtransformï¼‰<br>transform:rotate(9deg) scale(0.85,0.90) translate(0px,-30px) skew(-9deg,0deg);//æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œ<br>å¢åŠ äº†æ›´å¤šçš„CSSé€‰æ‹©å™¨  å¤šèƒŒæ™¯ rgba<br>åœ¨CSS3ä¸­å”¯ä¸€å¼•å…¥çš„ä¼ªå…ƒç´ æ˜¯::selection.<br>åª’ä½“æŸ¥è¯¢ï¼Œå¤šæ å¸ƒå±€<br>border-image</p>\n<h2 id=\"CSS-sprites\"><a href=\"#CSS-sprites\" class=\"headerlink\" title=\"CSS sprites\"></a>CSS sprites</h2><ul>\n<li>CSS Sprites å…¶å®å°±æ˜¯æŠŠç½‘é¡µä¸­ä¸€äº›èƒŒæ™¯å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å›¾ç‰‡æ–‡ä»¶ä¸­ï¼Œå†åˆ©ç”¨CSSçš„â€œbackground-imageâ€ï¼Œâ€œbackground- repeatâ€ï¼Œâ€œbackground-positionâ€çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ï¼Œbackground-positionå¯ä»¥ç”¨æ•°å­—èƒ½ç²¾ç¡®çš„å®šä½å‡ºèƒŒæ™¯å›¾ç‰‡çš„ä½ç½®ã€‚è¿™æ ·å¯ä»¥å‡å°‘å¾ˆå¤šå›¾ç‰‡è¯·æ±‚çš„å¼€é”€ï¼Œå› ä¸ºè¯·æ±‚è€—æ—¶æ¯”è¾ƒé•¿ï¼›è¯·æ±‚è™½ç„¶å¯ä»¥å¹¶å‘ï¼Œä½†æ˜¯ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬æµè§ˆå™¨éƒ½æ˜¯6ä¸ªã€‚å¯¹äºæœªæ¥è€Œè¨€ï¼Œå°±ä¸éœ€è¦è¿™æ ·åšäº†ï¼Œå› ä¸ºæœ‰äº†<code>http2</code>ã€‚</li>\n</ul>\n<h2 id=\"è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§\"><a href=\"#è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§\" class=\"headerlink\" title=\"è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§\"></a>è§£é‡Šä¸‹æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æŠ€å·§</h2><p>æµ®åŠ¨å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¸å æ®ç©ºé—´ã€‚æµ®åŠ¨å…ƒç´ ç¢°åˆ°åŒ…å«å®ƒçš„è¾¹æ¡†æˆ–è€…æµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†åœç•™ã€‚<br>1.ä½¿ç”¨ç©ºæ ‡ç­¾æ¸…é™¤æµ®åŠ¨ã€‚<br>   è¿™ç§æ–¹æ³•æ˜¯åœ¨æ‰€æœ‰æµ®åŠ¨æ ‡ç­¾åé¢æ·»åŠ ä¸€ä¸ªç©ºæ ‡ç­¾ å®šä¹‰css clear:both. å¼Šç«¯å°±æ˜¯å¢åŠ äº†æ— æ„ä¹‰æ ‡ç­¾ã€‚<br>2.ä½¿ç”¨overflowã€‚<br>   è®¾ç½®overflowä¸ºhiddenæˆ–è€…autoï¼Œç»™åŒ…å«æµ®åŠ¨å…ƒç´ çš„çˆ¶æ ‡ç­¾æ·»åŠ csså±æ€§ overflow:auto; zoom:1; zoom:1ç”¨äºå…¼å®¹IE6ã€‚<br>3.ä½¿ç”¨afterä¼ªå¯¹è±¡æ¸…é™¤æµ®åŠ¨ã€‚<br>   è¯¥æ–¹æ³•åªé€‚ç”¨äºéIEæµè§ˆå™¨ã€‚è¯¥æ–¹æ³•ä¸­å¿…é¡»ä¸ºéœ€è¦æ¸…é™¤æµ®åŠ¨å…ƒç´ çš„ä¼ªå¯¹è±¡ä¸­è®¾ç½® height:0ï¼Œå¦åˆ™è¯¥å…ƒç´ ä¼šæ¯”å®é™…é«˜å‡ºè‹¥å¹²åƒç´ ï¼›</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#box</span><span class=\"selector-pseudo\">:after</span>&#123;</span><br><span class=\"line\">\t<span class=\"attribute\">content</span>:<span class=\"string\">\".\"</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">visibility</span>:hidden;</span><br><span class=\"line\">\t<span class=\"attribute\">display</span>:block;</span><br><span class=\"line\">\t<span class=\"attribute\">clear</span>:both;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜\"><a href=\"#æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜\" class=\"headerlink\" title=\"æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜\"></a>æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜</h2><p>1ã€çˆ¶å…ƒç´ çš„é«˜åº¦æ— æ³•è¢«æ’‘å¼€ï¼Œå½±å“ä¸çˆ¶å…ƒç´ åŒçº§çš„å…ƒç´ <br>2ã€ä¸æµ®åŠ¨å…ƒç´ åŒçº§çš„éæµ®åŠ¨å…ƒç´ ï¼ˆå†…è”å…ƒç´ ï¼‰ä¼šè·Ÿéšå…¶å<br>3ã€è‹¥éç¬¬ä¸€ä¸ªå…ƒç´ æµ®åŠ¨ï¼Œåˆ™è¯¥å…ƒç´ ä¹‹å‰çš„å…ƒç´ ä¹Ÿéœ€è¦æµ®åŠ¨ï¼Œå¦åˆ™ä¼šå½±å“é¡µé¢æ˜¾ç¤ºçš„ç»“æ„</p>\n<h1 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h1><h2 id=\"è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£\"><a href=\"#è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£\" class=\"headerlink\" title=\"è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£\"></a>è¯´è¯´ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£</h2><p>1ã€å»æ‰æˆ–è€…ä¸¢å¤±æ ·å¼çš„æ—¶å€™èƒ½å¤Ÿè®©é¡µé¢å‘ˆç°å‡ºæ¸…æ™°çš„ç»“æ„<br>2ã€æœ‰åˆ©äºSEOï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›<br>3ã€æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›<br>4ã€ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œæ˜¯ä¸‹ä¸€æ­¥å§ç½‘é¡µçš„é‡è¦åŠ¨å‘ï¼Œéµå¾ªW3Cæ ‡å‡†çš„å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚</p>\n<h2 id=\"Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰\"><a href=\"#Doctypeä½œç”¨-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰\" class=\"headerlink\" title=\"Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?\"></a>Doctypeä½œç”¨? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?</h2><p>1ã€<code>&lt;!DOCTYPE&gt;</code> å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚<br>2ã€ä¸¥æ ¼æ¨¡å¼çš„æ’ç‰ˆå’Œ JS è¿ä½œæ¨¡å¼æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚<br>3ã€åœ¨æ··æ‚æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤ºã€‚æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œã€‚<br>4ã€<code>&lt;!DOCTYPE&gt;</code> ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥æ··æ‚æ¨¡å¼å‘ˆç°ã€‚ </p>\n<h2 id=\"ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ\"><a href=\"#ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ\" class=\"headerlink\" title=\"ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ\"></a>ä½ çŸ¥é“å¤šå°‘ç§Doctypeæ–‡æ¡£ç±»å‹ï¼Ÿ</h2><p>è¯¥æ ‡ç­¾å¯å£°æ˜ä¸‰ç§ DTD ç±»å‹ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¥æ ¼ç‰ˆæœ¬ã€è¿‡æ¸¡ç‰ˆæœ¬ä»¥åŠåŸºäºæ¡†æ¶çš„ HTML æ–‡æ¡£ã€‚<br>HTML 4.01 è§„å®šäº†ä¸‰ç§æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚<br>XHTML 1.0 è§„å®šäº†ä¸‰ç§ XML æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚<br>Standards ï¼ˆæ ‡å‡†ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯ä¸¥æ ¼å‘ˆç°æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°éµå¾ªæœ€æ–°æ ‡å‡†çš„ç½‘é¡µï¼Œè€Œ Quirksï¼ˆåŒ…å®¹ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯æ¾æ•£å‘ˆç°æ¨¡å¼æˆ–è€…å…¼å®¹æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°ä¸ºä¼ ç»Ÿæµè§ˆå™¨è€Œè®¾è®¡çš„ç½‘é¡µã€‚</p>\n<h2 id=\"HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«\"><a href=\"#HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«\" class=\"headerlink\" title=\"HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«\"></a>HTMLä¸XHTMLâ€”â€”äºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«</h2><p>1ã€æ‰€æœ‰çš„æ ‡è®°éƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ªç›¸åº”çš„ç»“æŸæ ‡è®°<br>2ã€æ‰€æœ‰æ ‡ç­¾çš„å…ƒç´ å’Œå±æ€§çš„åå­—éƒ½å¿…é¡»ä½¿ç”¨å°å†™<br>3ã€æ‰€æœ‰çš„XMLæ ‡è®°éƒ½å¿…é¡»åˆç†åµŒå¥—<br>4ã€æ‰€æœ‰çš„å±æ€§å¿…é¡»ç”¨å¼•å·â€â€æ‹¬èµ·æ¥<br>5ã€æŠŠæ‰€æœ‰&lt;å’Œ&amp;ç‰¹æ®Šç¬¦å·ç”¨ç¼–ç è¡¨ç¤º<br>6ã€ç»™æ‰€æœ‰å±æ€§èµ‹ä¸€ä¸ªå€¼<br>7ã€ä¸è¦åœ¨æ³¨é‡Šå†…å®¹ä¸­ä½¿â€œâ€“â€<br>8ã€å›¾ç‰‡å¿…é¡»æœ‰è¯´æ˜æ–‡å­—</p>\n<h2 id=\"html5æœ‰å“ªäº›æ–°ç‰¹æ€§\"><a href=\"#html5æœ‰å“ªäº›æ–°ç‰¹æ€§\" class=\"headerlink\" title=\"html5æœ‰å“ªäº›æ–°ç‰¹æ€§\"></a>html5æœ‰å“ªäº›æ–°ç‰¹æ€§</h2><p>è¯­ä¹‰åŒ–æ›´å¥½çš„å†…å®¹æ ‡ç­¾ï¼ˆheader,nav,footer,aside,article,sectionï¼‰<br>éŸ³é¢‘ã€è§†é¢‘API(audio,video)<br>ç”»å¸ƒ(Canvas) API<br>åœ°ç†(Geolocation) API<br>æ‹–æ‹½é‡Šæ”¾(Drag and drop) API<br>æœ¬åœ°ç¦»çº¿å­˜å‚¨<br>è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search  </p>\n<h1 id=\"è®¡ç®—æœºç½‘ç»œ\"><a href=\"#è®¡ç®—æœºç½‘ç»œ\" class=\"headerlink\" title=\"è®¡ç®—æœºç½‘ç»œ\"></a>è®¡ç®—æœºç½‘ç»œ</h1><h2 id=\"HTTPè¯·æ±‚ç±»å‹\"><a href=\"#HTTPè¯·æ±‚ç±»å‹\" class=\"headerlink\" title=\"HTTPè¯·æ±‚ç±»å‹\"></a>HTTPè¯·æ±‚ç±»å‹</h2><p>GETï¼šå‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚<br>POSTï¼šå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„åˆ›å»ºå’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹<br>PUTï¼šå‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹<br>DELETEï¼šè¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URIæ‰€æ ‡è¯†çš„èµ„æº<br>OPTIONSï¼šè¿”å›æœåŠ¡å™¨é’ˆå¯¹ç‰¹å®šèµ„æºæ‰€æ”¯æŒçš„HTTPè¯·æ±‚æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨å‘WebæœåŠ¡å™¨å‘é€â€™*â€™çš„è¯·æ±‚æ¥æµ‹è¯•æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p>\n<h2 id=\"HTTPè¯·æ±‚å››éƒ¨åˆ†\"><a href=\"#HTTPè¯·æ±‚å››éƒ¨åˆ†\" class=\"headerlink\" title=\"HTTPè¯·æ±‚å››éƒ¨åˆ†\"></a>HTTPè¯·æ±‚å››éƒ¨åˆ†</h2><p>1ã€HTTPè¯·æ±‚çš„æ–¹æ³•æˆ–åŠ¨ä½œï¼Œæ¯”å¦‚æ˜¯getè¿˜æ˜¯postè¯·æ±‚ï¼›<br>2ã€æ­£åœ¨è¯·æ±‚çš„URLï¼ˆè¯·æ±‚çš„åœ°å€ï¼‰ï¼›<br>3ã€è¯·æ±‚å¤´ï¼ŒåŒ…å«ä¸€äº›å®¢æˆ·ç«¯ç¯å¢ƒä¿¡æ¯ã€èº«ä»½éªŒè¯ä¿¡æ¯ç­‰ï¼›<br>4ã€è¯·æ±‚ä½“ï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰ï¼Œå¯ä»¥åŒ…å«å®¢æˆ·æäº¤çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¿¡æ¯ã€è¡¨å•ä¿¡æ¯ç­‰ã€‚</p>\n<p><strong>è¯·æ±‚å¤´å­—æ®µï¼š</strong></p>\n<ul>\n<li>Accept:text/html,image/*(å‘Šè¯‰æœåŠ¡å™¨ï¼Œæµè§ˆå™¨å¯ä»¥æ¥å—æ–‡æœ¬ï¼Œç½‘é¡µå›¾ç‰‡)</li>\n<li>Accept-Charaset:ISO-8859-1 [æ¥å—å­—ç¬¦ç¼–ç ï¼šiso-8859-1]</li>\n<li>Accept-Encoding:gzip,compress[å¯ä»¥æ¥å—  gzip,compresså‹ç¼©åæ•°æ®]</li>\n<li>Accept-Language:zh-cn[æµè§ˆå™¨æ”¯æŒçš„è¯­è¨€]   </li>\n<li>Host:localhost:8080[æµè§ˆå™¨è¦æ‰¾çš„ä¸»æœº]</li>\n<li>If-Modified-Since:Tue, 09 May 2017 01:34:02 GMT[å‘Šè¯‰æœåŠ¡å™¨æˆ‘è¿™ç¼“å­˜ä¸­æœ‰è¿™ä¸ªæ–‡ä»¶,è¯¥æ–‡ä»¶çš„æ—¶é—´æ˜¯â€¦]</li>\n<li>User-Agent:Nozilla/4.0(Comâ€¦)[å‘Šè¯‰æœåŠ¡å™¨æˆ‘çš„æµè§ˆå™¨å†…æ ¸ï¼Œå®¢æˆ·ç«¯ç¯å¢ƒä¿¡]</li>\n<li>Cookieï¼š[èº«ä»½éªŒè¯ä¿¡æ¯]</li>\n<li>Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥]</li>\n</ul>\n<h2 id=\"HTTPå“åº”ä¸‰éƒ¨åˆ†\"><a href=\"#HTTPå“åº”ä¸‰éƒ¨åˆ†\" class=\"headerlink\" title=\"HTTPå“åº”ä¸‰éƒ¨åˆ†\"></a>HTTPå“åº”ä¸‰éƒ¨åˆ†</h2><p>1ã€ä¸€ä¸ªæ•°å­—å’Œæ–‡å­—ç»„æˆçš„çŠ¶æ€ç ï¼Œç”¨æ¥æ˜¾ç¤ºè¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼›<br>2ã€å“åº”å¤´ï¼Œå“åº”å¤´ä¹Ÿå’Œè¯·æ±‚å¤´ä¸€æ ·åŒ…å«è®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸæ—¶é—´ã€å†…å®¹ç±»å‹å’Œé•¿åº¦ç­‰ï¼›<br>3ã€å“åº”ä½“ï¼ˆå“åº”æ­£æ–‡ï¼‰ã€‚</p>\n<p><strong>å“åº”å¤´å­—æ®µï¼š</strong></p>\n<ul>\n<li>Cache-Control:[å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç¼“å­˜é¡µé¢(å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹æ€§æœ€å¥½è®¾ç½®ä¸¤ä¸ª)]</li>\n<li>Connection:close/Keep-Alive [ä¿æŒé“¾æ¥ï¼Œå‘å®Œæ•°æ®åï¼Œæˆ‘ä¸å…³é—­é“¾æ¥]</li>\n<li>Content-Type:text/html;charset=gb2312[å†…å®¹æ ¼å¼å’Œç¼–ç ]</li>\n<li>Last-Modified:Tue,11 Juj,2017 18 18:29:20[å‘Šè¯‰æµè§ˆå™¨è¯¥èµ„æºä¸Šæ¬¡æ›´æ–°æ—¶é—´æ˜¯å¤šå°‘]</li>\n<li>ETag:â€540-54f0d59b8b680â€</li>\n<li>Expires:Fri, 26 May 2017 13:28:33 GMT [å¤±æ•ˆæ—¥æœŸ]</li>\n<li>server:apache tomcat nginx [å“ªç§æœåŠ¡å™¨]</li>\n</ul>\n<h2 id=\"è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹\"><a href=\"#è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹\" class=\"headerlink\" title=\"è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹\"></a>è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹</h2><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®åŒ…ï¼ˆ<code>å¸¦SYNæ ‡å¿—çš„æ•°æ®åŒ…</code>ï¼‰ã€‚æ­¤æ—¶æœåŠ¡å™¨ç¡®è®¤è‡ªå·±å¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯çš„åŒ…ï¼Œè€Œå®¢æˆ·ç«¯ä¸ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦æ¥æ”¶åˆ°äº†è‡ªå·±å‘çš„æ•°æ®åŒ…ã€‚</p>\n<p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯å›å¤ï¼ˆ<code>å›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯</code>ï¼‰å®¢æˆ·ç«¯ã€‚æ­¤æ—¶å®¢æˆ·ç«¯ç¡®è®¤è‡ªå·±å‘çš„åŒ…è¢«æœåŠ¡å™¨æ”¶åˆ°ï¼Œä¹Ÿç¡®è®¤è‡ªå·±å¯ä»¥æ­£å¸¸æ¥æ”¶æœåŠ¡å™¨åŒ…ï¼Œå®¢æˆ·ç«¯å¯¹æ­¤æ¬¡é€šä¿¡æ²¡æœ‰ç–‘é—®äº†ã€‚æœåŠ¡å™¨ä¹Ÿå¯ä»¥ç¡®è®¤è‡ªå·±èƒ½æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„åŒ…ï¼Œä½†ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯èƒ½å¦æ¥æ”¶è‡ªå·±å‘çš„åŒ…ã€‚</p>\n<p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å›å¤ï¼ˆ<code>å‘é€ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨â€œæ¡æ‰‹â€ç»“æŸ</code>ï¼‰æœåŠ¡å™¨ã€‚  å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰ç–‘é—®äº†ï¼ŒæœåŠ¡å™¨ä¹Ÿç¡®è®¤åˆšåˆšå®¢æˆ·ç«¯æ”¶åˆ°äº†è‡ªå·±çš„æ•°æ®åŒ…ã€‚ä¸¤è¾¹éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå¼€å§‹é€šä¿¡ã€‚</p>\n<p><strong>ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong><br>ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚ä¹Ÿé˜²æ­¢äº†æœåŠ¡å™¨ç«¯çš„ä¸€ç›´ç­‰å¾…è€Œæµªè´¹èµ„æº<br>TCPä½œä¸ºä¸€ç§å¯é ä¼ è¾“æ§åˆ¶åè®®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³ï¼šæ—¢è¦ä¿è¯æ•°æ®å¯é ä¼ è¾“ï¼Œåˆè¦æé«˜ä¼ è¾“çš„æ•ˆç‡ï¼Œè€Œç”¨ä¸‰æ¬¡æ°æ°å¯ä»¥æ»¡è¶³ä»¥ä¸Šä¸¤æ–¹é¢çš„éœ€æ±‚ï¼</p>\n<h2 id=\"å››æ¬¡æŒ¥æ‰‹\"><a href=\"#å››æ¬¡æŒ¥æ‰‹\" class=\"headerlink\" title=\"å››æ¬¡æŒ¥æ‰‹\"></a>å››æ¬¡æŒ¥æ‰‹</h2><p>1ã€ä¸»æœºå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæ–­å¼€è¿æ¥çš„è¯·æ±‚ï¼ˆ ä¸æ—©äº†ï¼Œæˆ‘è¯¥èµ°äº† ï¼‰,<code>å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µ</code>ï¼›<br>2ã€æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚åå‘é€ç¡®è®¤æ”¶åˆ°è¯·æ±‚çš„ä¿¡å·ï¼ˆ çŸ¥é“äº† ï¼‰<code>å›ä¸€ä¸ªACKæŠ¥æ–‡æ®µ</code>ï¼›<br>3ã€æœåŠ¡å™¨å‘ä¸»æœºå‘é€æ–­å¼€é€šçŸ¥ï¼ˆ æˆ‘ä¹Ÿè¯¥èµ°äº† ï¼‰<code>å‘é€FINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥</code>ï¼›<br>4ã€ä¸»æœºæ¥åˆ°æ–­å¼€é€šçŸ¥åæ–­å¼€è¿æ¥å¹¶åé¦ˆä¸€ä¸ªç¡®è®¤ä¿¡å·ï¼ˆ å—¯ï¼Œå¥½çš„ ï¼‰ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ç¡®è®¤ä¿¡å·åä¹Ÿæ–­å¼€è¿æ¥ï¼›</p>\n<h2 id=\"TCPå’ŒUDPçš„åŒºåˆ«\"><a href=\"#TCPå’ŒUDPçš„åŒºåˆ«\" class=\"headerlink\" title=\"TCPå’ŒUDPçš„åŒºåˆ«\"></a>TCPå’ŒUDPçš„åŒºåˆ«</h2><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥</p>\n<p>UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼<br>UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚</p>\n<h2 id=\"HTTPå’ŒHTTPS\"><a href=\"#HTTPå’ŒHTTPS\" class=\"headerlink\" title=\"HTTPå’ŒHTTPS\"></a>HTTPå’ŒHTTPS</h2><p>1ã€HTTPåè®®é€šå¸¸æ‰¿è½½äºTCPåè®®ä¹‹ä¸Šï¼Œåœ¨HTTPå’ŒTCPä¹‹é—´æ·»åŠ ä¸€ä¸ªå®‰å…¨åè®®å±‚ï¼ˆSSLæˆ–TSLï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æˆäº†æˆ‘ä»¬å¸¸è¯´çš„HTTPS<br>2ã€é»˜è®¤HTTPçš„ç«¯å£å·ä¸º80ï¼ŒHTTPSçš„ç«¯å£å·ä¸º443</p>\n<p>HTTPS ç›¸å¯¹äº HTTP æ€§èƒ½ä¸Šå·®ç‚¹ï¼Œå› ä¸ºå¤šäº† SSL/TLS çš„å‡ æ¬¡æ¡æ‰‹å’ŒåŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†ï¼Œä½†æ˜¯åŠ å¯†è§£å¯†çš„è¿ç®—å¤„ç†å·²ç»å¯ä»¥é€šè¿‡ç‰¹æœ‰çš„ç¡¬ä»¶æ¥åŠ é€Ÿå¤„ç†ã€‚</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯Etagï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯Etagï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯Etagï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯Etagï¼Ÿ</h2><p>æŠŠLast-Modifiedå’ŒETagè¯·æ±‚çš„httpæŠ¥å¤´ä¸€èµ·ä½¿ç”¨ï¼Œå¯åˆ©ç”¨å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚æµè§ˆå™¨ï¼‰çš„ç¼“å­˜ã€‚ETagç”¨äºæ ‡è¯†èµ„æºçš„çŠ¶æ€ï¼Œå½“èµ„æºå‘ç”Ÿå˜æ›´æ—¶ï¼Œå¦‚æœå…¶å¤´ä¿¡æ¯ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…æ¶ˆæ¯å®ä½“å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆETagä¹Ÿéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚æµè§ˆå™¨ä¸‹è½½ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šå°†å®ƒä»¬å­˜å‚¨åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ã€‚å¦‚æœéœ€è¦å†æ¬¡è·å–ç›¸åŒçš„ç»„ä»¶ï¼Œæµè§ˆå™¨å°†æ£€æŸ¥ç»„ä»¶çš„ç¼“å­˜æ—¶é—´ï¼Œ<br>å‡å¦‚å·²ç»è¿‡æœŸï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†å‘é€ä¸€ä¸ªæ¡ä»¶GETè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åˆ¤æ–­ç¼“å­˜è¿˜æœ‰æ•ˆï¼Œåˆ™å‘é€ä¸€ä¸ª304å“åº”ï¼Œå‘Šè¯‰æµè§ˆå™¨å¯ä»¥é‡ç”¨ç¼“å­˜ç»„ä»¶ã€‚</p>\n<h2 id=\"Expireså’ŒCache-Control\"><a href=\"#Expireså’ŒCache-Control\" class=\"headerlink\" title=\"Expireså’ŒCache-Control\"></a>Expireså’ŒCache-Control</h2><p>Expires ç”¨æ¥æ§åˆ¶ç¼“å­˜çš„å¤±æ•ˆæ—¥æœŸ<br>Cache-Control ç”¨æ¥æ§åˆ¶ç½‘é¡µçš„ç¼“å­˜ å¸¸è§çš„å–å€¼æœ‰privateã€no-cacheã€max-ageã€must-revalidateç­‰ï¼Œé»˜è®¤ä¸ºprivateã€‚</p>\n<h2 id=\"å…³äºHttp-2-0-ä½ çŸ¥é“å¤šå°‘ï¼Ÿ\"><a href=\"#å…³äºHttp-2-0-ä½ çŸ¥é“å¤šå°‘ï¼Ÿ\" class=\"headerlink\" title=\"å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼Ÿ\"></a>å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼Ÿ</h2><p>HTTP/2å¼•å…¥äº†â€œæœåŠ¡ç«¯æ¨ï¼ˆserver pushï¼‰â€çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯éœ€è¦æ•°æ®ä¹‹å‰å°±ä¸»åŠ¨åœ°å°†æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ç¼“å­˜ä¸­ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚<br>HTTP/2æä¾›æ›´å¤šçš„åŠ å¯†æ”¯æŒ<br>HTTP/2ä½¿ç”¨å¤šè·¯æŠ€æœ¯ï¼Œå…è®¸å¤šä¸ªæ¶ˆæ¯åœ¨ä¸€ä¸ªè¿æ¥ä¸ŠåŒæ—¶äº¤å·®ã€‚<br>å®ƒå¢åŠ äº†å¤´å‹ç¼©ï¼ˆheader compressionï¼‰ï¼Œå› æ­¤å³ä½¿éå¸¸å°çš„è¯·æ±‚ï¼Œå…¶è¯·æ±‚å’Œå“åº”çš„headeréƒ½åªä¼šå ç”¨å¾ˆå°æ¯”ä¾‹çš„å¸¦å®½ã€‚</p>\n<h2 id=\"ä¸€ä¸ªé¡µé¢ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\"><a href=\"#ä¸€ä¸ªé¡µé¢ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\"></a>ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h2><p>1ã€æµè§ˆå™¨æ ¹æ®è¯·æ±‚çš„URLäº¤ç»™DNSåŸŸåè§£æï¼Œæ‰¾åˆ°çœŸå®IPï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆTCPä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼›<br>2ã€æœåŠ¡å™¨äº¤ç»™åå°å¤„ç†å®Œæˆåè¿”å›æ•°æ®ï¼Œæµè§ˆå™¨æ¥æ”¶æ–‡ä»¶ï¼ˆHTMLã€JSã€CSSã€å›¾è±¡ç­‰ï¼‰ï¼›<br>3ã€æµè§ˆå™¨å¯¹åŠ è½½åˆ°çš„èµ„æºï¼ˆHTMLã€JSã€CSSç­‰ï¼‰è¿›è¡Œè¯­æ³•è§£æï¼Œå»ºç«‹ç›¸åº”çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚HTMLçš„DOMï¼‰ï¼›<br>4ã€è½½å…¥è§£æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œæ¸²æŸ“é¡µé¢ï¼Œå®Œæˆã€‚</p>\n<h2 id=\"æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹\"><a href=\"#æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹\" class=\"headerlink\" title=\"æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹\"></a>æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹</h2><p>1ã€æµè§ˆå™¨è¯·æ±‚åˆ°HTMLä»£ç åï¼Œåœ¨ç”ŸæˆDOMçš„æœ€å¼€å§‹é˜¶æ®µï¼Œå¹¶è¡Œå‘èµ·cssã€å›¾ç‰‡ã€jsçš„è¯·æ±‚ï¼Œæ— è®ºä»–ä»¬æ˜¯å¦åœ¨HEADé‡Œã€‚æµè§ˆå™¨ä¼šå°†HTMLè§£ææˆä¸€ä¸ªDOMæ ‘ï¼ŒDOM æ ‘çš„æ„å»ºè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ·±åº¦éå†è¿‡ç¨‹ï¼šå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ„å»ºå¥½åæ‰ä¼šå»æ„å»ºå½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚<br>2ã€CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼Œå¼€å§‹æ„å»ºCSSOM<br>3ã€æ‰€æœ‰CSSæ–‡ä»¶ä¸‹è½½å®Œæˆï¼ŒCSSOMæ„å»ºç»“æŸåï¼Œå’Œ DOM ä¸€èµ·ç”Ÿæˆ Render Treeã€‚<br>4ã€æœ‰äº†Render Treeï¼Œæµè§ˆå™¨å·²ç»èƒ½çŸ¥é“ç½‘é¡µä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€å„ä¸ªèŠ‚ç‚¹çš„CSSå®šä¹‰ä»¥åŠä»–ä»¬çš„ä»å±å…³ç³»ã€‚ä¸‹ä¸€æ­¥æ“ä½œå°±æ˜¯è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®ã€‚<br>5ã€æœ€åä¸€æ­¥ï¼ŒæŒ‰ç…§ç®—å‡ºæ¥çš„è§„åˆ™ï¼ŒæŠŠå†…å®¹æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚</p>\n<p>ä»¥ä¸Šäº”ä¸ªæ­¥éª¤å‰3ä¸ªæ­¥éª¤å› ä¸ºDOMã€CSSOMã€Render Treeéƒ½å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡Paintingååˆè¢«æ›´æ–°å¤šæ¬¡ï¼Œæ¯”å¦‚JSä¿®æ”¹äº†DOMæˆ–è€…CSSå±æ€§ã€‚Layout å’Œ Painting ä¹Ÿä¼šè¢«é‡å¤æ‰§è¡Œï¼Œé™¤äº†DOMã€CSSOMæ›´æ–°çš„åŸå› å¤–ï¼Œå›¾ç‰‡ä¸‹è½½å®Œæˆåä¹Ÿéœ€è¦è°ƒç”¨Layout å’Œ Paintingæ¥æ›´æ–°ç½‘é¡µã€‚</p>\n<blockquote>\n<p>display:none çš„èŠ‚ç‚¹ä¸ä¼šè¢«åŠ å…¥ Render Treeï¼Œè€Œ visibility: hidden åˆ™ä¼šï¼Œæ‰€ä»¥ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹æœ€å¼€å§‹æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œè®¾ä¸º display:none æ˜¯æ›´ä¼˜çš„ã€‚</p>\n</blockquote>\n<h2 id=\"ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†\"><a href=\"#ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†\" class=\"headerlink\" title=\"ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†\"></a>ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†</h2><blockquote>\n<p><a href=\"http://www.hzzly.net:8080/news/index.php?boardID=5&amp;ID=24618&amp;page=1#name\" target=\"_blank\" rel=\"noopener\">http://www.hzzly.net:8080/news/index.php?boardID=5&amp;ID=24618&amp;page=1#name</a></p>\n</blockquote>\n<p>1ã€åè®®éƒ¨åˆ†<br>2ã€åŸŸåéƒ¨åˆ†<br>3ã€ç«¯å£éƒ¨åˆ†<br>4ã€è™šæ‹Ÿç›®å½•éƒ¨åˆ†ï¼šä»åŸŸååçš„ç¬¬ä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°æœ€åä¸€ä¸ªâ€œ/â€ä¸ºæ­¢<br>5ã€æ–‡ä»¶åéƒ¨åˆ†ï¼šä»åŸŸååçš„æœ€åä¸€ä¸ªâ€œ/â€å¼€å§‹åˆ°â€œï¼Ÿâ€ä¸ºæ­¢<br>6ã€å‚æ•°éƒ¨åˆ†ï¼šä»â€œï¼Ÿâ€å¼€å§‹åˆ°â€œ#â€ä¸ºæ­¢ä¹‹é—´çš„éƒ¨åˆ†<br>7ã€é”šéƒ¨åˆ†ï¼šä»â€œ#â€å¼€å§‹åˆ°æœ€å</p>\n<h2 id=\"GETå’ŒPOSTçš„åŒºåˆ«\"><a href=\"#GETå’ŒPOSTçš„åŒºåˆ«\" class=\"headerlink\" title=\"GETå’ŒPOSTçš„åŒºåˆ«\"></a>GETå’ŒPOSTçš„åŒºåˆ«</h2><p>GETï¼šä¸€èˆ¬ç”¨äºä¿¡æ¯è·å–ï¼Œä½¿ç”¨URLä¼ é€’å‚æ•°ï¼Œå¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬åœ¨1024å­—èŠ‚ï¼ŒGetæ˜¯é€šè¿‡åœ°å€æ æ¥ä¼ å€¼ã€‚</p>\n<p>POSTï¼šä¸€èˆ¬ç”¨äºä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå¯¹æ‰€å‘é€çš„ä¿¡æ¯æ²¡æœ‰é™åˆ¶ã€‚ï¼ˆå¸¸ç”¨äºå‘é€è¡¨å•æ•°æ®ï¼Œæ–°å»ºã€ä¿®æ”¹ç­‰ï¼‰ï¼ŒPostæ˜¯é€šè¿‡æäº¤è¡¨å•æ¥ä¼ å€¼ã€‚</p>\n<h2 id=\"å¸¸è§HTTPçŠ¶æ€ç \"><a href=\"#å¸¸è§HTTPçŠ¶æ€ç \" class=\"headerlink\" title=\"å¸¸è§HTTPçŠ¶æ€ç \"></a>å¸¸è§HTTPçŠ¶æ€ç </h2><p>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç ã€‚<br>2xxï¼ˆæˆåŠŸï¼‰è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç ã€‚<br><code>200</code>ï¼ˆæˆåŠŸï¼‰ï¼šæœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚<br>3xxï¼ˆé‡å®šå‘ï¼‰è¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚<br><code>301</code>ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ï¼šè¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚<br><code>302</code>ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥å“åº”ä»¥åçš„è¯·æ±‚ã€‚<br><code>304</code>ï¼ˆæœªä¿®æ”¹ï¼‰ï¼šè‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚<br>4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚<br><code>400</code>ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ï¼šæœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚<br><code>404</code>ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚<br>5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚<br><code>500</code>ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ï¼šæœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚<br><code>503</code>ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ï¼šæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚</p>\n<h2 id=\"è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚\"><a href=\"#è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚\" class=\"headerlink\" title=\"è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚\"></a>è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚</h2><p>åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ï¼ˆä»ä¸Šå¾€ä¸‹ï¼‰ï¼ˆHTTPã€FTPã€SMTPã€DNSï¼‰</p>\n<p>ä¼ è¾“å±‚ï¼ˆTCPå’ŒUDPï¼‰</p>\n<p>ç½‘ç»œå±‚ï¼ˆIPï¼‰</p>\n<p>ç‰©ç†å’Œæ•°æ®é“¾è·¯å±‚ï¼ˆä»¥å¤ªç½‘ï¼‰</p>\n<h2 id=\"è®²è®²304ç¼“å­˜çš„åŸç†\"><a href=\"#è®²è®²304ç¼“å­˜çš„åŸç†\" class=\"headerlink\" title=\"è®²è®²304ç¼“å­˜çš„åŸç†\"></a>è®²è®²304ç¼“å­˜çš„åŸç†</h2><p>æœåŠ¡å™¨é¦–å…ˆäº§ç”ŸETagï¼ŒæœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·ç«¯é€šè¿‡å°†è¯¥è®°å·ä¼ å›æœåŠ¡å™¨è¦æ±‚æœåŠ¡å™¨éªŒè¯å…¶ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¼“å­˜ã€‚</p>\n<p>304æ˜¯HTTPçŠ¶æ€ç ï¼ŒæœåŠ¡å™¨ç”¨æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶æ²¡ä¿®æ”¹ï¼Œä¸è¿”å›å†…å®¹ï¼Œæµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ä¸ªçŠ¶æ€ç åï¼Œä¼šä½¿ç”¨æµè§ˆå™¨å·²ç¼“å­˜çš„æ–‡ä»¶</p>\n<h2 id=\"http-keep-aliveä¸tcp-keep-alive\"><a href=\"#http-keep-aliveä¸tcp-keep-alive\" class=\"headerlink\" title=\"http keep-aliveä¸tcp keep-alive\"></a>http keep-aliveä¸tcp keep-alive</h2><p>http keep-aliveæ˜¯ä¸ºäº†è®©tcpæ´»å¾—æ›´ä¹…ä¸€ç‚¹ï¼Œä»¥ä¾¿åœ¨åŒä¸€ä¸ªè¿æ¥ä¸Šä¼ é€å¤šä¸ªhttpï¼Œæé«˜socketçš„æ•ˆç‡ã€‚è€Œtcp keep-aliveæ˜¯TCPçš„ä¸€ç§æ£€æµ‹TCPè¿æ¥çŠ¶å†µçš„ä¿é²œæœºåˆ¶ã€‚</p>\n<h2 id=\"å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†\"><a href=\"#å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†\" class=\"headerlink\" title=\"å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†\"></a>å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†</h2><ul>\n<li>sqlæ³¨å…¥åŸç†<br>  å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚</li>\n<li>XSS<br>  æŒ‡çš„æ˜¯æ”»å‡»è€…å¾€Webé¡µé¢é‡Œæ’å…¥æ¶æ„htmlæ ‡ç­¾æˆ–è€…javascriptä»£ç ã€‚æ¯”å¦‚ï¼šæ”»å‡»è€…åœ¨è®ºå›ä¸­æ”¾ä¸€ä¸ªçœ‹ä¼¼å®‰å…¨çš„é“¾æ¥ï¼Œéª—å–ç”¨æˆ·ç‚¹å‡»åï¼Œçªƒå–cookieä¸­çš„ç”¨æˆ·ç§å¯†ä¿¡æ¯ï¼›æˆ–è€…æ”»å‡»è€…åœ¨è®ºå›ä¸­åŠ ä¸€ä¸ªæ¶æ„è¡¨å•ï¼Œå½“ç”¨æˆ·æäº¤è¡¨å•çš„æ—¶å€™ï¼Œå´æŠŠä¿¡æ¯ä¼ é€åˆ°æ”»å‡»è€…çš„æœåŠ¡å™¨ä¸­ï¼Œè€Œä¸æ˜¯ç”¨æˆ·åŸæœ¬ä»¥ä¸ºçš„ä¿¡ä»»ç«™ç‚¹ã€‚</li>\n<li>CSRF<br>  CSRFæ˜¯ä»£æ›¿ç”¨æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œéœ€è¦çŸ¥é“å…¶ä»–ç”¨æˆ·é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚è¦å®Œæˆä¸€æ¬¡CSRFæ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š1ã€ç™»å½•å—ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚2ã€åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚</li>\n</ul>\n<h1 id=\"ç®—æ³•\"><a href=\"#ç®—æ³•\" class=\"headerlink\" title=\"ç®—æ³•\"></a>ç®—æ³•</h1><h2 id=\"æ•°ç»„å»é‡\"><a href=\"#æ•°ç»„å»é‡\" class=\"headerlink\" title=\"æ•°ç»„å»é‡\"></a>æ•°ç»„å»é‡</h2><blockquote>\n<p>å»ºä¸€ä¸ªç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ªç¯éå†éœ€è¦å»é‡çš„æ•°ç»„ï¼Œåˆ¤æ–­å¯¹è±¡æœ‰æ²¡æœ‰æ­¤å±æ€§ï¼Œæ²¡æœ‰çš„è¯å°±ç»™å¯¹è±¡æ·»åŠ æ­¤å±æ€§ï¼Œå¹¶å‘ç©ºæ•°ç»„ä¸­pushè¿™ä¸ªå€¼ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//es5</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">unique</span>(<span class=\"params\">arr</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> obj = &#123;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> result = []</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> arr)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!obj[arr[i]])&#123;</span><br><span class=\"line\">\t\t\tobj[arr[i]] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\tresult.push(arr[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//es6</span></span><br><span class=\"line\">[...new <span class=\"built_in\">Set</span>(arr)]</span><br></pre></td></tr></table></figure>\n<h2 id=\"å†’æ³¡æ’åº\"><a href=\"#å†’æ³¡æ’åº\" class=\"headerlink\" title=\"å†’æ³¡æ’åº\"></a>å†’æ³¡æ’åº</h2><blockquote>\n<p>ç›¸é‚»ä¸¤ä¸ªå¯¹æ¯”ï¼Œæœ€åæŠŠæœ€å¤§çš„æ’åˆ°äº†æœ€åï¼Œé‡å¤æ­¤è¿‡ç¨‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">bubbleSort</span>(<span class=\"params\">arr</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> len = arr.length;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; len - <span class=\"number\">1</span> - i; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (arr[j] &gt; arr[j+<span class=\"number\">1</span>]) &#123;        <span class=\"comment\">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">var</span> temp = arr[j+<span class=\"number\">1</span>];        <span class=\"comment\">//å…ƒç´ äº¤æ¢</span></span><br><span class=\"line\">\t\t\t\tarr[j+<span class=\"number\">1</span>] = arr[j];</span><br><span class=\"line\">\t\t\t\tarr[j] = temp;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"é€‰æ‹©æ’åº\"><a href=\"#é€‰æ‹©æ’åº\" class=\"headerlink\" title=\"é€‰æ‹©æ’åº\"></a>é€‰æ‹©æ’åº</h2><blockquote>\n<p>å¯»æ‰¾æœ€å°çš„æ•°ï¼Œä¿å­˜ç´¢å¼•ï¼Œç„¶åä¸ç¬¬ä¸€å±‚å¾ªç¯å…¶ä¸‹æ ‡å¯¹äºçš„å€¼è¿›è¡Œäº¤æ¢</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">selectionSort</span>(<span class=\"params\">arr</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> len = arr.length;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> minIndex, temp;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; len - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">\t\tminIndex = i;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = i + <span class=\"number\">1</span>; j &lt; len; j++) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (arr[j] &lt; arr[minIndex]) &#123;     <span class=\"comment\">//å¯»æ‰¾æœ€å°çš„æ•°</span></span><br><span class=\"line\">\t\t\t\tminIndex = j;                 <span class=\"comment\">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\ttemp = arr[i];</span><br><span class=\"line\">\t\tarr[i] = arr[minIndex];</span><br><span class=\"line\">\t\tarr[minIndex] = temp;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"å¿«é€Ÿæ’åº\"><a href=\"#å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"å¿«é€Ÿæ’åº\"></a>å¿«é€Ÿæ’åº</h2><blockquote>\n<p>é€‰å–ä¸€ä¸ªè®°å½•ä½œä¸ºä¸­é—´è½´ï¼Œç„¶åå°†æ¯”â€˜è¿™ä¸ªè®°å½•å€¼â€™å°çš„ç§»åˆ°â€˜è®°å½•å€¼â€™ä¹‹å‰ï¼Œå¤§çš„ç§»åˆ°ä¹‹åï¼Œç„¶åé€’å½’</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">quickSort</span>(<span class=\"params\">arr</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(arr.length == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> [];    <span class=\"comment\">// è¿”å›ç©ºæ•°ç»„</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> cIndex = <span class=\"built_in\">Math</span>.floor(arr.length / <span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> c = arr.splice(cIndex, <span class=\"number\">1</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> l = [];</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> r = [];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(arr[i] &lt; c) &#123;</span><br><span class=\"line\">\t\t\tl.push(arr[i]);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\tr.push(arr[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> quickSort(l).concat(c, quickSort(r));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"å…¶å®ƒ\"><a href=\"#å…¶å®ƒ\" class=\"headerlink\" title=\"å…¶å®ƒ\"></a>å…¶å®ƒ</h1><h2 id=\"å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„\"><a href=\"#å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„\" class=\"headerlink\" title=\"å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„\"></a>å¯¹å‰ç«¯ç•Œé¢å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½æ˜¯æ€ä¹ˆæ ·ç†è§£çš„</h2><p>å‰ç«¯æ˜¯æœ€è´´è¿‘ç”¨æˆ·çš„ç¨‹åºå‘˜ï¼Œå‰ç«¯çš„èƒ½åŠ›å°±æ˜¯èƒ½è®©äº§å“ä» 90åˆ†è¿›åŒ–åˆ° 100 åˆ†ï¼Œç”šè‡³æ›´å¥½<br>1ã€å®ç°ç•Œé¢äº¤äº’<br>2ã€æå‡ç”¨æˆ·ä½“éªŒ</p>\n<h2 id=\"è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£\"><a href=\"#è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£\" class=\"headerlink\" title=\"è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£\"></a>è°ˆè°ˆä½ å¯¹é‡æ„çš„ç†è§£</h2><p>åœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æ„ã€æ·»åŠ å¯è¯»æ€§ï¼Œè€Œåœ¨ç½‘ç«™å‰ç«¯ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯åœ¨ä¸æ”¹å˜UIçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘ç«™è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æ‰©å±•çš„åŒæ—¶ä¿æŒä¸€è‡´çš„UIã€‚</p>\n<p>å‡å°‘ä»£ç é—´çš„è€¦åˆ<br>è®©ä»£ç ä¿æŒå¼¹æ€§<br>ä¸¥æ ¼æŒ‰è§„èŒƒç¼–å†™ä»£ç <br>è®¾è®¡å¯æ‰©å±•çš„API<br>ä»£æ›¿æ—§æœ‰çš„æ¡†æ¶ã€è¯­è¨€(å¦‚VB)<br>å¢å¼ºç”¨æˆ·ä½“éªŒ<br>é€šå¸¸æ¥è¯´å¯¹äºé€Ÿåº¦çš„ä¼˜åŒ–ä¹ŸåŒ…å«åœ¨é‡æ„ä¸­</p>\n<h2 id=\"ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ\"><a href=\"#ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ\" class=\"headerlink\" title=\"ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ\"></a>ä½ é‡åˆ°è¿‡æ¯”è¾ƒéš¾çš„æŠ€æœ¯é—®é¢˜æ˜¯ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</h2><h2 id=\"å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ\"><a href=\"#å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ\" class=\"headerlink\" title=\"å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ\"></a>å¹³æ—¶æ˜¯å¦‚ä½•å­¦ä¹ å‰ç«¯å¼€å‘çš„ï¼Ÿ</h2><h2 id=\"å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ\"><a href=\"#å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ\" class=\"headerlink\" title=\"å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ\"></a>å¹³æ—¶å¦‚ä½•ç®¡ç†ä½ çš„é¡¹ç›®ï¼Ÿ</h2><p>å…ˆæœŸå›¢é˜Ÿå¿…é¡»ç¡®å®šå¥½å…¨å±€æ ·å¼ï¼ˆglobe.cssï¼‰ï¼Œç¼–ç æ¨¡å¼(utf-8) ç­‰ï¼›</p>\n<p>ç¼–å†™ä¹ æƒ¯å¿…é¡»ä¸€è‡´ï¼ˆä¾‹å¦‚éƒ½æ˜¯é‡‡ç”¨ç»§æ‰¿å¼çš„å†™æ³•ï¼Œå•æ ·å¼éƒ½å†™æˆä¸€è¡Œï¼‰ï¼›</p>\n<p>æ ‡æ³¨æ ·å¼ç¼–å†™äººï¼Œå„æ¨¡å—éƒ½åŠæ—¶æ ‡æ³¨ï¼ˆæ ‡æ³¨å…³é”®æ ·å¼è°ƒç”¨çš„åœ°æ–¹ï¼‰ï¼›</p>\n<p>é¡µé¢è¿›è¡Œæ ‡æ³¨ï¼ˆä¾‹å¦‚ é¡µé¢ æ¨¡å— å¼€å§‹å’Œç»“æŸï¼‰ï¼›</p>\n<p>CSSè·ŸHTML åˆ†æ–‡ä»¶å¤¹å¹¶è¡Œå­˜æ”¾ï¼Œå‘½åéƒ½å¾—ç»Ÿä¸€ï¼ˆä¾‹å¦‚style.cssï¼‰ï¼›</p>\n<p>JS åˆ†æ–‡ä»¶å¤¹å­˜æ”¾ å‘½åä»¥è¯¥JSåŠŸèƒ½ä¸ºå‡†çš„è‹±æ–‡ç¿»è¯‘ã€‚</p>\n<p>å›¾ç‰‡é‡‡ç”¨æ•´åˆçš„ images.png png8 æ ¼å¼æ–‡ä»¶ä½¿ç”¨å°½é‡æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨æ–¹ä¾¿å°†æ¥çš„ç®¡ç† </p>\n<h2 id=\"è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ\"><a href=\"#è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ\" class=\"headerlink\" title=\"è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ\"></a>è¯´è¯´æœ€è¿‘æœ€æµè¡Œçš„ä¸€äº›ä¸œè¥¿å§ï¼Ÿå¸¸å»å“ªäº›ç½‘ç«™ï¼Ÿ</h2><p>Node.jsã€Mongodbã€npmã€MVVMã€MEANã€three.jsã€Reactã€Vueã€WebGL<br>ç½‘ç«™ï¼šæ˜é‡‘ã€segmentfaultã€Githubã€w3cplusã€å‰ç«¯åœˆã€çŸ¥ä¹ç­‰</p>\n","categories":[],"tags":["éšç¬”","é¢è¯•"]},{"title":"Fetchå­¦ä¹ ç¬”è®°","url":"http://yoursite.com/2017/05/20/Fetchå­¦ä¹ ç¬”è®°/","content":"<blockquote>\n<p>å‰è¨€: å‰å‡ å¤©é¢è¯•é—®åˆ° Ajaxå’ŒFetchçš„åŒºåˆ«ï¼Œå› ä¸ºä»¥å‰ä¹Ÿç”¨è¿‡è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡éš¾å€’æˆ‘ï¼Œç°åœ¨å›å¤´æ•´ç†ä¸€éã€‚</p>\n</blockquote>\n<h1 id=\"fetch\"><a href=\"#fetch\" class=\"headerlink\" title=\"fetch\"></a>fetch</h1><blockquote>\n<p>ä¸XMLHttpRequest(XHR)ç±»ä¼¼ï¼Œfetch()æ–¹æ³•å…è®¸ä½ å‘å‡ºAJAXè¯·æ±‚ã€‚åŒºåˆ«åœ¨äºFetch APIä½¿ç”¨Promiseï¼Œå› æ­¤æ˜¯ä¸€ç§ç®€æ´æ˜äº†çš„APIï¼Œæ¯”XMLHttpRequestæ›´åŠ ç®€å•æ˜“ç”¨ã€‚</p>\n</blockquote>\n<p>å¦‚æœè¿˜ä¸äº†è§£<code>Promise</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href=\"https://hzzly.github.io/2017/03/25/%E6%B5%85%E8%B0%88Promise/\" target=\"_blank\" rel=\"noopener\">æµ…è°ˆPromise</a>è¿™ç¯‡åšå®¢</p>\n<h2 id=\"æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰\"><a href=\"#æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰\" class=\"headerlink\" title=\"æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰\"></a>æ¯”è¾ƒXMLHttpRequestï¼ˆä¼ ç»ŸAjaxï¼‰</h2><p>åˆ›å»ºæ­¥éª¤ï¼š</p>\n<blockquote>\n<ul>\n<li>åˆ›å»º<code>XMLHttpRequest</code>å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡</li>\n<li>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>HTTP</code>è¯·æ±‚ï¼Œå¹¶æŒ‡å®šè¯¥<code>HTTP</code>è¯·æ±‚çš„æ–¹æ³•ã€<code>URL</code>åŠéªŒè¯ä¿¡æ¯</li>\n<li>å‘é€<code>HTTP</code>è¯·æ±‚</li>\n<li>å¤„ç†å“åº”ï¼Œè·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®</li>\n</ul>\n</blockquote>\n<p>å¯ä»¥å‘ç°ï¼Œä¸»è¦çš„ä¸åŒç‚¹åœ¨äºï¼šä¼ ç»ŸAjaxä½¿ç”¨äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯Promiseå¯¹è±¡ï¼Œå¹¶ä¸”è¯·æ±‚çš„å‘èµ·å®Œå…¨ä¾èµ–äºxhrå¯¹è±¡æ‰€æä¾›çš„æ–¹æ³•ã€‚</p>\n<p>æƒ³è¯¦ç»†äº†è§£ Ajaxçš„å°è£…å¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡åšå®¢ï¼Œä¸€æ­¥æ­¥æ•™ä½  Ajaxçš„å°è£…ğŸ‘‰<a href=\"https://hzzly.github.io/2017/05/17/Ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">Ajaxå­¦ä¹ ç¬”è®°</a></p>\n<h2 id=\"fetchè¯­æ³•\"><a href=\"#fetchè¯­æ³•\" class=\"headerlink\" title=\"fetchè¯­æ³•\"></a>fetchè¯­æ³•</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(url)</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> response.json();</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(data);</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t.catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>);</span><br><span class=\"line\">\t&#125;);</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨ ES6 çš„ <code>ç®­å¤´å‡½æ•°</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(url)</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data))</span><br><span class=\"line\">\t.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>, e))</span><br></pre></td></tr></table></figure></p>\n<p>ä½¿ç”¨ <code>async/await</code> æ¥åšæœ€ç»ˆä¼˜åŒ–ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> response = <span class=\"keyword\">await</span> fetch(url);</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> data = response.json();</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(data);</span><br><span class=\"line\">\t&#125; <span class=\"keyword\">catch</span>(e) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>, e);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨ await åï¼Œ<strong>å†™å¼‚æ­¥ä»£ç å°±åƒå†™åŒæ­¥ä»£ç ä¸€æ ·çˆ½</strong>ã€‚await åé¢å¯ä»¥è·Ÿ Promise å¯¹è±¡ï¼Œè¡¨ç¤ºç­‰å¾… Promise resolve() æ‰ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦‚æœ Promise è¢« reject() æˆ–æŠ›å‡ºå¼‚å¸¸åˆ™ä¼šè¢«å¤–é¢çš„ tryâ€¦catch æ•è·ã€‚</p>\n<p>å¦‚æœè¿˜ä¸äº†è§£<code>async/await</code>ï¼Œå¯ä»¥ç§»æ­¥ğŸ‘‰<a href=\"https://hzzly.github.io/2017/05/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Async%E5%87%BD%E6%95%B0/\" target=\"_blank\" rel=\"noopener\">es6Async</a>è¿™ç¯‡åšå®¢</p>\n<h2 id=\"GETè¯·æ±‚\"><a href=\"#GETè¯·æ±‚\" class=\"headerlink\" title=\"GETè¯·æ±‚\"></a>GETè¯·æ±‚</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(url, &#123;</span><br><span class=\"line\">    method: <span class=\"string\">\"GET\"</span>, <span class=\"comment\">//é»˜è®¤</span></span><br><span class=\"line\">    headers:&#123;</span><br><span class=\"line\">    \t<span class=\"string\">\"Accept\"</span>: <span class=\"string\">\"application/json, text/plain, */*\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data))</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>, e))</span><br></pre></td></tr></table></figure>\n<h2 id=\"POSTè¯·æ±‚\"><a href=\"#POSTè¯·æ±‚\" class=\"headerlink\" title=\"POSTè¯·æ±‚\"></a>POSTè¯·æ±‚</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(url, &#123;</span><br><span class=\"line\">    method: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">    headers: &#123;</span><br><span class=\"line\">    \t<span class=\"string\">\"Accept\"</span>: <span class=\"string\">\"application/json, text/plain, */*\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Content-type\"</span>:<span class=\"string\">\"application:/x-www-form-urlencoded; charset=UTF-8\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    body: <span class=\"string\">\"name=hzzly&amp;age=22\"</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data))</span><br><span class=\"line\">.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>, e))</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯\"><a href=\"#ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯\" class=\"headerlink\" title=\"ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯\"></a>ä½¿ç”¨Fetchè¯·æ±‚å‘é€å‡­è¯</h2><blockquote>\n<p>è¦ä½¿ç”¨Fetchå‘é€å¸¦æœ‰è¯¸å¦‚cookieä¹‹ç±»çš„å‡­è¯çš„è¯·æ±‚ã€‚ä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä¸­å°†credentialså±æ€§å€¼è®¾ç½®ä¸ºâ€œincludeâ€ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fetch(url,&#123;</span><br><span class=\"line\">\tcredentials: <span class=\"string\">\"include\"</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h1 id=\"å°è£…POSTè¯·æ±‚\"><a href=\"#å°è£…POSTè¯·æ±‚\" class=\"headerlink\" title=\"å°è£…POSTè¯·æ±‚\"></a>å°è£…POSTè¯·æ±‚</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å°†å¯¹è±¡æ‹¼æ¥æˆ name=hzzly&amp;age=22 çš„å­—ç¬¦ä¸²å½¢å¼</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">params</span>(<span class=\"params\">obj</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> result = <span class=\"string\">''</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> item <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">\t\tresult += <span class=\"string\">`&amp;<span class=\"subst\">$&#123;item&#125;</span>=<span class=\"subst\">$&#123;obj[item]&#125;</span>`</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(result) &#123;</span><br><span class=\"line\">\t\tresult = result.slice(<span class=\"number\">1</span>)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">post</span>(<span class=\"params\">url, paramsObj</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> result = fetch(url, &#123;</span><br><span class=\"line\">\t\tmethods: <span class=\"string\">'POST'</span>,</span><br><span class=\"line\">\t\tcredentials: <span class=\"string\">\"include\"</span></span><br><span class=\"line\">\t\theaders: &#123;</span><br><span class=\"line\">\t    \t<span class=\"string\">\"Accept\"</span>: <span class=\"string\">\"application/json, text/plain, */*\"</span>,</span><br><span class=\"line\">\t        <span class=\"string\">\"Content-type\"</span>:<span class=\"string\">\"application:/x-www-form-urlencoded; charset=UTF-8\"</span></span><br><span class=\"line\">\t    &#125;,</span><br><span class=\"line\">\t    body: params(paramsObj)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">\tname: <span class=\"string\">'hzzly'</span>,</span><br><span class=\"line\">\tage: <span class=\"number\">22</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">post(url, obj)</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> response.json())</span><br><span class=\"line\">\t.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> <span class=\"built_in\">console</span>.log(data))</span><br><span class=\"line\">\t.catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">\"Oops, error\"</span>, e))</span><br></pre></td></tr></table></figure>","categories":[],"tags":["éšç¬”","JavaScript","Fetch"]},{"title":"Ajaxå­¦ä¹ ç¬”è®°","url":"http://yoursite.com/2017/05/17/Ajaxå­¦ä¹ ç¬”è®°/","content":"<blockquote>\n<p>åœ¨ä¸Šä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œå› ä¸ºç”¨åˆ°äº†å‰åç«¯åˆ†ç¦»çš„æ€è·¯ï¼Œæ‰€ä»¥éƒ½è¦é€šè¿‡Ajaxæ¥è¯·æ±‚æ•°æ®ç„¶åæŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œä¸€å¼€å§‹æƒ³è¿‡ç›´æ¥å¼•ç”¨Jqueryï¼Œä½†æ„Ÿè§‰å°±ä½¿ç”¨Jqueryçš„Ajaxå‡½æ•°ï¼Œæœ‰ç‚¹å¤ªæµªè´¹ï¼Œæ‰€ä»¥å°±è‡ªå·±æ’¸äº†ä¸€ä¸ªAjaxå‡½æ•°ã€‚æœ¬æ–‡ç”±æµ…å…¥æ·±ï¼Œä¸€æ­¥ä¸€æ­¥å¸¦ä½ å°è£…å±äºè‡ªå·±çš„Ajaxåº“ã€‚</p>\n</blockquote>\n<h2 id=\"Ajaxç®€ä»‹\"><a href=\"#Ajaxç®€ä»‹\" class=\"headerlink\" title=\"Ajaxç®€ä»‹\"></a>Ajaxç®€ä»‹</h2><blockquote>\n<ul>\n<li>Asynchronous Javascript And XML ï¼ˆå¼‚æ­¥çš„JavaScriptå’ŒXMLï¼‰</li>\n<li>å®ƒå¹¶ä¸æ˜¯ä¸€ç§å•ä¸€çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æœ‰æœºåˆ©ç”¨ä¸€ç³»åˆ—äº¤äº’å¼ç½‘é¡µåº”ç”¨ç›¸å…³çš„æŠ€æœ¯æ‰€å½¢æˆçš„ç»“åˆä½“</li>\n<li>Ajaxæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚åœ¨å‰å°ä¸åå°è¿›è¡Œæ•°æ®äº¤æ¢ï¼ŒAjaxå¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ã€‚</li>\n</ul>\n</blockquote>\n<h3 id=\"1ã€ä¼˜ç‚¹\"><a href=\"#1ã€ä¼˜ç‚¹\" class=\"headerlink\" title=\"1ã€ä¼˜ç‚¹\"></a>1ã€ä¼˜ç‚¹</h3><blockquote>\n<ul>\n<li>é¡µé¢æ— åˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚</li>\n<li>å¼‚æ­¥é€šä¿¡ï¼Œæ›´åŠ å¿«çš„å“åº”èƒ½åŠ›ã€‚</li>\n<li>å‡å°‘å†—ä½™è¯·æ±‚ï¼Œå‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…ã€‚</li>\n<li>åŸºäºæ ‡å‡†åŒ–çš„å¹¶è¢«å¹¿æ³›æ”¯æŒçš„æŠ€æœ¯</li>\n</ul>\n</blockquote>\n<h3 id=\"2ã€åº”ç”¨åœºæ™¯\"><a href=\"#2ã€åº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"2ã€åº”ç”¨åœºæ™¯\"></a>2ã€åº”ç”¨åœºæ™¯</h3><blockquote>\n<ul>\n<li>åœºæ™¯ 1. æ•°æ®éªŒè¯</li>\n<li>åœºæ™¯ 2. æŒ‰éœ€å–æ•°æ®</li>\n<li>åœºæ™¯ 3. è‡ªåŠ¨æ›´æ–°é¡µé¢</li>\n<li>â€¦</li>\n</ul>\n</blockquote>\n<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æ¥ç‚¹å¹²è´§ã€‚</p>\n<h2 id=\"åˆ›å»ºajaxçš„æ­¥éª¤\"><a href=\"#åˆ›å»ºajaxçš„æ­¥éª¤\" class=\"headerlink\" title=\"åˆ›å»ºajaxçš„æ­¥éª¤\"></a>åˆ›å»ºajaxçš„æ­¥éª¤</h2><blockquote>\n<p>Ajaxçš„åŸç†ç®€å•æ¥è¯´é€šè¿‡<code>XMLHttpRequest</code>å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨javascriptæ¥æ“ä½œDOMè€Œæ›´æ–°é¡µé¢ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®ã€‚åŸç”Ÿåˆ›å»ºajaxå¯åˆ†ä¸ºä»¥ä¸‹å››æ­¥</p>\n</blockquote>\n<h3 id=\"1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡\"><a href=\"#1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡\" class=\"headerlink\" title=\"1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡\"></a>1ã€åˆ›å»ºXMLHttpRequestå¯¹è±¡</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createRequest</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.XMLHttpRequest) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//IE6ä»¥ä¸Š</span></span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> xhr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2ã€å‡†å¤‡è¯·æ±‚\"><a href=\"#2ã€å‡†å¤‡è¯·æ±‚\" class=\"headerlink\" title=\"2ã€å‡†å¤‡è¯·æ±‚\"></a>2ã€å‡†å¤‡è¯·æ±‚</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.open(method,url,<span class=\"keyword\">async</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¯·æ±‚ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå…¶å€¼å¯ä»¥æ˜¯<code>GET</code>æˆ–è€…<code>POST</code><br><code>GET</code>è¯·æ±‚ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.open(<span class=\"string\">\"GET\"</span>,demo.php?name=hzzly&amp;age=<span class=\"number\">21</span>,<span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure>\n<p><code>POST</code>è¯·æ±‚ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.open(<span class=\"string\">\"POST\"</span>,demo.php,<span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä½œä¸ºè¯·æ±‚å‘é€ç›®æ ‡çš„URLã€‚</p>\n</li>\n<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯trueæˆ–falseï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯ä»¥å¼‚æ­¥è¿˜æ˜¯åŒæ­¥çš„æ¨¡å¼å‘å‡ºã€‚ï¼ˆé»˜è®¤ä¸ºtrueï¼Œä¸€èˆ¬ä¸å»ºè®®ä¸ºfalseï¼‰</li>\n</ul>\n<h3 id=\"3ã€å‘é€è¯·æ±‚\"><a href=\"#3ã€å‘é€è¯·æ±‚\" class=\"headerlink\" title=\"3ã€å‘é€è¯·æ±‚\"></a>3ã€å‘é€è¯·æ±‚</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.send();</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p><code>GET</code>è¯·æ±‚ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.open(<span class=\"string\">\"GET\"</span>,demo.php?name=hzzly&amp;age=<span class=\"number\">21</span>,<span class=\"literal\">true</span>);</span><br><span class=\"line\">xhr.send();</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>POST</code>è¯·æ±‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.open(<span class=\"string\">\"POST\"</span>,demo.php,<span class=\"literal\">true</span>);</span><br><span class=\"line\">xhr.setRequestHeder(<span class=\"string\">\"Content-Type\"</span>,<span class=\"string\">\"application/x-www-form-urlencoded;charset=UTF-8\"</span>);</span><br><span class=\"line\">xhr.send(param)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"4ã€å¤„ç†å“åº”\"><a href=\"#4ã€å¤„ç†å“åº”\" class=\"headerlink\" title=\"4ã€å¤„ç†å“åº”\"></a>4ã€å¤„ç†å“åº”</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(xhr.readyState == <span class=\"number\">4</span> &amp;&amp; xhr.status == <span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(xhr.responseText);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li><code>onreadystatechange</code>ï¼šå½“å¤„ç†è¿‡ç¨‹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰§è¡Œä¸‹é¢çš„å‡½æ•°</li>\n<li><code>readyState</code>ï¼šajaxå¤„ç†è¿‡ç¨‹<ul>\n<li>0ï¼šè¯·æ±‚æœªåˆå§‹åŒ–ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ <code>open()</code>ï¼‰</li>\n<li>1ï¼šè¯·æ±‚å·²ç»å»ºç«‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘é€ï¼ˆè¿˜æ²¡æœ‰è°ƒç”¨ <code>send()</code>ï¼‰</li>\n<li>2ï¼šè¯·æ±‚å·²å‘é€ï¼Œæ­£åœ¨å¤„ç†ä¸­ï¼ˆé€šå¸¸ç°åœ¨å¯ä»¥ä»å“åº”ä¸­è·å–å†…å®¹å¤´ï¼‰</li>\n<li>3ï¼šè¯·æ±‚åœ¨å¤„ç†ä¸­ï¼›é€šå¸¸å“åº”ä¸­å·²æœ‰éƒ¨åˆ†æ•°æ®å¯ç”¨äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿˜æ²¡æœ‰å®Œæˆå“åº”çš„ç”Ÿæˆ</li>\n<li>4ï¼šå“åº”å·²å®Œæˆï¼›æ‚¨å¯ä»¥è·å–å¹¶ä½¿ç”¨æœåŠ¡å™¨çš„å“åº”äº†</li>\n</ul>\n</li>\n<li><code>status</code>å±æ€§:<ul>\n<li>200: â€œOKâ€</li>\n<li>404: æœªæ‰¾åˆ°é¡µé¢</li>\n</ul>\n</li>\n<li><code>responseText</code>ï¼šè·å¾—å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®ï¼Œå¯ä»¥ç”¨<code>JSON.parse(xhr.responseText)</code>è½¬åŒ–ä¸º<code>JSON</code>å¯¹è±¡</li>\n</ul>\n</blockquote>\n<h2 id=\"å°è£…ä¾‹å­\"><a href=\"#å°è£…ä¾‹å­\" class=\"headerlink\" title=\"å°è£…ä¾‹å­\"></a>å°è£…ä¾‹å­</h2><blockquote>\n<p>1.getè¯·æ±‚å‡½æ•°</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ä¸€ä¸ªç®€å•çš„getè¯·æ±‚</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;String&#125;   url     è¯·æ±‚åœ°å€,æ–‡ä»¶å</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;Function&#125; fnSucc  è¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;Function&#125; fnFaild è¯·æ±‚å¤±è´¥æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Get</span>(<span class=\"params\">url, fnSucc, fnFaild</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.åˆ›å»ºajaxå¯¹è±¡</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> xhr = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined.</span></span><br><span class=\"line\"><span class=\"comment\">         * è¿›å…¥elseè‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequeståœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™</span></span><br><span class=\"line\"><span class=\"comment\">         **/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.XMLHttpRequest) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//IE6ä»¥ä¸Š</span></span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//2.è¿æ¥æœåŠ¡å™¨</span></span><br><span class=\"line\">    <span class=\"comment\">//open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥)</span></span><br><span class=\"line\">    xhr.open(<span class=\"string\">\"GET\"</span>, url, <span class=\"literal\">true</span>);</span><br><span class=\"line\">    <span class=\"comment\">//3.å‘é€è¯·æ±‚</span></span><br><span class=\"line\">    xhr.send();</span><br><span class=\"line\">    <span class=\"comment\">//4.æ¥æ”¶è¿”å›</span></span><br><span class=\"line\">    <span class=\"comment\">//OnRedayStateChangeäº‹ä»¶</span></span><br><span class=\"line\">    xhr.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xhr.readyState === <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (xhr.status === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//alert(\"æˆåŠŸ\" + xhr.responseText);</span></span><br><span class=\"line\">                fnSucc(xhr.responseText);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">//alert(\"æœåŠ¡å™¨å“åº”å¤±è´¥!\");</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (fnFaild) &#123;</span><br><span class=\"line\">                    fnFaild();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>2.getä¸postç»“åˆçš„è¯·æ±‚å‡½æ•°</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * AJAXå‡½æ•°å°è£…</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;string&#125; url     è¯·æ±‚åœ°å€ï¼ˆå¿…é¡»ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\"> * @param &#123;object&#125; options å‘é€è¯·æ±‚çš„é€‰é¡¹å‚æ•°</span></span><br><span class=\"line\"><span class=\"comment\"> *   @config &#123;string&#125; [options.type] è¯·æ±‚å‘é€çš„ç±»å‹ã€‚é»˜è®¤ä¸ºGETã€‚</span></span><br><span class=\"line\"><span class=\"comment\"> *   @config &#123;Object&#125; [options.data] éœ€è¦å‘é€çš„æ•°æ®ã€‚</span></span><br><span class=\"line\"><span class=\"comment\"> *   @config &#123;Function&#125; [options.onsuccess] è¯·æ±‚æˆåŠŸæ—¶è§¦å‘ã€‚ï¼ˆå¿…é¡»ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\"> *   @config &#123;Function&#125; [options.onfail] è¯·æ±‚å¤±è´¥æ—¶è§¦å‘ã€‚</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">AJAX</span>(<span class=\"params\">url, options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.åˆ›å»ºajaxå¯¹è±¡</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> xhr = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * æ­¤å¤„å¿…é¡»éœ€è¦ä½¿ç”¨window.çš„æ–¹å¼,è¡¨ç¤ºä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±æ€§.ä¸å­˜åœ¨æ—¶å€¼ä¸ºundefined,è¿›å…¥else</span></span><br><span class=\"line\"><span class=\"comment\">         * è‹¥ç›´æ¥ä½¿ç”¨XMLHttpRequest,åœ¨ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šæŠ¥é”™</span></span><br><span class=\"line\"><span class=\"comment\">         **/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.XMLHttpRequest) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//IE6ä»¥ä¸Š</span></span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        xhr = <span class=\"keyword\">new</span> ActiveXObject(<span class=\"string\">\"Microsoft.XMLHTTP\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//2.è¿æ¥æœåŠ¡å™¨</span></span><br><span class=\"line\">    <span class=\"comment\">//open(æ–¹æ³•,url,æ˜¯å¦å¼‚æ­¥)</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> param = <span class=\"string\">\"\"</span>; <span class=\"comment\">//è¯·æ±‚å‚æ•°ã€‚</span></span><br><span class=\"line\">    <span class=\"comment\">//åªæœ‰dataå­˜åœ¨ï¼Œä¸”ä¸ºå¯¹è±¡ä½¿æ‰æ‰§è¡Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> data = options.data ? options.data : <span class=\"number\">-1</span>; <span class=\"comment\">//ç¼“å­˜data</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> (data) === <span class=\"string\">\"object\"</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> data) &#123; <span class=\"comment\">//è¯·æ±‚å‚æ•°æ‹¼æ¥</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data.hasOwnProperty(key)) &#123;</span><br><span class=\"line\">                param += <span class=\"string\">`<span class=\"subst\">$&#123;key&#125;</span>=<span class=\"subst\">$&#123;data[key]&#125;</span>&amp;`</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        param.replace(<span class=\"regexp\">/&amp;$/</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        param = <span class=\"string\">\"timestamp=\"</span> + <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//3.å‘é€è¯·æ±‚</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> type = options.type ? options.type.toUpperCase() : <span class=\"string\">\"GET\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (type === <span class=\"string\">\"GET\"</span>) &#123;</span><br><span class=\"line\">        xhr.open(<span class=\"string\">\"GET\"</span>, <span class=\"string\">`<span class=\"subst\">$&#123;url&#125;</span>?<span class=\"subst\">$&#123;param&#125;</span>`</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        xhr.send();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        xhr.open(<span class=\"string\">\"POST\"</span>, url, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        xhr.setRequestHeder(<span class=\"string\">\"Content-Type\"</span>,<span class=\"string\">\"application/x-www-form-urlencoded;charset=UTF-8\"</span>);</span><br><span class=\"line\">        xhr.send(param);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//4.æ¥æ”¶è¿”å›</span></span><br><span class=\"line\">    <span class=\"comment\">//OnRedayStateChangeäº‹ä»¶</span></span><br><span class=\"line\">    xhr.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xhr.readyState === <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (xhr.status === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//è¯·æ±‚æˆåŠŸã€‚å½¢å‚ä¸ºè·å–åˆ°çš„å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®</span></span><br><span class=\"line\">                options.onsuccess(xhr.responseText);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">//å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯·æ±‚å¤±è´¥å‡½æ•°</span></span><br><span class=\"line\">                <span class=\"comment\">//å­˜åœ¨æ—¶ï¼Œå½¢å‚ä¸ºXMLHttpRequestå¯¹è±¡ï¼Œä¾¿äºè¿›è¡Œé”™è¯¯è¿›è¡Œå¤„ç†</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (options.onfail) &#123;</span><br><span class=\"line\">                    options.onfail(xhr);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[],"tags":["éšç¬”","JavaScript"]},{"title":"è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼","url":"http://yoursite.com/2017/05/15/è¯»ä¹¦ç¬”è®°-es6ç¼–ç¨‹é£æ ¼/","content":"<h1 id=\"ç¼–ç¨‹é£æ ¼\"><a href=\"#ç¼–ç¨‹é£æ ¼\" class=\"headerlink\" title=\"ç¼–ç¨‹é£æ ¼\"></a><strong>ç¼–ç¨‹é£æ ¼</strong></h1><h2 id=\"å—çº§ä½œç”¨åŸŸ\"><a href=\"#å—çº§ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"å—çº§ä½œç”¨åŸŸ\"></a>å—çº§ä½œç”¨åŸŸ</h2><blockquote>\n<ul>\n<li>let å–ä»£ var</li>\n</ul>\n</blockquote>\n<p>ES6æå‡ºäº†ä¸¤ä¸ªæ–°çš„å£°æ˜å˜é‡çš„å‘½ä»¤ï¼šletå’Œconstã€‚å…¶ä¸­ï¼Œletå®Œå…¨å¯ä»¥å–ä»£varï¼Œå› ä¸ºä¸¤è€…è¯­ä¹‰ç›¸åŒï¼Œè€Œä¸”letæ²¡æœ‰å‰¯ä½œç”¨ã€‚</p>\n<blockquote>\n<ul>\n<li>å…¨å±€å¸¸é‡å’Œçº¿ç¨‹å®‰å…¨</li>\n</ul>\n</blockquote>\n<p>åœ¨letå’Œconstä¹‹é—´ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨constï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±€ç¯å¢ƒï¼Œä¸åº”è¯¥è®¾ç½®å˜é‡ï¼Œåªåº”è®¾ç½®å¸¸é‡ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span>, b = <span class=\"number\">2</span>, c = <span class=\"number\">3</span>;</span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"number\">3</span>;</span><br><span class=\"line\"><span class=\"comment\">// best</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [a, b, c] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br></pre></td></tr></table></figure></p>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/04/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6let%E4%B8%8Econst/\" target=\"_blank\" rel=\"noopener\">letä¸const</a></p>\n<h2 id=\"å­—ç¬¦ä¸²\"><a href=\"#å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²\"></a>å­—ç¬¦ä¸²</h2><blockquote>\n<ul>\n<li>é™æ€å­—ç¬¦ä¸²ä¸€å¾‹ä½¿ç”¨å•å¼•å·æˆ–åå¼•å·ï¼Œä¸ä½¿ç”¨åŒå¼•å·ã€‚åŠ¨æ€å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"string\">\"foobar\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> b = <span class=\"string\">'foo'</span> + a + <span class=\"string\">'bar'</span>;</span><br><span class=\"line\"><span class=\"comment\">// acceptable</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"string\">`foobar`</span>;</span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> a = <span class=\"string\">'foobar'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> b = <span class=\"string\">`foo<span class=\"subst\">$&#123;a&#125;</span>bar`</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> c = <span class=\"string\">'foobar'</span>;</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/04/22/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/\" target=\"_blank\" rel=\"noopener\">å­—ç¬¦ä¸²çš„æ‰©å±•</a></p>\n<h2 id=\"è§£æ„èµ‹å€¼\"><a href=\"#è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"è§£æ„èµ‹å€¼\"></a>è§£æ„èµ‹å€¼</h2><blockquote>\n<ul>\n<li>ä½¿ç”¨æ•°ç»„æˆå‘˜å¯¹å˜é‡èµ‹å€¼æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</li>\n<li>å‡½æ•°çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„æˆå‘˜ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</li>\n<li>å¦‚æœå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œä¼˜å…ˆä½¿ç”¨å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚è¿™æ ·ä¾¿äºä»¥åæ·»åŠ è¿”å›å€¼ï¼Œä»¥åŠæ›´æ”¹è¿”å›å€¼çš„é¡ºåºã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> [first, second] = arr;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getFullName</span>(<span class=\"params\">&#123; firstName, lastName &#125;</span>) </span>&#123; &#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; left, right &#125; = processInput(input);</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/04/21/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/\" target=\"_blank\" rel=\"noopener\">è§£æ„èµ‹å€¼</a></p>\n<h2 id=\"å¯¹è±¡\"><a href=\"#å¯¹è±¡\" class=\"headerlink\" title=\"å¯¹è±¡\"></a>å¯¹è±¡</h2><blockquote>\n<ul>\n<li>å•è¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä¸ä»¥é€—å·ç»“å°¾ã€‚å¤šè¡Œå®šä¹‰çš„å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªæˆå‘˜ä»¥é€—å·ç»“å°¾ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> a = &#123; <span class=\"attr\">k1</span>: v1, <span class=\"attr\">k2</span>: v2 &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> b = &#123;</span><br><span class=\"line\">  k1: v1,</span><br><span class=\"line\">  k2: v2,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°½é‡é‡‡ç”¨ç®€æ´è¡¨è¾¾æ³•ï¼Œè¿™æ ·æ˜“äºæè¿°å’Œä¹¦å†™</li>\n</ul>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ref = <span class=\"string\">'some value'</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> atom = &#123;</span><br><span class=\"line\">  ref,</span><br><span class=\"line\">  value: <span class=\"number\">1</span>,</span><br><span class=\"line\">  addValue(value) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> atom.value + value;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/05/06/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/\" target=\"_blank\" rel=\"noopener\">å¯¹è±¡çš„æ‰©å±•</a></p>\n<h2 id=\"æ•°ç»„\"><a href=\"#æ•°ç»„\" class=\"headerlink\" title=\"æ•°ç»„\"></a>æ•°ç»„</h2><blockquote>\n<ul>\n<li>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰æ‹·è´æ•°ç»„ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> itemsCopy = [...items];</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>ä½¿ç”¨Array.fromæ–¹æ³•ï¼Œå°†ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡è½¬ä¸ºæ•°ç»„ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.foo'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> nodes = <span class=\"built_in\">Array</span>.from(foo);</span><br><span class=\"line\"><span class=\"comment\">//æˆ–è€…æ‰©å±•è¿ç®—ç¬¦(...)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> nodes = [...foo];</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/05/04/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/\" target=\"_blank\" rel=\"noopener\">æ•°ç»„çš„æ‰©å±•</a></p>\n<h2 id=\"å‡½æ•°\"><a href=\"#å‡½æ•°\" class=\"headerlink\" title=\"å‡½æ•°\"></a>å‡½æ•°</h2><blockquote>\n<ul>\n<li>é‚£äº›éœ€è¦ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼çš„åœºåˆï¼Œå°½é‡ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿ã€‚å› ä¸ºè¿™æ ·æ›´ç®€æ´ï¼Œè€Œä¸”ç»‘å®šäº†thisã€‚</li>\n<li>ä½¿ç”¨restè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä»£æ›¿å‚æ•°</li>\n<li>ä½¿ç”¨é»˜è®¤å€¼è¯­æ³•è®¾ç½®å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].map(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x * x);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">concatenateAll</span>(<span class=\"params\">...args</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> args.join(<span class=\"string\">''</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleThings</span>(<span class=\"params\">opts = &#123;&#125;</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/05/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95/\" target=\"_blank\" rel=\"noopener\">å‡½æ•°çš„æ‰©å±•</a></p>\n<h2 id=\"Class\"><a href=\"#Class\" class=\"headerlink\" title=\"Class\"></a>Class</h2><blockquote>\n<ul>\n<li>æ€»æ˜¯ç”¨Classï¼Œå–ä»£éœ€è¦prototypeçš„æ“ä½œã€‚å› ä¸ºClassçš„å†™æ³•æ›´ç®€æ´ï¼Œæ›´æ˜“äºç†è§£ã€‚</li>\n<li>ä½¿ç”¨extendså®ç°ç»§æ‰¿ï¼Œå› ä¸ºè¿™æ ·æ›´ç®€å•ï¼Œä¸ä¼šæœ‰ç ´åinstanceofè¿ç®—çš„å±é™©ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(contents = []) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  getA() &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>()</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  getB() &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/05/11/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Class/\" target=\"_blank\" rel=\"noopener\">Class</a></p>\n<h2 id=\"æ¨¡å—\"><a href=\"#æ¨¡å—\" class=\"headerlink\" title=\"æ¨¡å—\"></a>æ¨¡å—</h2><blockquote>\n<ul>\n<li>ä½¿ç”¨importå–ä»£requireã€‚</li>\n<li>ä½¿ç”¨exportå–ä»£module.exportsã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; func1, func2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">'moduleA'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'foo'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>äº†è§£æ›´å¤šğŸ‘‰ï¼š<a href=\"https://hzzly.github.io/2017/05/14/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-es6Module/\" target=\"_blank\" rel=\"noopener\">Module</a></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Module","url":"http://yoursite.com/2017/05/14/è¯»ä¹¦ç¬”è®°-es6Module/","content":"<h1 id=\"Module\"><a href=\"#Module\" class=\"headerlink\" title=\"Module\"></a><strong>Module</strong></h1><h2 id=\"æ¦‚è¿°\"><a href=\"#æ¦‚è¿°\" class=\"headerlink\" title=\"æ¦‚è¿°\"></a>æ¦‚è¿°</h2><blockquote>\n<p>åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ã€‚ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼ŒES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼ŒCommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// CommonJSæ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123; stat, exists, readFile &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> _fs = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> stat = _fs.stat;</span><br><span class=\"line\"><span class=\"keyword\">let</span> exists = _fs.exists;</span><br><span class=\"line\"><span class=\"keyword\">let</span> readfile = _fs.readfile;</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—ï¼ˆå³åŠ è½½fsçš„æ‰€æœ‰æ–¹æ³•ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼ˆ_fsï¼‰ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–3ä¸ªæ–¹æ³•ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ï¼Œå› ä¸ºåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå¯¼è‡´å®Œå…¨æ²¡åŠæ³•åœ¨ç¼–è¯‘æ—¶åšâ€œé™æ€ä¼˜åŒ–â€ã€‚</p>\n<blockquote>\n<p>ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œå†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES6æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; stat, exists, readFile &#125; <span class=\"keyword\">from</span> <span class=\"string\">'fs'</span>;</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯ä»fsæ¨¡å—åŠ è½½3ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ã€‚è¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½ï¼Œå³ ES6 å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½ï¼Œæ•ˆç‡è¦æ¯” CommonJS æ¨¡å—çš„åŠ è½½æ–¹å¼é«˜ã€‚</p>\n<h2 id=\"ä¸¥æ ¼æ¨¡å¼\"><a href=\"#ä¸¥æ ¼æ¨¡å¼\" class=\"headerlink\" title=\"ä¸¥æ ¼æ¨¡å¼\"></a>ä¸¥æ ¼æ¨¡å¼</h2><blockquote>\n<p>ES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Šâ€use strictâ€;ã€‚</p>\n</blockquote>\n<p>ä¸¥æ ¼æ¨¡å¼ä¸»è¦æœ‰ä»¥ä¸‹é™åˆ¶:</p>\n<blockquote>\n<ul>\n<li>å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨</li>\n<li>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li>\n<li>ä¸èƒ½ä½¿ç”¨withè¯­å¥</li>\n<li>ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</li>\n<li>ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™</li>\n<li>ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™</li>\n<li>ä¸èƒ½åˆ é™¤å˜é‡delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§delete global[prop]</li>\n<li>evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡</li>\n<li>evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼</li>\n<li>argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–</li>\n<li>ä¸èƒ½ä½¿ç”¨arguments.callee</li>\n<li>ä¸èƒ½ä½¿ç”¨arguments.caller</li>\n<li>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡</li>\n<li>ä¸èƒ½ä½¿ç”¨fn.callerå’Œfn.argumentsè·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ</li>\n<li>å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚protectedã€staticå’Œinterfaceï¼‰</li>\n</ul>\n</blockquote>\n<h2 id=\"export-å‘½ä»¤\"><a href=\"#export-å‘½ä»¤\" class=\"headerlink\" title=\"export å‘½ä»¤\"></a>export å‘½ä»¤</h2><blockquote>\n<p>exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¾“å‡ºå˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">let</span> firstName = <span class=\"string\">'Michael'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">let</span> lastName = <span class=\"string\">'Jackson'</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">let</span> year = <span class=\"number\">1958</span>;</span><br><span class=\"line\"><span class=\"comment\">//æˆ–è€…ç®€å†™</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> firstName = <span class=\"string\">'Michael'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> lastName = <span class=\"string\">'Jackson'</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> year = <span class=\"number\">1958</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123;firstName, lastName, year&#125;;</span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºå‡½æ•°æˆ–ç±»ï¼ˆclassï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">multiply</span>(<span class=\"params\">x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x * y;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"import-å‘½ä»¤\"><a href=\"#import-å‘½ä»¤\" class=\"headerlink\" title=\"import å‘½ä»¤\"></a>import å‘½ä»¤</h2><blockquote>\n<p>importå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ï¼Œimportå‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œ</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;firstName, lastName, year&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./index'</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setName</span>(<span class=\"params\">element</span>) </span>&#123;</span><br><span class=\"line\">  element.textContent = firstName + <span class=\"string\">' '</span> + lastName;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>aså…³é”®å­—</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¸ºè¾“å…¥çš„å˜é‡é‡æ–°å–ä¸€ä¸ªåå­—</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; lastName <span class=\"keyword\">as</span> surname &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./index'</span>;</span><br><span class=\"line\"><span class=\"comment\">//æ¨¡å—æ•´ä½“åŠ è½½</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> circle <span class=\"keyword\">from</span> <span class=\"string\">'./circle'</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"export-default-å‘½ä»¤\"><a href=\"#export-default-å‘½ä»¤\" class=\"headerlink\" title=\"export default å‘½ä»¤\"></a>export default å‘½ä»¤</h2><blockquote>\n<p>ä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡º</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// export-default.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'foo'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// import-default.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> customName <span class=\"keyword\">from</span> <span class=\"string\">'./export-default'</span>;</span><br><span class=\"line\">customName(); <span class=\"comment\">// 'foo'</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"æ —å­\"><a href=\"#æ —å­\" class=\"headerlink\" title=\"æ —å­\"></a>æ —å­</h2><p>ä¸€ä¸ª vuex æ¨¡å—ï¼ˆmoduleï¼‰å®ä¾‹<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//com.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> types <span class=\"keyword\">from</span> <span class=\"string\">'../types'</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> state = &#123;</span><br><span class=\"line\">    showLoading: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> actions = &#123;</span><br><span class=\"line\">    setShowLoading(&#123; commit &#125;, status) &#123;</span><br><span class=\"line\">        commit(types.COM_SHOW_LOADING, status)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> getters = &#123;</span><br><span class=\"line\">    showLoading: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.showLoading,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> mutations = &#123;</span><br><span class=\"line\">    [types.COM_SHOW_LOADING](state, status) &#123;</span><br><span class=\"line\">        state.showLoading = status</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    state,</span><br><span class=\"line\">    actions,</span><br><span class=\"line\">    getters,</span><br><span class=\"line\">    mutations</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//serach.vue</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapGetters &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vuex'</span></span><br><span class=\"line\">computed: &#123;</span><br><span class=\"line\">\t<span class=\"comment\">//mapGetters(map: Array&lt;string&gt; | Object): Object,åˆ›å»ºç»„ä»¶çš„è®¡ç®—å±æ€§è¿”å› getter çš„è¿”å›å€¼</span></span><br><span class=\"line\">\t<span class=\"comment\">//ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getters æ··å…¥ computed å¯¹è±¡ä¸­</span></span><br><span class=\"line\">    ...mapGetters([</span><br><span class=\"line\">        <span class=\"string\">'showLoading'</span></span><br><span class=\"line\">\t])</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿","url":"http://yoursite.com/2017/05/13/è¯»ä¹¦ç¬”è®°-es6Classçš„ç»§æ‰¿/","content":"<h2 id=\"Classçš„ç»§æ‰¿\"><a href=\"#Classçš„ç»§æ‰¿\" class=\"headerlink\" title=\"Classçš„ç»§æ‰¿\"></a><strong>Classçš„ç»§æ‰¿</strong></h2><h3 id=\"ä¸€ã€åŸºæœ¬ç”¨æ³•\"><a href=\"#ä¸€ã€åŸºæœ¬ç”¨æ³•\" class=\"headerlink\" title=\"ä¸€ã€åŸºæœ¬ç”¨æ³•\"></a>ä¸€ã€åŸºæœ¬ç”¨æ³•</h3><blockquote>\n<p>Classä¹‹é—´å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯”ES5çš„é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ColorPoint</span> <span class=\"keyword\">extends</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y, color) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>(x, y); <span class=\"comment\">// è°ƒç”¨çˆ¶ç±»çš„constructor(x, y)</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.color = color;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  toString() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.color + <span class=\"string\">' '</span> + <span class=\"keyword\">super</span>.toString(); <span class=\"comment\">// è°ƒç”¨çˆ¶ç±»çš„toString()</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</p>\n<blockquote>\n<p>ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šé¢ï¼ˆParent.apply(this)ï¼‰ã€‚ES6çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼ˆæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨superæ–¹æ³•ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚</p>\n</blockquote>\n<p>åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼Œæ˜¯åŸºäºå¯¹çˆ¶ç±»å®ä¾‹åŠ å·¥ï¼Œåªæœ‰superæ–¹æ³•æ‰èƒ½è¿”å›çˆ¶ç±»å®ä¾‹ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.x = x;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.y = y;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ColorPoint</span> <span class=\"keyword\">extends</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y, color) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.color = color; <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\">    <span class=\"keyword\">super</span>(x, y);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.color = color; <span class=\"comment\">// æ­£ç¡®</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä¸‹é¢æ˜¯ç”Ÿæˆå­ç±»å®ä¾‹çš„ä»£ç ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> cp = <span class=\"keyword\">new</span> ColorPoint(<span class=\"number\">25</span>, <span class=\"number\">8</span>, <span class=\"string\">'green'</span>);</span><br><span class=\"line\">cp <span class=\"keyword\">instanceof</span> ColorPoint <span class=\"comment\">// true</span></span><br><span class=\"line\">cp <span class=\"keyword\">instanceof</span> Point <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§\"><a href=\"#äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§\" class=\"headerlink\" title=\"äºŒã€ç±»çš„prototypeå±æ€§å’Œprotoå±æ€§\"></a>äºŒã€ç±»çš„prototypeå±æ€§å’Œ<strong>proto</strong>å±æ€§</h3><blockquote>\n<p>å¤§å¤šæ•°æµè§ˆå™¨çš„ES5å®ç°ä¹‹ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰<strong>proto</strong>å±æ€§ï¼ŒæŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚Classä½œä¸ºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼ŒåŒæ—¶æœ‰prototypeå±æ€§å’Œ<strong>proto</strong>å±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚<br>1ï¼‰å­ç±»çš„<strong>proto</strong>å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚<br>2ï¼‰å­ç±»prototypeå±æ€§çš„<strong>proto</strong>å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">B.__proto__ === A <span class=\"comment\">// true</span></span><br><span class=\"line\">B.prototype.__proto__ === A.prototype <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€Object-getPrototypeOf\"><a href=\"#ä¸‰ã€Object-getPrototypeOf\" class=\"headerlink\" title=\"ä¸‰ã€Object.getPrototypeOf()\"></a>ä¸‰ã€Object.getPrototypeOf()</h3><blockquote>\n<p>Object.getPrototypeOfæ–¹æ³•å¯ä»¥ç”¨æ¥ä»å­ç±»ä¸Šè·å–çˆ¶ç±»ã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­ï¼Œä¸€ä¸ªç±»æ˜¯å¦ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(ColorPoint) === Point</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€super-å…³é”®å­—\"><a href=\"#å››ã€super-å…³é”®å­—\" class=\"headerlink\" title=\"å››ã€super å…³é”®å­—\"></a>å››ã€super å…³é”®å­—</h3><blockquote>\n<p>superè¿™ä¸ªå…³é”®å­—ï¼Œæ—¢å¯ä»¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•å®Œå…¨ä¸åŒã€‚<br>1) superä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ES6 è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„ï¼Œsuperè™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³superå†…éƒ¨çš„thisæŒ‡çš„æ˜¯Bï¼Œå› æ­¤super()åœ¨è¿™é‡Œç›¸å½“äºA.prototype.constructor.call(this)ã€‚</p>\n<blockquote>\n<p>2) superä½œä¸ºå¯¹è±¡æ—¶ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  p() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">super</span>.p()); <span class=\"comment\">// 2</span></span><br><span class=\"line\">    <span class=\"comment\">//super.p() ç›¸å½“äº A.prototype.p()</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> B();</span><br></pre></td></tr></table></figure>\n<p>ç”±äºsuperæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡superè°ƒç”¨çš„ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.p = <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  get m() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">super</span>.p;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> B();</span><br><span class=\"line\">b.m <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure></p>\n<p>å¦‚æœå±æ€§å®šä¹‰åœ¨çˆ¶ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œsuperå°±å¯ä»¥å–åˆ°ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;&#125;</span><br><span class=\"line\">A.prototype.x = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">super</span>.x) <span class=\"comment\">// 2</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> B();</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>ES6 è§„å®šï¼Œé€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œsuperä¼šç»‘å®šå­ç±»çš„thisã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.x = <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  print() &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.x);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.x = <span class=\"number\">2</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  m() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.print();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> B();</span><br><span class=\"line\">b.m() <span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œsuper.print()è™½ç„¶è°ƒç”¨çš„æ˜¯A.prototype.print()ï¼Œä½†æ˜¯A.prototype.print()ä¼šç»‘å®šå­ç±»Bçš„thisï¼Œå¯¼è‡´è¾“å‡ºçš„æ˜¯2ï¼Œè€Œä¸æ˜¯1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯super.print.call(this)ã€‚</p>\n<h3 id=\"äº”ã€å®ä¾‹çš„protoå±æ€§\"><a href=\"#äº”ã€å®ä¾‹çš„protoå±æ€§\" class=\"headerlink\" title=\"äº”ã€å®ä¾‹çš„protoå±æ€§\"></a>äº”ã€å®ä¾‹çš„<strong>proto</strong>å±æ€§</h3><blockquote>\n<p>å­ç±»å®ä¾‹çš„<strong>proto</strong>å±æ€§çš„<strong>proto</strong>å±æ€§ï¼ŒæŒ‡å‘çˆ¶ç±»å®ä¾‹çš„<strong>proto</strong>å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»çš„åŸå‹çš„åŸå‹ï¼Œæ˜¯çˆ¶ç±»çš„åŸå‹</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> Point(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> ColorPoint(<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"string\">'red'</span>);</span><br><span class=\"line\">p2.__proto__ === p1.__proto__ <span class=\"comment\">// false</span></span><br><span class=\"line\">p2.__proto__.__proto__ === p1.__proto__ <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>å› æ­¤ï¼Œé€šè¿‡å­ç±»å®ä¾‹çš„<strong>proto</strong>.<strong>proto</strong>å±æ€§ï¼Œå¯ä»¥ä¿®æ”¹çˆ¶ç±»å®ä¾‹çš„è¡Œä¸ºã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p2.__proto__.__proto__.printName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'Ha'</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">p1.printName() <span class=\"comment\">// \"Ha\"</span></span><br></pre></td></tr></table></figure></p>\n<p>ä¸Šé¢ä»£ç åœ¨ColorPointçš„å®ä¾‹p2ä¸Šå‘Pointç±»æ·»åŠ æ–¹æ³•ï¼Œç»“æœå½±å“åˆ°äº†Pointçš„å®ä¾‹p1ã€‚</p>\n<h3 id=\"å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿\"><a href=\"#å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿\" class=\"headerlink\" title=\"å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿\"></a>å…­ã€åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿</h3><blockquote>\n<ul>\n<li>Boolean()</li>\n<li>Number()</li>\n<li>String()</li>\n<li>Array()</li>\n<li>Date()</li>\n<li>Function()</li>\n<li>RegExp()</li>\n<li>Error()</li>\n<li>Object()</li>\n</ul>\n</blockquote>\n<p>ä»¥å‰ï¼Œè¿™äº›åŸç”Ÿæ„é€ å‡½æ•°æ˜¯æ— æ³•ç»§æ‰¿çš„ï¼Œæ¯”å¦‚ï¼Œä¸èƒ½è‡ªå·±å®šä¹‰ä¸€ä¸ªArrayçš„å­ç±»ã€‚ES6å¯ä»¥è‡ªå®šä¹‰åŸç”Ÿæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚Arrayã€Stringç­‰ï¼‰çš„å­ç±»ï¼Œè¿™æ˜¯ES5æ— æ³•åšåˆ°çš„ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">VersionedArray</span> <span class=\"keyword\">extends</span> <span class=\"title\">Array</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.history = [[]];</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  commit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.history.push(<span class=\"keyword\">this</span>.slice());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  revert() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.splice(<span class=\"number\">0</span>, <span class=\"keyword\">this</span>.length, ...this.history[<span class=\"keyword\">this</span>.history.length - <span class=\"number\">1</span>]);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"keyword\">new</span> VersionedArray();</span><br><span class=\"line\">x.push(<span class=\"number\">1</span>);</span><br><span class=\"line\">x.push(<span class=\"number\">2</span>);</span><br><span class=\"line\">x <span class=\"comment\">// [1, 2]</span></span><br><span class=\"line\">x.history <span class=\"comment\">// [[]]</span></span><br><span class=\"line\">x.commit();</span><br><span class=\"line\">x.history <span class=\"comment\">// [[], [1, 2]]</span></span><br><span class=\"line\">x.push(<span class=\"number\">3</span>);</span><br><span class=\"line\">x <span class=\"comment\">// [1, 2, 3]</span></span><br><span class=\"line\">x.revert();</span><br><span class=\"line\">x <span class=\"comment\">// [1, 2]</span></span><br></pre></td></tr></table></figure></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Class","url":"http://yoursite.com/2017/05/11/è¯»ä¹¦ç¬”è®°-es6Class/","content":"<h2 id=\"Class\"><a href=\"#Class\" class=\"headerlink\" title=\"Class\"></a><strong>Class</strong></h2><h3 id=\"ä¸€ã€ClassåŸºæœ¬è¯­æ³•\"><a href=\"#ä¸€ã€ClassåŸºæœ¬è¯­æ³•\" class=\"headerlink\" title=\"ä¸€ã€ClassåŸºæœ¬è¯­æ³•\"></a>ä¸€ã€ClassåŸºæœ¬è¯­æ³•</h3><p>ä¼ ç»Ÿæ–¹æ³•:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Point</span>(<span class=\"params\">x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.x = x;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.y = y;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Point.prototype.toString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'('</span> + <span class=\"keyword\">this</span>.x + <span class=\"string\">', '</span> + <span class=\"keyword\">this</span>.y + <span class=\"string\">')'</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> Point(<span class=\"number\">1</span>, <span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure></p>\n<p>ES6:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.x = x;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.y = y;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  toString() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'('</span> + <span class=\"keyword\">this</span>.x + <span class=\"string\">', '</span> + <span class=\"keyword\">this</span>.y + <span class=\"string\">')'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> Point(<span class=\"number\">1</span>, <span class=\"number\">2</span>);</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>ES6çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•:</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">typeof</span> Point <span class=\"comment\">// \"function\"</span></span><br><span class=\"line\">Point === Point.prototype.constructor <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼Œåœ¨ES6çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>()&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  toString()&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  toValue()&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\">Point.prototype = &#123;</span><br><span class=\"line\">  toString()&#123;&#125;,</span><br><span class=\"line\">  toValue()&#123;&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>åœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> B();</span><br><span class=\"line\">b.constructor === B.prototype.constructor <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨prototypeå¯¹è±¡ä¸Šé¢ã€‚Object.assignæ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>()&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.assign(Point.prototype, &#123;</span><br><span class=\"line\">  toString()&#123;&#125;,</span><br><span class=\"line\">  toValue()&#123;&#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//prototypeå¯¹è±¡çš„constructorå±æ€§ï¼Œç›´æ¥æŒ‡å‘â€œç±»â€çš„æœ¬èº«ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</span></span><br><span class=\"line\">Point.prototype.constructor === Point <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼ˆnon-enumerableï¼‰ã€‚<strong>è¿™ä¸€ç‚¹ä¸ES5çš„è¡Œä¸ºä¸ä¸€è‡´</strong>ã€‚</p>\n</blockquote>\n<h3 id=\"äºŒã€constructoræ–¹æ³•\"><a href=\"#äºŒã€constructoræ–¹æ³•\" class=\"headerlink\" title=\"äºŒã€constructoræ–¹æ³•\"></a>äºŒã€constructoræ–¹æ³•</h3><blockquote>\n<p>constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚</p>\n</blockquote>\n<h3 id=\"ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡\"><a href=\"#ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡\" class=\"headerlink\" title=\"ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡\"></a>ä¸‰ã€ç±»çš„å®ä¾‹å¯¹è±¡</h3><blockquote>\n<p>ç”Ÿæˆç±»çš„å®ä¾‹å¯¹è±¡çš„å†™æ³•ï¼Œä¸ES5å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨newå‘½ä»¤ã€‚å¦‚æœå¿˜è®°åŠ ä¸Šnewï¼Œåƒå‡½æ•°é‚£æ ·è°ƒç”¨Classï¼Œå°†ä¼šæŠ¥é”™ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> point = Point(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"comment\">// æ­£ç¡®</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> point = <span class=\"keyword\">new</span> Point(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä¸ES5ä¸€æ ·ï¼Œå®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆå³å®šä¹‰åœ¨thiså¯¹è±¡ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆå³å®šä¹‰åœ¨classä¸Šï¼‰ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.x = x;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.y = y;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  toString() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'('</span> + <span class=\"keyword\">this</span>.x + <span class=\"string\">', '</span> + <span class=\"keyword\">this</span>.y + <span class=\"string\">')'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> point = <span class=\"keyword\">new</span> Point(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">point.toString() <span class=\"comment\">// (2, 3)</span></span><br><span class=\"line\">point.hasOwnProperty(<span class=\"string\">'x'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">point.hasOwnProperty(<span class=\"string\">'y'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">point.hasOwnProperty(<span class=\"string\">'toString'</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\">point.__proto__.hasOwnProperty(<span class=\"string\">'toString'</span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œxå’Œyéƒ½æ˜¯å®ä¾‹å¯¹è±¡pointè‡ªèº«çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨thiså˜é‡ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›trueï¼Œè€ŒtoStringæ˜¯åŸå‹å¯¹è±¡çš„å±æ€§ï¼ˆå› ä¸ºå®šä¹‰åœ¨Pointç±»ä¸Šï¼‰ï¼Œæ‰€ä»¥hasOwnPropertyæ–¹æ³•è¿”å›falseã€‚è¿™äº›éƒ½ä¸ES5çš„è¡Œä¸ºä¿æŒä¸€è‡´ã€‚</p>\n<blockquote>\n<p>ä¸ES5ä¸€æ ·ï¼Œç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> Point(<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> Point(<span class=\"number\">3</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">p1.__proto__ === p2.__proto__   <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯Pointçš„å®ä¾‹ï¼Œå®ƒä»¬çš„åŸå‹éƒ½æ˜¯Point.prototypeï¼Œæ‰€ä»¥<strong>proto</strong>å±æ€§æ˜¯ç›¸ç­‰çš„ã€‚</p>\n<p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹çš„<strong>proto</strong>å±æ€§ä¸ºClassæ·»åŠ æ–¹æ³•ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> Point(<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> Point(<span class=\"number\">3</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">p1.__proto__.printName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"string\">'Oops'</span> &#125;;</span><br><span class=\"line\">p1.printName() <span class=\"comment\">// \"Oops\"</span></span><br><span class=\"line\">p2.printName() <span class=\"comment\">// \"Oops\"</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> p3 = <span class=\"keyword\">new</span> Point(<span class=\"number\">4</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">p3.printName() <span class=\"comment\">// \"Oops\"</span></span><br></pre></td></tr></table></figure></p>\n<p>ä¸Šé¢ä»£ç åœ¨p1çš„åŸå‹ä¸Šæ·»åŠ äº†ä¸€ä¸ªprintNameæ–¹æ³•ï¼Œç”±äºp1çš„åŸå‹å°±æ˜¯p2çš„åŸå‹ï¼Œå› æ­¤p2ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è€Œä¸”ï¼Œæ­¤åæ–°å»ºçš„å®ä¾‹p3ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨å®ä¾‹çš„<strong>proto</strong>å±æ€§æ”¹å†™åŸå‹ï¼Œå¿…é¡»ç›¸å½“è°¨æ…ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šæ”¹å˜Classçš„åŸå§‹å®šä¹‰ï¼Œå½±å“åˆ°æ‰€æœ‰å®ä¾‹ã€‚</p>\n<h3 id=\"å››ã€ä¸å­˜åœ¨å˜é‡æå‡\"><a href=\"#å››ã€ä¸å­˜åœ¨å˜é‡æå‡\" class=\"headerlink\" title=\"å››ã€ä¸å­˜åœ¨å˜é‡æå‡\"></a>å››ã€ä¸å­˜åœ¨å˜é‡æå‡</h3><blockquote>\n<p>Classä¸å­˜åœ¨å˜é‡æå‡ï¼ˆhoistï¼‰ï¼Œè¿™ä¸€ç‚¹ä¸ES5å®Œå…¨ä¸åŒã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Foo(); <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"äº”ã€Classè¡¨è¾¾å¼\"><a href=\"#äº”ã€Classè¡¨è¾¾å¼\" class=\"headerlink\" title=\"äº”ã€Classè¡¨è¾¾å¼\"></a>äº”ã€Classè¡¨è¾¾å¼</h3><blockquote>\n<p>é‡‡ç”¨Classè¡¨è¾¾å¼ï¼Œå¯ä»¥å†™å‡ºç«‹å³æ‰§è¡Œçš„Classã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> person = <span class=\"keyword\">new</span> <span class=\"class\"><span class=\"keyword\">class</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(name) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  sayName() &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;(<span class=\"string\">'å¼ ä¸‰'</span>);</span><br><span class=\"line\">person.sayName(); <span class=\"comment\">// \"å¼ ä¸‰\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…­ã€ç§æœ‰æ–¹æ³•\"><a href=\"#å…­ã€ç§æœ‰æ–¹æ³•\" class=\"headerlink\" title=\"å…­ã€ç§æœ‰æ–¹æ³•\"></a>å…­ã€ç§æœ‰æ–¹æ³•</h3><blockquote>\n<p>ç§æœ‰æ–¹æ³•æ˜¯å¸¸è§éœ€æ±‚ï¼Œä½† ES6 ä¸æä¾›ï¼Œåªèƒ½é€šè¿‡å˜é€šæ–¹æ³•æ¨¡æ‹Ÿå®ç°ã€‚</p>\n</blockquote>\n<p>åœ¨å‘½åä¸ŠåŠ ä»¥åŒºåˆ«:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Widget</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// å…¬æœ‰æ–¹æ³•</span></span><br><span class=\"line\">  foo (baz) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._bar(baz);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ç§æœ‰æ–¹æ³•</span></span><br><span class=\"line\">  _bar(baz) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.snaf = baz;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ_baræ–¹æ³•å‰é¢çš„ä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåªé™äºå†…éƒ¨ä½¿ç”¨çš„ç§æœ‰æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§å‘½åæ˜¯ä¸ä¿é™©çš„ï¼Œåœ¨ç±»çš„å¤–éƒ¨ï¼Œè¿˜æ˜¯å¯ä»¥è°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</p>\n<h3 id=\"ä¸ƒã€thisçš„æŒ‡å‘\"><a href=\"#ä¸ƒã€thisçš„æŒ‡å‘\" class=\"headerlink\" title=\"ä¸ƒã€thisçš„æŒ‡å‘\"></a>ä¸ƒã€thisçš„æŒ‡å‘</h3><blockquote>\n<p>ç±»çš„æ–¹æ³•å†…éƒ¨å¦‚æœå«æœ‰thisï¼Œå®ƒé»˜è®¤æŒ‡å‘ç±»çš„å®ä¾‹</p>\n</blockquote>\n<h3 id=\"å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰\"><a href=\"#å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰\" class=\"headerlink\" title=\"å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰\"></a>å…«ã€Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰</h3><blockquote>\n<p>ä¸ES5ä¸€æ ·ï¼Œåœ¨Classå†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸ºã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  get prop() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'getter'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  set prop(value) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'setter: '</span>+value);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> inst = <span class=\"keyword\">new</span> MyClass();</span><br><span class=\"line\">inst.prop = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"comment\">// setter: 123</span></span><br><span class=\"line\">inst.prop</span><br><span class=\"line\"><span class=\"comment\">// 'getter'</span></span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n<p>æ–‡ç« æ¥æº<a href=\"https://hzzly.github.io/\" target=\"_blank\" rel=\"noopener\">hzzlyåšå®¢æŠ€æœ¯åˆ†äº«</a></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­","url":"http://yoursite.com/2017/05/10/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°æ —å­/","content":"<h2 id=\"asyncå‡½æ•°æ —å­\"><a href=\"#asyncå‡½æ•°æ —å­\" class=\"headerlink\" title=\"asyncå‡½æ•°æ —å­\"></a><strong>asyncå‡½æ•°æ —å­</strong></h2><h3 id=\"æ —å­ä¸€ï¼šä»è±†ç“£-API-è·å–æ•°æ®\"><a href=\"#æ —å­ä¸€ï¼šä»è±†ç“£-API-è·å–æ•°æ®\" class=\"headerlink\" title=\"æ —å­ä¸€ï¼šä»è±†ç“£ API è·å–æ•°æ®\"></a>æ —å­ä¸€ï¼šä»è±†ç“£ API è·å–æ•°æ®</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fetchDoubanApi = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> xhr = <span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\">    xhr.onreadystatechange = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (xhr.readyState === <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xhr.status &gt;= <span class=\"number\">200</span> &amp;&amp; xhr.status &lt; <span class=\"number\">300</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> response;</span><br><span class=\"line\">          <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            response = <span class=\"built_in\">JSON</span>.parse(xhr.responseText);</span><br><span class=\"line\">          &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">            reject(e);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (response) &#123;</span><br><span class=\"line\">            resolve(response, xhr.status, xhr);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          reject(xhr);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    xhr.open(<span class=\"string\">'GET'</span>, <span class=\"string\">'https://api.douban.com/v2/user/aisk'</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">    xhr.setRequestHeader(<span class=\"string\">\"Content-Type\"</span>, <span class=\"string\">\"text/plain\"</span>);</span><br><span class=\"line\">    xhr.send(data);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result = <span class=\"keyword\">await</span> fetchDoubanApi();</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(result);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥\"><a href=\"#æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥\" class=\"headerlink\" title=\"æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥\"></a>æ —å­äºŒï¼šæ ¹æ®ç”µå½±æ–‡ä»¶åï¼Œè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æµ·æŠ¥</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> fs <span class=\"keyword\">from</span> <span class=\"string\">'fs'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> path <span class=\"keyword\">from</span> <span class=\"string\">'path'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">'request'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> movieDir = __dirname + <span class=\"string\">'/movies'</span>,</span><br><span class=\"line\">    exts     = [<span class=\"string\">'.mkv'</span>, <span class=\"string\">'.avi'</span>, <span class=\"string\">'.mp4'</span>, <span class=\"string\">'.rm'</span>, <span class=\"string\">'.rmvb'</span>, <span class=\"string\">'.wmv'</span>];</span><br><span class=\"line\"><span class=\"comment\">// è¯»å–æ–‡ä»¶åˆ—è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> readFiles = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">        fs.readdir(movieDir, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, files</span>) </span>&#123;</span><br><span class=\"line\">            resolve(files.filter(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> exts.includes(path.parse(v).ext)));</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// è·å–æµ·æŠ¥</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> getPoster = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">movieName</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> url = <span class=\"string\">`https://api.douban.com/v2/movie/search?q=<span class=\"subst\">$&#123;<span class=\"built_in\">encodeURI</span>(movieName)&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">        request(&#123;<span class=\"attr\">url</span>: url, <span class=\"attr\">json</span>: <span class=\"literal\">true</span>&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error, response, body</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (error) <span class=\"keyword\">return</span> reject(error);</span><br><span class=\"line\">            resolve(body.subjects[<span class=\"number\">0</span>].images.large);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// ä¿å­˜æµ·æŠ¥</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> savePoster = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">movieName, url</span>) </span>&#123;</span><br><span class=\"line\">    request.get(url).pipe(fs.createWriteStream(path.join(movieDir, movieName + <span class=\"string\">'.jpg'</span>)));</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> files = <span class=\"keyword\">await</span> readFiles();</span><br><span class=\"line\">    <span class=\"comment\">// awaitåªèƒ½ä½¿ç”¨åœ¨åŸç”Ÿè¯­æ³•</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> file <span class=\"keyword\">of</span> files) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> name = path.parse(file).name;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">`æ­£åœ¨è·å–ã€<span class=\"subst\">$&#123;name&#125;</span>ã€‘çš„æµ·æŠ¥`</span>);</span><br><span class=\"line\">        savePoster(name, <span class=\"keyword\">await</span> getPoster(name));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'=== è·å–æµ·æŠ¥å®Œæˆ ==='</span>);</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°","url":"http://yoursite.com/2017/05/09/è¯»ä¹¦ç¬”è®°-es6Asyncå‡½æ•°/","content":"<h2 id=\"async-å‡½æ•°\"><a href=\"#async-å‡½æ•°\" class=\"headerlink\" title=\"async å‡½æ•°\"></a><strong>async å‡½æ•°</strong></h2><blockquote>\n<p>async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚å®ƒæ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p>\n</blockquote>\n<p>Generator å‡½æ•°ï¼Œä¾æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> readFile = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fileName</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">    fs.readFile(fileName, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error, data</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (error) reject(error);</span><br><span class=\"line\">      resolve(data);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> gen = <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> f1 = <span class=\"keyword\">yield</span> readFile(<span class=\"string\">'/etc/fstab'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> f2 = <span class=\"keyword\">yield</span> readFile(<span class=\"string\">'/etc/shells'</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(f1.toString());</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(f2.toString());</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p>å†™æˆasyncå‡½æ•°ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> asyncReadFile = <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> f1 = <span class=\"keyword\">await</span> readFile(<span class=\"string\">'/etc/fstab'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> f2 = <span class=\"keyword\">await</span> readFile(<span class=\"string\">'/etc/shells'</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(f1.toString());</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(f2.toString());</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<p><strong>asyncå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“ç°åœ¨ä»¥ä¸‹å››ç‚¹:</strong></p>\n<blockquote>\n<p>1ï¼‰å†…ç½®æ‰§è¡Œå™¨</p>\n</blockquote>\n<p>Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº†coæ¨¡å—ï¼Œè€Œasyncå‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œasyncå‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = asyncReadFile();</span><br></pre></td></tr></table></figure></p>\n<p>ä¸Šé¢çš„ä»£ç è°ƒç”¨äº†asyncReadFileå‡½æ•°ï¼Œç„¶åå®ƒå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œè¾“å‡ºæœ€åç»“æœã€‚è¿™å®Œå…¨ä¸åƒ Generator å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨nextæ–¹æ³•ï¼Œæˆ–è€…ç”¨coæ¨¡å—ï¼Œæ‰èƒ½çœŸæ­£æ‰§è¡Œï¼Œå¾—åˆ°æœ€åç»“æœã€‚</p>\n<blockquote>\n<p>2ï¼‰æ›´å¥½çš„è¯­ä¹‰</p>\n</blockquote>\n<p>asyncå’Œawaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œyieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</p>\n<blockquote>\n<p>3ï¼‰æ›´å¹¿çš„é€‚ç”¨æ€§</p>\n</blockquote>\n<p>coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰ã€‚</p>\n<blockquote>\n<p>4ï¼‰è¿”å›å€¼æ˜¯ Promise</p>\n</blockquote>\n<p>asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚</p>\n<p>è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚</p>\n<h3 id=\"ä¸€ã€åŸºæœ¬ç”¨æ³•\"><a href=\"#ä¸€ã€åŸºæœ¬ç”¨æ³•\" class=\"headerlink\" title=\"ä¸€ã€åŸºæœ¬ç”¨æ³•\"></a>ä¸€ã€åŸºæœ¬ç”¨æ³•</h3><blockquote>\n<p>asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">timeout</span>(<span class=\"params\">ms</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(resolve, ms);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">asyncPrint</span>(<span class=\"params\">value, ms</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> timeout(ms);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">asyncPrint(<span class=\"string\">'hello world'</span>, <span class=\"number\">5000</span>);</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç æŒ‡å®š5000æ¯«ç§’ä»¥åï¼Œè¾“å‡ºhello worldã€‚</p>\n<p>ç”±äºasyncå‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸ºawaitå‘½ä»¤çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">timeout</span>(<span class=\"params\">ms</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(resolve, ms);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">asyncPrint</span>(<span class=\"params\">value, ms</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> timeout(ms);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">asyncPrint(<span class=\"string\">'hello world'</span>, <span class=\"number\">5000</span>);</span><br></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p><strong>async å‡½æ•°å¤šç§ä½¿ç”¨å½¢å¼</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‡½æ•°å£°æ˜</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123; <span class=\"keyword\">async</span> foo() &#123;&#125; &#125;;</span><br><span class=\"line\">obj.foo().then(...)</span><br><span class=\"line\"><span class=\"comment\">// Class çš„æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Storage</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.cachePromise = caches.open(<span class=\"string\">'avatars'</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">async</span> getAvatar(name) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> cache = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.cachePromise;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cache.match(<span class=\"string\">`/avatars/<span class=\"subst\">$&#123;name&#125;</span>.jpg`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> storage = <span class=\"keyword\">new</span> Storage();</span><br><span class=\"line\">storage.getAvatar(<span class=\"string\">'hzzly'</span>).then(â€¦);</span><br><span class=\"line\"><span class=\"comment\">// ç®­å¤´å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"keyword\">async</span> () =&gt; &#123;&#125;;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"äºŒã€è¯­æ³•\"><a href=\"#äºŒã€è¯­æ³•\" class=\"headerlink\" title=\"äºŒã€è¯­æ³•\"></a>äºŒã€è¯­æ³•</h3><blockquote>\n<p>asyncå‡½æ•°çš„è¯­æ³•è§„åˆ™æ€»ä½“ä¸Šæ¯”è¾ƒç®€å•ï¼Œéš¾ç‚¹æ˜¯é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>\n</blockquote>\n<p><strong>è¿”å› Promise å¯¹è±¡</strong></p>\n<blockquote>\n<p>asyncå‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚asyncå‡½æ•°å†…éƒ¨returnè¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">f</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'hello world'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">f().then(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span> <span class=\"built_in\">console</span>.log(v))</span><br><span class=\"line\"><span class=\"comment\">// \"hello world\"</span></span><br></pre></td></tr></table></figure>\n<p><strong>Promise å¯¹è±¡çš„çŠ¶æ€å˜åŒ–</strong></p>\n<blockquote>\n<p>asyncå‡½æ•°è¿”å›çš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ°returnè¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰asyncå‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTitle</span>(<span class=\"params\">url</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> response = <span class=\"keyword\">await</span> fetch(url);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> html = <span class=\"keyword\">await</span> response.text();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> html.match(<span class=\"regexp\">/&lt;title&gt;([\\s\\S]+)&lt;\\/title&gt;/i</span>)[<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getTitle(<span class=\"string\">'https://tc39.github.io/ecma262/'</span>).then(<span class=\"built_in\">console</span>.log)</span><br><span class=\"line\"><span class=\"comment\">// \"ECMAScript 2017 Language Specification\"</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°getTitleå†…éƒ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼šæŠ“å–ç½‘é¡µã€å–å‡ºæ–‡æœ¬ã€åŒ¹é…é¡µé¢æ ‡é¢˜ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œthenæ–¹æ³•é‡Œé¢çš„console.logã€‚</p>\n<h3 id=\"ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹\"><a href=\"#ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹\" class=\"headerlink\" title=\"ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹\"></a>ä¸‰ã€ä½¿ç”¨æ³¨æ„ç‚¹</h3><blockquote>\n<ul>\n<li>awaitå‘½ä»¤åé¢çš„Promiseå¯¹è±¡ï¼Œè¿è¡Œç»“æœå¯èƒ½æ˜¯rejectedï¼Œæ‰€ä»¥æœ€å¥½æŠŠawaitå‘½ä»¤æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">await</span> somethingThatReturnsAPromise();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// å¦ä¸€ç§å†™æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">myFunction</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> somethingThatReturnsAPromise()</span><br><span class=\"line\">  .catch(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>å¤šä¸ªawaitå‘½ä»¤åé¢çš„å¼‚æ­¥æ“ä½œï¼Œå¦‚æœä¸å­˜åœ¨ç»§å‘å…³ç³»ï¼Œæœ€å¥½è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å¼‚æ­¥æ“ä½œï¼ˆå³äº’ä¸ä¾èµ–ï¼‰ï¼Œè¢«å†™æˆç»§å‘å…³ç³»ã€‚è¿™æ ·æ¯”è¾ƒè€—æ—¶ï¼Œå› ä¸ºåªæœ‰getFooå®Œæˆä»¥åï¼Œæ‰ä¼šæ‰§è¡ŒgetBarï¼Œå®Œå…¨å¯ä»¥è®©å®ƒä»¬åŒæ—¶è§¦å‘ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> foo = <span class=\"keyword\">await</span> getFoo();</span><br><span class=\"line\"><span class=\"keyword\">let</span> bar = <span class=\"keyword\">await</span> getBar();</span><br><span class=\"line\"><span class=\"comment\">// å†™æ³•ä¸€</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> [foo, bar] = <span class=\"keyword\">await</span> <span class=\"built_in\">Promise</span>.all([getFoo(), getBar()]);</span><br><span class=\"line\"><span class=\"comment\">// å†™æ³•äºŒ</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> fooPromise = getFoo();</span><br><span class=\"line\"><span class=\"keyword\">let</span> barPromise = getBar();</span><br><span class=\"line\"><span class=\"keyword\">let</span> foo = <span class=\"keyword\">await</span> fooPromise;</span><br><span class=\"line\"><span class=\"keyword\">let</span> bar = <span class=\"keyword\">await</span> barPromise;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>awaitå‘½ä»¤åªèƒ½ç”¨åœ¨asyncå‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</li>\n</ul>\n</blockquote>\n<p>ä¸‹ä¸€èŠ‚å°†ä»‹ç» async å‡½æ•°çš„æ —å­(ğŸŒ°)ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°","url":"http://yoursite.com/2017/05/08/è¯»ä¹¦ç¬”è®°-es6Generatorå‡½æ•°/","content":"<h2 id=\"Generatorå‡½æ•°\"><a href=\"#Generatorå‡½æ•°\" class=\"headerlink\" title=\"Generatorå‡½æ•°\"></a><strong>Generatorå‡½æ•°</strong></h2><blockquote>\n<p>ä»è¯­æ³•ä¸Šï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚<br>è°ƒç”¨ Generator å‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)ã€‚<br>Generator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚<br>Generator å‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">helloWorldGenerator</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"string\">'hello'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"string\">'world'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">'ending'</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> hw = helloWorldGenerator();</span><br><span class=\"line\">hw.next()</span><br><span class=\"line\"><span class=\"comment\">// &#123; value: 'hello', done: false &#125;</span></span><br><span class=\"line\">hw.next()</span><br><span class=\"line\"><span class=\"comment\">// &#123; value: 'world', done: false &#125;</span></span><br><span class=\"line\">hw.next()</span><br><span class=\"line\"><span class=\"comment\">// &#123; value: 'ending', done: true &#125;</span></span><br><span class=\"line\">hw.next()</span><br><span class=\"line\"><span class=\"comment\">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>æ€»ç»“ä¸€ä¸‹ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚</p>\n</blockquote>\n<p><strong>å†™æ³•</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> * <span class=\"title\">foo</span>(<span class=\"params\">x, y</span>) </span>&#123; Â·Â·Â· &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> *<span class=\"title\">foo</span>(<span class=\"params\">x, y</span>) </span>&#123; Â·Â·Â· &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">foo</span>(<span class=\"params\">x, y</span>) </span>&#123; Â·Â·Â· &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>*<span class=\"title\">foo</span>(<span class=\"params\">x, y</span>) </span>&#123; Â·Â·Â· &#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"ä¸€ã€yield-è¡¨è¾¾å¼\"><a href=\"#ä¸€ã€yield-è¡¨è¾¾å¼\" class=\"headerlink\" title=\"ä¸€ã€yield è¡¨è¾¾å¼\"></a>ä¸€ã€yield è¡¨è¾¾å¼</h3><blockquote>\n<p>ç”±äº Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥å…¶å®æä¾›äº†ä¸€ç§å¯ä»¥æš‚åœæ‰§è¡Œçš„å‡½æ•°ã€‚yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚</p>\n</blockquote>\n<p>éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹:<br>1ï¼‰é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚<br>2ï¼‰ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ã€‚<br>3ï¼‰å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ã€‚<br>4ï¼‰å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">gen</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span>  <span class=\"number\">123</span> + <span class=\"number\">456</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> g = gen()</span><br><span class=\"line\">gen.next()</span><br><span class=\"line\"><span class=\"comment\">//&#123; value: 579, done: false &#125;</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"äºŒã€forâ€¦of-å¾ªç¯\"><a href=\"#äºŒã€forâ€¦of-å¾ªç¯\" class=\"headerlink\" title=\"äºŒã€forâ€¦of å¾ªç¯\"></a>äºŒã€forâ€¦of å¾ªç¯</h3><blockquote>\n<p>forâ€¦ofå¾ªç¯å¯ä»¥è‡ªåŠ¨éå† Generator å‡½æ•°æ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ï¼Œä¸”æ­¤æ—¶ä¸å†éœ€è¦è°ƒç”¨nextæ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> *<span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">6</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> v <span class=\"keyword\">of</span> foo()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(v);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸€æ—¦nextæ–¹æ³•çš„è¿”å›å¯¹è±¡çš„doneå±æ€§ä¸ºtrueï¼Œforâ€¦ofå¾ªç¯å°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›å¯¹è±¡ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç çš„returnè¯­å¥è¿”å›çš„6ï¼Œä¸åŒ…æ‹¬åœ¨forâ€¦ofå¾ªç¯ä¹‹ä¸­ã€‚</p>\n<blockquote>\n<p>é™¤äº†forâ€¦ofå¾ªç¯ä»¥å¤–ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€è§£æ„èµ‹å€¼å’ŒArray.fromæ–¹æ³•å†…éƒ¨è°ƒç”¨çš„ï¼Œéƒ½æ˜¯éå†å™¨æ¥å£ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä»¬éƒ½å¯ä»¥å°† Generator å‡½æ•°è¿”å›çš„ Iterator å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">numbers</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">2</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\">  <span class=\"keyword\">yield</span> <span class=\"number\">4</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// æ‰©å±•è¿ç®—ç¬¦</span></span><br><span class=\"line\">[...numbers()] <span class=\"comment\">// [1, 2]</span></span><br><span class=\"line\"><span class=\"comment\">// Array.from æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.from(numbers()) <span class=\"comment\">// [1, 2]</span></span><br><span class=\"line\"><span class=\"comment\">// è§£æ„èµ‹å€¼</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> [x, y] = numbers();</span><br><span class=\"line\">x <span class=\"comment\">// 1</span></span><br><span class=\"line\">y <span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"comment\">// for...of å¾ªç¯</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> n <span class=\"keyword\">of</span> numbers()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(n)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°\"><a href=\"#ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°\" class=\"headerlink\" title=\"ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°\"></a>ä¸‰ã€ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  * myGeneratorMethod() &#123;</span><br><span class=\"line\">    Â·Â·Â·</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">//ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  myGeneratorMethod: <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Â·Â·Â·</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€åº”ç”¨\"><a href=\"#å››ã€åº”ç”¨\" class=\"headerlink\" title=\"å››ã€åº”ç”¨\"></a>å››ã€åº”ç”¨</h3><blockquote>\n<p>1ï¼‰å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">loadUI</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  showLoadingScreen();</span><br><span class=\"line\">  <span class=\"keyword\">yield</span> loadUIDataAsynchronously();</span><br><span class=\"line\">  hideLoadingScreen();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> loader = loadUI();</span><br><span class=\"line\"><span class=\"comment\">// åŠ è½½UI</span></span><br><span class=\"line\">loader.next()</span><br><span class=\"line\"><span class=\"comment\">// å¸è½½UI</span></span><br><span class=\"line\">loader.next()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">main</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"keyword\">yield</span> request(<span class=\"string\">\"http://some.url\"</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> resp = <span class=\"built_in\">JSON</span>.parse(result);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(resp.value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">request</span>(<span class=\"params\">url</span>) </span>&#123;</span><br><span class=\"line\">  makeAjaxCall(url, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>)</span>&#123;</span><br><span class=\"line\">    it.next(response);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> it = main();</span><br><span class=\"line\">it.next();</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>2ï¼‰æ§åˆ¶æµç®¡ç†</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">step1(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value1</span>) </span>&#123;</span><br><span class=\"line\">  step2(value1, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value2</span>) </span>&#123;</span><br><span class=\"line\">    step3(value2, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value3</span>) </span>&#123;</span><br><span class=\"line\">      step4(value3, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value4</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Do something with value4</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>é‡‡ç”¨ Promise æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve(step1)</span><br><span class=\"line\">  .then(step2)</span><br><span class=\"line\">  .then(step3)</span><br><span class=\"line\">  .then(step4)</span><br><span class=\"line\">  .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value4</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something with value4</span></span><br><span class=\"line\">  &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Handle any error from step1 through step4</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .done();</span><br></pre></td></tr></table></figure></p>\n<p>Generator å‡½æ•°å¯ä»¥è¿›ä¸€æ­¥æ”¹å–„ä»£ç è¿è¡Œæµç¨‹ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">longRunningTask</span>(<span class=\"params\">value1</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value2 = <span class=\"keyword\">yield</span> step1(value1);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value3 = <span class=\"keyword\">yield</span> step2(value2);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value4 = <span class=\"keyword\">yield</span> step3(value3);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value5 = <span class=\"keyword\">yield</span> step4(value4);</span><br><span class=\"line\">    <span class=\"comment\">// Do something with value4</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Handle any error from step1 through step4</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">scheduler(longRunningTask(initialValue));</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">scheduler</span>(<span class=\"params\">task</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> taskObj = task.next(task.value);</span><br><span class=\"line\">  <span class=\"comment\">// å¦‚æœGeneratorå‡½æ•°æœªç»“æŸï¼Œå°±ç»§ç»­è°ƒç”¨</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!taskObj.done) &#123;</span><br><span class=\"line\">    task.value = taskObj.value</span><br><span class=\"line\">    scheduler(task);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„","url":"http://yoursite.com/2017/05/07/è¯»ä¹¦ç¬”è®°-es6Setå’ŒMapæ•°æ®ç»“æ„/","content":"<h2 id=\"Setå’ŒMapæ•°æ®ç»“æ„\"><a href=\"#Setå’ŒMapæ•°æ®ç»“æ„\" class=\"headerlink\" title=\"Setå’ŒMapæ•°æ®ç»“æ„\"></a><strong>Setå’ŒMapæ•°æ®ç»“æ„</strong></h2><h3 id=\"ä¸€ã€Set\"><a href=\"#ä¸€ã€Set\" class=\"headerlink\" title=\"ä¸€ã€Set\"></a>ä¸€ã€Set</h3><blockquote>\n<p>å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> s = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>();</span><br><span class=\"line\">[<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>].forEach(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> s.add(x));</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">of</span> s) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 2 3 5 4</span></span><br></pre></td></tr></table></figure>\n<p>Set å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¾‹ä¸€</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>]);</span><br><span class=\"line\">[...set]</span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 4]</span></span><br><span class=\"line\"><span class=\"comment\">// ä¾‹äºŒ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\">items.size <span class=\"comment\">// 5</span></span><br><span class=\"line\"><span class=\"comment\">// ä¾‹ä¸‰</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">divs</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...document.querySelectorAll(<span class=\"string\">'div'</span>)];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(divs());</span><br><span class=\"line\">set.size <span class=\"comment\">// 56</span></span><br><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äº</span></span><br><span class=\"line\">divs().forEach(<span class=\"function\"><span class=\"params\">div</span> =&gt;</span> set.add(div));</span><br><span class=\"line\">set.size <span class=\"comment\">// 56</span></span><br></pre></td></tr></table></figure>\n<p>å»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜</span></span><br><span class=\"line\">[...new <span class=\"built_in\">Set</span>(array)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\"><a href=\"#äºŒã€Set-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\" class=\"headerlink\" title=\"äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\"></a>äºŒã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h3><blockquote>\n<ul>\n<li>å±æ€§<ul>\n<li>Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚</li>\n<li>Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</li>\n</ul>\n</li>\n<li>æ–¹æ³•<ul>\n<li>add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚</li>\n<li>delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</li>\n<li>has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</li>\n<li>clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h3 id=\"ä¸‰ã€éå†æ“ä½œ\"><a href=\"#ä¸‰ã€éå†æ“ä½œ\" class=\"headerlink\" title=\"ä¸‰ã€éå†æ“ä½œ\"></a>ä¸‰ã€éå†æ“ä½œ</h3><blockquote>\n<ul>\n<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨</li>\n<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>\n<li>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>\n<li>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>\n</ul>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"string\">'red'</span>, <span class=\"string\">'green'</span>, <span class=\"string\">'blue'</span>]);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.keys()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// red</span></span><br><span class=\"line\"><span class=\"comment\">// green</span></span><br><span class=\"line\"><span class=\"comment\">// blue</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.values()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// red</span></span><br><span class=\"line\"><span class=\"comment\">// green</span></span><br><span class=\"line\"><span class=\"comment\">// blue</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.entries()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// [\"red\", \"red\"]</span></span><br><span class=\"line\"><span class=\"comment\">// [\"green\", \"green\"]</span></span><br><span class=\"line\"><span class=\"comment\">// [\"blue\", \"blue\"]</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\">set.forEach(<span class=\"function\">(<span class=\"params\">value, key</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(value * <span class=\"number\">2</span>) )</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"comment\">// 6</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]);</span><br><span class=\"line\">set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...set].map(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x * <span class=\"number\">2</span>));</span><br><span class=\"line\"><span class=\"comment\">// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\">set = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...set].filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> (x % <span class=\"number\">2</span>) == <span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"comment\">// è¿”å›Setç»“æ„ï¼š&#123;2, 4&#125;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> unique = [...new <span class=\"built_in\">Set</span>(arr)];</span><br><span class=\"line\"><span class=\"comment\">// [3, 5, 2]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€Map\"><a href=\"#å››ã€Map\" class=\"headerlink\" title=\"å››ã€Map\"></a>å››ã€Map</h3><blockquote>\n<p>å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"built_in\">Map</span>([</span><br><span class=\"line\">  [<span class=\"string\">'name'</span>, <span class=\"string\">'å¼ ä¸‰'</span>],</span><br><span class=\"line\">  [<span class=\"string\">'title'</span>, <span class=\"string\">'Author'</span>]</span><br><span class=\"line\">]);</span><br><span class=\"line\">map.size <span class=\"comment\">// 2</span></span><br><span class=\"line\">map.has(<span class=\"string\">'name'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">'name'</span>) <span class=\"comment\">// \"å¼ ä¸‰\"</span></span><br><span class=\"line\">map.has(<span class=\"string\">'title'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">map.get(<span class=\"string\">'title'</span>) <span class=\"comment\">// \"Author\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äº”ã€Map-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\"><a href=\"#äº”ã€Map-å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\" class=\"headerlink\" title=\"äº”ã€Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•\"></a>äº”ã€Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h3><blockquote>\n<ul>\n<li>å±æ€§<ul>\n<li>Map.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Mapå‡½æ•°ã€‚</li>\n<li>Map.prototype.sizeï¼šè¿”å›Mapå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</li>\n</ul>\n</li>\n<li>æ–¹æ³•<ul>\n<li>set(key, value)ï¼šsetæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚</li>\n<li>get(key)ï¼šgetæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚</li>\n<li>has(key)ï¼šhasæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚</li>\n<li>delete(key)ï¼šdeleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚</li>\n<li>clear(): clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h3 id=\"å…­ã€éå†æ“ä½œ\"><a href=\"#å…­ã€éå†æ“ä½œ\" class=\"headerlink\" title=\"å…­ã€éå†æ“ä½œ\"></a>å…­ã€éå†æ“ä½œ</h3><p>å’Œ Set ä¸€æ ·</p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•","url":"http://yoursite.com/2017/05/06/è¯»ä¹¦ç¬”è®°-es6å¯¹è±¡çš„æ‰©å±•/","content":"<h2 id=\"å¯¹è±¡çš„æ‰©å±•\"><a href=\"#å¯¹è±¡çš„æ‰©å±•\" class=\"headerlink\" title=\"å¯¹è±¡çš„æ‰©å±•\"></a><strong>å¯¹è±¡çš„æ‰©å±•</strong></h2><h3 id=\"ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•\"><a href=\"#ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•\" class=\"headerlink\" title=\"ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•\"></a>ä¸€ã€å±æ€§å’Œæ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ³•</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"string\">'bar'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> baz = &#123;foo&#125;;</span><br><span class=\"line\">baz <span class=\"comment\">// &#123;foo: \"bar\"&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> baz = &#123;<span class=\"attr\">foo</span>: foo&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> o = &#123;</span><br><span class=\"line\">  method() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"Hello!\"</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> o = &#123;</span><br><span class=\"line\">  method: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"Hello!\"</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœæŸä¸ªæ–¹æ³•çš„å€¼æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œå‰é¢éœ€è¦åŠ ä¸Šæ˜Ÿå·ã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  * m()&#123;</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"string\">'hello world'</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ç”¨äºå‡½æ•°çš„è¿”å›å€¼ï¼Œå°†ä¼šéå¸¸æ–¹ä¾¿</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPoint</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> x = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;x, y&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getPoint()</span><br><span class=\"line\"><span class=\"comment\">// &#123;x:1, y:10&#125;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>CommonJSæ¨¡å—è¾“å‡ºå˜é‡ï¼Œå°±éå¸¸åˆé€‚ä½¿ç”¨ç®€æ´å†™æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ms = &#123;&#125;;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getItem</span> (<span class=\"params\">key</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> key <span class=\"keyword\">in</span> ms ? ms[key] : <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setItem</span> (<span class=\"params\">key, value</span>) </span>&#123;</span><br><span class=\"line\">  ms[key] = value;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clear</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  ms = &#123;&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123; getItem, setItem, clear &#125;;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  getItem: getItem,</span><br><span class=\"line\">  setItem: setItem,</span><br><span class=\"line\">  clear: clear</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€Object-is\"><a href=\"#äºŒã€Object-is\" class=\"headerlink\" title=\"äºŒã€Object.is()\"></a>äºŒã€Object.is()</h3><blockquote>\n<p>Object.iså®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚</p>\n</blockquote>\n<h3 id=\"ä¸‰ã€Object-assign\"><a href=\"#ä¸‰ã€Object-assign\" class=\"headerlink\" title=\"ä¸‰ã€Object.assign()\"></a>ä¸‰ã€Object.assign()</h3><blockquote>\n<p>Object.assignæ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> source1 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> source2 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.assign(target, source1, source2);</span><br><span class=\"line\">target <span class=\"comment\">// &#123;a:1, b:2, c:3&#125;</span></span><br><span class=\"line\"><span class=\"comment\">//å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>Object.assignæ–¹æ³•å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123;<span class=\"attr\">a</span>: &#123;<span class=\"attr\">b</span>: <span class=\"number\">1</span>&#125;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, obj1);</span><br><span class=\"line\">obj1.a.b = <span class=\"number\">2</span>;</span><br><span class=\"line\">obj2.a.b <span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>å¯¹äºè¿™ç§åµŒå¥—çš„å¯¹è±¡ï¼Œä¸€æ—¦é‡åˆ°åŒåå±æ€§ï¼ŒObject.assignçš„å¤„ç†æ–¹æ³•æ˜¯æ›¿æ¢ï¼Œè€Œä¸æ˜¯æ·»åŠ ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> target = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'c'</span>, <span class=\"attr\">d</span>: <span class=\"string\">'e'</span> &#125; &#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> source = &#123; <span class=\"attr\">a</span>: &#123; <span class=\"attr\">b</span>: <span class=\"string\">'hello'</span> &#125; &#125;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.assign(target, source)</span><br><span class=\"line\"><span class=\"comment\">// &#123; a: &#123; b: 'hello' &#125; &#125;</span></span><br></pre></td></tr></table></figure>\n<p><strong>Object.assignå¸¸è§ç”¨é€”</strong></p>\n<blockquote>\n<p>1ï¼‰ä¸ºå¯¹è±¡æ·»åŠ å±æ€§</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Point</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(x, y) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">Object</span>.assign(<span class=\"keyword\">this</span>, &#123;x, y&#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢æ–¹æ³•é€šè¿‡Object.assignæ–¹æ³•ï¼Œå°†xå±æ€§å’Œyå±æ€§æ·»åŠ åˆ°Pointç±»çš„å¯¹è±¡å®ä¾‹ã€‚</p>\n<blockquote>\n<p>2ï¼‰ä¸ºå¯¹è±¡æ·»åŠ æ–¹æ³•</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Object</span>.assign(SomeClass.prototype, &#123;</span><br><span class=\"line\">  someMethod(arg1, arg2) &#123;</span><br><span class=\"line\">    Â·Â·Â·</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  anotherMethod() &#123;</span><br><span class=\"line\">    Â·Â·Â·</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäºä¸‹é¢çš„å†™æ³•</span></span><br><span class=\"line\">SomeClass.prototype.someMethod = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">  Â·Â·Â·</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">SomeClass.prototype.anotherMethod = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  Â·Â·Â·</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>3ï¼‰å…‹éš†å¯¹è±¡</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clone</span>(<span class=\"params\">origin</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(&#123;&#125;, origin);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç å°†åŸå§‹å¯¹è±¡æ‹·è´åˆ°ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå°±å¾—åˆ°äº†åŸå§‹å¯¹è±¡çš„å…‹éš†ã€‚</p>\n<p>ä¸è¿‡ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•å…‹éš†ï¼Œåªèƒ½å…‹éš†åŸå§‹å¯¹è±¡è‡ªèº«çš„å€¼ï¼Œä¸èƒ½å…‹éš†å®ƒç»§æ‰¿çš„å€¼ã€‚å¦‚æœæƒ³è¦ä¿æŒç»§æ‰¿é“¾ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„ä»£ç ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clone</span>(<span class=\"params\">origin</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> originProto = <span class=\"built_in\">Object</span>.getPrototypeOf(origin);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.assign(<span class=\"built_in\">Object</span>.create(originProto), origin);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>4ï¼‰åˆå¹¶å¤šä¸ªå¯¹è±¡</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge =</span><br><span class=\"line\">  (target, ...sources) =&gt; <span class=\"built_in\">Object</span>.assign(target, ...sources);</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœå¸Œæœ›åˆå¹¶åè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯ä»¥æ”¹å†™ä¸Šé¢å‡½æ•°ï¼Œå¯¹ä¸€ä¸ªç©ºå¯¹è±¡åˆå¹¶ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge =</span><br><span class=\"line\">  (...sources) =&gt; <span class=\"built_in\">Object</span>.assign(&#123;&#125;, ...sources);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"å››ã€å±æ€§çš„éå†\"><a href=\"#å››ã€å±æ€§çš„éå†\" class=\"headerlink\" title=\"å››ã€å±æ€§çš„éå†\"></a>å››ã€å±æ€§çš„éå†</h3><blockquote>\n<p>1ï¼‰forâ€¦in</p>\n</blockquote>\n<p>forâ€¦inå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</p>\n<blockquote>\n<p>2ï¼‰Object.keys(obj)</p>\n</blockquote>\n<p>Object.keysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚</p>\n<blockquote>\n<p>3ï¼‰Object.getOwnPropertyNames(obj)</p>\n</blockquote>\n<p>Object.getOwnPropertyNamesè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰ã€‚</p>\n<blockquote>\n<p>4ï¼‰Object.getOwnPropertySymbols(obj)</p>\n</blockquote>\n<p>Object.getOwnPropertySymbolsè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§ã€‚</p>\n<blockquote>\n<p>5ï¼‰Reflect.ownKeys(obj)</p>\n</blockquote>\n<p>Reflect.ownKeysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼Œä¸ç®¡å±æ€§åæ˜¯Symbolæˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Reflect</span>.ownKeys(&#123; [<span class=\"built_in\">Symbol</span>()]:<span class=\"number\">0</span>, <span class=\"attr\">b</span>:<span class=\"number\">0</span>, <span class=\"number\">10</span>:<span class=\"number\">0</span>, <span class=\"number\">2</span>:<span class=\"number\">0</span>, <span class=\"attr\">a</span>:<span class=\"number\">0</span> &#125;)</span><br><span class=\"line\"><span class=\"comment\">// ['2', '10', 'b', 'a', Symbol()]</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"äº”ã€Object-keys-ï¼ŒObject-values-ï¼ŒObject-entries\"><a href=\"#äº”ã€Object-keys-ï¼ŒObject-values-ï¼ŒObject-entries\" class=\"headerlink\" title=\"äº”ã€Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()\"></a>äº”ã€Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()</h3><blockquote>\n<ul>\n<li>Object.keysæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®åã€‚</li>\n<li>Object.valuesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼ã€‚Object.valuesåªè¿”å›å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚Object.valuesä¼šè¿‡æ»¤å±æ€§åä¸º Symbol å€¼çš„å±æ€§ã€‚å¦‚æœObject.valuesæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›å„ä¸ªå­—ç¬¦ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚</li>\n<li>Object.entriesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚å¦‚æœåŸå¯¹è±¡çš„å±æ€§åæ˜¯ä¸€ä¸ª Symbol å€¼ï¼Œè¯¥å±æ€§ä¼šè¢«å¿½ç•¥ã€‚Object.entriesçš„åŸºæœ¬ç”¨é€”æ˜¯éå†å¯¹è±¡çš„å±æ€§ã€‚å¦ä¸€ä¸ªç”¨å¤„æ˜¯ï¼Œå°†å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„Mapç»“æ„ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">foo</span>: <span class=\"string\">'bar'</span>, <span class=\"attr\">baz</span>: <span class=\"number\">42</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.keys(obj)</span><br><span class=\"line\"><span class=\"comment\">// [\"foo\", \"baz\"]</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">foo</span>: <span class=\"string\">'bar'</span>, <span class=\"attr\">baz</span>: <span class=\"number\">42</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.values(obj)</span><br><span class=\"line\"><span class=\"comment\">// [\"bar\", 42]</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"number\">100</span>: <span class=\"string\">'a'</span>, <span class=\"number\">2</span>: <span class=\"string\">'b'</span>, <span class=\"number\">7</span>: <span class=\"string\">'c'</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.values(obj)</span><br><span class=\"line\"><span class=\"comment\">// [\"b\", \"c\", \"a\"]</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">foo</span>: <span class=\"string\">'bar'</span>, <span class=\"attr\">baz</span>: <span class=\"number\">42</span> &#125;;</span><br><span class=\"line\"><span class=\"built_in\">Object</span>.entries(obj)</span><br><span class=\"line\"><span class=\"comment\">// [ [\"foo\", \"bar\"], [\"baz\", 42] ]</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123;keys, values, entries&#125; = <span class=\"built_in\">Object</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>, <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">of</span> keys(obj)) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(key); <span class=\"comment\">// 'a', 'b', 'c'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> value <span class=\"keyword\">of</span> values(obj)) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(value); <span class=\"comment\">// 1, 2, 3</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> entries(obj)) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log([key, value]); <span class=\"comment\">// ['a', 1], ['b', 2], ['c', 3]</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦\"><a href=\"#å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦\" class=\"headerlink\" title=\"å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦\"></a>å…­ã€å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦</h3><blockquote>\n<p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> z = &#123; <span class=\"attr\">a</span>: <span class=\"number\">3</span>, <span class=\"attr\">b</span>: <span class=\"number\">4</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> n = &#123; ...z &#125;;</span><br><span class=\"line\">n <span class=\"comment\">// &#123; a: 3, b: 4 &#125;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> aClone = &#123; ...a &#125;;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> aClone = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, a);</span><br><span class=\"line\"><span class=\"comment\">//åˆå¹¶ä¸¤ä¸ªå¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ab = &#123; ...a, ...b &#125;;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ab = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, a, b);</span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n","categories":[],"tags":["éšç¬”","es6","JavaScrip"]},{"title":"è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•","url":"http://yoursite.com/2017/05/05/è¯»ä¹¦ç¬”è®°-es6å‡½æ•°çš„æ‰©å±•/","content":"<h2 id=\"å‡½æ•°çš„æ‰©å±•\"><a href=\"#å‡½æ•°çš„æ‰©å±•\" class=\"headerlink\" title=\"å‡½æ•°çš„æ‰©å±•\"></a><strong>å‡½æ•°çš„æ‰©å±•</strong></h2><h3 id=\"ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼\"><a href=\"#ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼\" class=\"headerlink\" title=\"ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼\"></a>ä¸€ã€å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</h3><blockquote>\n<ul>\n<li>å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜</li>\n<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">log</span>(<span class=\"params\">x, y = <span class=\"string\">'World'</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(x, y);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">log(<span class=\"string\">'Hello'</span>) <span class=\"comment\">// Hello World</span></span><br><span class=\"line\">log(<span class=\"string\">'Hello'</span>, <span class=\"string\">'China'</span>) <span class=\"comment\">// Hello China</span></span><br><span class=\"line\">log(<span class=\"string\">'Hello'</span>, <span class=\"string\">''</span>) <span class=\"comment\">// Hello</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨\"><a href=\"#äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨\" class=\"headerlink\" title=\"äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨\"></a>äºŒã€ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\">&#123;x, y = <span class=\"number\">5</span>&#125;</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(x, y);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo(&#123;&#125;) <span class=\"comment\">// undefined, 5</span></span><br><span class=\"line\">foo(&#123;<span class=\"attr\">x</span>: <span class=\"number\">1</span>&#125;) <span class=\"comment\">// 1, 5</span></span><br><span class=\"line\">foo(&#123;<span class=\"attr\">x</span>: <span class=\"number\">1</span>, <span class=\"attr\">y</span>: <span class=\"number\">2</span>&#125;) <span class=\"comment\">// 1, 2</span></span><br><span class=\"line\">foo() <span class=\"comment\">// TypeError: Cannot read property 'x' of undefined</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€restå‚æ•°\"><a href=\"#ä¸‰ã€restå‚æ•°\" class=\"headerlink\" title=\"ä¸‰ã€restå‚æ•°\"></a>ä¸‰ã€restå‚æ•°</h3><blockquote>\n<p>ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€œâ€¦å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p>\n<ul>\n<li>rest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span>(<span class=\"params\">...values</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> val <span class=\"keyword\">of</span> values) &#123;</span><br><span class=\"line\">    sum += val;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">add(<span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>) <span class=\"comment\">// 10</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">push</span>(<span class=\"params\">array, ...items</span>) </span>&#123;</span><br><span class=\"line\">  items.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">    array.push(item);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(item);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = [];</span><br><span class=\"line\">push(a, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦\"><a href=\"#å››ã€æ‰©å±•è¿ç®—ç¬¦-â€¦\" class=\"headerlink\" title=\"å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)\"></a>å››ã€æ‰©å±•è¿ç®—ç¬¦(â€¦)</h3><blockquote>\n<p>å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚<br>æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„Iteratoræ¥å£</p>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(...[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])</span><br><span class=\"line\"><span class=\"comment\">// 1 2 3</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>, ...[<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>], <span class=\"number\">5</span>)</span><br><span class=\"line\"><span class=\"comment\">// 1 2 3 4 5</span></span><br><span class=\"line\">[...document.querySelectorAll(<span class=\"string\">'div'</span>)]</span><br><span class=\"line\"><span class=\"comment\">// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">push</span>(<span class=\"params\">array, ...items</span>) </span>&#123;</span><br><span class=\"line\">  array.push(...items);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span>(<span class=\"params\">x, y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x + y;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> numbers = [<span class=\"number\">4</span>, <span class=\"number\">38</span>];</span><br><span class=\"line\">add(...numbers) <span class=\"comment\">// 42</span></span><br></pre></td></tr></table></figure>\n<p>æ —å­ï¼š</p>\n<blockquote>\n<ul>\n<li>æ›¿ä»£æ•°ç»„çš„applyæ–¹æ³•</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5çš„å†™æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max.apply(<span class=\"literal\">null</span>, [<span class=\"number\">14</span>, <span class=\"number\">3</span>, <span class=\"number\">77</span>])</span><br><span class=\"line\"><span class=\"comment\">// ES6çš„å†™æ³•</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(...[<span class=\"number\">14</span>, <span class=\"number\">3</span>, <span class=\"number\">77</span>])</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.max(<span class=\"number\">14</span>, <span class=\"number\">3</span>, <span class=\"number\">77</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>åˆå¹¶æ•°ç»„</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES5</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>].concat(more)</span><br><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, ...more]</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr2 = [<span class=\"string\">'c'</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr3 = [<span class=\"string\">'d'</span>, <span class=\"string\">'e'</span>];</span><br><span class=\"line\"><span class=\"comment\">// ES5çš„åˆå¹¶æ•°ç»„</span></span><br><span class=\"line\">arr1.concat(arr2, arr3);</span><br><span class=\"line\"><span class=\"comment\">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br><span class=\"line\"><span class=\"comment\">// ES6çš„åˆå¹¶æ•°ç»„</span></span><br><span class=\"line\">[...arr1, ...arr2, ...arr3]</span><br><span class=\"line\"><span class=\"comment\">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>ä¸è§£æ„èµ‹å€¼ç»“åˆ</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> [first, ...rest] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\">first <span class=\"comment\">// 1</span></span><br><span class=\"line\">rest  <span class=\"comment\">// [2, 3, 4, 5]</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [first, ...rest] = [];</span><br><span class=\"line\">first <span class=\"comment\">// undefined</span></span><br><span class=\"line\">rest  <span class=\"comment\">// []:</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [first, ...rest] = [<span class=\"string\">\"foo\"</span>];</span><br><span class=\"line\">first  <span class=\"comment\">// \"foo\"</span></span><br><span class=\"line\">rest   <span class=\"comment\">// []</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äº”ã€ç®­å¤´å‡½æ•°\"><a href=\"#äº”ã€ç®­å¤´å‡½æ•°\" class=\"headerlink\" title=\"äº”ã€ç®­å¤´å‡½æ•°\"></a>äº”ã€ç®­å¤´å‡½æ•°</h3><blockquote>\n<p>ç®­å¤´å‡½æ•°å¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°</p>\n</blockquote>\n<p>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>\n<p>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>\n<p>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚</p>\n<p>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> f = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> f = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"number\">5</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> f = <span class=\"function\"><span class=\"params\">v</span> =&gt;</span> v;</span><br><span class=\"line\"><span class=\"comment\">//ç­‰åŒäºï¼š</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> f = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">v</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> v;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> sum = <span class=\"function\">(<span class=\"params\">num1, num2</span>) =&gt;</span> num1 + num2;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sum = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">num1, num2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> num1 + num2;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<ul>\n<li>ç®­å¤´å‡½æ•°ç®€åŒ–å›è°ƒå‡½æ•°</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ­£å¸¸å‡½æ•°å†™æ³•</span></span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].map(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">x</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x * x;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// ç®­å¤´å‡½æ•°å†™æ³•</span></span><br><span class=\"line\">[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>].map(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x * x);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>ç®­å¤´å‡½æ•°å¯ä»¥è®©setTimeouté‡Œé¢çš„thisï¼Œç»‘å®šå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯æŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸ</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Timer</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.s1 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.s2 = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// ç®­å¤´å‡½æ•°</span></span><br><span class=\"line\">  setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"keyword\">this</span>.s1++, <span class=\"number\">1000</span>);</span><br><span class=\"line\">  <span class=\"comment\">// æ™®é€šå‡½æ•°</span></span><br><span class=\"line\">  setInterval(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.s2++;</span><br><span class=\"line\">  &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> timer = <span class=\"keyword\">new</span> Timer();</span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'s1: '</span>, timer.s1), <span class=\"number\">3100</span>);</span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'s2: '</span>, timer.s2), <span class=\"number\">3100</span>);</span><br><span class=\"line\"><span class=\"comment\">// s1: 3</span></span><br><span class=\"line\"><span class=\"comment\">// s2: 0</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>å› ä¸ºæ‰€æœ‰çš„å†…å±‚å‡½æ•°éƒ½æ˜¯ç®­å¤´å‡½æ•°ï¼Œéƒ½æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä»¬çš„thiså…¶å®éƒ½æ˜¯æœ€å¤–å±‚fooå‡½æ•°çš„this</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'id:'</span>, <span class=\"keyword\">this</span>.id);</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> f = foo.call(&#123;<span class=\"attr\">id</span>: <span class=\"number\">1</span>&#125;);</span><br><span class=\"line\"><span class=\"keyword\">var</span> t1 = f.call(&#123;<span class=\"attr\">id</span>: <span class=\"number\">2</span>&#125;)()(); <span class=\"comment\">// id: 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> t2 = f().call(&#123;<span class=\"attr\">id</span>: <span class=\"number\">3</span>&#125;)(); <span class=\"comment\">// id: 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> t3 = f()().call(&#123;<span class=\"attr\">id</span>: <span class=\"number\">4</span>&#125;); <span class=\"comment\">// id: 1</span></span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n","categories":[],"tags":["éšç¬”","es6","JavaScrip"]},{"title":"è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•","url":"http://yoursite.com/2017/05/04/è¯»ä¹¦ç¬”è®°-es6æ•°ç»„çš„æ‰©å±•/","content":"<h2 id=\"æ•°ç»„çš„æ‰©å±•\"><a href=\"#æ•°ç»„çš„æ‰©å±•\" class=\"headerlink\" title=\"æ•°ç»„çš„æ‰©å±•\"></a><strong>æ•°ç»„çš„æ‰©å±•</strong></h2><h3 id=\"ä¸€ã€Array-from\"><a href=\"#ä¸€ã€Array-from\" class=\"headerlink\" title=\"ä¸€ã€Array.from()\"></a>ä¸€ã€Array.from()</h3><blockquote>\n<p>å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ES6æ–°å¢çš„æ•°æ®ç»“æ„Setå’ŒMapï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arrayLike = &#123;</span><br><span class=\"line\">    <span class=\"string\">'0'</span>: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">    <span class=\"string\">'1'</span>: <span class=\"string\">'b'</span>,</span><br><span class=\"line\">    <span class=\"string\">'2'</span>: <span class=\"string\">'c'</span>,</span><br><span class=\"line\">    length: <span class=\"number\">3</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// ES5çš„å†™æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [].slice.call(arrayLike); <span class=\"comment\">// ['a', 'b', 'c']</span></span><br><span class=\"line\"><span class=\"comment\">// ES6çš„å†™æ³•</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr2 = <span class=\"built_in\">Array</span>.from(arrayLike); <span class=\"comment\">// ['a', 'b', 'c']</span></span><br><span class=\"line\"><span class=\"comment\">// NodeListå¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ps = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'p'</span>);</span><br><span class=\"line\"><span class=\"built_in\">Array</span>.from(ps).forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">p</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(p);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// argumentså¯¹è±¡</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> args = <span class=\"built_in\">Array</span>.from(<span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„</p>\n</blockquote>\n<h3 id=\"äºŒã€Array-of\"><a href=\"#äºŒã€Array-of\" class=\"headerlink\" title=\"äºŒã€Array.of()\"></a>äºŒã€Array.of()</h3><blockquote>\n<p>ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Array</span>.of(<span class=\"number\">3</span>, <span class=\"number\">11</span>, <span class=\"number\">8</span>) <span class=\"comment\">// [3,11,8]</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.of(<span class=\"number\">3</span>) <span class=\"comment\">// [3]</span></span><br><span class=\"line\"><span class=\"built_in\">Array</span>.of(<span class=\"number\">3</span>).length <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin\"><a href=\"#ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin\" class=\"headerlink\" title=\"ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()\"></a>ä¸‰ã€æ•°ç»„å®ä¾‹çš„copyWithin()</h3><blockquote>\n<p>åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„</p>\n<ul>\n<li>targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚</li>\n<li>startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>\n<li>endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].copyWithin(<span class=\"number\">0</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"comment\">// [4, 5, 3, 4, 5]</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].copyWithin(<span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"comment\">// [4, 2, 3, 4, 5]</span></span><br><span class=\"line\"><span class=\"comment\">// -2ç›¸å½“äº3å·ä½ï¼Œ-1ç›¸å½“äº4å·ä½</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].copyWithin(<span class=\"number\">0</span>, <span class=\"number\">-2</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\"><span class=\"comment\">// [4, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex\"><a href=\"#å››ã€æ•°ç»„å®ä¾‹çš„find-å’ŒfindIndex\" class=\"headerlink\" title=\"å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()\"></a>å››ã€æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()</h3><blockquote>\n<ul>\n<li>findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„<strong>æ•°ç»„æˆå‘˜</strong>ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚</li>\n<li>findIndexè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„<strong>ä½ç½®</strong>ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">-5</span>, <span class=\"number\">10</span>].find(<span class=\"function\">(<span class=\"params\">n</span>) =&gt;</span> n &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"comment\">// -5</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>].find(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, index, arr</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> value &gt; <span class=\"number\">9</span>;</span><br><span class=\"line\">&#125;) <span class=\"comment\">// 10</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>].findIndex(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, index, arr</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> value &gt; <span class=\"number\">9</span>;</span><br><span class=\"line\">&#125;) <span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"äº”ã€æ•°ç»„å®ä¾‹çš„fill\"><a href=\"#äº”ã€æ•°ç»„å®ä¾‹çš„fill\" class=\"headerlink\" title=\"äº”ã€æ•°ç»„å®ä¾‹çš„fill()\"></a>äº”ã€æ•°ç»„å®ä¾‹çš„fill()</h3><blockquote>\n<p>ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'c'</span>].fill(<span class=\"number\">7</span>)</span><br><span class=\"line\"><span class=\"comment\">// [7, 7, 7]</span></span><br><span class=\"line\"><span class=\"comment\">//ä»1å·ä½å¼€å§‹ï¼Œå‘åŸæ•°ç»„å¡«å……7ï¼Œåˆ°2å·ä½ä¹‹å‰ç»“æŸ</span></span><br><span class=\"line\">[<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'c'</span>].fill(<span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\">// ['a', 7, 'c']</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…­ã€æ•°ç»„å®ä¾‹çš„entries-ï¼Œkeys-å’Œvalues\"><a href=\"#å…­ã€æ•°ç»„å®ä¾‹çš„entries-ï¼Œkeys-å’Œvalues\" class=\"headerlink\" title=\"å…­ã€æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()\"></a>å…­ã€æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()</h3><blockquote>\n<p>keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> index <span class=\"keyword\">of</span> [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>].keys()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(index);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> elem <span class=\"keyword\">of</span> [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>].values()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(elem);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 'a'</span></span><br><span class=\"line\"><span class=\"comment\">// 'b'</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [index, elem] <span class=\"keyword\">of</span> [<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>].entries()) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(index, elem);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 0 \"a\"</span></span><br><span class=\"line\"><span class=\"comment\">// 1 \"b\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes\"><a href=\"#ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes\" class=\"headerlink\" title=\"ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes()\"></a>ä¸ƒã€æ•°ç»„å®ä¾‹çš„includes()</h3><blockquote>\n<p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼,æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].includes(<span class=\"number\">2</span>);     <span class=\"comment\">// true</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>].includes(<span class=\"number\">4</span>);     <span class=\"comment\">// false</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"literal\">NaN</span>].includes(<span class=\"literal\">NaN</span>); <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…«ã€æ•°ç»„çš„ç©ºä½\"><a href=\"#å…«ã€æ•°ç»„çš„ç©ºä½\" class=\"headerlink\" title=\"å…«ã€æ•°ç»„çš„ç©ºä½\"></a>å…«ã€æ•°ç»„çš„ç©ºä½</h3><blockquote>\n<ul>\n<li>forEach(), filter(), every() å’Œsome()éƒ½ä¼šè·³è¿‡ç©ºä½</li>\n<li>map()ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼</li>\n<li>join()å’ŒtoString()ä¼šå°†ç©ºä½è§†ä¸ºundefinedï¼Œè€Œundefinedå’Œnullä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸²</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// forEachæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>].forEach(<span class=\"function\">(<span class=\"params\">x,i</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(i)); <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// filteræ–¹æ³•</span></span><br><span class=\"line\">[<span class=\"string\">'a'</span>,,<span class=\"string\">'b'</span>].filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"literal\">true</span>) <span class=\"comment\">// ['a','b']</span></span><br><span class=\"line\"><span class=\"comment\">// everyæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>].every(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x===<span class=\"string\">'a'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"comment\">// someæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>].some(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x !== <span class=\"string\">'a'</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">// mapæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>].map(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"number\">1</span>) <span class=\"comment\">// [,1]</span></span><br><span class=\"line\"><span class=\"comment\">// joinæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>,<span class=\"literal\">undefined</span>,<span class=\"literal\">null</span>].join(<span class=\"string\">'#'</span>) <span class=\"comment\">// \"#a##\"</span></span><br><span class=\"line\"><span class=\"comment\">// toStringæ–¹æ³•</span></span><br><span class=\"line\">[,<span class=\"string\">'a'</span>,<span class=\"literal\">undefined</span>,<span class=\"literal\">null</span>].toString() <span class=\"comment\">// \",a,,\"</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ES6åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸ºundefinedã€‚å°½é‡å»ºè®®é¿å…å‡ºç°ç©ºä½ã€‚</p>\n</blockquote>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•","url":"http://yoursite.com/2017/05/03/è¯»ä¹¦ç¬”è®°-es6æ•°å€¼çš„æ‰©å±•/","content":"<h2 id=\"æ•°å€¼çš„æ‰©å±•\"><a href=\"#æ•°å€¼çš„æ‰©å±•\" class=\"headerlink\" title=\"æ•°å€¼çš„æ‰©å±•\"></a><strong>æ•°å€¼çš„æ‰©å±•</strong></h2><h3 id=\"ä¸€ã€Number-isFinite-Number-isNaN\"><a href=\"#ä¸€ã€Number-isFinite-Number-isNaN\" class=\"headerlink\" title=\"ä¸€ã€Number.isFinite(), Number.isNaN()\"></a>ä¸€ã€Number.isFinite(), Number.isNaN()</h3><blockquote>\n<ul>\n<li>Number.isFinite()  æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰</li>\n<li>Number.isNaN()  æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaN</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Number.isFinite()</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"number\">15</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"number\">0.8</span>); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"literal\">NaN</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"literal\">Infinity</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(-<span class=\"literal\">Infinity</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"string\">'foo'</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"string\">'15'</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isFinite(<span class=\"literal\">true</span>); <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"comment\">//Number.isNaN()</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"literal\">NaN</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"number\">15</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"string\">'15'</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"literal\">true</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"number\">9</span>/<span class=\"literal\">NaN</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"string\">'true'</span>/<span class=\"number\">0</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isNaN(<span class=\"string\">'true'</span>/<span class=\"string\">'true'</span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€Number-parseInt-Number-parseFloat\"><a href=\"#äºŒã€Number-parseInt-Number-parseFloat\" class=\"headerlink\" title=\"äºŒã€Number.parseInt(), Number.parseFloat()\"></a>äºŒã€Number.parseInt(), Number.parseFloat()</h3><blockquote>\n<p>å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Number</span>.parseInt === <span class=\"built_in\">parseInt</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.parseFloat === <span class=\"built_in\">parseFloat</span> <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€Number-isInteger\"><a href=\"#ä¸‰ã€Number-isInteger\" class=\"headerlink\" title=\"ä¸‰ã€Number.isInteger()\"></a>ä¸‰ã€Number.isInteger()</h3><blockquote>\n<p>åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Number</span>.isInteger(<span class=\"number\">25</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isInteger(<span class=\"number\">25.0</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isInteger(<span class=\"number\">25.1</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isInteger(<span class=\"string\">\"15\"</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"built_in\">Number</span>.isInteger(<span class=\"literal\">true</span>) <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"å››ã€å®‰å…¨æ•´æ•°å’ŒNumber-isSafeInteger\"><a href=\"#å››ã€å®‰å…¨æ•´æ•°å’ŒNumber-isSafeInteger\" class=\"headerlink\" title=\"å››ã€å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()\"></a>å››ã€å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()</h3><blockquote>\n<p>JavaScriptèƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚Number.isSafeInteger() ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…</p>\n</blockquote>\n<h3 id=\"äº”ã€Math-trunc\"><a href=\"#äº”ã€Math-trunc\" class=\"headerlink\" title=\"äº”ã€Math.trunc()\"></a>äº”ã€Math.trunc()</h3><blockquote>\n<p>å»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†</p>\n</blockquote>\n<h3 id=\"å…­ã€Math-sign\"><a href=\"#å…­ã€Math-sign\" class=\"headerlink\" title=\"å…­ã€Math.sign()\"></a>å…­ã€Math.sign()</h3><blockquote>\n<p>åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶</p>\n<ul>\n<li>å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›+1ï¼›</li>\n<li>å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›-1ï¼›</li>\n<li>å‚æ•°ä¸º0ï¼Œè¿”å›0ï¼›</li>\n<li>å‚æ•°ä¸º-0ï¼Œè¿”å›-0;</li>\n<li>å…¶ä»–å€¼ï¼Œè¿”å›NaNã€‚</li>\n</ul>\n</blockquote>\n<h3 id=\"ä¸ƒã€Math-signbit\"><a href=\"#ä¸ƒã€Math-signbit\" class=\"headerlink\" title=\"ä¸ƒã€Math.signbit()\"></a>ä¸ƒã€Math.signbit()</h3><blockquote>\n<p>åˆ¤æ–­ä¸€ä¸ªæ•°çš„ç¬¦å·ä½æ˜¯å¦è®¾ç½®äº†</p>\n<ul>\n<li>å¦‚æœå‚æ•°æ˜¯NaNï¼Œè¿”å›false</li>\n<li>å¦‚æœå‚æ•°æ˜¯-0ï¼Œè¿”å›true</li>\n<li>å¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¿”å›true</li>\n<li>å…¶ä»–æƒ…å†µè¿”å›false</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Math</span>.signbit(<span class=\"number\">2</span>) <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.signbit(<span class=\"number\">-2</span>) <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.signbit(<span class=\"number\">0</span>) <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"built_in\">Math</span>.signbit(<span class=\"number\">-0</span>) <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…«ã€æŒ‡æ•°è¿ç®—ç¬¦\"><a href=\"#å…«ã€æŒ‡æ•°è¿ç®—ç¬¦\" class=\"headerlink\" title=\"å…«ã€æŒ‡æ•°è¿ç®—ç¬¦( ** )\"></a>å…«ã€æŒ‡æ•°è¿ç®—ç¬¦( ** )</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span> ** <span class=\"number\">2</span> <span class=\"comment\">// 4</span></span><br><span class=\"line\"><span class=\"number\">2</span> ** <span class=\"number\">3</span> <span class=\"comment\">// 8</span></span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n","categories":[],"tags":["éšç¬”","es6","JavaScrip"]},{"title":"DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨","url":"http://yoursite.com/2017/04/27/DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨/","content":"<blockquote>\n<p>å‰è¨€ï¼šåœ¨æœ€è¿‘çš„ä¸€ä¸ªå¤–åŒ…é¡¹ç›®<a href=\"http://www.zblmchina.com/#/post\" target=\"_blank\" rel=\"noopener\">ä¸­åŒ…è”ç›Ÿ</a>(PCç«¯)ä¸­ä½¿ç”¨åˆ°äº†videoï¼Œé‡åˆ°äº†å¥½å¤šå‘ã€‚çªå‘å¥‡æƒ³æ¥è¸©ä¸€è¸©audioçš„å‘ğŸ˜€ï¼Œæœç„¶ä¸€å…¥æ·±ä¼¼æµ·ï¼ŒğŸ‘‡ä¸‹é¢å°†åˆ†äº«æˆ‘çš„DIYä¹‹è·¯-VueéŸ³ä¹æ’­æ”¾å™¨ã€‚<br>æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ï¼Œä»…ä¾›å­¦ä¹ ã€‚æœ‰é—®é¢˜æˆ–å»ºè®®å‘æˆ‘é‚®ç®±ï¼š<a href=\"mailto:hjingren@aliyun.com\" target=\"_blank\" rel=\"noopener\">hjingren@aliyun.com</a></p>\n</blockquote>\n<p>[æ¸©é¦¨æç¤ºï¼špcæµè§ˆf12æ‰‹æœºæ¨¡å¼æœ€ä½³,æ‰‹æœºå»ºè®®wifiä¸‹è®¿é—®]</p>\n<h3 id=\"é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music\"><a href=\"#é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-magic-music\" class=\"headerlink\" title=\"é¢„è§ˆåœ°å€ï¼š http://hzzly.net/magic-music\"></a><strong>é¢„è§ˆåœ°å€ï¼š</strong> <a href=\"http://hzzly.net/magic-music\" target=\"_blank\" rel=\"noopener\">http://hzzly.net/magic-music</a></h3><h3 id=\"Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic\"><a href=\"#Githubåœ°å€ï¼š-https-github-com-hzzly-MagicMusic\" class=\"headerlink\" title=\"Githubåœ°å€ï¼š https://github.com/hzzly/MagicMusic\"></a><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/MagicMusic\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/MagicMusic</a></h3><p>æ¬¢è¿å¤§å®¶çš„starå•¦ğŸ˜„~</p>\n<p>å…ˆæ¥ä¸ªé¢„è§ˆï¼š</p>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/magic-music1.gif\" alt=\"magic-music1\"></p>\n<p>æ›´å¤šé¢„è§ˆï¼š<a href=\"http://hjingren.cn/magic-music/pic.html\" target=\"_blank\" rel=\"noopener\">æ›´å¤š</a></p>\n<p>ğŸ‘‰è€é“ä»¬ï¼Œå‡†å¤‡å‘è½¦(æŠ€èƒ½ç‚¹)ï¼š</p>\n<blockquote>\n<ul>\n<li><a href=\"https://cn.vuejs.org/\" target=\"_blank\" rel=\"noopener\">vueæ–‡æ¡£</a></li>\n<li><a href=\"https://router.vuejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">vue-routeræ–‡æ¡£</a></li>\n<li><a href=\"https://vuex.vuejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">vuexæ–‡æ¡£</a> ä¸æƒ³çœ‹æ–‡æ¡£çš„å¯ä»¥çœ‹çœ‹æˆ‘è¿™ç¯‡åšå®¢<a href=\"https://hzzly.github.io/2017/04/04/vuex%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">vuexå­¦ä¹ å®è·µç¬”è®°</a></li>\n<li><a href=\"https://www.npmjs.com/package/axios\" target=\"_blank\" rel=\"noopener\">axiosæ–‡æ¡£</a> æˆ–è€…è¿™ç¯‡åšå®¢ <a href=\"https://blog.ygxdxx.com/2017/02/01/Vuex2&amp;Axios-Develop/\" target=\"_blank\" rel=\"noopener\">Vuex2 ä¸ Axios å¼€å‘</a>(æˆ‘ä¹Ÿæ˜¯å‚è€ƒè¿™ç¯‡ï¼Œæ„Ÿè°¢ä½œè€…ğŸ˜)</li>\n<li><a href=\"http://es6.ruanyifeng.com/\" target=\"_blank\" rel=\"noopener\">es6(é˜®ä¸€å³°çš„es6å…¥é—¨)</a> å¯ä»¥å‚è€ƒ<a href=\"https://hzzly.github.io/tags/es6/\" target=\"_blank\" rel=\"noopener\">æˆ‘çš„es6ä¹‹è·¯</a>(è¿˜åœ¨ç»§ç»­,è½»å–·)</li>\n<li><a href=\"https://hzzly.github.io/2017/03/03/Web%E7%9A%84Flex%E5%BC%B9%E6%80%A7%E7%9B%92%E6%A8%A1%E5%9E%8B/\" target=\"_blank\" rel=\"noopener\">flex (Webçš„flexå¼¹æ€§ç›’æ¨¡å‹)</a></li>\n<li><a href=\"https://hzzly.github.io/2017/03/15/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3/\" target=\"_blank\" rel=\"noopener\">ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³ (flexible+rem)</a></li>\n<li><a href=\"https://hzzly.github.io/2017/04/26/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8sessionStorage%E4%B8%8ElocalStorage/\" target=\"_blank\" rel=\"noopener\">æœ¬åœ°å­˜å‚¨(sessionStorageã€localStorage)</a></li>\n<li><a href=\"https://github.com/hilongjw/vue-lazyload?from=gold\" target=\"_blank\" rel=\"noopener\">å›¾ç‰‡æ‡’åŠ è½½</a></li>\n</ul>\n</blockquote>\n<p>ğŸ‘‰åå¥½ï¼Œå‡ºå‘</p>\n<h3 id=\"å®ç°çš„åŠŸèƒ½\"><a href=\"#å®ç°çš„åŠŸèƒ½\" class=\"headerlink\" title=\"å®ç°çš„åŠŸèƒ½\"></a>å®ç°çš„åŠŸèƒ½</h3><h4 id=\"1ã€é¦–é¡µ\"><a href=\"#1ã€é¦–é¡µ\" class=\"headerlink\" title=\"1ã€é¦–é¡µ\"></a>1ã€é¦–é¡µ</h4><blockquote>\n<ul>\n<li>[x] è½®æ’­</li>\n<li>[x] ä¸ªæ€§æ¨è[æµè¡Œã€å¤å…¸ã€è½»éŸ³ä¹ã€æµè¡Œ]</li>\n<li>[x] æ­Œæ›²æ“ä½œ<ul>\n<li>[x] åŠ å…¥æ’­æ”¾åˆ—è¡¨</li>\n<li>[ ] å–œæ¬¢</li>\n<li>[ ] åˆ†äº«</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h4 id=\"2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶\"><a href=\"#2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶\" class=\"headerlink\" title=\"2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶\"></a>2ã€åº•éƒ¨æ’­æ”¾æ§ä»¶</h4><blockquote>\n<ul>\n<li>[x] æ’­æ”¾</li>\n<li>[x] æš‚åœ</li>\n<li>[x] ä¸‹ä¸€æ›²</li>\n<li>[x] æ’­æ”¾è¿›åº¦æ¡</li>\n</ul>\n</blockquote>\n<a id=\"more\"></a>\n<h4 id=\"3ã€æ’­æ”¾é¡µé¢\"><a href=\"#3ã€æ’­æ”¾é¡µé¢\" class=\"headerlink\" title=\"3ã€æ’­æ”¾é¡µé¢\"></a>3ã€æ’­æ”¾é¡µé¢</h4><blockquote>\n<ul>\n<li>[x] ä¸Šä¸€æ›²</li>\n<li>[x] æ’­æ”¾</li>\n<li>[x] æš‚åœ</li>\n<li>[x] ä¸‹ä¸€æ›²</li>\n<li>[x] æ’­æ”¾è¿›åº¦æ¡[å¼§å½¢è¿›åº¦æ¡]</li>\n<li>[x] æ­Œè¯æ»šåŠ¨</li>\n<li>[x] æ’­æ”¾çš„æ­Œè¯é«˜äº®</li>\n<li>[ ] æ’­æ”¾æ¨¡å¼[å•æ›²å¾ªç¯ã€åˆ—è¡¨å¾ªç¯ã€éšæœºæ’­æ”¾]</li>\n</ul>\n</blockquote>\n<h4 id=\"4ã€æ’­æ”¾åˆ—è¡¨\"><a href=\"#4ã€æ’­æ”¾åˆ—è¡¨\" class=\"headerlink\" title=\"4ã€æ’­æ”¾åˆ—è¡¨\"></a>4ã€æ’­æ”¾åˆ—è¡¨</h4><blockquote>\n<ul>\n<li>[x] æ’­æ”¾æ­Œæ›²é«˜äº®</li>\n<li>[x] åˆ‡æ­Œ(å•å‡»åˆ‡æ­Œ)</li>\n<li>[x] åˆ æ­Œ(ç‚¹å‡»å³ä¾§å°X)</li>\n<li>[ ] æ¸…ç©ºæ’­æ”¾åˆ—è¡¨</li>\n<li>[ ] æœ¬åœ°ç¼“å­˜æ’­æ”¾åˆ—è¡¨</li>\n</ul>\n</blockquote>\n<h4 id=\"5ã€æ’è¡Œæ¦œ\"><a href=\"#5ã€æ’è¡Œæ¦œ\" class=\"headerlink\" title=\"5ã€æ’è¡Œæ¦œ\"></a>5ã€æ’è¡Œæ¦œ</h4><blockquote>\n<ul>\n<li>[x] çƒ­é—¨æ’è¡Œæ¦œ</li>\n<li>[x] æ’è¡Œæ¦œé‡Œçš„æ­Œæ›²(å•å‡»æ’­æ”¾)</li>\n</ul>\n</blockquote>\n<h4 id=\"6ã€éŸ³ä¹æœç´¢\"><a href=\"#6ã€éŸ³ä¹æœç´¢\" class=\"headerlink\" title=\"6ã€éŸ³ä¹æœç´¢\"></a>6ã€éŸ³ä¹æœç´¢</h4><p>è¾“å…¥æœç´¢å…³é”®è¯ï¼Œç‚¹å‡»<code>æ”¾å¤§é•œ</code>å›¾æ ‡</p>\n<blockquote>\n<ul>\n<li>[x] å•æ›²(å•å‡»æˆ–ç‚¹å‡»æ­Œæ›²æ“ä½œ(â€¦)æ·»åŠ è‡³éŸ³ä¹æ’­æ”¾åˆ—è¡¨ï¼Œéƒ¨åˆ†éŸ³ä¹ä¼šå­˜åœ¨ç‰ˆæƒé—®é¢˜æ— æ³•æ’­æ”¾)</li>\n<li>[x] æ­Œæ‰‹</li>\n<li>[x] ä¸“è¾‘</li>\n<li>[x] æ­Œå•</li>\n<li>[x] ç”¨æˆ·</li>\n<li>[x] æœ¬åœ°ç¼“å­˜æœç´¢åˆ—è¡¨</li>\n</ul>\n</blockquote>\n<h4 id=\"7ã€ä¾§è¾¹æ \"><a href=\"#7ã€ä¾§è¾¹æ \" class=\"headerlink\" title=\"7ã€ä¾§è¾¹æ \"></a>7ã€ä¾§è¾¹æ </h4><blockquote>\n<ul>\n<li>[x] å¤´åƒ</li>\n<li>[x] èœå•<ul>\n<li>[x] ä¸ªäººä¸­å¿ƒ</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h3 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h3><p>æ„Ÿè°¢ä½œè€…æŠŠapiæ•´ç†çš„è¿™ä¹ˆå¥½(ç‚¹ä¸ªèµğŸ‘)</p>\n<blockquote>\n<p><a href=\"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=%e6%90%9c%e7%b4%a2%e9%9f%b3%e4%b9%90\" target=\"_blank\" rel=\"noopener\">ç½‘æ˜“äº‘éŸ³ä¹ NodeJS ç‰ˆ API</a></p>\n</blockquote>\n<h3 id=\"ç›®å½•ç»“æ„\"><a href=\"#ç›®å½•ç»“æ„\" class=\"headerlink\" title=\"ç›®å½•ç»“æ„\"></a>ç›®å½•ç»“æ„</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|â€”â€”MagicMusic/</span><br><span class=\"line\">|   |â€”â€”build/</span><br><span class=\"line\">|   |â€”â€”confg/</span><br><span class=\"line\">|   |â€”â€”node_modules/</span><br><span class=\"line\">|   |â€”â€”src/</span><br><span class=\"line\">|   |   |â€”â€”assets/                 //é™æ€æ–‡ä»¶</span><br><span class=\"line\">|   |   |â€”â€”components/             //å…¬å…±ç»„ä»¶</span><br><span class=\"line\">|   |   |â€”â€”api/</span><br><span class=\"line\">|   |   |   |â€”â€”index.js            //axioså°è£…ä¸api</span><br><span class=\"line\">|   |   |â€”â€”pages/                  //å­˜æ”¾é¡¹ç›®é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”classical.vue       //å¤å…¸æ­Œæ›²é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”collection.vue      //æ’è¡Œæ¦œ</span><br><span class=\"line\">|   |   |   |â€”â€”home.vue            //é¦–é¡µ</span><br><span class=\"line\">|   |   |   |â€”â€”light.vue           //è½»éŸ³ä¹æ­Œæ›²é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”login.vue           //ç™»å½•é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”popular.vue         //æµè¡Œæ­Œæ›²é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”radio.vue           //ç”µå°æ­Œæ›²é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”rank.vue            //æ’è¡Œæ¦œåˆ—è¡¨</span><br><span class=\"line\">|   |   |   |â€”â€”search.vue          //æœç´¢é¡µ</span><br><span class=\"line\">|   |   |   |â€”â€”user.vue            //ç”¨æˆ·</span><br><span class=\"line\">|   |   |â€”â€”router/                 </span><br><span class=\"line\">|   |   |   |â€”â€”index.js            //é¡µé¢è·¯ç”±</span><br><span class=\"line\">|   |   |â€”â€”util                    //å…¬ç”¨æ–¹æ³•</span><br><span class=\"line\">|   |   |â€”â€”vuex /                  //å­˜æ”¾vuexä»£ç </span><br><span class=\"line\">|   |   |   |â€”â€”modules /           //æ•°æ®æ¨¡å—</span><br><span class=\"line\">|   |   |   |â€”â€”store.js            //vuexä¸»å…¥å£</span><br><span class=\"line\">|   |   |   |â€”â€”types.js            //vuexçš„typesæ–‡ä»¶</span><br><span class=\"line\">|   |   |â€”â€”App.vue                 //çˆ¶ç»„ä»¶</span><br><span class=\"line\">|   |   |â€”â€”main.js                 //å…¥å£æ–‡ä»¶</span><br><span class=\"line\">|   |â€”â€”static/</span><br><span class=\"line\">|   |â€”â€”.babelrc</span><br><span class=\"line\">|   |â€”â€”.editorconfig</span><br><span class=\"line\">|   |â€”â€”.gitgnore</span><br><span class=\"line\">|   |â€”â€”index.html</span><br><span class=\"line\">|   |â€”â€”package.json</span><br><span class=\"line\">|   |â€”â€”README.md</span><br></pre></td></tr></table></figure>\n<h3 id=\"å¼€å‘å¿ƒå¾—ä¸æ€»ç»“\"><a href=\"#å¼€å‘å¿ƒå¾—ä¸æ€»ç»“\" class=\"headerlink\" title=\"å¼€å‘å¿ƒå¾—ä¸æ€»ç»“\"></a>å¼€å‘å¿ƒå¾—ä¸æ€»ç»“</h3><h4 id=\"1ã€è½®æ’­å›¾\"><a href=\"#1ã€è½®æ’­å›¾\" class=\"headerlink\" title=\"1ã€è½®æ’­å›¾\"></a>1ã€è½®æ’­å›¾</h4><p>é¦–å…ˆæ„Ÿè°¢ä½œè€…<a href=\"https://github.com/ShanaMaid/vue-image-scroll\" target=\"_blank\" rel=\"noopener\">ShanaMaid/vue-image-scroll</a>å¼€æºçš„ä»£ç ï¼Œæˆ‘æŠŠä»£ç copyä¸‹æ¥è‡ªå·±è¿›è¡Œäº†ä¸€ç‚¹ä¿®æ”¹(æ²¡æœ‰æ‰‹æŒ‡æ»‘åŠ¨æ•ˆæœ)ï¼Œå› ä¸ºè¿™æ˜¯ç§»åŠ¨ç«¯ï¼Œå°‘ä¸äº†çš„æ‰‹æŒ‡æ»‘åŠ¨åˆ‡æ¢ï¼Œæ‰€ä»¥æ·»åŠ äº†<a href=\"https://github.com/vuejs/vue-touch#next\" target=\"_blank\" rel=\"noopener\">vue-touch</a>(å·å·å‘Šè¯‰ä½ ï¼Œvue-touchçš„nextåˆ†æ”¯è¿˜æ˜¯æ”¯æŒvue2.0çš„ğŸ˜œ)ã€‚<a href=\"https://github.com/hzzly/MagicMusic/blob/master/src/components/banner.vue\" target=\"_blank\" rel=\"noopener\">ä»£ç ä¼ é€é—¨</a><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(item,index) in image\"</span> <span class=\"attr\">:class</span>=<span class=\"string\">\"[move[index]]\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">v-touch</span> <span class=\"attr\">class</span>=<span class=\"string\">\"vuetouch\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">v-on:swipeleft</span>=<span class=\"string\">\"nextPic\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">v-on:swiperight</span>=<span class=\"string\">\"prePic\"</span>&gt;</span></span><br><span class=\"line\">        ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">v-touch</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">methods: &#123;</span><br><span class=\"line\">    nextPic(event) &#123;</span><br><span class=\"line\">        let temp = this.move.pop()</span><br><span class=\"line\">        this.move.unshift(temp)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    prePic(event) &#123;</span><br><span class=\"line\">        let temp = this.move.shift()</span><br><span class=\"line\">        this.move.push(temp)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"2ã€æ­Œæ›²æ“ä½œ-å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨-åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»\"><a href=\"#2ã€æ­Œæ›²æ“ä½œ-å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨-åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»\" class=\"headerlink\" title=\"2ã€æ­Œæ›²æ“ä½œ(å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨)åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»\"></a>2ã€æ­Œæ›²æ“ä½œ(å–œæ¬¢ï¼Œåˆ†äº«ï¼ŒåŠ å…¥æ’­æ”¾åˆ—è¡¨)åŠ¨ç”»ã€æ’­æ”¾åˆ—è¡¨å±•å¼€ä¸åˆ é™¤æ­Œæ›²åŠ¨ç”»</h4><blockquote>\n<p><code>Vue</code>æä¾›äº†<code>transition</code>çš„å°è£…ç»„ä»¶ï¼Œåœ¨ä¸‹åˆ—æƒ…å½¢ä¸­ï¼Œå¯ä»¥ç»™ä»»ä½•å…ƒç´ å’Œç»„ä»¶æ·»åŠ  entering/leaving è¿‡æ¸¡</p>\n<ul>\n<li>æ¡ä»¶æ¸²æŸ“ ï¼ˆä½¿ç”¨ v-ifï¼‰</li>\n<li>æ¡ä»¶å±•ç¤º ï¼ˆä½¿ç”¨ v-showï¼‰</li>\n<li>åŠ¨æ€ç»„ä»¶</li>\n<li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;transition name=<span class=\"string\">\"move\"</span>&gt;</span><br><span class=\"line\">    &lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"menu\"</span> v-show=<span class=\"string\">\"item.menuShow\"</span>&gt;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/</span>transition&gt;</span><br><span class=\"line\">&lt;transition-group name=<span class=\"string\">\"slide\"</span> tag=<span class=\"string\">\"div\"</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"list-wrapper\"</span>&gt;</span><br><span class=\"line\">    &lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"item\"</span> v-<span class=\"keyword\">for</span>=<span class=\"string\">\"(item, index) in listenLists\"</span> :key=<span class=\"string\">\"item\"</span>&gt;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/</span>transition-group&gt;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><code>transition-group</code>ä¸€ç»„è¿‡åº¦åŠ¨ç”»ï¼Œè¿™é‡Œæœ‰ä¸ªå°å‘çš„ï¼Œä¹‹å‰çœ‹å®˜ç½‘åˆ—è¡¨è¿‡æ¸¡çš„æ —å­ï¼Œç»™æ¯ä¸€é¡¹è®¾ç½®å”¯ä¸€çš„keyå€¼ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨indexã€‚æ‰€ä»¥åœ¨åšçš„æ—¶å€™å°±æŠŠindexä¼ ç»™keyï¼Œç»“æœè¿‡æ¸¡è€æ˜¯ä¸å¯¹ï¼Œåæ¥æ¢æˆå¯¹åº”çš„<code>item</code>å°±æ­£å¸¸äº†(ç”Ÿæ— å¯æ‹è„¸)ã€‚</p>\n</blockquote>\n<h4 id=\"3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡\"><a href=\"#3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡\" class=\"headerlink\" title=\"3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡\"></a>3ã€ç›´çº¿è¿›åº¦æ¡ã€å¼§å½¢è¿›åº¦æ¡</h4><blockquote>\n<p>è¥¿ç­ç‰™å»ºç­‘å¤§å¸ˆæ›¾è¯´è¿‡ï¼šâ€œç›´çº¿å±äºäººç±»ï¼Œæ›²çº¿åˆ™å½’äºä¸Šå¸â€ã€‚åœ¨è¿™é‡Œæˆ‘å¤§èƒ†çš„ä½¿ç”¨äº†å¼§å½¢æ¥ä½œä¸ºè¿›åº¦æ¡ï¼Œ(å‡ å¤§çƒ­é—¨éŸ³ä¹APPè²Œä¼¼è¿˜æ²¡æœ‰å¼§å½¢è¿›åº¦æ¡ğŸ˜„)ã€‚</p>\n</blockquote>\n<p>è¿™é‡Œæˆ‘ç”¨åˆ°äº†Vueçš„<strong>ç»‘å®šå†…è”æ ·å¼</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç›´çº¿è¿›åº¦æ¡</span></span><br><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"progress-bar\"</span>&gt;</span><br><span class=\"line\">    &lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"play\"</span></span><br><span class=\"line\">        :style=<span class=\"string\">\"&#123;width: (now / duration).toFixed(3)*100 + '%'&#125;\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/å¼§å½¢è¿›åº¦æ¡</span></span><br><span class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/å› ä¸ºç”¨åˆ°äº†å¼§å½¢ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç”¨åˆ°äº†`border-radius`æ¥ä½¿å®ƒå˜æˆä¸€ä¸ªå¤§åœ†ï¼Œç„¶åå¹³ç§»`translateX`å±…ä¸­ï¼Œå…¶å®ƒä¸è¦çš„éƒ¨åˆ†`overflow: hidden`ã€‚</span></span><br><span class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/è¿™é‡Œç”¨ä¸¤ä¸ªdivæ¥è¡¨ç¤ºè¿›åº¦æ¡ï¼Œä¸€æ¡å›ºå®šçš„è¿›åº¦æ¡ï¼Œä¸€æ¡æ…¢æ…¢å¢åŠ ã€‚</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;div class=\"process\" @click=\"showToast\"&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;div class=\"line\"&gt;&lt;/</span>div&gt;</span><br><span class=\"line\">    &lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"pro\"</span> :style=<span class=\"string\">\"&#123;transform: `translateX($&#123;translateX&#125;) rotate($&#123;deg*1 + 56.5*((now / size).toFixed(3))&#125;deg)`&#125;\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;<span class=\"regexp\">/div&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"4ã€æœ¬åœ°å­˜å‚¨\"><a href=\"#4ã€æœ¬åœ°å­˜å‚¨\" class=\"headerlink\" title=\"4ã€æœ¬åœ°å­˜å‚¨\"></a>4ã€æœ¬åœ°å­˜å‚¨</h4><blockquote>\n<p>å°†ä¸€äº›æ•°æ®ç¼“å­˜åˆ°localStorageï¼Œå¯ä»¥å‡å°‘Httpè¯·æ±‚ï¼Œä»è€Œä¼˜åŒ–é¡µé¢åŠ è½½æ—¶é—´ã€‚</p>\n</blockquote>\n<p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­é¦–é¡µæ­Œæ›²åˆ—è¡¨ä»¥åŠæœç´¢å†å²ç”¨åˆ°äº†æœ¬åœ°ç¼“å­˜ï¼Œæ‹¿æœç´¢å†å²æ¥ä¸¾æ —ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">created() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!localStorage.searchHistory) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> searchHistory = [<span class=\"string\">'å‰ç«¯'</span>, <span class=\"string\">'ç«¥è¯é•‡'</span>, <span class=\"string\">'åˆšå¥½é‡è§ä½ '</span>]</span><br><span class=\"line\">        localStorage.searchHistory = <span class=\"built_in\">JSON</span>.stringify(searchHistory)</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">methods: &#123;</span><br><span class=\"line\">    _search(keywords) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//åˆ¤æ–­æœç´¢åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> searchHistory = <span class=\"built_in\">JSON</span>.parse(localStorage.searchHistory)</span><br><span class=\"line\">        <span class=\"keyword\">let</span> find = searchHistory.findIndex(<span class=\"function\">(<span class=\"params\">val</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> val === keywords</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        find === <span class=\"number\">-1</span> ? localStorage.searchHistory = <span class=\"built_in\">JSON</span>.stringify([keywords, ...searchHistory]) : <span class=\"string\">''</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"5ã€å›¾ç‰‡æ‡’åŠ è½½\"><a href=\"#5ã€å›¾ç‰‡æ‡’åŠ è½½\" class=\"headerlink\" title=\"5ã€å›¾ç‰‡æ‡’åŠ è½½\"></a>5ã€å›¾ç‰‡æ‡’åŠ è½½</h4><p>ä½¿ç”¨äº†<a href=\"https://github.com/hilongjw/vue-lazyload?from=gold\" target=\"_blank\" rel=\"noopener\">vue-lazyload</a>æ’ä»¶<br>ç”¨æ³•ğŸ‘‰ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install vue-lazyload</span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//main.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> VueLazyLoad <span class=\"keyword\">from</span> <span class=\"string\">'vue-lazyload'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> def_lazy_img <span class=\"keyword\">from</span> <span class=\"string\">'../static/img/loading.gif'</span> <span class=\"comment\">//æ‡’åŠ è½½çš„é»˜è®¤å›¾ç‰‡</span></span><br><span class=\"line\">Vue.use(VueLazyLoad,&#123;</span><br><span class=\"line\">    loading: def_lazy_img</span><br><span class=\"line\">&#125;) <span class=\"comment\">//ä½¿ç”¨æ‡’åŠ è½½ç»„ä»¶</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//åœ¨ä½¿ç”¨imgæ ‡ç­¾çš„åœ°æ–¹ä½¿ç”¨</span></span><br><span class=\"line\">&lt;img v-lazy=<span class=\"string\">\"item.al.picUrl\"</span> alt=<span class=\"string\">\"\"</span>&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®\"><a href=\"#6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®\" class=\"headerlink\" title=\"6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®\"></a>6ã€æ­Œè¯æ»šåŠ¨ä¸é«˜äº®</h4><p>å› ä¸ºapiæä¾›çš„æ­Œè¯åŒ…æ‹¬æ—¶é—´ï¼Œå¦‚ï¼š<code>[03:57.280]åŸè°…æˆ‘è¿™ä¸€ç”Ÿä¸ç¾æ”¾çºµçˆ±è‡ªç”±</code><br>æ‰€ä»¥é¦–å…ˆè¦è¿›è¡Œå­—ç¬¦ä¸²åˆ‡å‰²ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"lyric\"</span>&gt;</span><br><span class=\"line\">    &lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"roll-lyric\"</span> v-html=<span class=\"string\">\"lyrics\"</span> ref=<span class=\"string\">\"lyric\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">computed: &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">    lyrics() &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">        let lyrics = ''</span></span><br><span class=\"line\"><span class=\"regexp\">        this.lyricArr = []</span></span><br><span class=\"line\"><span class=\"regexp\">        if (this.lyric) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            let arr = this.lyric.split('\\n')</span></span><br><span class=\"line\"><span class=\"regexp\">            for (let item of arr) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">                if (item) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">                    let arr2 = item.split(']')</span></span><br><span class=\"line\"><span class=\"regexp\">                    this.lyricArr.push(arr2[0].substring(1,3)*60+arr2[0].substring(4)*1)</span></span><br><span class=\"line\"><span class=\"regexp\">                    if (arr2) &#123;</span></span><br><span class=\"line\"><span class=\"regexp\">                        lyrics += `&lt;p class='lyrichook' style='margin: 10px 0'&gt;$&#123;arr2[1]&#125;&lt;/</span>p&gt;<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">                    &#125;</span></span><br><span class=\"line\"><span class=\"string\">                &#125;</span></span><br><span class=\"line\"><span class=\"string\">            &#125;</span></span><br><span class=\"line\"><span class=\"string\">        &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"string\">            lyrics = 'æš‚æ— æ­Œè¯~'</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">        return lyrics</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p>ç„¶ååœ¨æ’­æ”¾çš„ç›‘å¬äº‹ä»¶ä¸­ä¸æ’­æ”¾çš„å½“å‰åšå¯¹æ¯”ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.$refs.myAudio.addEventListener(<span class=\"string\">'play'</span>, () =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.pDOM = [...document.querySelectorAll(<span class=\"string\">'.lyrichook'</span>)]</span><br><span class=\"line\">    timer = setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.now = audioDOM.currentTime</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.lyricArr.forEach(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">parseInt</span>(item) == <span class=\"built_in\">parseInt</span>(<span class=\"keyword\">this</span>.now)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.pDOM.forEach(<span class=\"function\">(<span class=\"params\">p</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                    p.style.color = <span class=\"string\">'rgba(255,255,255,.8)'</span> <span class=\"comment\">//å…¶å®ƒæ­Œè¯æ¸…é™¤é«˜äº®</span></span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.pDOM[index].style.color = <span class=\"string\">'#f12c61'</span> <span class=\"comment\">//æ­Œè¯é«˜äº®</span></span><br><span class=\"line\">                <span class=\"keyword\">this</span>.$refs.lyric.style.transform = <span class=\"string\">`translateY(-<span class=\"subst\">$&#123;(index<span class=\"number\">-2</span>)*<span class=\"number\">25</span>&#125;</span>px)`</span> <span class=\"comment\">//æ­Œè¯æ»šåŠ¨</span></span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>åˆ°è¿™å°±okäº†ğŸ˜œ</p>\n<h4 id=\"7ã€vuexçŠ¶æ€ç®¡ç†\"><a href=\"#7ã€vuexçŠ¶æ€ç®¡ç†\" class=\"headerlink\" title=\"7ã€vuexçŠ¶æ€ç®¡ç†\"></a>7ã€vuexçŠ¶æ€ç®¡ç†</h4><p>æ¨èå®˜æ–¹è°ƒè¯•å·¥å…· <a href=\"https://github.com/vuejs/vue-devtools\" target=\"_blank\" rel=\"noopener\">devtools extension</a></p>\n<blockquote>\n<p>æƒ³è¿›ä¸€æ­¥ç†è§£vuexï¼Œå¯ä»¥çœ‹è¿™ç¯‡åšå®¢<a href=\"https://hzzly.github.io/2017/04/04/vuex%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">vuexå­¦ä¹ å®è·µç¬”è®°</a></p>\n</blockquote>\n<p>ä¹‹å‰çœ‹åˆ°å¥½å¤šäººå†™çš„vuexï¼ŒæŠŠæ•´ä¸ªé¡¹ç›®çš„æ•°æ®æ”¾åˆ°äº†ä¸€ä¸ªstateé‡Œï¼Œå¯¼è‡´åº”ç”¨çš„æ‰€æœ‰çŠ¶æ€é›†ä¸­åˆ°ä¸€ä¸ªå¾ˆå¤§çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå½“åº”ç”¨å˜å¾—å¾ˆå¤§æ—¶ï¼Œstore å¯¹è±¡ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªã€‚</p>\n<blockquote>\n<p>æ‰€ä»¥æˆ‘å»ºè®®(ä¸ªäººè§è§£ï¼Œè½»å–·)ï¼šå°† store åˆ†å‰²åˆ°æ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€gettersã€‚è¿™æ ·æ–¹ä¾¿ç®¡ç†ä¸åæœŸçš„ç»´æŠ¤ã€‚</p>\n</blockquote>\n<p>è½¦å·²åˆ°ç«™âœŒï¸ã€‚</p>\n<p>ä¸çŸ¥ä¸è§‰å†™äº†è¿™ä¹ˆå¤šï¼Œè€é“ä»¬å‡‘åˆè¿™çœ‹å§ğŸ˜ï¼Œè§‰å¾—è¿˜è¡Œçš„å¯ä»¥ç‚¹ä¸ªstarï¼Œ<strong>ä½ çš„staræ˜¯æˆ‘ç»§ç»­å¼€æºåˆ›ä½œçš„åŠ¨åŠ›</strong>ï¼Œè°¢è°¢ï¼ï¼ï¼</p>\n<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/MagicMusic\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/MagicMusic</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n","categories":[],"tags":["éšç¬”","vue","vuex"]},{"title":"æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage","url":"http://yoursite.com/2017/04/26/æœ¬åœ°å­˜å‚¨sessionStorageä¸localStorage/","content":"<blockquote>\n<ul>\n<li>sessionStorage æ•°æ®çš„å­˜å‚¨ä»…ç‰¹å®šäºæŸä¸ªä¼šè¯ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªä¿æŒåˆ°æµè§ˆå™¨å…³é—­ï¼Œå½“æµè§ˆå™¨å…³é—­åé‡æ–°æ‰“å¼€è¿™ä¸ªé¡µé¢æ—¶ï¼Œ ä¹‹å‰çš„å­˜å‚¨å·²ç»è¢«æ¸…é™¤ã€‚</li>\n<li>localStorage æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„å­˜å‚¨ï¼Œå®ƒå¹¶ä¸å±€é™äºä¼šè¯ã€‚é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</li>\n</ul>\n</blockquote>\n<h3 id=\"ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ\"><a href=\"#ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ\" class=\"headerlink\" title=\"ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ\"></a>ä¸€ã€localStorageå’ŒsessionStorageæ“ä½œ</h3><blockquote>\n<p>localStorageå’ŒsessionStorageéƒ½å…·æœ‰ç›¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œä¾‹å¦‚setItemã€getItemå’ŒremoveItemç­‰</p>\n</blockquote>\n<h3 id=\"1-setItemå­˜å‚¨value\"><a href=\"#1-setItemå­˜å‚¨value\" class=\"headerlink\" title=\"1.setItemå­˜å‚¨value\"></a>1.setItemå­˜å‚¨value</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sessionStorage.setItem(<span class=\"string\">\"name\"</span>, <span class=\"string\">\"hzzly\"</span>);</span><br><span class=\"line\">localStorage.setItem(<span class=\"string\">\"blog\"</span>, <span class=\"string\">\"hzzly.github.io\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-getItemè·å–value\"><a href=\"#2-getItemè·å–value\" class=\"headerlink\" title=\"2.getItemè·å–value\"></a>2.getItemè·å–value</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = sessionStorage.getItem(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> blog = localStorage.getItem(<span class=\"string\">\"blog\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-removeItemåˆ é™¤key\"><a href=\"#3-removeItemåˆ é™¤key\" class=\"headerlink\" title=\"3.removeItemåˆ é™¤key\"></a>3.removeItemåˆ é™¤key</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sessionStorage.removeItem(<span class=\"string\">\"name\"</span>);</span><br><span class=\"line\">localStorage.removeItem(<span class=\"string\">\"blog\"</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-clearæ¸…é™¤æ‰€æœ‰çš„key-value\"><a href=\"#4-clearæ¸…é™¤æ‰€æœ‰çš„key-value\" class=\"headerlink\" title=\"4.clearæ¸…é™¤æ‰€æœ‰çš„key/value\"></a>4.clearæ¸…é™¤æ‰€æœ‰çš„key/value</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sessionStorage.clear();</span><br><span class=\"line\">localStorage.clear();</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ\"><a href=\"#5-å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ\" class=\"headerlink\" title=\"5.å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ[]\"></a>5.å…¶ä»–æ“ä½œæ–¹æ³•ï¼šç‚¹æ“ä½œå’Œ[]</h3><blockquote>\n<p>web Storageä¸ä½†å¯ä»¥ç”¨è‡ªèº«çš„setItem,getItemç­‰æ–¹ä¾¿å­˜å–ï¼Œä¹Ÿå¯ä»¥åƒæ™®é€šå¯¹è±¡ä¸€æ ·ç”¨ç‚¹(.)æ“ä½œç¬¦ï¼ŒåŠ[]çš„æ–¹å¼è¿›è¡Œæ•°æ®å­˜å‚¨åŠè¯»å–ï¼Œåƒå¦‚ä¸‹çš„ä»£ç ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å­˜</span></span><br><span class=\"line\">localStorage.name = <span class=\"string\">\"hzzly\"</span>; </span><br><span class=\"line\">localStorage[<span class=\"string\">\"age\"</span>] = <span class=\"string\">\"21\"</span>; </span><br><span class=\"line\">sessionStorage.name = <span class=\"string\">\"hzzly\"</span>; </span><br><span class=\"line\">sessionStorage[<span class=\"string\">\"age\"</span>] = <span class=\"string\">\"21\"</span>;</span><br><span class=\"line\"><span class=\"comment\">//å–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name1 = localStorage.name</span><br><span class=\"line\"><span class=\"keyword\">let</span> age1 = localStorage[<span class=\"string\">\"age\"</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> name2 = sessionStorage.name</span><br><span class=\"line\"><span class=\"keyword\">let</span> age2 = sessionStorage[<span class=\"string\">\"age\"</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†\"><a href=\"#6-localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†\" class=\"headerlink\" title=\"6.localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†\"></a>6.localStorageå’ŒsessionStorageçš„keyå’Œlengthå±æ€§å®ç°éå†</h3><blockquote>\n<p>sessionStorageå’ŒlocalStorageæä¾›çš„key()å’Œlengthå¯ä»¥æ–¹ä¾¿çš„å®ç°å­˜å‚¨çš„æ•°æ®éå†ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> storage = <span class=\"built_in\">window</span>.localStorage; </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>, len = storage.length; i  &lt;  len; i++)&#123;     </span><br><span class=\"line\">\t<span class=\"keyword\">let</span> key = storage.key(i);     </span><br><span class=\"line\">\t<span class=\"keyword\">let</span> value = storage.getItem(key);     </span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(key + <span class=\"string\">\"=\"</span> + value); </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€å®ä¾‹\"><a href=\"#äºŒã€å®ä¾‹\" class=\"headerlink\" title=\"äºŒã€å®ä¾‹\"></a>äºŒã€å®ä¾‹</h3><blockquote>\n<p>storageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²çš„æ•°æ®ï¼Œå¯¹äºJSä¸­å¸¸ç”¨çš„æ•°ç»„æˆ–å¯¹è±¡å´ä¸èƒ½ç›´æ¥å­˜å‚¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œè½¬æ¢ï¼š</p>\n<ul>\n<li>JSON.stringify() ç”¨äºä»ä¸€ä¸ªå¯¹è±¡è§£æå‡ºå­—ç¬¦ä¸²</li>\n<li>JSON.parse() ç”¨äºä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡ºjsonå¯¹è±¡</li>\n</ul>\n</blockquote>\n<h3 id=\"1-localStorage-sessionStorageå­˜å–æ•°ç»„\"><a href=\"#1-localStorage-sessionStorageå­˜å–æ•°ç»„\" class=\"headerlink\" title=\"1.localStorage/sessionStorageå­˜å–æ•°ç»„\"></a>1.localStorage/sessionStorageå­˜å–æ•°ç»„</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å­˜</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> language = [<span class=\"string\">'HTML/HTML5'</span>, <span class=\"string\">'CSS/CSS3'</span>, <span class=\"string\">'JavaScript'</span>, <span class=\"string\">'Vue'</span>, <span class=\"string\">'React'</span>]</span><br><span class=\"line\">localStorage.language = <span class=\"built_in\">JSON</span>.stringify(language)</span><br><span class=\"line\">sessionStorag.language = <span class=\"built_in\">JSON</span>.stringify(language)</span><br><span class=\"line\"><span class=\"comment\">//å–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> storageLanguage = <span class=\"built_in\">JSON</span>.parse(localStorage.language)</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-localStorageå­˜å–å¯¹è±¡\"><a href=\"#2-localStorageå­˜å–å¯¹è±¡\" class=\"headerlink\" title=\"2.localStorageå­˜å–å¯¹è±¡\"></a>2.localStorageå­˜å–å¯¹è±¡</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å­˜</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> myInfo = &#123;</span><br><span class=\"line\">\t<span class=\"string\">'name'</span>: <span class=\"string\">'hzzly'</span>,</span><br><span class=\"line\">\t<span class=\"string\">'age'</span>: <span class=\"number\">21</span>,</span><br><span class=\"line\">\t<span class=\"string\">'school'</span>: <span class=\"string\">'ECUT'</span>,</span><br><span class=\"line\">\t<span class=\"string\">'city'</span>: <span class=\"string\">'NanChang'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">localStorage.myInfo = <span class=\"built_in\">JSON</span>.stringify(myInfo)</span><br><span class=\"line\">sessionStorag.myInfo = <span class=\"built_in\">JSON</span>.stringify(myInfo)</span><br><span class=\"line\"><span class=\"comment\">//å–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> storageLanguage = <span class=\"built_in\">JSON</span>.parse(localStorage.myInfo)</span><br></pre></td></tr></table></figure>","categories":[],"tags":["éšç¬”"]},{"title":"è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•","url":"http://yoursite.com/2017/04/22/è¯»ä¹¦ç¬”è®°-es6å­—ç¬¦ä¸²çš„æ‰©å±•/","content":"<h2 id=\"å­—ç¬¦ä¸²çš„æ‰©å±•\"><a href=\"#å­—ç¬¦ä¸²çš„æ‰©å±•\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²çš„æ‰©å±•\"></a><strong>å­—ç¬¦ä¸²çš„æ‰©å±•</strong></h2><h3 id=\"ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£\"><a href=\"#ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£\" class=\"headerlink\" title=\"ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£\"></a>ä¸€ã€å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> codePoint <span class=\"keyword\">of</span> <span class=\"string\">'foo'</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(codePoint)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// \"f\"</span></span><br><span class=\"line\"><span class=\"comment\">// \"o\"</span></span><br><span class=\"line\"><span class=\"comment\">// \"o\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€at\"><a href=\"#äºŒã€at\" class=\"headerlink\" title=\"äºŒã€at\"></a>äºŒã€at</h3><p>è¿”å›å­—ç¬¦ä¸²ç»™å®šä½ç½®çš„å­—ç¬¦<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//es5</span></span><br><span class=\"line\"><span class=\"string\">'abc'</span>.charAt(<span class=\"number\">0</span>) <span class=\"comment\">// \"a\"</span></span><br><span class=\"line\"><span class=\"comment\">//es6</span></span><br><span class=\"line\"><span class=\"string\">'abc'</span>.at(<span class=\"number\">0</span>) <span class=\"comment\">// \"a\"</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"ä¸‰ã€indexOf-includes-startsWith-endsWith\"><a href=\"#ä¸‰ã€indexOf-includes-startsWith-endsWith\" class=\"headerlink\" title=\"ä¸‰ã€indexOf(), includes(), startsWith(), endsWith()\"></a>ä¸‰ã€indexOf(), includes(), startsWith(), endsWith()</h3><blockquote>\n<ul>\n<li>indexOf() ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­(es5)</li>\n<li>includes() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚</li>\n<li>startsWith() è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚</li>\n<li>endsWith()è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"string\">'Hello world!'</span>;</span><br><span class=\"line\">s.startsWith(<span class=\"string\">'Hello'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.endsWith(<span class=\"string\">'!'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.includes(<span class=\"string\">'o'</span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<p>æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"string\">'Hello world!'</span>;</span><br><span class=\"line\">s.startsWith(<span class=\"string\">'Hello'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.endsWith(<span class=\"string\">'!'</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.includes(<span class=\"string\">'o'</span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> s = <span class=\"string\">'Hello world!'</span>;</span><br><span class=\"line\">s.startsWith(<span class=\"string\">'world'</span>, <span class=\"number\">6</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.endsWith(<span class=\"string\">'Hello'</span>, <span class=\"number\">5</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.includes(<span class=\"string\">'Hello'</span>, <span class=\"number\">6</span>) <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>endsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚</p>\n</blockquote>\n<h3 id=\"å››ã€repeat\"><a href=\"#å››ã€repeat\" class=\"headerlink\" title=\"å››ã€repeat()\"></a>å››ã€repeat()</h3><blockquote>\n<p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'x'</span>.repeat(<span class=\"number\">3</span>) <span class=\"comment\">// \"xxx\"</span></span><br><span class=\"line\"><span class=\"string\">'hello'</span>.repeat(<span class=\"number\">2</span>) <span class=\"comment\">// \"hellohello\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äº”ã€padStart-ï¼ŒpadEnd\"><a href=\"#äº”ã€padStart-ï¼ŒpadEnd\" class=\"headerlink\" title=\"äº”ã€padStart()ï¼ŒpadEnd()\"></a>äº”ã€padStart()ï¼ŒpadEnd()</h3><blockquote>\n<p>å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦</p>\n<ul>\n<li>padStart() å¤´éƒ¨è¡¥å…¨</li>\n<li>padEnd() å°¾éƒ¨è¡¥å…¨<br>ç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">'x'</span>.padStart(<span class=\"number\">5</span>, <span class=\"string\">'ab'</span>) <span class=\"comment\">// 'ababx'</span></span><br><span class=\"line\"><span class=\"string\">'x'</span>.padStart(<span class=\"number\">4</span>, <span class=\"string\">'ab'</span>) <span class=\"comment\">// 'abax'</span></span><br><span class=\"line\"><span class=\"string\">'x'</span>.padEnd(<span class=\"number\">5</span>, <span class=\"string\">'ab'</span>) <span class=\"comment\">// 'xabab'</span></span><br><span class=\"line\"><span class=\"string\">'x'</span>.padEnd(<span class=\"number\">4</span>, <span class=\"string\">'ab'</span>) <span class=\"comment\">// 'xaba'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²\"><a href=\"#å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²\"></a>å…­ã€æ¨¡æ¿å­—ç¬¦ä¸²</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">\"hzzly\"</span>, time = <span class=\"string\">\"today\"</span>;</span><br><span class=\"line\"><span class=\"string\">`Hello <span class=\"subst\">$&#123;name&#125;</span>, how are you <span class=\"subst\">$&#123;time&#125;</span>?`</span></span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n","categories":[],"tags":["éšç¬”","es6","JavaScrip"]},{"title":"è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼","url":"http://yoursite.com/2017/04/21/è¯»ä¹¦ç¬”è®°-es6å˜é‡çš„è§£æ„èµ‹å€¼/","content":"<h2 id=\"å˜é‡çš„è§£æ„èµ‹å€¼\"><a href=\"#å˜é‡çš„è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"å˜é‡çš„è§£æ„èµ‹å€¼\"></a><strong>å˜é‡çš„è§£æ„èµ‹å€¼</strong></h2><blockquote>\n<p>è¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚</p>\n</blockquote>\n<h3 id=\"ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼\"><a href=\"#ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼\"></a>ä¸€ã€æ•°ç»„çš„è§£æ„èµ‹å€¼</h3><p>æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [a, b, c] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\">a <span class=\"comment\">// 1</span></span><br><span class=\"line\">b <span class=\"comment\">// 2</span></span><br><span class=\"line\">c <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> [head, ...tail] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">head <span class=\"comment\">// 1</span></span><br><span class=\"line\">tail <span class=\"comment\">// [2, 3, 4]</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>é»˜è®¤å€¼</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [foo = <span class=\"literal\">true</span>] = [];</span><br><span class=\"line\">foo <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"æ —å­ï¼š\"><a href=\"#æ —å­ï¼š\" class=\"headerlink\" title=\"æ —å­ï¼š\"></a>æ —å­ï¼š</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">example</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> [a, b, c] = example();</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼\"><a href=\"#äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼\"></a>äºŒã€å¯¹è±¡çš„è§£æ„èµ‹å€¼</h3><p>å¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123; foo, bar &#125; = &#123; <span class=\"attr\">foo</span>: <span class=\"string\">\"aaa\"</span>, <span class=\"attr\">bar</span>: <span class=\"string\">\"bbb\"</span> &#125;;</span><br><span class=\"line\">foo <span class=\"comment\">// \"aaa\"</span></span><br><span class=\"line\">bar <span class=\"comment\">// \"bbb\"</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>é»˜è®¤å€¼</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> &#123;x = <span class=\"number\">3</span>&#125; = &#123;&#125;;</span><br><span class=\"line\">x <span class=\"comment\">// 3</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> &#123;x, y = <span class=\"number\">5</span>&#125; = &#123;<span class=\"attr\">x</span>: <span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">x <span class=\"comment\">// 1</span></span><br><span class=\"line\">y <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"æ —å­ï¼š-1\"><a href=\"#æ —å­ï¼š-1\" class=\"headerlink\" title=\"æ —å­ï¼š\"></a>æ —å­ï¼š</h4><blockquote>\n<ul>\n<li>å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å°†Mathå¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Š</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123; log, sin, cos &#125; = <span class=\"built_in\">Math</span>    </span><br><span class=\"line\"><span class=\"comment\">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">example</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    foo: <span class=\"number\">1</span>,</span><br><span class=\"line\">    bar: <span class=\"number\">2</span></span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>æå–jsonæ•°æ®</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> jsonData = &#123;</span><br><span class=\"line\">  id: <span class=\"number\">42</span>,</span><br><span class=\"line\">  status: <span class=\"string\">\"OK\"</span>,</span><br><span class=\"line\">  data: [<span class=\"number\">867</span>, <span class=\"number\">5309</span>]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123; id, status, <span class=\"attr\">data</span>: number &#125; = jsonData;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(id, status, number);</span><br><span class=\"line\"><span class=\"comment\">// 42, \"OK\", [867, 5309]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼\"><a href=\"#ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼\"></a>ä¸‰ã€å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> [a, b, c, d, e] = <span class=\"string\">'hzzly'</span></span><br><span class=\"line\">a <span class=\"comment\">// \"h\"</span></span><br><span class=\"line\">b <span class=\"comment\">// \"z\"</span></span><br><span class=\"line\">c <span class=\"comment\">// \"z\"</span></span><br><span class=\"line\">d <span class=\"comment\">// \"l\"</span></span><br><span class=\"line\">e <span class=\"comment\">// \"y\"</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//lengthå±æ€§</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123;<span class=\"attr\">length</span> : len&#125; = <span class=\"string\">'hello'</span>;</span><br><span class=\"line\">len <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼\"><a href=\"#å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼\" class=\"headerlink\" title=\"å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼\"></a>å››ã€å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span>(<span class=\"params\">[x, y]</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x + y;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">add([<span class=\"number\">1</span>, <span class=\"number\">2</span>]); <span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n","categories":[],"tags":["éšç¬”","es6","JavaScrip"]},{"title":"è¯»ä¹¦ç¬”è®°-es6letä¸const","url":"http://yoursite.com/2017/04/09/è¯»ä¹¦ç¬”è®°-es6letä¸const/","content":"<h2 id=\"letå’Œconst\"><a href=\"#letå’Œconst\" class=\"headerlink\" title=\"letå’Œconst\"></a><strong>letå’Œconst</strong></h2><blockquote>\n<p>ä¸¤ç§æ–°çš„å£°æ˜å˜é‡çš„æ–¹æ³•</p>\n</blockquote>\n<h3 id=\"ä¸€ã€let\"><a href=\"#ä¸€ã€let\" class=\"headerlink\" title=\"ä¸€ã€let\"></a>ä¸€ã€let</h3><p>ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</p>\n<blockquote>\n<ul>\n<li>1.å—çº§ä½œç”¨åŸŸ</li>\n<li>2.ä¸å­˜åœ¨å˜é‡æå‡</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// var çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(foo); <span class=\"comment\">// è¾“å‡ºundefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"comment\">// let çš„æƒ…å†µ</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(bar); <span class=\"comment\">// æŠ¥é”™ReferenceError</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bar = <span class=\"number\">2</span>;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>3.æš‚æ—¶æ€§æ­»åŒº</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> tmp = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  tmp = <span class=\"string\">'abc'</span>; <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tmp;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡tmpï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡tmpï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹tmpèµ‹å€¼ä¼šæŠ¥é”™ã€‚</p>\n<blockquote>\n<ul>\n<li>4.ä¸å…è®¸é‡å¤å£°æ˜</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€const\"><a href=\"#äºŒã€const\" class=\"headerlink\" title=\"äºŒã€const\"></a>äºŒã€const</h3><p>constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚<br>constä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚<br>åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p>\n<blockquote>\n<p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ</span></span><br><span class=\"line\">foo.prop = <span class=\"number\">123</span>;</span><br><span class=\"line\">foo.prop <span class=\"comment\">// 123</span></span><br><span class=\"line\"><span class=\"comment\">// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™</span></span><br><span class=\"line\">foo = &#123;&#125;; <span class=\"comment\">// TypeError: \"foo\" is read-only</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¸¸é‡fooå‚¨å­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚ä¸å¯å˜çš„åªæ˜¯è¿™ä¸ªåœ°å€ï¼Œå³ä¸èƒ½æŠŠfooæŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼Œä½†å¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥ä¸ºå…¶æ·»åŠ æ–°å±æ€§ã€‚</p>\n</blockquote>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/learn-es6\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/learn-es6</a></p>\n<p>æ–‡ç« æ¥æº<a href=\"https://hzzly.github.io/\" target=\"_blank\" rel=\"noopener\">hzzlyåšå®¢æŠ€æœ¯åˆ†äº«</a></p>\n","categories":[],"tags":["éšç¬”","es6"]},{"title":"vuexå­¦ä¹ å®è·µç¬”è®°","url":"http://yoursite.com/2017/04/04/vuexå­¦ä¹ å®è·µç¬”è®°/","content":"<h3 id=\"Vuexæ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#Vuexæ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"Vuexæ˜¯ä»€ä¹ˆï¼Ÿ\"></a><strong>Vuexæ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3><blockquote>\n<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>\n</blockquote>\n<p>æ —å¦‚(travel store)ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> types <span class=\"keyword\">from</span> <span class=\"string\">'../types'</span></span><br><span class=\"line\"><span class=\"comment\">//æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> state = &#123;</span><br><span class=\"line\">    travelsList: [],</span><br><span class=\"line\">    searchKey: &#123;</span><br><span class=\"line\">        page: <span class=\"number\">0</span>,</span><br><span class=\"line\">        limit: <span class=\"number\">20</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    scroll: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ç”¨æˆ·è¡Œä¸º(å¯ä»¥å¤„ç†å¼‚æ­¥),è§¦å‘ mutations æ¥æ”¹å˜ state</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> actions = &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * è·å–çº¦è·‘æ­¥åˆ—è¡¨</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    getTravelsList(&#123; commit &#125;) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(state.scroll) &#123;</span><br><span class=\"line\">            commit(types.GET_TRAVELS_PAGE_NUM)</span><br><span class=\"line\">            commit(types.COM_LOADING_STATUS, <span class=\"literal\">true</span>),</span><br><span class=\"line\">            commit(types.GET_TRAVELS_SCORLL_STATUS, <span class=\"literal\">false</span>)</span><br><span class=\"line\">            api.TravelsList()</span><br><span class=\"line\">                .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(res)</span><br><span class=\"line\">                    commit(types.COM_LOADING_STATUS, <span class=\"literal\">false</span>),</span><br><span class=\"line\">                    commit(types.GET_TRAVELS_SCORLL_STATUS, <span class=\"literal\">true</span>)</span><br><span class=\"line\">                    commit(types.GET_TRAVELS_LIST, res)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * å‚åŠ </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    joinTravel(&#123; commit &#125;, id) &#123;</span><br><span class=\"line\">\t\t...</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å¯ä»¥è¿‡æ»¤ state ä¸­çš„æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> getters = &#123;</span><br><span class=\"line\">    travelsList: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.travelsList,</span><br><span class=\"line\">    travelListIndex: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.travelsList.slice(<span class=\"number\">0</span>,<span class=\"number\">4</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å”¯ä¸€èƒ½æ”¹å˜ state çš„æ–¹æ³•(çº¯å‡½æ•°)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mutations = &#123;</span><br><span class=\"line\">    [types.GET_TRAVELS_LIST](state, res) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(state.searchKey.page &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            state.travelsList = res.data</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            state.travelsList = state.travelsList.concat(res.data)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    [types.GET_TRAVELS_SEARCH_KEY](state, params) &#123;</span><br><span class=\"line\">        state.searchKey = params</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    [types.GET_TRAVELS_PAGE_NUM](state) &#123;</span><br><span class=\"line\">        state.searchKey[<span class=\"string\">'page'</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    [types.GET_TRAVELS_SCORLL_STATUS](state, status) &#123;</span><br><span class=\"line\">        state.scroll = status</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å¯¼å‡ºä¸€ä¸ª travel store æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    state,</span><br><span class=\"line\">    actions,</span><br><span class=\"line\">    getters,</span><br><span class=\"line\">    mutations</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€storeâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€(state)æ•°æ®ã€‚</p>\n<blockquote>\n<ul>\n<li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</li>\n<li>ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤(commit) mutationsã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚</li>\n</ul>\n</blockquote>\n<p>ç”¨ä¸€å¼ å›¾æ¥ç†è§£ä¸€ä¸‹<br><img src=\"http://omt3u4bph.bkt.clouddn.com/vuex2.jpg\" alt=\"vuex\"></p>\n<blockquote>\n<p>å®¢æˆ·ç«¯(Client) -&gt; action -&gt; mutations -&gt; state -&gt; å®¢æˆ·ç«¯</p>\n</blockquote>\n<p>å¯ä»¥çœ‹å‡ºåœ¨vuexä¸­æ•°æ®æ˜¯å•ä¸€æµå‘çš„ï¼šè§†å›¾(view)è§¦å‘actionï¼Œactionæäº¤(commit)åˆ°mutationsï¼Œmutationsæ”¹å˜state(æ•°æ®)ï¼Œstateçš„æ”¹å˜ï¼Œç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”çš„æ›´æ–°ã€‚</p>\n<a id=\"more\"></a>\n<h3 id=\"1-State\"><a href=\"#1-State\" class=\"headerlink\" title=\"1.State\"></a><strong>1.State</strong></h3><blockquote>\n<p>å•ä¸€çŠ¶æ€æ ‘ï¼Œå”¯ä¸€æ•°æ®æºï¼Œèƒ½å¤Ÿç›´æ¥æ¸…æ™°çš„è¯»æ‡‚æ•°æ®çš„ç»“æ„ã€‚</p>\n</blockquote>\n<h4 id=\"1-1åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—æ•°æ®\"><a href=\"#1-1åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—æ•°æ®\" class=\"headerlink\" title=\"1.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—æ•°æ®\"></a>1.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—æ•°æ®</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//store</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> state = &#123;</span><br><span class=\"line\">    travelsList: [],</span><br><span class=\"line\">    searchKey: &#123;</span><br><span class=\"line\">        page: <span class=\"number\">0</span>,</span><br><span class=\"line\">        limit: <span class=\"number\">20</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    scroll: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//åœ¨viewä¸­ç›´æ¥è·å–</span></span><br><span class=\"line\">data () &#123; </span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    \tscroll: <span class=\"keyword\">this</span>.$store.state.scroll</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"1-2mapState-è¾…åŠ©å‡½æ•°\"><a href=\"#1-2mapState-è¾…åŠ©å‡½æ•°\" class=\"headerlink\" title=\"1.2mapState è¾…åŠ©å‡½æ•°\"></a>1.2mapState è¾…åŠ©å‡½æ•°</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">computed: mapState([</span><br><span class=\"line\">\t<span class=\"comment\">// æ˜ å°„ this.scroll ä¸º this.$store.state.scroll</span></span><br><span class=\"line\">\t<span class=\"string\">'scroll'</span></span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"comment\">//æˆ–å¯¹è±¡å±•å¼€è¿ç®—ç¬¦</span></span><br><span class=\"line\">computed: &#123;</span><br><span class=\"line\">\t...mapState(&#123;</span><br><span class=\"line\">\t\t<span class=\"string\">'scroll'</span></span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-Getters\"><a href=\"#2-Getters\" class=\"headerlink\" title=\"2.Getters\"></a><strong>2.Getters</strong></h3><blockquote>\n<p>å¯¹stateæ•°æ®è¿›è¡Œè¿‡æ»¤æˆ–ç›´æ¥è¿”å›</p>\n</blockquote>\n<h4 id=\"2-1åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—Gettersæ•°æ®\"><a href=\"#2-1åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—Gettersæ•°æ®\" class=\"headerlink\" title=\"2.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—Gettersæ•°æ®\"></a>2.1åœ¨ Vue ç»„ä»¶ä¸­è·å¾—Gettersæ•°æ®</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//store</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> getters = &#123;</span><br><span class=\"line\">    travelsList: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.travelsList,</span><br><span class=\"line\">    travelListIndex: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.travelsList.slice(<span class=\"number\">0</span>,<span class=\"number\">4</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//åœ¨viewä¸­ç›´æ¥è·å–</span></span><br><span class=\"line\">data () &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        travelListIndex: <span class=\"keyword\">this</span>.$store.getters.travelListIndex</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-2mapGetters-è¾…åŠ©å‡½æ•°\"><a href=\"#2-2mapGetters-è¾…åŠ©å‡½æ•°\" class=\"headerlink\" title=\"2.2mapGetters è¾…åŠ©å‡½æ•°\"></a>2.2mapGetters è¾…åŠ©å‡½æ•°</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">computed: mapGetters([</span><br><span class=\"line\">    <span class=\"comment\">// æ˜ å°„ this.travelListIndex ä¸º this.$store.state.travelListIndex</span></span><br><span class=\"line\">    <span class=\"string\">'travelListIndex'</span></span><br><span class=\"line\">])</span><br><span class=\"line\"><span class=\"comment\">//æˆ–å¯¹è±¡å±•å¼€è¿ç®—ç¬¦</span></span><br><span class=\"line\">computed: &#123;</span><br><span class=\"line\">    ...mapGetters(&#123;</span><br><span class=\"line\">        <span class=\"string\">'travelListIndex'</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-Mutations\"><a href=\"#3-Mutations\" class=\"headerlink\" title=\"3.Mutations\"></a><strong>3.Mutations</strong></h3><blockquote>\n<p>è¦æ›´æ”¹ Vuex çš„ store ä¸­çš„æ•°æ®ï¼Œå”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚æ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡Œæ•°æ®æ›´æ”¹çš„åœ°æ–¹ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> mutations = &#123;</span><br><span class=\"line\">    <span class=\"comment\">//ä½¿ç”¨å¸¸é‡æ›¿ä»£ Mutation äº‹ä»¶ç±»å‹</span></span><br><span class=\"line\">    [types.GET_TRAVELS_LIST](state, res) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(state.searchKey.page &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            state.travelsList = res.data</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            state.travelsList = state.travelsList.concat(res.data)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>å½“æˆ‘ä»¬åœ¨è¿™æ”¹å˜æ•°æ®æ—¶ï¼Œå…¶å®ƒå¼•ç”¨æ­¤stateæ•°æ®çš„ Vue ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨å¾—åˆ°æ›´æ–°ã€‚</p>\n</blockquote>\n<h3 id=\"4-Actions\"><a href=\"#4-Actions\" class=\"headerlink\" title=\"4.Actions\"></a><strong>4.Actions</strong></h3><blockquote>\n<p>ç”¨æˆ·çš„ä¸€äº›è¡Œä¸ºï¼Œæ¥æäº¤åˆ°mutationsæ”¹å˜æ•°æ®ã€‚å¯åœ¨è¿™è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> actions = &#123;</span><br><span class=\"line\">    <span class=\"comment\">//es6çš„å‚æ•°è§£æ„</span></span><br><span class=\"line\">    getTravelsList(&#123; commit &#125;) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(state.scroll) &#123;</span><br><span class=\"line\">            commit(types.GET_TRAVELS_PAGE_NUM)</span><br><span class=\"line\">            commit(types.COM_LOADING_STATUS, <span class=\"literal\">true</span>),</span><br><span class=\"line\">            commit(types.GET_TRAVELS_SCORLL_STATUS, <span class=\"literal\">false</span>)</span><br><span class=\"line\">            api.TravelsList()</span><br><span class=\"line\">                .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(res)</span><br><span class=\"line\">                    commit(types.COM_LOADING_STATUS, <span class=\"literal\">false</span>),</span><br><span class=\"line\">                    commit(types.GET_TRAVELS_SCORLL_STATUS, <span class=\"literal\">true</span>)</span><br><span class=\"line\">                    commit(types.GET_TRAVELS_LIST, res)</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    joinTravel(&#123; commit &#125;, id) &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-1åˆ†å‘-Action\"><a href=\"#4-1åˆ†å‘-Action\" class=\"headerlink\" title=\"4.1åˆ†å‘ Action\"></a>4.1åˆ†å‘ Action</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">created() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.travelListIndex.length == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.$store.dispatch(<span class=\"string\">'getTravelsList'</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-2mapActions-è¾…åŠ©å‡½æ•°\"><a href=\"#4-2mapActions-è¾…åŠ©å‡½æ•°\" class=\"headerlink\" title=\"4.2mapActions è¾…åŠ©å‡½æ•°\"></a>4.2mapActions è¾…åŠ©å‡½æ•°</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">methods: &#123;</span><br><span class=\"line\">    ...mapActions([</span><br><span class=\"line\">      <span class=\"string\">'getTravelsList'</span> <span class=\"comment\">// æ˜ å°„ this.getTravelsList() ä¸º this.$store.dispatch('getTravelsList')</span></span><br><span class=\"line\">    ]),</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-Modules\"><a href=\"#5-Modules\" class=\"headerlink\" title=\"5.Modules\"></a><strong>5.Modules</strong></h3><blockquote>\n<p>å½“åº”ç”¨å˜å¾—å¾ˆå¤§æ—¶ï¼Œstore å¯¹è±¡ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²åˆ°æ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getters</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> moduleA = &#123;</span><br><span class=\"line\">  state: &#123; ... &#125;,</span><br><span class=\"line\">  mutations: &#123; ... &#125;,</span><br><span class=\"line\">  actions: &#123; ... &#125;,</span><br><span class=\"line\">  getters: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> moduleB = &#123;</span><br><span class=\"line\">  state: &#123; ... &#125;,</span><br><span class=\"line\">  mutations: &#123; ... &#125;,</span><br><span class=\"line\">  actions: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> Vuex.Store(&#123;</span><br><span class=\"line\">  modules: &#123;</span><br><span class=\"line\">    a: moduleA,</span><br><span class=\"line\">    b: moduleB</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">store.state.a <span class=\"comment\">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class=\"line\">store.state.b <span class=\"comment\">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"6-é¡¹ç›®å®è·µ\"><a href=\"#6-é¡¹ç›®å®è·µ\" class=\"headerlink\" title=\"6.é¡¹ç›®å®è·µ\"></a><strong>6.é¡¹ç›®å®è·µ</strong></h3><blockquote>\n<ul>\n<li><a href=\"https://hzzly.github.io/2017/03/08/%E8%BF%9B%E9%98%B6vue%E5%85%A8%E5%AE%B6%E6%A1%B6/\" target=\"_blank\" rel=\"noopener\">è¿›é˜¶vueå…¨å®¶æ¡¶</a></li>\n<li><a href=\"https://hzzly.github.io/2017/04/27/%E2%80%99DIY%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/\" target=\"_blank\" rel=\"noopener\">DIYä¸€ä¸ªè‡ªå·±çš„éŸ³ä¹æ’­æ”¾å™¨</a></li>\n</ul>\n</blockquote>\n","categories":[],"tags":["éšç¬”","vuex"]},{"title":"è¯»ä¹¦ç¬”è®°-es5Arrayå¯¹è±¡","url":"http://yoursite.com/2017/03/30/è¯»ä¹¦ç¬”è®°-es5Arrayå¯¹è±¡/","content":"<h3 id=\"1-åˆ›å»º-Array-å¯¹è±¡çš„è¯­æ³•ï¼š\"><a href=\"#1-åˆ›å»º-Array-å¯¹è±¡çš„è¯­æ³•ï¼š\" class=\"headerlink\" title=\"1.åˆ›å»º Array å¯¹è±¡çš„è¯­æ³•ï¼š\"></a>1.åˆ›å»º Array å¯¹è±¡çš„è¯­æ³•ï¼š</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>();</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(size);</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(element0, element1, ..., elementn)</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-å±æ€§\"><a href=\"#2-å±æ€§\" class=\"headerlink\" title=\"2.å±æ€§\"></a>2.å±æ€§</h3><table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th style=\"text-align:right\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>constructor</td>\n<td style=\"text-align:right\">è¿”å›å¯¹åˆ›å»ºæ­¤å¯¹è±¡çš„æ•°ç»„å‡½æ•°çš„å¼•ç”¨</td>\n</tr>\n<tr>\n<td>length</td>\n<td style=\"text-align:right\">è®¾ç½®æˆ–è¿”å›æ•°ç»„ä¸­å…ƒç´ çš„æ•°ç›®</td>\n</tr>\n<tr>\n<td>prototype</td>\n<td style=\"text-align:right\">å…è®¸å‘å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"3-å¸¸ç”¨æ–¹æ³•\"><a href=\"#3-å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"3.å¸¸ç”¨æ–¹æ³•\"></a>3.å¸¸ç”¨æ–¹æ³•</h3><table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th style=\"text-align:right\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>concat()</td>\n<td style=\"text-align:right\">è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ</td>\n</tr>\n<tr>\n<td>join()</td>\n<td style=\"text-align:right\">æŠŠæ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš”</td>\n</tr>\n<tr>\n<td>pop()</td>\n<td style=\"text-align:right\">åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ </td>\n</tr>\n<tr>\n<td>push()</td>\n<td style=\"text-align:right\">å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td>reverse()</td>\n<td style=\"text-align:right\">é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº</td>\n</tr>\n<tr>\n<td>shift()</td>\n<td style=\"text-align:right\">åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¼šä¿®æ”¹åŸæ•°ç»„</td>\n</tr>\n<tr>\n<td>unshift()</td>\n<td style=\"text-align:right\">å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td>slice()</td>\n<td style=\"text-align:right\">ä»æŸä¸ªå·²æœ‰çš„æ•°ç»„è¿”å›é€‰å®šçš„å…ƒç´ ï¼Œä¸ä¿®æ”¹åŸæ•°ç»„</td>\n</tr>\n<tr>\n<td>sort()</td>\n<td style=\"text-align:right\">å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº</td>\n</tr>\n<tr>\n<td>splice()</td>\n<td style=\"text-align:right\">åˆ é™¤å…ƒç´ ï¼Œå¹¶å‘æ•°ç»„æ·»åŠ æ–°å…ƒç´ ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œä¼šä¿®æ”¹åŸæ•°ç»„</td>\n</tr>\n<tr>\n<td>valueOf()</td>\n<td style=\"text-align:right\">è¿”å›æŸä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å€¼</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"4-å¾ªç¯\"><a href=\"#4-å¾ªç¯\" class=\"headerlink\" title=\"4.å¾ªç¯\"></a>4.å¾ªç¯</h3><table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th style=\"text-align:right\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>entries()</td>\n<td style=\"text-align:right\">è¿”å›ä¸€ä¸ªæ•°ç»„çš„è¿­ä»£å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„çš„é”®å€¼å¯¹ (key/value)</td>\n</tr>\n<tr>\n<td>every()</td>\n<td style=\"text-align:right\">ä½¿ç”¨æŒ‡å®šå‡½æ•°æ£€æµ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæŒ‡å®šæ¡ä»¶ï¼ˆé€šè¿‡å‡½æ•°æä¾›ï¼‰ã€‚å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™è¿”å› false ï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å› trueï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</td>\n</tr>\n<tr>\n<td>filter()</td>\n<td style=\"text-align:right\">æ£€æŸ¥æŒ‡å®šæ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶è¿”å›ç¬¦åˆæ¡ä»¶æ‰€æœ‰å…ƒç´ çš„æ•°ç»„(æ–°æ•°ç»„)ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</td>\n</tr>\n<tr>\n<td>find()</td>\n<td style=\"text-align:right\">è¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶è¿”å› true æ—¶ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefined ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</td>\n</tr>\n<tr>\n<td>findIndex()</td>\n<td style=\"text-align:right\">è¿”å›ä¼ å…¥ä¸€ä¸ªæµ‹è¯•æ¡ä»¶ï¼ˆå‡½æ•°ï¼‰ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ã€‚å½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶è¿”å› true æ—¶ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ä½ç½®ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› -1 ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</td>\n</tr>\n<tr>\n<td>forEach()</td>\n<td style=\"text-align:right\">å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°ï¼Œä½†æ€»æ˜¯è¿”å›undefined</td>\n</tr>\n<tr>\n<td>map()</td>\n<td style=\"text-align:right\">æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åè¿”å›å¤„ç†è¿‡çš„ç»“æœã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"4-æ —å­\"><a href=\"#4-æ —å­\" class=\"headerlink\" title=\"4.æ —å­\"></a>4.æ —å­</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//concat()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">a.concat(<span class=\"number\">4</span>,<span class=\"number\">5</span>) <span class=\"comment\">//[1,2,3,4,5]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//join()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">a.join() <span class=\"comment\">//1,2,3</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//shift()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">a.shift() <span class=\"comment\">//1</span></span><br><span class=\"line\">a <span class=\"comment\">//[2,3,4]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//unshift()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">a.unshift(<span class=\"number\">6</span>) <span class=\"comment\">//5</span></span><br><span class=\"line\">a <span class=\"comment\">//[6,1,2,3,4]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//slice()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">a.slice(<span class=\"number\">1</span>) <span class=\"comment\">//[2,3]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">a.slice(<span class=\"number\">1</span>,<span class=\"number\">2</span>) <span class=\"comment\">//[2]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//splice()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\">a.splice(<span class=\"number\">1</span>,<span class=\"number\">1</span>) <span class=\"comment\">//[2]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\">a.splice(<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">'hzzly'</span>) <span class=\"comment\">//[2]</span></span><br><span class=\"line\">a <span class=\"comment\">//[1, \"hzzly\", 3, 4, 5]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//entries()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> fruits = [<span class=\"string\">\"Banana\"</span>, <span class=\"string\">\"Orange\"</span>, <span class=\"string\">\"Apple\"</span>, <span class=\"string\">\"Mango\"</span>]</span><br><span class=\"line\">fruits.entries()</span><br><span class=\"line\"><span class=\"comment\">//[0, \"Banana\"]</span></span><br><span class=\"line\"><span class=\"comment\">//[1, \"Orange\"]</span></span><br><span class=\"line\"><span class=\"comment\">//[2, \"Apple\"]</span></span><br><span class=\"line\"><span class=\"comment\">//[3, \"Mango\"]</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//every()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\">ages.every(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt;= <span class=\"number\">18</span>)  <span class=\"comment\">//false</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//filter</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\">ages.filter(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt;= <span class=\"number\">18</span>) <span class=\"comment\">//[32, 33, 40]</span></span><br><span class=\"line\">ages.filter(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt;= <span class=\"number\">18</span>).length  <span class=\"comment\">//3</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//find()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\">ages.find(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt;= <span class=\"number\">18</span>)  <span class=\"comment\">//32</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//findIndex()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\">ages.findIndex(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt;= <span class=\"number\">18</span>) <span class=\"comment\">//0</span></span><br><span class=\"line\">ages.findIndex(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val === <span class=\"number\">16</span>) <span class=\"comment\">//2</span></span><br><span class=\"line\">ages.findIndex(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> val &gt; <span class=\"number\">40</span>) <span class=\"comment\">//-1</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//forEach()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = ages.forEach(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(val)  <span class=\"comment\">//å¯éå†åˆ°æ‰€æœ‰æ•°ç»„å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> val + <span class=\"number\">10</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">//arr: æ€»æ˜¯è¿”å›undefined</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//map</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> ages = [<span class=\"number\">32</span>, <span class=\"number\">33</span>, <span class=\"number\">16</span>, <span class=\"number\">40</span>]</span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = ages.map(<span class=\"function\">(<span class=\"params\">val, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(val)  <span class=\"comment\">//å¯éå†åˆ°æ‰€æœ‰æ•°ç»„å…ƒç´ </span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> val + <span class=\"number\">10</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// arr: [42, 43, 26, 50]</span></span><br></pre></td></tr></table></figure>","categories":[],"tags":["éšç¬”","JavaScript","es5"]},{"title":"è¯»ä¹¦ç¬”è®°-es5Stringå¯¹è±¡","url":"http://yoursite.com/2017/03/29/è¯»ä¹¦ç¬”è®°-es5Stringå¯¹è±¡/","content":"<h3 id=\"1-åˆ›å»º-String-å¯¹è±¡çš„è¯­æ³•ï¼š\"><a href=\"#1-åˆ›å»º-String-å¯¹è±¡çš„è¯­æ³•ï¼š\" class=\"headerlink\" title=\"1.åˆ›å»º String å¯¹è±¡çš„è¯­æ³•ï¼š\"></a>1.åˆ›å»º String å¯¹è±¡çš„è¯­æ³•ï¼š</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">String</span>(s);</span><br><span class=\"line\"><span class=\"built_in\">String</span>(s);</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-å±æ€§\"><a href=\"#2-å±æ€§\" class=\"headerlink\" title=\"2.å±æ€§\"></a>2.å±æ€§</h3><table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th style=\"text-align:right\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>constructor</td>\n<td style=\"text-align:right\">å¯¹åˆ›å»ºè¯¥å¯¹è±¡çš„å‡½æ•°çš„å¼•ç”¨</td>\n</tr>\n<tr>\n<td>length</td>\n<td style=\"text-align:right\">å­—ç¬¦ä¸²çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td>prototype</td>\n<td style=\"text-align:right\">å…è®¸å‘å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"3-å¸¸ç”¨æ–¹æ³•\"><a href=\"#3-å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"3.å¸¸ç”¨æ–¹æ³•\"></a>3.å¸¸ç”¨æ–¹æ³•</h3><table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th style=\"text-align:right\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>charAt()</td>\n<td style=\"text-align:right\">è¿”å›åœ¨æŒ‡å®šä½ç½®çš„å­—ç¬¦</td>\n</tr>\n<tr>\n<td>concat()</td>\n<td style=\"text-align:right\">è¿æ¥å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td>indexOf()</td>\n<td style=\"text-align:right\">æ£€ç´¢å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td>lastIndexOf()</td>\n<td style=\"text-align:right\">ä»åå‘å‰æœç´¢å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td>match()</td>\n<td style=\"text-align:right\">æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…</td>\n</tr>\n<tr>\n<td>slice()</td>\n<td style=\"text-align:right\">æå–å­—ç¬¦ä¸²çš„ç‰‡æ–­ï¼Œå¹¶åœ¨æ–°çš„å­—ç¬¦ä¸²ä¸­è¿”å›è¢«æå–çš„éƒ¨åˆ†</td>\n</tr>\n<tr>\n<td>split()</td>\n<td style=\"text-align:right\">æŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„</td>\n</tr>\n<tr>\n<td>toLowerCase()</td>\n<td style=\"text-align:right\">æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™</td>\n</tr>\n<tr>\n<td>toUpperCase()</td>\n<td style=\"text-align:right\">æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™</td>\n</tr>\n<tr>\n<td>toString()</td>\n<td style=\"text-align:right\">è¿”å›å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td>valueOf()</td>\n<td style=\"text-align:right\">è¿”å›æŸä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å€¼</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"4-æ —å­\"><a href=\"#4-æ —å­\" class=\"headerlink\" title=\"4.æ —å­\"></a>4.æ —å­</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//charAt()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str=<span class=\"string\">\"Hello world!\"</span></span><br><span class=\"line\">str.charAt(<span class=\"number\">1</span>) <span class=\"comment\">//e</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//concat()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str1=<span class=\"string\">\"Hello \"</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str2=<span class=\"string\">\"world!\"</span></span><br><span class=\"line\">str1.concat(str2) <span class=\"comment\">//Hello world!</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//indexOf()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str=<span class=\"string\">\"Hello world!\"</span></span><br><span class=\"line\">str.indexOf(<span class=\"string\">\"Hello\"</span>) <span class=\"comment\">//0</span></span><br><span class=\"line\">str.indexOf(<span class=\"string\">\"World\"</span>) <span class=\"comment\">//-1 (æ²¡æœ‰å°±è¿”å›-1)</span></span><br><span class=\"line\">str.indexOf(<span class=\"string\">\"world\"</span>) <span class=\"comment\">//6</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//slice()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str=<span class=\"string\">\"Hello happy world!\"</span></span><br><span class=\"line\">str.slice(<span class=\"number\">6</span>) <span class=\"comment\">//happy world!</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//split()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> str=<span class=\"string\">\"How are you doing today?\"</span></span><br><span class=\"line\">str.split(<span class=\"string\">\" \"</span>) <span class=\"comment\">//[\"How\", \"are\", \"you\", \"doing\", \"today?\"]</span></span><br><span class=\"line\">str.split(<span class=\"string\">\"\"</span>) <span class=\"comment\">//[\"H\", \"o\", \"w\", \" \", \"a\", \"r\", \"e\", \" \", \"y\", \"o\", \"u\", \" \", \"d\", \"o\", \"i\", \"n\", \"g\", \" \", \"t\", \"o\", \"d\", \"a\", \"y\", \"?\"]</span></span><br><span class=\"line\">str.split(<span class=\"string\">\" \"</span>,<span class=\"number\">3</span>) <span class=\"comment\">//[\"How\", \"are\", \"you\"]</span></span><br></pre></td></tr></table></figure>","categories":[],"tags":["éšç¬”","JavaScript","es5"]},{"title":"Expressä¸MongoDBçš„ç¼ ç»µ","url":"http://yoursite.com/2017/03/25/Expressä¸MongoDBçš„ç¼ ç»µ/","content":"<h3 id=\"å‰å¥\"><a href=\"#å‰å¥\" class=\"headerlink\" title=\"å‰å¥\"></a><strong>å‰å¥</strong></h3><p>Express æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n<blockquote>\n<p>Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚</p>\n</blockquote>\n<p>å…¨å±€å®‰è£…express<a href=\"http://www.expressjs.com.cn/starter/generator.html\" target=\"_blank\" rel=\"noopener\">è„šæ‰‹æ¶</a><br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install express-generator -g</span><br></pre></td></tr></table></figure></p>\n<p>åˆ›å»ºexpressé¡¹ç›®<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ express myapp</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> myapp</span><br><span class=\"line\">$ npm install</span><br><span class=\"line\">$ DEBUG=myapp npm start</span><br></pre></td></tr></table></figure></p>\n<p>MongoDBä¸Mongooseï¼Ÿ</p>\n<blockquote>\n<ul>\n<li>MongoDBæ˜¯ä¸€ä¸ªå¯¹è±¡æ•°æ®åº“ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼›å­˜å‚¨çš„æ•°æ®æ ¼å¼ä¸ºJSONã€‚</li>\n<li>Mongooseæ˜¯å°è£…äº†MongoDBæ“ä½œ(å¢åˆ æ”¹æŸ¥ç­‰)çš„ä¸€ä¸ªå¯¹è±¡æ¨¡å‹åº“,æ˜¯ç”¨æ¥æ“ä½œè¿™äº›æ•°æ®çš„ã€‚</li>\n</ul>\n</blockquote>\n<p>å®‰è£…MongoDBï¼š<br><a href=\"https://www.mongodb.com/download-center?jmp=nav\" target=\"_blank\" rel=\"noopener\">https://www.mongodb.com/download-center?jmp=nav</a></p>\n<p>å®‰è£…Mongooseï¼š<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install mongoose --save</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"ä¸€ã€è¿æ¥MongoDB\"><a href=\"#ä¸€ã€è¿æ¥MongoDB\" class=\"headerlink\" title=\"ä¸€ã€è¿æ¥MongoDB\"></a><strong>ä¸€ã€è¿æ¥MongoDB</strong></h3><blockquote>\n<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º/lib/mongo.js</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">\"mongoose\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> db = mongoose.connect(<span class=\"string\">'mongodb://localhost:27017/myblog'</span>);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = db</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>è¦è¿æ¥çš„æ•°æ®åº“ä¸ºmyblog</p>\n</blockquote>\n<h3 id=\"äºŒã€Schema\"><a href=\"#äºŒã€Schema\" class=\"headerlink\" title=\"äºŒã€Schema\"></a><strong>äºŒã€Schema</strong></h3><a id=\"more\"></a>\n<blockquote>\n<p>ä¸€ç§ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨çš„æ•°æ®åº“æ¨¡å‹éª¨æ¶ï¼Œæ— æ³•ç›´æ¥é€šå¾€æ•°æ®åº“ç«¯ï¼Œä¸å…·å¤‡å¯¹æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›ï¼Œä»…ä»…åªæ˜¯æ•°æ®åº“æ¨¡å‹åœ¨ç¨‹åºç‰‡æ®µä¸­çš„ä¸€ç§è¡¨ç°ï¼Œå¯ä»¥è¯´æ˜¯æ•°æ®å±æ€§æ¨¡å‹(ä¼ ç»Ÿæ„ä¹‰çš„è¡¨ç»“æ„)ï¼Œåˆæˆ–ç€æ˜¯â€œé›†åˆâ€çš„æ¨¡å‹éª¨æ¶</p>\n</blockquote>\n<p><strong>æ–°å»ºä¸€ä¸ªç”¨æˆ·Schema</strong></p>\n<blockquote>\n<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º/models/users.js</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">\"mongoose\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> db = <span class=\"built_in\">require</span>(<span class=\"string\">'../lib/mongo'</span>);</span><br><span class=\"line\"><span class=\"comment\">//ä¸€ä¸ªç”¨æˆ·æ¨¡å‹</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> UserSchema = <span class=\"keyword\">new</span> mongoose.Schema(&#123;</span><br><span class=\"line\">\tusername    : &#123; <span class=\"attr\">type</span>:<span class=\"built_in\">String</span> &#125;,</span><br><span class=\"line\">\tpassword    : &#123;<span class=\"attr\">type</span>: <span class=\"built_in\">String</span>&#125;,</span><br><span class=\"line\">\tavatar      : &#123;<span class=\"attr\">type</span>: <span class=\"built_in\">String</span>&#125;,</span><br><span class=\"line\">\tage         : &#123; <span class=\"attr\">type</span>:<span class=\"built_in\">Number</span>, <span class=\"attr\">default</span>:<span class=\"number\">0</span> &#125;,</span><br><span class=\"line\">\tdescription : &#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span>&#125;,</span><br><span class=\"line\">\temail       : &#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;,</span><br><span class=\"line\">\tgithub      : &#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;,</span><br><span class=\"line\">\ttime        : &#123; <span class=\"attr\">type</span>:<span class=\"built_in\">Date</span>, <span class=\"attr\">default</span>:<span class=\"built_in\">Date</span>.now &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//åˆ›å»ºModel</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> UserModel = db.model(<span class=\"string\">\"user\"</span>, UserSchema );</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = UserModel</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>userï¼šæ•°æ®åº“ä¸­çš„é›†åˆåç§°,å½“æˆ‘ä»¬å¯¹å…¶æ·»åŠ æ•°æ®æ—¶å¦‚æœuserå·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šä¿å­˜åˆ°å…¶ç›®å½•ä¸‹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºuseré›†åˆï¼Œç„¶ååœ¨ä¿å­˜æ•°æ®ã€‚</li>\n<li>æ‹¥æœ‰äº†Modelï¼Œæˆ‘ä»¬ä¹Ÿå°±æ‹¥æœ‰äº†æ“ä½œæ•°æ®åº“çš„é‡‘é’¥åŒ™ï¼Œå°±å¯ä»¥ä½¿ç”¨Modelæ¥è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„å…·ä½“æ“ä½œã€‚</li>\n</ul>\n</blockquote>\n<p><strong>Entity</strong></p>\n<blockquote>\n<p>Entityâ€“ç”±Modelåˆ›å»ºçš„å®ä½“ï¼Œä½¿ç”¨saveæ–¹æ³•ä¿å­˜æ•°æ®ï¼ŒModelå’ŒEntityéƒ½æœ‰èƒ½å½±å“æ•°æ®åº“çš„æ“ä½œï¼Œä½†Modelæ¯”Entityæ›´å…·æ“ä½œæ€§ã€‚æ‰€ä»¥æ­¤é¡¹ç›®ä¸»è¦ç”¨çš„Modelã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> UserEntity = <span class=\"keyword\">new</span> UserModel(&#123;</span><br><span class=\"line\">\tname : <span class=\"string\">\"hzzly\"</span>,</span><br><span class=\"line\">\tage  : <span class=\"number\">21</span>,</span><br><span class=\"line\">\temail: <span class=\"string\">\"hjingren@aliyun.com\"</span>,</span><br><span class=\"line\">\tgithub: <span class=\"string\">'https://github.com/hzzly'</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">UserEntity.save(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error,doc</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">\"error :\"</span> + error);</span><br><span class=\"line\">\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(doc);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸‰ã€å°è£…æ•°æ®åº“çš„CURD\"><a href=\"#ä¸‰ã€å°è£…æ•°æ®åº“çš„CURD\" class=\"headerlink\" title=\"ä¸‰ã€å°è£…æ•°æ®åº“çš„CURD\"></a><strong>ä¸‰ã€å°è£…æ•°æ®åº“çš„CURD</strong></h3><blockquote>\n<ul>\n<li>åœ¨libæ–‡ä»¶ä¸‹æ–°å»ºapi.js</li>\n<li>é‡‡ç”¨Promiseå°è£…å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œé¿å…å›è°ƒåœ°ç‹±ï¼Œä½¿å¾—ä»£ç èƒ½å¤Ÿæ›´å¥½çš„è¢«è¯»æ‡‚å’Œç»´æŠ¤ã€‚</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> UserModel = <span class=\"built_in\">require</span>(<span class=\"string\">'../models/users'</span>);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">\t<span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">\t * æ·»åŠ æ•°æ®</span></span><br><span class=\"line\"><span class=\"comment\">\t * @param  &#123;[type]&#125; data éœ€è¦ä¿å­˜çš„æ•°æ®å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"comment\">\t */</span></span><br><span class=\"line\">\tsave(data) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.create(ä¿å­˜çš„å¯¹è±¡,callback)</span></span><br><span class=\"line\">\t\t\tUserModel.create(data, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tfind(data=&#123;&#125;, fields=<span class=\"literal\">null</span>, options=&#123;&#125;) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.find(éœ€è¦æŸ¥æ‰¾çš„å¯¹è±¡(å¦‚æœä¸ºç©ºï¼Œåˆ™æŸ¥æ‰¾åˆ°æ‰€æœ‰æ•°æ®), å±æ€§è¿‡æ»¤å¯¹è±¡[å¯é€‰å‚æ•°], options[å¯é€‰å‚æ•°], callback)</span></span><br><span class=\"line\">\t\t\tUserModel.find(data, fields, options, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tfindOne(data) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.findOne(éœ€è¦æŸ¥æ‰¾çš„å¯¹è±¡,callback)</span></span><br><span class=\"line\">\t\t\tUserModel.findOne(data, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tfindById(data) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.findById(éœ€è¦æŸ¥æ‰¾çš„idå¯¹è±¡ ,callback)</span></span><br><span class=\"line\">\t\t\tUserModel.findById(data, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tupdate(conditions, update) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.update(æŸ¥è¯¢æ¡ä»¶,æ›´æ–°å¯¹è±¡,callback)</span></span><br><span class=\"line\">\t\t\tUserModel.update(conditions, update, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tremove(conditions) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">//model.update(æŸ¥è¯¢æ¡ä»¶,callback)</span></span><br><span class=\"line\">\t\t\tUserModel.remove(conditions, (error, doc) =&gt; &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(error)&#123;</span><br><span class=\"line\">\t\t\t\t\treject(error)</span><br><span class=\"line\">\t\t\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(doc)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"å››ã€ä½¿ç”¨\"><a href=\"#å››ã€ä½¿ç”¨\" class=\"headerlink\" title=\"å››ã€ä½¿ç”¨\"></a><strong>å››ã€ä½¿ç”¨</strong></h3><blockquote>\n<p>åœ¨/routers/index.jsä¸­ä½¿ç”¨</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> api = <span class=\"built_in\">require</span>(<span class=\"string\">'../lib/api'</span>);</span><br><span class=\"line\">router.post(<span class=\"string\">'/login'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> user = &#123;</span><br><span class=\"line\">\t\tusername : req.body.username,</span><br><span class=\"line\">\t\tpassword: req.body.password</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\tapi.findOne(user)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">router.post(<span class=\"string\">'/sign_up'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> user = &#123;</span><br><span class=\"line\">\t\tusername : req.body.username,</span><br><span class=\"line\">\t\tpassword: req.body.password,</span><br><span class=\"line\">\t\temail: req.body.email</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\tapi.save(user)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">router.get(<span class=\"string\">'/user_list'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//è¿”å›æ‰€æœ‰ç”¨æˆ·</span></span><br><span class=\"line\">\tapi.find(&#123;&#125;)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t<span class=\"comment\">//è¿”å›åªåŒ…å«ä¸€ä¸ªé”®å€¼nameã€ageçš„æ‰€æœ‰è®°å½•</span></span><br><span class=\"line\">\tapi.find(&#123;&#125;,&#123;<span class=\"attr\">name</span>:<span class=\"number\">1</span>, <span class=\"attr\">age</span>:<span class=\"number\">1</span>, <span class=\"attr\">_id</span>:<span class=\"number\">0</span>&#125;)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t<span class=\"comment\">//è¿”å›æ‰€æœ‰ageå¤§äº18çš„æ•°æ®</span></span><br><span class=\"line\">\tapi.find(&#123;<span class=\"string\">\"age\"</span>:&#123;<span class=\"string\">\"$gt\"</span>:<span class=\"number\">18</span>&#125;&#125;)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t<span class=\"comment\">//è¿”å›20æ¡æ•°æ®</span></span><br><span class=\"line\">\tapi.find(&#123;&#125;,<span class=\"literal\">null</span>,&#123;<span class=\"attr\">limit</span>:<span class=\"number\">20</span>&#125;)</span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t<span class=\"comment\">//æŸ¥è¯¢æ‰€æœ‰æ•°æ®ï¼Œå¹¶æŒ‰ç…§ageé™åºé¡ºåºè¿”å›æ•°æ®</span></span><br><span class=\"line\">\tapi.find(&#123;&#125;,<span class=\"literal\">null</span>,&#123;<span class=\"attr\">sort</span>:&#123;<span class=\"attr\">age</span>:<span class=\"number\">-1</span>&#125;&#125;) <span class=\"comment\">//1æ˜¯å‡åºï¼Œ-1æ˜¯é™åº</span></span><br><span class=\"line\">\t\t.then(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(result)\t\t\t</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>é¡¹ç›®Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/express-mongodb\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/express-mongodb</a><br>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿star</p>\n<p>æ–‡ç« æ¥æº<a href=\"https://hzzly.github.io/\" target=\"_blank\" rel=\"noopener\">hzzlyåšå®¢æŠ€æœ¯åˆ†äº«</a></p>\n","categories":[],"tags":["éšç¬”"]},{"title":"æµ…è°ˆPromise","url":"http://yoursite.com/2017/03/25/æµ…è°ˆPromise/","content":"<h1 id=\"è¯´è¯´promise\"><a href=\"#è¯´è¯´promise\" class=\"headerlink\" title=\"è¯´è¯´promise\"></a>è¯´è¯´promise</h1><blockquote>\n<p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚</p>\n</blockquote>\n<p>æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨(å¯¹è±¡)ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>\n<p>æ¥è§¦è¿‡promiseçš„çš„éƒ½çŸ¥é“å®ƒçš„åº”ç”¨åœºæ™¯å’Œç”¨é€”ï¼ŒPromiseå¯ä»¥ç”¨æ¥é¿å…å¼‚æ­¥æ“ä½œå‡½æ•°é‡Œçš„åµŒå¥—å›è°ƒï¼ˆcallback hellï¼‰é—®é¢˜ï¼Œå› ä¸ºè§£å†³å¼‚æ­¥æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯å›è°ƒåµŒå¥—ï¼Œå°†åä¸€ä¸ªçš„æ“ä½œæ”¾åœ¨å‰ä¸€ä¸ªæ“ä½œçš„å¼‚æ­¥å›è°ƒé‡Œï¼Œä½†å¦‚æœæ“ä½œå¤šäº†ï¼Œå°±ä¼šæœ‰å¾ˆå¤šå±‚çš„åµŒå¥—(<strong>å›è°ƒåœ°ç‹±</strong>)ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(url1, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data1</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something...</span></span><br><span class=\"line\">    $.ajax(url2, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data2</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// do something...</span></span><br><span class=\"line\">        $.ajax(url3, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data3</span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// do something...</span></span><br><span class=\"line\">            done(data3); <span class=\"comment\">// è¿”å›æ•°æ®</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Promiseå­¦æœ¯ç‚¹çš„æè¿°ï¼š</p>\n<blockquote>\n<p>promiseä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œè¿”å›çŠ¶æ€ï¼Œè¿™ä¸ªæ‰§è¡Œè¿”å›çŠ¶æ€åœ¨promiseå¯¹è±¡åˆ›å»ºæ—¶æœªå¿…å·²çŸ¥ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸæˆ–å¤±è´¥æŒ‡å®šå¤„ç†æ–¹æ³•ã€‚</p>\n</blockquote>\n<p>è¿™ä½¿å¾—å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼šå¼‚æ­¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåŒ…å«äº†åŸè¿”å›çŠ¶æ€çš„ promise å¯¹è±¡æ¥æ›¿ä»£åŸè¿”å›çŠ¶æ€ã€‚</p>\n<h1 id=\"Promiseçš„è¡¨ç°\"><a href=\"#Promiseçš„è¡¨ç°\" class=\"headerlink\" title=\"Promiseçš„è¡¨ç°\"></a><strong>Promiseçš„è¡¨ç°</strong></h1><p>å¦‚æœä½¿ç”¨å›è°ƒæ–¹æ³•å¤„ç†å¤šä¸ªæ“ä½œçš„å¼‚æ­¥åœºæ™¯ï¼Œåˆ¤æ–­æŸä¸ªæ“ä½œæˆåŠŸæˆ–å¤±è´¥çš„æ§åˆ¶åœ¨äºå£°æ˜çš„åŒ¿åå‡½æ•°é‡Œé¢ï¼Œä½¿ç”¨Promiseå¯¹è±¡åˆ™å¯ä»¥é‡æ–°å®šä¹‰å¼‚æ­¥æ‰§è¡Œçš„çŠ¶æ€å’Œæ§åˆ¶é€»è¾‘ã€‚</p>\n<p>promiseçš„æœ€é‡è¦çš„ç‰¹ç‚¹å°±æ˜¯å®ƒæŠŠæˆ‘ä»¬å¤„ç†ä»»ä½•å‡½æ•°è°ƒç”¨çš„æˆåŠŸæˆ–è€…å¤±è´¥çš„æ–¹å¼è§„èŒƒæˆäº†å¯é¢„æµ‹çš„å½¢å¼ï¼Œç‰¹åˆ«æ˜¯å¦‚æœè¿™ä¸ªè°ƒç”¨å®é™…ä¸Šçš„å¼‚æ­¥çš„ã€‚</p>\n<p>Promiseä¸­æœ‰å‡ ä¸ªçŠ¶æ€ï¼š</p>\n<blockquote>\n<ul>\n<li>pending: åˆå§‹çŠ¶æ€ã€‚ é fulfilled æˆ– rejectedã€‚</li>\n<li>resolved: æˆåŠŸçš„æ“ä½œã€‚ä¹Ÿæœ‰çš„æˆä¸ºfulfilled ã€‚</li>\n<li>rejected: å¤±è´¥çš„æ“ä½œã€‚</li>\n</ul>\n</blockquote>\n<p>çŠ¶æ€è½¬æ¢å…³ç³»ä¸ºï¼š</p>\n<blockquote>\n<p>pending-&gt;resolved(fulfilled)ï¼Œpending-&gt;rejectedã€‚</p>\n</blockquote>\n<p>Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:</p>\n<blockquote>\n<ul>\n<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰</li>\n<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚</li>\n</ul>\n</blockquote>\n<h1 id=\"ç”¨æ³•\"><a href=\"#ç”¨æ³•\" class=\"headerlink\" title=\"ç”¨æ³•\"></a><strong>ç”¨æ³•</strong></h1><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œç›´æ¥ä¸Šä»£ç ã€‚</p>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> promise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do somthing, maybe async</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (success)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> resolve(res);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> reject(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">promise.then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something... e.g</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(res);</span><br><span class=\"line\">&#125;, err =&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">// deal the err.</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>æˆ–å°è£…æˆæ–¹æ³•</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetch</span>(<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// do somthing, maybe async</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (success)&#123;</span><br><span class=\"line\">            resolve(res);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            reject(err);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">fetch(data)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res)</span><br><span class=\"line\">    &#125;, err =&gt; &#123;</span><br><span class=\"line\">        <span class=\"comment\">// deal the err.</span></span><br><span class=\"line\">    &#125;)</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"å¼‚æ­¥åµŒå¥—å›è°ƒ\"><a href=\"#å¼‚æ­¥åµŒå¥—å›è°ƒ\" class=\"headerlink\" title=\"å¼‚æ­¥åµŒå¥—å›è°ƒ\"></a><strong>å¼‚æ­¥åµŒå¥—å›è°ƒ</strong></h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadAsync1</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¼‚æ­¥æ“ä½œ</span></span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡1'</span>);</span><br><span class=\"line\">            resolve(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡1ä¼ è¿‡æ¥çš„å€¼'</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);          </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadAsync2</span>(<span class=\"params\">data1</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¼‚æ­¥æ“ä½œ</span></span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡2'</span>);</span><br><span class=\"line\">            resolve(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡2ä¼ è¿‡æ¥çš„å€¼'</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);          </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadAsync3</span>(<span class=\"params\">data2</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¼‚æ­¥æ“ä½œ</span></span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡3'</span>);</span><br><span class=\"line\">            resolve(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡3ä¼ è¿‡æ¥çš„å€¼'</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;);          </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æœ‰è¿”å›å€¼<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">loadAsync1()</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">data1</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> loadAsync2(data1)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">data2</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> loadAsync3(data2)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(okFn, failFn)</span><br></pre></td></tr></table></figure></p>\n<p>æ²¡æœ‰è¿”å›å€¼<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">loadAsync1()</span><br><span class=\"line\">    .then(data1 =&gt; &#123;</span><br><span class=\"line\">        loadAsync2(data1)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(data2 =&gt;&#123;</span><br><span class=\"line\">        loadAsync3(data2)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(res =&gt; console.log(res))</span><br></pre></td></tr></table></figure></p>\n<p>è¾“å‡ºçš„å€¼ä¸ºï¼š</p>\n<blockquote>\n<p>å¼‚æ­¥ä»»åŠ¡1<br>å¼‚æ­¥ä»»åŠ¡1ä¼ è¿‡æ¥çš„å€¼<br>å¼‚æ­¥ä»»åŠ¡2<br>å¼‚æ­¥ä»»åŠ¡2ä¼ è¿‡æ¥çš„å€¼<br>å¼‚æ­¥ä»»åŠ¡3<br>å¼‚æ­¥ä»»åŠ¡3ä¼ è¿‡æ¥çš„å€¼</p>\n</blockquote>\n<h1 id=\"promise-allæ–¹æ³•\"><a href=\"#promise-allæ–¹æ³•\" class=\"headerlink\" title=\"promise.allæ–¹æ³•\"></a><strong>promise.allæ–¹æ³•</strong></h1><blockquote>\n<p>Promise.all å¯ä»¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä¸º Promise å¯¹è±¡çš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå½“è¿™ä¸ªæ•°ç»„é‡Œé¢æ‰€æœ‰çš„ Promise å¯¹è±¡éƒ½å˜ä¸º resolve æ—¶ï¼Œè¯¥æ–¹æ³•æ‰ä¼šè¿”å›ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        resolve(<span class=\"string\">\"ç¬¬ä¸€ä¸ªpromise\"</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        resolve(<span class=\"string\">\"ç¬¬äºŒä¸ªpromise\"</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.all([p1, p2])</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result); <span class=\"comment\">// [\"ç¬¬ä¸€ä¸ªpromise\", \"ç¬¬äºŒä¸ªpromise\"]</span></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œallæ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œp1,p2æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œç­‰ä¸¤ä¸ªéƒ½æ‰§è¡Œå®Œäº†ï¼Œæ‰ä¼šè¿›å…¥åˆ°thenï¼Œallä¼šæŠŠæ‰€æœ‰çš„ç»“æœæ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­è¿”å›ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å°å‡ºæˆ‘ä»¬çš„ç»“æœä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>\n<blockquote>\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶p2çš„æ‰§è¡Œé¡ºåºæ¯”p1å¿«ï¼Œä½†æ˜¯allä¼šæŒ‰ç…§å‚æ•°é‡Œé¢çš„æ•°ç»„é¡ºåºæ¥è¿”å›ç»“æœã€‚allçš„ä½¿ç”¨åœºæ™¯ç±»ä¼¼äºï¼Œç©æ¸¸æˆçš„æ—¶å€™ï¼Œéœ€è¦æå‰å°†æ¸¸æˆéœ€è¦çš„èµ„æºæå‰å‡†å¤‡å¥½ï¼Œæ‰è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚</p>\n</blockquote>\n<h1 id=\"promise-raceæ–¹æ³•\"><a href=\"#promise-raceæ–¹æ³•\" class=\"headerlink\" title=\"promise.raceæ–¹æ³•\"></a><strong>promise.raceæ–¹æ³•</strong></h1><blockquote>\n<p>Promise.race å¯ä»¥æ¥æ”¶ä¸€ä¸ªå…ƒç´ ä¸º Promise å¯¹è±¡çš„æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªæ•°ç»„é‡Œé¢æ‰€æœ‰çš„ Promise å¯¹è±¡è¿›è¡Œç«é€Ÿï¼Œå®Œæˆä¸€ä¸ªå³å¯ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡1æ‰§è¡Œå®Œæˆ'</span>);</span><br><span class=\"line\">        resolve(<span class=\"string\">\"ç¬¬ä¸€ä¸ªpromise\"</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> p2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'å¼‚æ­¥ä»»åŠ¡2æ‰§è¡Œå®Œæˆ'</span>);</span><br><span class=\"line\">        resolve(<span class=\"string\">\"ç¬¬äºŒä¸ªpromise\"</span>);</span><br><span class=\"line\">    &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.race([p1, p2])</span><br><span class=\"line\">    .then(<span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å¼‚æ­¥ä»»åŠ¡2æ‰§è¡Œå®Œæˆ</span></span><br><span class=\"line\"><span class=\"comment\">//ç¬¬äºŒä¸ªpromise</span></span><br><span class=\"line\"><span class=\"comment\">//å¼‚æ­¥ä»»åŠ¡1æ‰§è¡Œå®Œæˆ</span></span><br></pre></td></tr></table></figure>\n<p>åœ¨thené‡Œé¢çš„å›è°ƒå¼€å§‹æ‰§è¡Œæ—¶ï¼Œp1 å¹¶æ²¡æœ‰åœæ­¢ï¼Œä»æ—§åœ¨æ‰§è¡Œã€‚äºæ˜¯å†è¿‡2ç§’åï¼Œè¾“å‡ºäº†ä»–ä»¬ç»“æŸçš„æ ‡å¿—ã€‚</p>\n<p>è¿™ä¸ªraceæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½¿ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/è¯·æ±‚æŸä¸ªå›¾ç‰‡èµ„æº</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">requestImg</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">        img.onload = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            resolve(img);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        img.src = <span class=\"string\">'xxxxxx'</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å»¶æ—¶å‡½æ•°ï¼Œç”¨äºç»™è¯·æ±‚è®¡æ—¶</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">timeout</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)</span>&#123;</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            reject(<span class=\"string\">'å›¾ç‰‡è¯·æ±‚è¶…æ—¶'</span>);</span><br><span class=\"line\">        &#125;, <span class=\"number\">5000</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Promise</span></span><br><span class=\"line\">    .race([requestImg(), timeout()])</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">results</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(results);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>requestImgå‡½æ•°ä¼šå¼‚æ­¥è¯·æ±‚ä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘æŠŠåœ°å€å†™ä¸ºâ€xxxxxxâ€ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯æ— æ³•æˆåŠŸè¯·æ±‚åˆ°çš„ã€‚timeoutå‡½æ•°æ˜¯ä¸€ä¸ªå»¶æ—¶5ç§’çš„å¼‚æ­¥æ“ä½œã€‚æˆ‘ä»¬æŠŠè¿™ä¸¤ä¸ªè¿”å›Promiseå¯¹è±¡çš„å‡½æ•°æ”¾è¿›raceï¼Œäºæ˜¯ä»–ä¿©å°±ä¼šèµ›è·‘ï¼Œå¦‚æœ5ç§’ä¹‹å†…å›¾ç‰‡è¯·æ±‚æˆåŠŸäº†ï¼Œé‚£ä¹ˆéè¿›å…¥thenæ–¹æ³•ï¼Œæ‰§è¡Œæ­£å¸¸çš„æµç¨‹ã€‚å¦‚æœ5ç§’é’Ÿå›¾ç‰‡è¿˜æœªæˆåŠŸè¿”å›ï¼Œé‚£ä¹ˆtimeoutå°±è·‘èµ¢äº†ï¼Œåˆ™è¿›å…¥catchï¼ŒæŠ¥å‡ºâ€œå›¾ç‰‡è¯·æ±‚è¶…æ—¶â€çš„ä¿¡æ¯ã€‚</p>\n<h1 id=\"ä¸€é“å¸¸è§é¢è¯•é¢˜\"><a href=\"#ä¸€é“å¸¸è§é¢è¯•é¢˜\" class=\"headerlink\" title=\"ä¸€é“å¸¸è§é¢è¯•é¢˜\"></a>ä¸€é“å¸¸è§é¢è¯•é¢˜</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">executor</span>(<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span>( <span class=\"keyword\">var</span> i=<span class=\"number\">0</span> ; i&lt;<span class=\"number\">10000</span> ; i++ ) &#123;</span><br><span class=\"line\">        i == <span class=\"number\">9999</span> &amp;&amp; resolve();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>);</span><br><span class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">4</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">â€œ<span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">5</span> <span class=\"number\">4</span> <span class=\"number\">1</span>â€</span><br></pre></td></tr></table></figure>\n<h1 id=\"æƒ…æ™¯\"><a href=\"#æƒ…æ™¯\" class=\"headerlink\" title=\"æƒ…æ™¯\"></a>æƒ…æ™¯</h1><p>ä¼ å…¥ä¸€ä¸ªtokenï¼Œæ ¹æ®è¿™ä¸ªtokenè¯·æ±‚ä¸€æ¬¡ç½‘ç»œï¼Œç„¶åè·å–ç”¨æˆ·IDï¼Œå°†è·å–çš„ç”¨æˆ·IDè®¿é—®æ•°æ®åº“ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> request = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">token</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span> &#123;</span><br><span class=\"line\">            token ? resolve(<span class=\"number\">2</span>) : reject(<span class=\"string\">'token error'</span>);</span><br><span class=\"line\">        &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> find = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span> &#123;</span><br><span class=\"line\">            id ? resolve(id + <span class=\"string\">'-info'</span>) : reject(<span class=\"string\">'id error'</span>);</span><br><span class=\"line\">        &#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"> </span><br><span class=\"line\">request(<span class=\"string\">'token'</span>)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> find(id);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">info</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log( info);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id = <span class=\"keyword\">yield</span> request(<span class=\"string\">'token'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> info = <span class=\"keyword\">yield</span> find(id);</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(id, info);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id = <span class=\"keyword\">await</span> request(<span class=\"string\">'token'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> info = <span class=\"keyword\">await</span> find(id);</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(id, info);</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n<p>ä¹‹åä¼šæœ‰expressæ“ä½œmongondbçš„åŸºäºPromiseçš„å°è£…ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>\n","categories":[],"tags":["éšç¬”","promise"]},{"title":"ç§»åŠ¨ç«¯touchäº‹ä»¶","url":"http://yoursite.com/2017/03/22/ç§»åŠ¨ç«¯touchäº‹ä»¶/","content":"<h3 id=\"4ä¸ªtouchäº‹ä»¶\"><a href=\"#4ä¸ªtouchäº‹ä»¶\" class=\"headerlink\" title=\"4ä¸ªtouchäº‹ä»¶\"></a><strong>4ä¸ªtouchäº‹ä»¶</strong></h3><p><strong>touchstart</strong> äº‹ä»¶ï¼šå½“æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶å€™è§¦å‘ï¼Œå³ä½¿å·²ç»æœ‰ä¸€ä¸ªæ‰‹æŒ‡æ”¾åœ¨å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚<br><strong>touchmove</strong> äº‹ä»¶ï¼šå½“æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨çš„æ—¶å€™è¿ç»­åœ°è§¦å‘ã€‚è°ƒç”¨preventDefault()äº‹ä»¶å¯ä»¥é˜»æ­¢æ»šåŠ¨ã€‚<br><strong>touchend</strong> äº‹ä»¶ï¼šå½“æ‰‹æŒ‡ä»å±å¹•ä¸Šç¦»å¼€çš„æ—¶å€™è§¦å‘ã€‚<br><strong>touchcancel</strong> äº‹ä»¶ï¼šè§¦æ‘¸ç»“æŸçš„æ—¶å€™è§¦å‘</p>\n<h3 id=\"è§¦æ‘¸äº‹ä»¶ï¼š\"><a href=\"#è§¦æ‘¸äº‹ä»¶ï¼š\" class=\"headerlink\" title=\"è§¦æ‘¸äº‹ä»¶ï¼š\"></a><strong>è§¦æ‘¸äº‹ä»¶ï¼š</strong></h3><p><strong>touchesï¼š</strong>å½“å‰ä½äºå±å¹•ä¸Šçš„æ‰€æœ‰æ‰‹æŒ‡çš„åˆ—è¡¨ã€‚<br><strong>targetTouchesï¼š</strong>ä½äºå½“å‰DOMå…ƒç´ ä¸Šæ‰‹æŒ‡çš„åˆ—è¡¨ã€‚<br><strong>changedTouchesï¼š</strong>æ¶‰åŠå½“å‰äº‹ä»¶æ‰‹æŒ‡çš„åˆ—è¡¨ã€‚</p>\n<h3 id=\"Touchå¯¹è±¡å±æ€§\"><a href=\"#Touchå¯¹è±¡å±æ€§\" class=\"headerlink\" title=\"Touchå¯¹è±¡å±æ€§\"></a><strong>Touchå¯¹è±¡å±æ€§</strong></h3><p>æ¯ä¸ªTouchå¯¹è±¡åŒ…å«çš„å±æ€§å¦‚ä¸‹ï¼š </p>\n<blockquote>\n<p>clientXï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„xåæ ‡ã€‚<br>clientYï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„yåæ ‡ã€‚<br>identifierï¼šæ ‡è¯†è§¦æ‘¸çš„å”¯ä¸€IDã€‚<br>pageXï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„xåæ ‡ã€‚<br>pageYï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„yåæ ‡ã€‚<br>screenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚<br>screenYï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„yåæ ‡ã€‚<br>targetï¼šè§¦æ‘¸çš„DOMèŠ‚ç‚¹ç›®æ ‡ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'touchstart'</span>,touch,<span class=\"literal\">false</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'touchmove'</span>,touch,<span class=\"literal\">false</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'touchend'</span>,touch,<span class=\"literal\">false</span>);     </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">touch</span> (<span class=\"params\">event</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> event = event || <span class=\"built_in\">window</span>.event;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> oInp = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"inp\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span>(event.type)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">\"touchstart\"</span>:</span><br><span class=\"line\">            oInp.innerHTML =<span class=\"string\">`Touch started ( <span class=\"subst\">$&#123;event.touches[<span class=\"number\">0</span>].clientX&#125;</span> , <span class=\"subst\">$&#123;event.touches[<span class=\"number\">0</span>].clientY&#125;</span> )`</span>;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">\"touchend\"</span>:</span><br><span class=\"line\">            oInp.innerHTML =<span class=\"string\">`&lt;br&gt;Touch end ( <span class=\"subst\">$&#123;event.changedTouches[<span class=\"number\">0</span>].clientX&#125;</span> , <span class=\"subst\">$&#123;event.changedTouches[<span class=\"number\">0</span>].clientY&#125;</span> )`</span>;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">\"touchmove\"</span>:</span><br><span class=\"line\">            event.preventDefault();</span><br><span class=\"line\">            oInp.innerHTML =<span class=\"string\">`&lt;br&gt;Touch moved ( <span class=\"subst\">$&#123;event.touches[<span class=\"number\">0</span>].clientX&#125;</span> , <span class=\"subst\">$&#123;event.touches[<span class=\"number\">0</span>].clientY&#125;</span> )`</span>;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"äº‹ä»¶-åŒ…æ‹¬é¼ æ ‡äº‹ä»¶-å‘ç”Ÿçš„é¡ºåºå¦‚ä¸‹ï¼š\"><a href=\"#äº‹ä»¶-åŒ…æ‹¬é¼ æ ‡äº‹ä»¶-å‘ç”Ÿçš„é¡ºåºå¦‚ä¸‹ï¼š\" class=\"headerlink\" title=\"äº‹ä»¶(åŒ…æ‹¬é¼ æ ‡äº‹ä»¶)å‘ç”Ÿçš„é¡ºåºå¦‚ä¸‹ï¼š\"></a><strong>äº‹ä»¶(åŒ…æ‹¬é¼ æ ‡äº‹ä»¶)å‘ç”Ÿçš„é¡ºåºå¦‚ä¸‹ï¼š</strong></h3><p>(1) touchstart<br>(2) mouseover<br>(3) mousemove(ä¸€æ¬¡)<br>(4) mousedown<br>(5) mouseup<br>(6) click<br>(7) touchend</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"ä¸€ä¸ªVue+Canvasçš„é…·ç‚«åå°ç®¡ç†","url":"http://yoursite.com/2017/03/21/ä¸€ä¸ªVue-Canvasçš„é…·ç‚«åå°ç®¡ç†/","content":"<blockquote>\n<p>åˆä¸€ä¸ªVue+Cnavasé…·ç‚«çš„åå°ç®¡ç†ï¼Œä¾ç„¶å‰åç«¯åˆ†ç¦»ï¼ˆç”¨PCæ‰“å¼€ï¼Œè¿˜æ²¡é€‚é…ç§»åŠ¨ç«¯ï¼‰ã€‚</p>\n</blockquote>\n<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/canvas-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/canvas-vue</a><br><strong>demoåœ°å€ï¼š</strong> <a href=\"http://hjingren.cn/curriculum-design/\" target=\"_blank\" rel=\"noopener\">http://hjingren.cn/curriculum-design/</a><br>è´¦å·ï¼šhzzly  å¯†ç ï¼š123456<br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<h3 id=\"æŠ€æœ¯æ ˆ\"><a href=\"#æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"æŠ€æœ¯æ ˆ\"></a><strong>æŠ€æœ¯æ ˆ</strong></h3><p>å‰å°:</p>\n<blockquote>\n<ul>\n<li>vue-cli</li>\n<li>vue</li>\n<li>vue-router</li>\n<li>webpack</li>\n<li>canvas</li>\n<li>ajax</li>\n</ul>\n</blockquote>\n<p>åå°:</p>\n<blockquote>\n<ul>\n<li>wamp</li>\n<li>PHP(ThinkPHP)</li>\n<li>mysql</li>\n</ul>\n</blockquote>\n<h3 id=\"åŠŸèƒ½è¯´æ˜\"><a href=\"#åŠŸèƒ½è¯´æ˜\" class=\"headerlink\" title=\"åŠŸèƒ½è¯´æ˜\"></a><strong>åŠŸèƒ½è¯´æ˜</strong></h3><ul>\n<li>ç™»å½•<ul>\n<li>ç”¨æˆ·ç™»å½•</li>\n<li>ç®¡ç†å‘˜ç™»å½•</li>\n</ul>\n</li>\n<li>æ³¨å†Œ<ul>\n<li>ç”¨æˆ·æ³¨å†Œ</li>\n</ul>\n</li>\n<li>Canvas<ul>\n<li>æµæ˜Ÿæ»‘è¿‡</li>\n<li>æ˜Ÿæ˜Ÿé—ªé—ª</li>\n<li>åå°æŠ˜çº¿</li>\n<li>æŠ˜çº¿è·Ÿç€é¼ æ ‡æ»‘åŠ¨</li>\n</ul>\n</li>\n<li>Vue<ul>\n<li>å¼¹å‡ºæ¡†ç»„ä»¶</li>\n<li>è·¯ç”±åˆ‡æ¢åŠ¨ç”»</li>\n<li>é€šè¿‡Ajaxè°ƒç”¨åå°æ¥å£</li>\n</ul>\n</li>\n<li>ç•™è¨€æ¿(æ—¶é—´è½´)</li>\n<li>æ·»åŠ æˆ¿å±‹ä¿¡æ¯</li>\n<li>å‡ºç§Ÿ æ±‚ç§Ÿ</li>\n<li>å‡ºå”® æ±‚è´­</li>\n<li>ä¸ªäººä¿¡æ¯ä¿®æ”¹</li>\n<li>å¯†ç ä¿®æ”¹</li>\n<li>â€¦â€¦</li>\n</ul>\n<blockquote>\n<p>1.ç™»å½•æ³¨å†Œæ¨¡å—</p>\n</blockquote>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/canvas-login.gif\" alt=\"canvas-login\"></p>\n<a id=\"more\"></a>\n<blockquote>\n<p>2.åå°ç®¡ç†é¡µé¢</p>\n</blockquote>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/admin.gif\" alt=\"admin\"></p>\n<blockquote>\n<p>3.ç•™è¨€æ¿(æ—¶é—´è½´ç‰¹æ•ˆ)</p>\n</blockquote>\n<p><img src=\"http://omt3u4bph.bkt.clouddn.com/msgboard.gif\" alt=\"msgboard\"></p>\n<h3 id=\"ç›®å½•ç»“æ„\"><a href=\"#ç›®å½•ç»“æ„\" class=\"headerlink\" title=\"ç›®å½•ç»“æ„\"></a><strong>ç›®å½•ç»“æ„</strong></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|â€”â€”canvas-vue/</span><br><span class=\"line\">|   |â€”â€”build/</span><br><span class=\"line\">|   |â€”â€”confg/</span><br><span class=\"line\">|   |â€”â€”node_modules/</span><br><span class=\"line\">|   |â€”â€”src/</span><br><span class=\"line\">|   |   |â€”â€”assets/                 //é™æ€æ–‡ä»¶</span><br><span class=\"line\">|   |   |â€”â€”components/             //é¡µé¢ç»„ä»¶</span><br><span class=\"line\">|   |   |   |â€”â€”Menu.vue            //ç™»å½•æ³¨å†ŒåŠ è½½é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Home.vue            //åå°é¦–é¡µ</span><br><span class=\"line\">|   |   |   |â€”â€”Login.vue           //ç™»å½•é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Regist.vue          //æ³¨å†Œé¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Navbar.vue          //æˆ‘çš„å‘å¸ƒ</span><br><span class=\"line\">|   |   |   |â€”â€”Messageboard.vue    //ç•™è¨€æ¿é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”...                 //ç­‰ç­‰</span><br><span class=\"line\">|   |   |â€”â€”router/                 </span><br><span class=\"line\">|   |   |   |â€”â€”index.js            //é¡µé¢è·¯ç”±</span><br><span class=\"line\">|   |   |â€”â€”App.vue                 //çˆ¶ç»„ä»¶</span><br><span class=\"line\">|   |   |â€”â€”main.js                 //å…¥å£æ–‡ä»¶</span><br><span class=\"line\">|   |â€”â€”static/                     </span><br><span class=\"line\">|   |â€”â€”.babelrc</span><br><span class=\"line\">|   |â€”â€”.editorconfig</span><br><span class=\"line\">|   |â€”â€”.gitgnore</span><br><span class=\"line\">|   |â€”â€”index.html</span><br><span class=\"line\">|   |â€”â€”package.json</span><br><span class=\"line\">|   |â€”â€”README.md</span><br></pre></td></tr></table></figure>\n<h3 id=\"æŠ€æœ¯ç‚¹\"><a href=\"#æŠ€æœ¯ç‚¹\" class=\"headerlink\" title=\"æŠ€æœ¯ç‚¹\"></a><strong>æŠ€æœ¯ç‚¹</strong></h3><blockquote>\n<ul>\n<li>ç™»å½•æ³¨å†Œåˆ‡æ¢åŠ¨ç”»â€“vueçš„transitionè½¬æ¢åŠ¨ç”»</li>\n</ul>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">    &lt;transition name=&quot;fade-out&quot;&gt;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &lt;/transition&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">.fade-out-enter-active, .fade-out-leave-active &#123;</span><br><span class=\"line\">    transition: all .5s</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.fade-out-enter, .fade-out-leave-active &#123;</span><br><span class=\"line\">    opacity: 0;</span><br><span class=\"line\">    transform: translateX(-400px);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>ç™»å½•æ³¨å†Œæ˜Ÿæ˜Ÿä¸æµæ˜Ÿâ€“canvas</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'canvas'</span>),</span><br><span class=\"line\">    ctx = canvas.getContext(<span class=\"string\">'2d'</span>),</span><br><span class=\"line\">    width = <span class=\"built_in\">window</span>.innerWidth,</span><br><span class=\"line\">    height = <span class=\"built_in\">window</span>.innerHeight,</span><br><span class=\"line\">    <span class=\"comment\">//å®ä¾‹åŒ–æœˆäº®å’Œæ˜Ÿæ˜Ÿã€‚æµæ˜Ÿæ˜¯éšæœºæ—¶é—´ç”Ÿæˆï¼Œæ‰€ä»¥åªåˆå§‹åŒ–æ•°ç»„</span></span><br><span class=\"line\">    moon = <span class=\"keyword\">new</span> Moon(ctx, width, height),</span><br><span class=\"line\">    stars = <span class=\"keyword\">new</span> Stars(ctx, width, height, <span class=\"number\">200</span>),</span><br><span class=\"line\">    meteors = [],</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    canvas.width = width;</span><br><span class=\"line\">    canvas.height = height;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> meteorGenerator = <span class=\"function\"><span class=\"params\">()</span>=&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//xä½ç½®åç§»ï¼Œä»¥å…ç»è¿‡æœˆäº®</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> x = <span class=\"built_in\">Math</span>.random() * width + <span class=\"number\">800</span></span><br><span class=\"line\">    meteors.push(<span class=\"keyword\">new</span> Meteor(ctx, x, height))</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">//æ¯éš”éšæœºæ—¶é—´ï¼Œç”Ÿæˆæ–°æµæ˜Ÿ</span></span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span> &#123;</span><br><span class=\"line\">        meteorGenerator()</span><br><span class=\"line\">    &#125;, <span class=\"built_in\">Math</span>.random() * <span class=\"number\">2000</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> frame = <span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">    count++</span><br><span class=\"line\">    count % <span class=\"number\">10</span> == <span class=\"number\">0</span> &amp;&amp; stars.blink()</span><br><span class=\"line\">    moon.draw()</span><br><span class=\"line\">    stars.draw()</span><br><span class=\"line\"> </span><br><span class=\"line\">    meteors.forEach(<span class=\"function\">(<span class=\"params\">meteor, index, arr</span>)=&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//å¦‚æœæµæ˜Ÿç¦»å¼€è§†é‡ä¹‹å†…ï¼Œé”€æ¯æµæ˜Ÿå®ä¾‹ï¼Œå›æ”¶å†…å­˜</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (meteor.flow()) &#123;</span><br><span class=\"line\">            meteor.draw()</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            arr.splice(index, <span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    requestAnimationFrame(frame)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">meteorGenerator()</span><br><span class=\"line\">frame()</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a><strong>æ€»ç»“</strong></h3><p>è¿™ä¸ªé¡¹ç›®è¿˜æ²¡æœ‰å®Œæˆï¼ŒåæœŸå°†ä¸å®šæœŸæ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚</p>\n<p>å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿star<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/canvas-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/canvas-vue</a><br><strong>é¡¹ç›®åå°(PHP)åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/canvas-vue-backstage\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/canvas-vue-backstage</a></p>\n<p>å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue"]},{"title":"ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³","url":"http://yoursite.com/2017/03/15/ç§»åŠ¨ç«¯å±å¹•é€‚é…çš„è§£å†³/","content":"<blockquote>\n<p>éšç€æ‰‹æœºç¡¬ä»¶é…ç½®çš„é£é€Ÿå¢é•¿ã€å±å¹•å°ºå¯¸çš„è¶Šæ¥è¶Šå¤§å’Œç½‘ç»œå¸¦å®½çš„é€æ¸æå‡ï¼Œè¶Šæ¥è¶Šå¤šçš„PCä¸šåŠ¡å’ŒæœåŠ¡åœ¨å‘ç§»åŠ¨ç«¯è½¬ç§»ã€‚ç„¶è€Œåœ¨è¿™ç§»åŠ¨ç«¯çš„æ—¶ä»£ï¼Œä¸ºäº†å¤„ç†å„ç»ˆç«¯å±å¹•çš„é€‚é…ï¼Œæ˜¯å¦ä¹±äº†æ‰‹è„šå‘¢ï¼Ÿ</p>\n</blockquote>\n<p>è™½ç„¶ç§»åŠ¨ç«¯çš„é¡µé¢ä¸PCçš„é¡µé¢ç›¸æ¯”ç®€å•äº†ä¸å°‘ï¼Œä½†è®©æˆ‘ä»¬å¤´ç—›çš„äº‹æƒ…è¿˜æ˜¯è¦æƒ³å°½åŠæ³•è®©é¡µé¢èƒ½é€‚é…ä¼—å¤šä¸åŒçš„ç»ˆç«¯è®¾å¤‡ã€‚<br>åœ¨å‰å‡ ä¸ªå¤–åŒ…é¡¹ç›®ä¸­ï¼Œæˆ‘åšçš„ä¸»è¦éƒ½æ˜¯ç§»åŠ¨å¾®ä¿¡ç«¯çš„ã€‚æœŸé—´ä¹Ÿé‡åˆ°äº†ä¸åŒå±å¹•å¤§å°çš„é€‚é…é—®é¢˜ï¼Œæ‰€ä»¥ä»Šå¤©ç‰¹æ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„è§£å†³æ–¹æ³•ã€‚</p>\n<p><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a><br><strong>demoåœ°å€ï¼š</strong> <a href=\"http://hjingren.cn/xyy-vue/\" target=\"_blank\" rel=\"noopener\">http://hjingren.cn/xyy-vue/</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<h3 id=\"ä¸€ã€metaæ ‡ç­¾\"><a href=\"#ä¸€ã€metaæ ‡ç­¾\" class=\"headerlink\" title=\"ä¸€ã€metaæ ‡ç­¾\"></a><strong>ä¸€ã€metaæ ‡ç­¾</strong></h3><blockquote>\n<p>metaä¹‹viewportï¼Œå…¶ä¸»è¦ç”¨æ¥å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§„èŒƒçš„æ¸²æŸ“Webé¡µé¢ï¼Œè€Œä½ åˆ™éœ€è¦å‘Šè¯‰å®ƒè§†çª—æœ‰å¤šå¤§ã€‚åœ¨å¼€å‘ç§»åŠ¨ç«¯é¡µé¢ï¼Œæˆ‘ä»¬éœ€è¦åœ¨htmlä¸­è®¾ç½®metaæ ‡ç­¾å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"äºŒã€æ‰‹æ·˜çš„flexible\"><a href=\"#äºŒã€æ‰‹æ·˜çš„flexible\" class=\"headerlink\" title=\"äºŒã€æ‰‹æ·˜çš„flexible\"></a><strong>äºŒã€æ‰‹æ·˜çš„flexible</strong></h3><blockquote>\n<p>flexibleæ˜¯ä¸€ä¸ªåˆ¶ä½œH5é€‚é…çš„å¼€æºåº“ï¼Œéœ€è¦åœ¨htmlä¸­å¼•å…¥ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é˜¿é‡ŒCDNï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œè¿™ä¸ªJSåï¼Œä¼šåœ¨<html>å…ƒç´ ä¸Šå¢åŠ ä¸€ä¸ªdata-dprå±æ€§ï¼Œä»¥åŠä¸€ä¸ªfont-sizeæ ·å¼ã€‚JSä¼šæ ¹æ®ä¸åŒçš„è®¾å¤‡æ·»åŠ ä¸åŒçš„data-dprå€¼ï¼Œæ¯”å¦‚è¯´1ã€2æˆ–è€…3ï¼ŒåŒæ—¶ä¼šç»™htmlåŠ ä¸Šå¯¹åº”çš„font-sizeçš„å€¼ï¼Œæ¯”å¦‚è¯´37.5pxã€‚</html></p>\n<h3 id=\"ä¸‰ã€æ”¾å¼ƒpxæ‹¥æŠ±rem\"><a href=\"#ä¸‰ã€æ”¾å¼ƒpxæ‹¥æŠ±rem\" class=\"headerlink\" title=\"ä¸‰ã€æ”¾å¼ƒpxæ‹¥æŠ±rem\"></a><strong>ä¸‰ã€æ”¾å¼ƒpxæ‹¥æŠ±rem</strong></h3><a id=\"more\"></a>\n<p>ç”¨pxå†™çš„æ˜¯ç»å¯¹å•ä½ï¼Œè¿™ç§æ–¹æ³•è‚¯å®šä¸è¡Œã€‚è®©æˆ‘ä»¬æ¥æ‹¥æŠ±remå§ï¼ï¼ï¼</p>\n<blockquote>\n<p>æˆ‘ä»¬çŸ¥é“ em çš„è®¡ç®—æ˜¯åŸºäºçˆ¶çº§å…ƒç´ çš„ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ç»™æˆ‘ä»¬çš„è®¡ç®—å¸¦æ¥äº†å¾ˆå¤§çš„ä¸ä¾¿ã€‚æ‰€ä»¥ rem çš„å‡ºç°è§£æ•‘äº†æˆ‘è¿™æ ·ä¸ä¼šç®—æœ¯çš„äººï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçˆ¶çº§å…ƒç´ çš„ font-size äº†ï¼Œå› ä¸ºå®ƒå§‹ç»ˆæ˜¯åŸºäºæ ¹å…ƒç´ ï¼ˆhtmlï¼‰ çš„ã€‚<br>æ¯”å¦‚é»˜è®¤çš„ html font-size=16pxï¼Œé‚£ä¹ˆæˆ‘æƒ³è®¾ç½®12px çš„æ–‡å­—å°±æ˜¯ï¼š12Ã·16=0.75ï¼ˆremï¼‰</p>\n</blockquote>\n<p>å¦‚æœå¯¹remè¿˜æœ‰ä¸æ‡‚çš„å¯ä»¥å…ˆçœ‹çœ‹è¿™ä¸ª<a href=\"http://www.w3cplus.com/css3/define-font-size-with-css3-rem\" target=\"_blank\" rel=\"noopener\">CSS3çš„REMè®¾ç½®å­—ä½“å¤§å°</a></p>\n<p>åˆšåˆšæˆ‘ä»¬å¼•å…¥äº†æ‰‹æ·˜çš„flexibleï¼Œå¹¶ç»™htmlåŠ äº†font-sizeï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œé¡µé¢ä¸­çš„å…ƒç´ ï¼Œéƒ½å¯ä»¥é€šè¿‡remå•ä½æ¥è®¾ç½®ã€‚ä»–ä»¬ä¼šæ ¹æ®htmlå…ƒç´ çš„font-sizeå€¼åšç›¸åº”çš„è®¡ç®—ï¼Œä»è€Œå®ç°å±å¹•çš„é€‚é…æ•ˆæœã€‚</p>\n<h3 id=\"å››ã€CSSå¤„ç†å™¨-SASS\"><a href=\"#å››ã€CSSå¤„ç†å™¨-SASS\" class=\"headerlink\" title=\"å››ã€CSSå¤„ç†å™¨(SASS)\"></a><strong>å››ã€CSSå¤„ç†å™¨(SASS)</strong></h3><ol>\n<li>ä½¿ç”¨Sassçš„åŒå­¦ï¼Œå¯ä»¥ä½¿ç”¨Sassçš„å‡½æ•°ã€æ··åˆå®è¿™äº›åŠŸèƒ½æ¥å®ç°ï¼š</li>\n</ol>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@function px2rem(<span class=\"variable\">$px</span>, <span class=\"variable\">$base-font-size</span>: 75px) &#123;</span><br><span class=\"line\">    @return (<span class=\"variable\">$px</span> / <span class=\"variable\">$base-font-size</span>) * 1rem;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œçš„è¿™ä¸ªå‚æ•°$base-font-size: 75pxï¼Œå¯ä»¥é€šè¿‡(psdæ–‡ä»¶çš„å®½åº¦/10)æ¥è®¡ç®—ã€‚å‡å¦‚psdå®½750ï¼Œåˆ™$base-font-sizeä¸º75pxã€‚</p>\n<p><strong>ä½¿ç”¨ï¼š</strong></p>\n<blockquote>\n<p>psdä¸­é‡å¤šå°‘å°±å†™å¤šå°‘</p>\n</blockquote>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ¯”å¦‚é‡å–boxå®½ä¸º190ï¼Œé«˜ä¸º190ï¼Œåˆ™ä»£ç ï¼š</span></span><br><span class=\"line\"><span class=\"selector-class\">.box</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: px2rem(<span class=\"number\">190px</span>);</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: px2rem(<span class=\"number\">190px</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>æ²¡ç”¨è¿‡çš„å¯ä»¥ç”¨sublimeçš„<a href=\"https://github.com/flashlizi/cssrem\" target=\"_blank\" rel=\"noopener\">cssrem</a>çš„æ’ä»¶å®ç°ã€‚</li>\n</ol>\n<h3 id=\"äº”ã€å›¾ç¤º\"><a href=\"#äº”ã€å›¾ç¤º\" class=\"headerlink\" title=\"äº”ã€å›¾ç¤º\"></a><strong>äº”ã€å›¾ç¤º</strong></h3><p><img src=\"http://omt3u4bph.bkt.clouddn.com/flexible.gif\" alt=\"flexible\"></p>\n<h3 id=\"å…­ã€å›¾ç¤ºä»£ç \"><a href=\"#å…­ã€å›¾ç¤ºä»£ç \" class=\"headerlink\" title=\"å…­ã€å›¾ç¤ºä»£ç \"></a><strong>å…­ã€å›¾ç¤ºä»£ç </strong></h3><blockquote>\n<p>å› ä¸ºè¿™æ˜¯å•†ä¸šä»£ç ï¼Œæ‰€ä»¥å°±åªè´´äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œå¿˜è§è°…ï¼Œè°¢è°¢<br>æœ€ä¸‹é¢æœ‰æˆ‘å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œå¯ä»¥å‚è€ƒï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œç»™ä¸ªstarã€‚</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//index.html</span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Demo<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"index.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"home\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"home-list\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-item\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/\"</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"item-l\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../assets/images/check.png\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>å¾…å®¡æ ¸<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"item-r isnew\"</span>&gt;</span>6<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>\t</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.scss</span></span><br><span class=\"line\">@function px2rem(<span class=\"variable\">$px</span>, <span class=\"variable\">$base-font-size</span>: 75px) &#123;</span><br><span class=\"line\">  @return (<span class=\"variable\">$px</span> / <span class=\"variable\">$base-font-size</span>) * 1rem;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.home-list</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: px2rem(<span class=\"number\">45px</span>);</span><br><span class=\"line\">  <span class=\"selector-class\">.list-item</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: px2rem(<span class=\"number\">690px</span>);</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: px2rem(<span class=\"number\">190px</span>);</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: px2rem(<span class=\"number\">190px</span>);</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: px2rem(<span class=\"number\">45px</span>) auto <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> px2rem(<span class=\"number\">50px</span>) <span class=\"number\">0</span> px2rem(<span class=\"number\">30px</span>);</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: px2rem(<span class=\"number\">20px</span>);</span><br><span class=\"line\">    <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">      <span class=\"attribute\">justify-content</span>: space-between;</span><br><span class=\"line\">      <span class=\"attribute\">font-size</span>: px2rem(<span class=\"number\">40px</span>);</span><br><span class=\"line\">      <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: px2rem(<span class=\"number\">90px</span>);</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: px2rem(<span class=\"number\">65px</span>);</span><br><span class=\"line\">        <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">        <span class=\"attribute\">margin-right</span>: px2rem(<span class=\"number\">30px</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">        <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"selector-class\">.item-r</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: <span class=\"number\">#666666</span>;</span><br><span class=\"line\">          &amp;<span class=\"selector-class\">.isnew</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">color</span>: <span class=\"number\">#ff5500</span>;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &amp;:link,&amp;:visited,&amp;:hover,&amp;:active &#123;</span><br><span class=\"line\">        <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ä¸ƒã€å¼€æºç¤ºä¾‹\"><a href=\"#ä¸ƒã€å¼€æºç¤ºä¾‹\" class=\"headerlink\" title=\"ä¸ƒã€å¼€æºç¤ºä¾‹\"></a><strong>ä¸ƒã€å¼€æºç¤ºä¾‹</strong></h3><p>å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿star<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a></p>\n<p>å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"ç§»åŠ¨ç«¯1pxçš„è§£å†³æ–¹æ³•","url":"http://yoursite.com/2017/03/13/ç§»åŠ¨ç«¯1pxçš„è§£å†³æ–¹æ³•/","content":"<blockquote>\n<p>åœ¨ä¸Šä¸ªé¡¹ç›®ä¸­ï¼Œç§»åŠ¨ç«¯1pxé—®é¢˜è¢«å›°æ‰°äº†å¥½ä¹…ï¼Œè®¾ç½®1pxè¾¹æ¡†ï¼Œå®é™…æ˜¾ç¤º2pxã€‚<br>ä»¥ä¸‹æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­çš„è§£å†³æ–¹æ³•ï¼Œæ‰ç–å­¦æµ…ï¼Œè½»å–·ã€‚</p>\n</blockquote>\n<p>å…³äºä»€ä¹ˆæ˜¯ç§»åŠ¨ç«¯1åƒç´ è¾¹æ¡†é—®é¢˜ï¼Œå…ˆä¸Šä¸¤å¼ å›¾ï¼Œå¤§å®¶å°±æ˜ç™½äº†ã€‚</p>\n<p><strong>å‡çš„1px:</strong><br><img src=\"https://hzzly.github.io/img/onepx2.png\" alt=\"2px\"></p>\n<p><strong>çœŸçš„1px:</strong><br><img src=\"https://hzzly.github.io/img/onepx1.png\" alt=\"1px\"></p>\n<p>åŸæ¥Retineå±çš„åˆ†è¾¨ç‡å§‹ç»ˆæ˜¯æ™®é€šå±å¹•çš„2å€ï¼Œ1pxçš„è¾¹æ¡†åœ¨devicePixelRatio=2çš„retinaå±ä¸‹ä¼šæ˜¾ç¤ºæˆ2pxã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>\n<blockquote>\n<p>transform: scaleY()</p>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div class=&quot;border-1px&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;style type=&quot;text/scss&quot;&gt;</span><br><span class=\"line\">.border-1px &#123;</span><br><span class=\"line\">\tposition: relative;</span><br><span class=\"line\">\t&amp;:after&#123;</span><br><span class=\"line\">\t\tdisplay: block;</span><br><span class=\"line\">\t\tposition: absolute;</span><br><span class=\"line\">\t\tleft: 0;</span><br><span class=\"line\">\t\tbottom: 0;</span><br><span class=\"line\">\t\twidth: 100%;</span><br><span class=\"line\">\t\tborder-top: 1px solid #000;</span><br><span class=\"line\">\t\tcontent: &apos;&apos;;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">@media (-webkit-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5) &#123;</span><br><span class=\"line\">\t.border-1px&#123;</span><br><span class=\"line\">\t\t&amp;::after&#123;</span><br><span class=\"line\">\t\t\t-webkit-transform: scaleY(0.7);</span><br><span class=\"line\">\t\t\ttransform: scaleY(0.7);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2) &#123;</span><br><span class=\"line\">\t.border-1px&#123;</span><br><span class=\"line\">\t\t&amp;::after&#123;</span><br><span class=\"line\">\t\t\t-webkit-transform: scaleY(0.5);</span><br><span class=\"line\">\t\t\ttransform: scaleY(0.5);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<p>åˆ°è¿™å·²ç»æˆåŠŸè§£å†³äº†1pxé—®é¢˜ã€‚</p>\n<p>å¥½äº†ï¼Œåƒé¥­å»å–½ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"axiosåœ¨vueä¸­çš„ç®€å•é…ç½®ä¸ä½¿ç”¨","url":"http://yoursite.com/2017/03/12/axiosåœ¨vueä¸­çš„ç®€å•é…ç½®ä¸ä½¿ç”¨/","content":"<blockquote>\n<p>å°¤é›¨æºªä¹‹å‰åœ¨å¾®åšå‘å¸ƒæ¶ˆæ¯ï¼Œä¸å†ç»§ç»­ç»´æŠ¤vue-resourceï¼Œå¹¶æ¨èå¤§å®¶å¼€å§‹ä½¿ç”¨ axios ã€‚</p>\n</blockquote>\n<p><img src=\"https://hzzly.github.io/img/axios.png\" alt=\"axios\"></p>\n<h2 id=\"ä¸€ã€axios-ç®€ä»‹\"><a href=\"#ä¸€ã€axios-ç®€ä»‹\" class=\"headerlink\" title=\"ä¸€ã€axios ç®€ä»‹\"></a><strong>ä¸€ã€axios ç®€ä»‹</strong></h2><p>axios æ˜¯ä¸€ä¸ªåŸºäºPromise ç”¨äºæµè§ˆå™¨å’Œ nodejs çš„ HTTP å®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>\n<blockquote>\n<ul>\n<li>ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest</li>\n<li>ä» node.js å‘å‡º http è¯·æ±‚</li>\n<li>æ”¯æŒ Promise API</li>\n<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>\n<li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li>\n<li>å–æ¶ˆè¯·æ±‚</li>\n<li>è‡ªåŠ¨è½¬æ¢JSONæ•°æ®</li>\n<li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ CSRF/XSRF</li>\n</ul>\n</blockquote>\n<h2 id=\"äºŒã€å¼•å…¥æ–¹å¼ï¼š\"><a href=\"#äºŒã€å¼•å…¥æ–¹å¼ï¼š\" class=\"headerlink\" title=\"äºŒã€å¼•å…¥æ–¹å¼ï¼š\"></a><strong>äºŒã€å¼•å…¥æ–¹å¼ï¼š</strong></h2><p>npm:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install axios</span><br><span class=\"line\">//æ·˜å®æº</span><br><span class=\"line\">$ cnpm install axios</span><br></pre></td></tr></table></figure></p>\n<p>bower:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ bower install axios</span><br></pre></td></tr></table></figure></p>\n<p>cdn:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">\"https://unpkg.com/axios/dist/axios.min.js\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"ä¸‰ã€vueä¸­axiosçš„é…ç½®\"><a href=\"#ä¸‰ã€vueä¸­axiosçš„é…ç½®\" class=\"headerlink\" title=\"ä¸‰ã€vueä¸­axiosçš„é…ç½® \"></a><strong>ä¸‰ã€vueä¸­axiosçš„é…ç½® </strong></h2><blockquote>\n<p>ä¹‹å‰é‚£ä¸ªå¼€æºé¡¹ç›®ä¸€å¼€å§‹å°±æ‰“ç®—ç”¨axiosï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†å¥½å¤šæ–‡ç« ä¸æ”»ç•¥ï¼Œå‘ç°å¥½å¤šéƒ½ä¸å¤ªè¯¦ç»†ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±åŠ¨æ‰‹é…ç½®ä¸€ä¸ªï¼Œ(ä¸è¦æ€‚ï¼Œæ’¸èµ·è¢–å­å°±æ˜¯å¹²)ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n<p>æˆ‘çš„é…ç½®ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">'axios'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> qs <span class=\"keyword\">from</span> <span class=\"string\">'qs'</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> _ <span class=\"keyword\">from</span> <span class=\"string\">'../util/tool'</span></span><br><span class=\"line\"> </span><br><span class=\"line\">axios.defaults.timeout = <span class=\"number\">5000</span>;                        <span class=\"comment\">//å“åº”æ—¶é—´</span></span><br><span class=\"line\">axios.defaults.headers.post[<span class=\"string\">'Content-Type'</span>] = <span class=\"string\">'application/x-www-form-urlencoded;charset=UTF-8'</span>;           <span class=\"comment\">//é…ç½®è¯·æ±‚å¤´</span></span><br><span class=\"line\">axios.defaults.baseURL = <span class=\"string\">'ä½ çš„æ¥å£åœ°å€'</span>;   <span class=\"comment\">//é…ç½®æ¥å£åœ°å€</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//POSTä¼ å‚åºåˆ—åŒ–(æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨)</span></span><br><span class=\"line\">axios.interceptors.request.use(<span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">//åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšæŸä»¶äº‹</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(config.method  === <span class=\"string\">'post'</span>)&#123;</span><br><span class=\"line\">        config.data = qs.stringify(config.data);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">&#125;,(error) =&gt;&#123;</span><br><span class=\"line\">     _.toast(<span class=\"string\">\"é”™è¯¯çš„ä¼ å‚\"</span>, <span class=\"string\">'fail'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//è¿”å›çŠ¶æ€åˆ¤æ–­(æ·»åŠ å“åº”æ‹¦æˆªå™¨)</span></span><br><span class=\"line\">axios.interceptors.response.use(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//å¯¹å“åº”æ•°æ®åšäº›äº‹</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!res.data.success)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// _.toast(res.data.msg);</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(res);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;, (error) =&gt; &#123;</span><br><span class=\"line\">    _.toast(<span class=\"string\">\"ç½‘ç»œå¼‚å¸¸\"</span>, <span class=\"string\">'fail'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//è¿”å›ä¸€ä¸ªPromise(å‘é€postè¯·æ±‚)</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchPost</span>(<span class=\"params\">url, params</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        axios.post(url, params)</span><br><span class=\"line\">            .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">                resolve(response.data);</span><br><span class=\"line\">            &#125;, err =&gt; &#123;</span><br><span class=\"line\">                reject(err);</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            .catch(<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">               reject(error)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">////è¿”å›ä¸€ä¸ªPromise(å‘é€getè¯·æ±‚)</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fetchGet</span>(<span class=\"params\">url, param</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        axios.get(url, &#123;<span class=\"attr\">params</span>: param&#125;)</span><br><span class=\"line\">            .then(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">                resolve(response.data)</span><br><span class=\"line\">            &#125;, err =&gt; &#123;</span><br><span class=\"line\">                reject(err)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            .catch(<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                reject(error)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"å››ã€vueä¸­ä½¿ç”¨é…ç½®å¥½çš„axios\"><a href=\"#å››ã€vueä¸­ä½¿ç”¨é…ç½®å¥½çš„axios\" class=\"headerlink\" title=\"å››ã€vueä¸­ä½¿ç”¨é…ç½®å¥½çš„axios\"></a><strong>å››ã€vueä¸­ä½¿ç”¨é…ç½®å¥½çš„axios</strong></h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ç”¨æˆ·ç™»å½•</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    Login(params) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fetchPost(<span class=\"string\">'/users/api/userLogin'</span>, params)</span><br><span class=\"line\">    &#125;,  </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ç”¨æˆ·æ³¨å†Œ</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    Regist(params) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fetchPost(<span class=\"string\">'/users/api/userRegist'</span>, params)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * å‘é€æ³¨å†ŒéªŒè¯ç </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    RegistVerifiCode(tellphone) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fetchPost(<span class=\"string\">'/users/api/registVerifiCode'</span>, &#123;<span class=\"attr\">tellphone</span>: tellphone&#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿star<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a><br><strong>demoåœ°å€ï¼š</strong> <a href=\"http://hjingren.cn/xyy-vue/\" target=\"_blank\" rel=\"noopener\">http://hjingren.cn/xyy-vue/</a></p>\n<p>å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","axios"]},{"title":"å¼€æºçš„æ”¶è·","url":"http://yoursite.com/2017/03/09/å¼€æºçš„æ”¶è·/","content":"<blockquote>\n<p>ç¬¬ä¸€æ¬¡åœ¨githubä¸Šå‘å¸ƒäº†å¼€æºã€ŠQuçº¦ã€‹åï¼Œä¸åˆ°ä¸¤å¤©ï¼Œè¢«äººstaräº†137æ¬¡ï¼Œforkäº†25æ¬¡ï¼Œè¿™ä¸ªæˆç»©å¤§å¤§å‡ºä¹äº†æˆ‘è‡ªå·±çš„æ„æ–™ï¼</p>\n</blockquote>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a><br><strong>demoåœ°å€ï¼š</strong> <a href=\"http://hjingren.cn/xyy-vue/\" target=\"_blank\" rel=\"noopener\">http://hjingren.cn/xyy-vue/</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<p>åŒæ—¶ä¹Ÿè®©æˆ‘æ”¶è·åˆ°äº†è®¸å¤šï¼š</p>\n<blockquote>\n<ol>\n<li>githubé¦–æ¬¡ç ´ç™¾</li>\n</ol>\n</blockquote>\n<p><img src=\"https://hzzly.github.io/img/github.png\" alt=\"github\"></p>\n<blockquote>\n<ol start=\"2\">\n<li>æ˜é‡‘çš„é˜…è¯»é‡ä¸å–œæ¬¢é‡åŒæ—¶ç»™ä»–äººå¸¦æ¥äº†ä¸ä¸€æ ·çš„ä»·å€¼</li>\n</ol>\n</blockquote>\n<p><img src=\"https://hzzly.github.io/img/juejin.png\" alt=\"juejin\"></p>\n<blockquote>\n<ol start=\"3\">\n<li>segmentfaultçš„é˜…è¯»é‡ã€æ”¶è—é‡ä¸å£°æœ›å€¼ï¼ŒæŠŠå…¶ä¸­çš„ä»·å€¼ä¼ ç»™ä»–äºº</li>\n</ol>\n</blockquote>\n<p><img src=\"https://hzzly.github.io/img/segmentfault.png\" alt=\"segmentfault\"></p>\n<blockquote>\n<ol start=\"4\">\n<li>æ”¶è·äº†ä¸€ä¸ªoffer</li>\n<li>ç»™æˆ‘ä»¥åå°±ä¸šå¢åŠ äº†ä¸€ä»½ä¿è¯</li>\n<li>ç»“äº¤äº†å¥½å¤šåŒè¡Œå¼€å‘è€…</li>\n</ol>\n</blockquote>\n<p>åˆ†äº«ä¸å¼€æºï¼Œè®©æŠ€æœ¯ç”Ÿç”Ÿä¸æ¯ã€‚å€Ÿç”¨ä¸€æœ¬ä¹¦deåå­—ï¼ŒJust for funã€‚å¼€æºæ˜¯ä¸€ç§æƒ…æ€€ï¼Œhappy hackingï¼</p>\n<p>é©å‘½å°šæœªæˆåŠŸï¼Œæˆ‘ä»¬è¿˜éœ€åŠªåŠ›ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"è¿›é˜¶vueå…¨å®¶æ¡¶","url":"http://yoursite.com/2017/03/08/è¿›é˜¶vueå…¨å®¶æ¡¶/","content":"<blockquote>\n<p>æœ‰äººè¯´åªä¼švueä¸ä¼švuexè¿˜åªæ˜¯ä¸ªåˆ‡å›¾ä»”ï¼Œæ‰€ä»¥æœ¬é¡¹ç›®å°†å¸¦é¢†ä½ è¿›é˜¶vueå…¨å®¶æ¡¶ã€‚å‰ç«¯ç»“åˆVue2.0å…¨å®¶æ¡¶(vue+vue-router+vuex+axios+es6+sass)ä»¥åŠåç«¯Node,ä¸€ä¸ª<a href=\"https://hzzly.github.io/2017/03/06/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E5%B0%9D%E8%AF%95/\" target=\"_blank\" rel=\"noopener\">å‰åç«¯åˆ†ç¦»</a>çš„ç»ƒæ‰‹é¡¹ç›®ã€‚æœ¬é¡¹ç›®å¯ä»¥ä½œä¸ºä¸€ä¸ªå‰ç«¯vueè¿›é˜¶é¡¹ç›®ï¼Œä»å‰ç«¯flexå¸ƒå±€åˆ°å‰ç«¯vueä»¥åŠç»„ä»¶åˆ†ç¦»çš„ä½¿ç”¨ï¼Œå†åˆ°åç«¯Nodeä»¥åŠLeancloudçš„ç»“åˆï¼Œæ˜¯ä¸€ä¸ªæ‰“é€šå‰åç«¯æµç¨‹çš„ä¸€ä¸ªé¡¹ç›®ã€‚æ¬¢è¿å¤§å®¶å‰æ¥starã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ è®¨è®ºï¼Œä¸€èµ·è¿›æ­¥ã€‚æ³¨ï¼šæœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œéæœ¬äººåŒæ„ä¸èƒ½ç”¨äºå•†ä¸šåº”ç”¨ã€‚</p>\n</blockquote>\n<h3 id=\"é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-xyy-vue\"><a href=\"#é¢„è§ˆåœ°å€ï¼š-http-hzzly-net-xyy-vue\" class=\"headerlink\" title=\"é¢„è§ˆåœ°å€ï¼š http://hzzly.net/xyy-vue/\"></a><strong>é¢„è§ˆåœ°å€ï¼š</strong> <a href=\"http://hzzly.net/xyy-vue/\" target=\"_blank\" rel=\"noopener\">http://hzzly.net/xyy-vue/</a></h3><h3 id=\"Githubåœ°å€ï¼š-https-github-com-hzzly-xyy-vue\"><a href=\"#Githubåœ°å€ï¼š-https-github-com-hzzly-xyy-vue\" class=\"headerlink\" title=\"Githubåœ°å€ï¼š https://github.com/hzzly/xyy-vue\"></a><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a></h3><p>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<h2 id=\"åŠŸèƒ½è¯´æ˜\"><a href=\"#åŠŸèƒ½è¯´æ˜\" class=\"headerlink\" title=\"åŠŸèƒ½è¯´æ˜\"></a>åŠŸèƒ½è¯´æ˜</h2><ul>\n<li>é¦–é¡µè½®æ’­å›¾</li>\n<li>é¦–é¡µçƒ­é—¨æ´»åŠ¨</li>\n<li>çº¦è·‘æ­¥æ´»åŠ¨åˆ—è¡¨</li>\n<li>çº¦å‡ºè¡Œæ´»åŠ¨åˆ—è¡¨</li>\n<li>ä¸ªäººä¸­å¿ƒ<ul>\n<li>æŸ¥çœ‹ä¸ªäººæ´»åŠ¨</li>\n<li>å­¦ç”Ÿè®¤è¯(å¾…å¼€å‘)</li>\n<li>å­¦ç”Ÿä¿¡æ¯ä¿®æ”¹</li>\n<li>æ¶ˆæ¯é€šçŸ¥(åå°æ¥å£å¾…å¼€å‘)</li>\n<li>é€‰æ‹©é«˜æ ¡(å¾…å¼€å‘)</li>\n</ul>\n</li>\n<li>ç™»å½•</li>\n<li>æ³¨å†Œ</li>\n<li>æ´»åŠ¨è¯¦æƒ…<ul>\n<li>æ´»åŠ¨æŠ¥å</li>\n</ul>\n</li>\n<li>æ´»åŠ¨å‘å¸ƒ<ul>\n<li>æ—¶é—´é€‰æ‹©ç»„ä»¶</li>\n<li>åœ°å€é€‰æ‹©ç»„ä»¶</li>\n<li>æ–‡ä»¶ä¸Šä¼ </li>\n</ul>\n</li>\n<li>axiosçš„å°è£…</li>\n<li>â€¦â€¦</li>\n</ul>\n<h2 id=\"å…¬å…±ç»„ä»¶\"><a href=\"#å…¬å…±ç»„ä»¶\" class=\"headerlink\" title=\"å…¬å…±ç»„ä»¶\"></a>å…¬å…±ç»„ä»¶</h2><blockquote>\n<ul>\n<li>å¼¹å‡ºæ–‡å­—ç»„ä»¶</li>\n<li>å¼¹å‡ºæ¡†ç»„ä»¶</li>\n<li>loadingç»„ä»¶</li>\n<li>toastç»„ä»¶</li>\n<li>æ—¶é—´é€‰æ‹©å™¨ç»„ä»¶</li>\n<li>åœ°å€é€‰æ‹©å™¨ç»„ä»¶</li>\n<li>â€¦â€¦</li>\n</ul>\n</blockquote>\n<p><img src=\"https://hzzly.github.io/img/xyy-vue.gif\" alt=\"xyy-vue\"></p>\n<h2 id=\"ç›®å½•ç»“æ„\"><a href=\"#ç›®å½•ç»“æ„\" class=\"headerlink\" title=\"ç›®å½•ç»“æ„\"></a>ç›®å½•ç»“æ„</h2><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|â€”â€”xyy-vue/</span><br><span class=\"line\">|   |â€”â€”build/</span><br><span class=\"line\">|   |â€”â€”confg/</span><br><span class=\"line\">|   |â€”â€”node_modules/</span><br><span class=\"line\">|   |â€”â€”src/</span><br><span class=\"line\">|   |   |â€”â€”assets/                 //é™æ€æ–‡ä»¶</span><br><span class=\"line\">|   |   |â€”â€”components/             //å…¬å…±ç»„ä»¶</span><br><span class=\"line\">|   |   |â€”â€”fetch/</span><br><span class=\"line\">|   |   |   |â€”â€”api.js              //axioså°è£…ä¸api</span><br><span class=\"line\">|   |   |â€”â€”pages/                  //å­˜æ”¾é¡¹ç›®é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Detail.vue          //æ´»åŠ¨è¯¦æƒ…é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Home.vue            //é¦–é¡µ</span><br><span class=\"line\">|   |   |   |â€”â€”Login.vue           //ç™»å½•é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Navbar.vue          //æˆ‘çš„å‘å¸ƒ</span><br><span class=\"line\">|   |   |   |â€”â€”NotFound.vue        //å‡ºé”™é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Post.vue            //å‘å¸ƒæ´»åŠ¨é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Regist.vue          //æ³¨å†Œé¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Set.vue             //è®¾ç½®é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Sport.vue           //çº¦è·‘æ­¥æ´»åŠ¨åˆ—è¡¨é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”Travel.vue          //çº¦å‡ºè¡Œæ´»åŠ¨åˆ—è¡¨é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”User.vue            //ä¸ªäººä¸­å¿ƒé¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”UserInfo.vue        //ä¸ªäººè¯¦æƒ…é¡µé¢</span><br><span class=\"line\">|   |   |   |â€”â€”UserMsg.vue         //æ¶ˆæ¯åˆ—è¡¨é¡µé¢</span><br><span class=\"line\">|   |   |â€”â€”router/                 </span><br><span class=\"line\">|   |   |   |â€”â€”index.js            //é¡µé¢è·¯ç”±</span><br><span class=\"line\">|   |   |â€”â€”util                    //å…¬ç”¨æ–¹æ³•</span><br><span class=\"line\">|   |   |â€”â€”vuex /                  //å­˜æ”¾vuexä»£ç </span><br><span class=\"line\">|   |   |   |â€”â€”modules /           //æ•°æ®æ¨¡å—</span><br><span class=\"line\">|   |   |   |â€”â€”store.js            //vuexä¸»å…¥å£</span><br><span class=\"line\">|   |   |   |â€”â€”types.js            //vuexçš„typesæ–‡ä»¶</span><br><span class=\"line\">|   |   |â€”â€”App.vue                 //çˆ¶ç»„ä»¶</span><br><span class=\"line\">|   |   |â€”â€”main.js                 //å…¥å£æ–‡ä»¶</span><br><span class=\"line\">|   |â€”â€”static/</span><br><span class=\"line\">|   |â€”â€”.babelrc</span><br><span class=\"line\">|   |â€”â€”.editorconfig</span><br><span class=\"line\">|   |â€”â€”.gitgnore</span><br><span class=\"line\">|   |â€”â€”index.html</span><br><span class=\"line\">|   |â€”â€”package.json</span><br><span class=\"line\">|   |â€”â€”README.md</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸»è¦éš¾ç‚¹\"><a href=\"#ä¸»è¦éš¾ç‚¹\" class=\"headerlink\" title=\"ä¸»è¦éš¾ç‚¹\"></a>ä¸»è¦éš¾ç‚¹</h2><p>1.å„ä¸ªç»„ä»¶æ•°æ®çš„å…±äº«</p>\n<blockquote>\n<p>ä¼ å‚çš„æ–¹æ³•å¯¹äºå¤šå±‚åµŒå¥—çš„ç»„ä»¶å°†ä¼šéå¸¸ç¹çï¼Œå¹¶ä¸”å¯¹äºå…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼ é€’æ— èƒ½ä¸ºåŠ›ã€‚è€Œä¸”ä¹Ÿä¼šå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤</p>\n</blockquote>\n<p>è§£å†³æ–¹æ³•ï¼šé‡‡ç”¨<a href=\"https://vuex.vuejs.org/\" target=\"_blank\" rel=\"noopener\">vuex</a>è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼ŒæŠŠæ‰€æœ‰äº‹ä»¶å’ŒçŠ¶æ€å­˜å‚¨åœ¨storeå¯¹è±¡ä¸­ï¼Œåœ¨ç»„ä»¶ä¸­é€šè¿‡è®¡ç®—å±æ€§è·å¾—äº‹ä»¶ï¼Œå› æ­¤å°±æœ‰äº†å®æ—¶æ€§ã€‚</p>\n<blockquote>\n<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>\n</blockquote>\n<p>æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€storeâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€(state)ã€‚</p>\n<blockquote>\n</blockquote>\n<p>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</p>\n<blockquote>\n</blockquote>\n<p>ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤(commit) <strong>mutations</strong>ã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚</p>\n<p>ä»£ç å¦‚ä¸‹(ä»¥ä¸€ä¸ªuser moduleä¸ºä¾‹)ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//vuex/modules/user.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> api <span class=\"keyword\">from</span> <span class=\"string\">'../../fetch/api'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> types <span class=\"keyword\">from</span> <span class=\"string\">'../types'</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> state = &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ç”¨æˆ·ç™»å½•çŠ¶æ€</span></span><br><span class=\"line\">    loginStatus: <span class=\"built_in\">JSON</span>.parse(localStorage.getItem(<span class=\"string\">'loginStatus'</span>)) || <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> actions = &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ç”¨æˆ·ç™»å½•</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    setUserInfo(&#123; commit &#125;, res) &#123;</span><br><span class=\"line\">        localStorage.setItem(<span class=\"string\">'loginStatus'</span>, <span class=\"literal\">true</span>)</span><br><span class=\"line\">        commit(types.SET_LOGIN_STATUS, <span class=\"literal\">true</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * é€€å‡ºç™»å½•</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    setSignOut(&#123; commit &#125;) &#123;</span><br><span class=\"line\">        localStorage.removeItem(<span class=\"string\">'loginStatus'</span>)</span><br><span class=\"line\">        commit(types.SET_LOGIN_STATUS, <span class=\"literal\">false</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> getters = &#123;</span><br><span class=\"line\">    loginStatus: <span class=\"function\"><span class=\"params\">state</span> =&gt;</span> state.loginStatus</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> mutations = &#123;</span><br><span class=\"line\">    [types.SET_LOGIN_STATUS](state, status) &#123;</span><br><span class=\"line\">        state.loginStatus = status</span><br><span class=\"line\">    &#125;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">    state,</span><br><span class=\"line\">    actions,</span><br><span class=\"line\">    getters,</span><br><span class=\"line\">    mutations</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//User.vue</span></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"user\"</span>&gt;</span><br><span class=\"line\">\t\t&lt;div v-<span class=\"keyword\">if</span>=<span class=\"string\">\"!loginStatus\"</span>&gt;</span><br><span class=\"line\">\t\t\t...</span><br><span class=\"line\">\t\t&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">\t\t&lt;div v-else&gt;\t</span></span><br><span class=\"line\"><span class=\"regexp\">\t\t\t...\t\t</span></span><br><span class=\"line\"><span class=\"regexp\">\t\t&lt;/</span>div&gt;</span><br><span class=\"line\">\t&lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/</span>template&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapGetters &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vuex'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\tcomputed: &#123;</span><br><span class=\"line\">\t\t...mapGetters([</span><br><span class=\"line\">\t\t\t<span class=\"string\">'loginStatus'</span></span><br><span class=\"line\">\t\t])</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>2.æ—¶é—´é€‰æ‹©ç»„ä»¶(è¦å¯é€‰æ‹©æ—¶é—´æ®µ)</p>\n<blockquote>\n<p><strong>è§„åˆ™ï¼š</strong></p>\n<ul>\n<li>é»˜è®¤å€¼ä¸ºï¼šå¼€å§‹æ—¥æœŸåœ¨åå¤©ï¼Œç»“æŸæ—¥æœŸåœ¨ç¬¬å…­å¤©</li>\n<li>ä»Šå¤©ä»¥å‰ä¸å¯é€‰æ‹©</li>\n<li>ç‚¹å‡»æŸä¸ªæ—¥å­ï¼Œåˆ™å°†æœ€è¿‘çš„èŠ‚ç‚¹ç§»åŠ¨è¿‡</li>\n<li>å¦‚æœç¦»ä¸¤ä¸ªèŠ‚ç‚¹ä¸€æ ·ï¼Œåˆ™å°†å¼€å§‹æ—¥æœŸç§»åŠ¨è¿‡å»</li>\n<li>ä¸¤ä¸ªèŠ‚ç‚¹ä¹Ÿå¯é€‰åˆ°1å¤©é‡Œï¼›æ˜¾ç¤ºä¸ºå„ä¸€åŠ</li>\n</ul>\n</blockquote>\n<p>ä¸€å¼€å§‹æ‰“ç®—åœ¨githubä¸Šæœç´¢ä¸€ä¸ªç„¶åç›´æ¥æ‹¿æ¥ç”¨ï¼Œå‘ç°éƒ½æ˜¯ä¸ç¬¦åˆæˆ‘çš„è®¾è®¡ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±æ’¸ä¸€ä¸ªï¼Œ(ä¸è¦æ€‚ï¼Œæ’¸èµ·è¢–å­å°±æ˜¯å¹²)ã€‚<br>ç»ˆäºç»è¿‡å‡ ä¸ªæ™šä¸Šçš„å¥‹æˆ˜å†™å‡ºæ¥äº†(æœŸé—´é‡åˆ°äº†å„ç§å‘)ã€‚<br>ä»£ç å°±ä¸è´´å‡ºæ¥äº†  <a href=\"https://github.com/hzzly/xyy-vue/blob/master/src/components/timePicker.vue\" target=\"_blank\" rel=\"noopener\">ä»£ç ä¼ é€é—¨</a></p>\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p>è™½ç„¶åªæ˜¯åšäº†ä¸ªå°å°çš„ä¸ªäººå¼€æºé¡¹ç›®ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰æ”¶è·è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œå¾ˆå¤šçŸ¥è¯†ç‚¹æŒæ¡å¾—æ›´åŠ çš„ç‰¢å›ºï¼Œå¯¹ <strong>vueå…¨å®¶æ¡¶</strong> çš„ç†è§£åˆæ›´æ·±äº†ä¸€äº›ã€‚è¿™ä¸ªé¡¹ç›®è¿˜æ²¡æœ‰å®Œæˆï¼ŒåæœŸå°†ä¸å®šæœŸæ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ã€‚ã€‚</p>\n<p>å¦‚æœè§‰å¾—è¿˜è¡Œï¼Œæ¬¢è¿star<br><strong>é¡¹ç›®åœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/xyy-vue\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/xyy-vue</a></p>\n<p>å¥½äº†ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","vue","vuex"]},{"title":"webpackå·¥ç¨‹åŒ–","url":"http://yoursite.com/2017/03/07/webpackå·¥ç¨‹åŒ–/","content":"<h3 id=\"ä¸€ã€webpackæ˜¯ä»€ä¹ˆ\"><a href=\"#ä¸€ã€webpackæ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"ä¸€ã€webpackæ˜¯ä»€ä¹ˆ\"></a>ä¸€ã€webpackæ˜¯ä»€ä¹ˆ</h3><blockquote>\n<p>webpack is a module bundler. webpack takes modules with dependencies and generates static assets representing those modules</p>\n</blockquote>\n<p>webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œè¾“å…¥ä¸ºåŒ…å«ä¾èµ–å…³ç³»çš„æ¨¡å—é›†ï¼Œè¾“å‡ºä¸ºæ‰“åŒ…åˆå¹¶çš„å‰ç«¯é™æ€èµ„æºã€‚åœ¨ä¸Šä¸€èŠ‚çš„å‰ç«¯å·¥ç¨‹åŒ–ä¸­ï¼Œå·²ç»ä»‹ç»è¿‡ï¼Œwebpack æ˜¯åŒæ—¶æ”¯æŒ AMD å’Œ CommonJs çš„æ¨¡å—å®šä¹‰æ–¹å¼ï¼Œä¸ä»…å¦‚æ­¤ï¼Œwebpack å¯ä»¥å°†ä»»ä½•å‰ç«¯èµ„æºè§†ä¸ºæ¨¡å—ï¼Œå¦‚ cssï¼Œå›¾ç‰‡ï¼Œæ–‡æœ¬ã€‚</p>\n<h3 id=\"äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒ\"><a href=\"#äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒ\" class=\"headerlink\" title=\"äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒ\"></a>äºŒã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒ</h3><p>åœ¨ webpack å‡ºç°ä¹‹å‰ï¼Œå·²ç»æœ‰äº†ä¸€äº›æ‰“åŒ…å·¥å…·ï¼Œå¦‚ Browserifyã€gruntã€gulpâ€¦ è¿™äº›æ‰“åŒ…å·¥å…·å·¥å…·åŠŸèƒ½å•ä¸€ï¼Œåªèƒ½å®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œç„¶è€Œ web å‰ç«¯å·¥ç¨‹æ˜¯å¤æ‚çš„ï¼Œä¸€ä¸ª webapp å¯¹äºä¸šåŠ¡ä»£ç çš„è¦æ±‚å¯èƒ½æœ‰ï¼š</p>\n<blockquote>\n<ul>\n<li>ä»£ç å¯ä»¥åˆ†å—ï¼Œå®ç°æŒ‰éœ€åŠ è½½</li>\n<li>é¦–å±åŠ è½½æ—¶é—´è¦å°½é‡å‡å°‘</li>\n<li>éœ€è¦é›†æˆä¸€äº›ç¬¬ä¸‰æ–¹åº“</li>\n</ul>\n</blockquote>\n<p>webpack çš„å‡ºç°æ­£å¼ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨ webpack ä¸­ï¼Œæä¾›äº†ä¸€ä¸‹è¿™äº›åŠŸèƒ½ï¼š</p>\n<a id=\"more\"></a>\n<p><strong>1.ä»£ç åˆ†å—ï¼š</strong> webpack æœ‰ä¸¤ç§ç±»å‹çš„æ¨¡å—ä¾èµ–ï¼Œä¸€ç§æ˜¯åŒæ­¥çš„ï¼Œä¸€ç§æ˜¯å¼‚æ­¥çš„ã€‚åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­å¯ä»¥å°†ä»£ç è¾“å‡ºä¸ºä»£ç å—ï¼ˆchunkï¼‰ï¼Œä»£ç å—å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€‚ å¼‚æ­¥åŠ è½½çš„ä»£ç å—é€šè¿‡åˆ†å‰²ç‚¹ï¼ˆspliting pointï¼‰æ¥ç¡®å®šã€‚<br><strong>2.Loadersï¼š</strong> Webpack æœ¬èº«åªä¼šå¤„ç† Javascriptï¼Œä¸ºäº†å®ç°å°†å…¶ä»–èµ„æºä¹Ÿå®šä¹‰ä¸ºæ¨¡å—ï¼Œå¹¶è½¬åŒ–ä¸º Javascriptï¼Œ Webpack å®šä¹‰ loaders , ä¸åŒçš„ loader å¯ä»¥å°†å¯¹åº”çš„èµ„æºè½¬åŒ–ä¸º Javascript æ¨¡å—ã€‚<br><strong>3.æ™ºèƒ½çš„æ¨¡å—è§£æï¼š</strong> webpack å¯ä»¥å¾ˆå®¹æ˜“å°†ç¬¬ä¸‰æ–¹åº“è½¬åŒ–ä¸ºæ¨¡å—é›†æˆåˆ°é¡¹ç›®ä»£ç ä¸­ï¼Œæ¨¡å—çš„ä¾èµ–å¯ä»¥ç”¨è¡¨è¾¾å¼çš„æ–¹å¼ï¼ˆè¿™åœ¨å…¶ä»–æ‰“åŒ…å·¥å…·ä¸­æ˜¯æ²¡æœ‰æ”¯æŒçš„ï¼‰ï¼Œè¿™ç§æ¨¡å—ä¾èµ–å«åšåŠ¨æ€æ¨¡å—ä¾èµ–ã€‚<br><strong>4.æ’ä»¶ç³»ç»Ÿï¼š</strong> webpack çš„å¯å®šåˆ¶åŒ–åœ¨äºå…¶æ’ä»¶ç³»ç»Ÿï¼Œå…¶æœ¬èº«çš„å¾ˆå¤šåŠŸèƒ½ä¹Ÿæ˜¯é€šè¿‡æ’ä»¶çš„æ–¹å¼å®ç°ï¼Œæ’ä»¶ç³»ç»Ÿå½¢æˆäº† webpack çš„ç”Ÿæ€ï¼Œæ˜¯çš„å¯ä»¥ä½¿ç”¨å¾ˆå¤šå¼€æºçš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚</p>\n<h3 id=\"ä¸‰ã€webpack-æ ¸å¿ƒæ€æƒ³\"><a href=\"#ä¸‰ã€webpack-æ ¸å¿ƒæ€æƒ³\" class=\"headerlink\" title=\"ä¸‰ã€webpack æ ¸å¿ƒæ€æƒ³\"></a>ä¸‰ã€webpack æ ¸å¿ƒæ€æƒ³</h3><p><strong>1.ä¸‡ç‰©çš†æ¨¡å—ï¼š</strong> åœ¨ webpack çš„ä¸–ç•Œä¸­ï¼Œé™¤äº† Javascriptï¼Œå…¶ä»–ä»»ä½•èµ„æºéƒ½å¯ä»¥å½“åšæ¨¡å—çš„æ–¹å¼å¼•ç”¨ã€‚<br><strong>2.æŒ‰éœ€åŠ è½½ï¼š</strong> webapp çš„ä¼˜åŒ–å…³é”®åœ¨äºä»£ç ä½“ç§¯ï¼Œå½“åº”ç”¨ä½“ç§¯å¢å¤§ï¼Œå®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½æ˜¯æ¯•éœ€ï¼Œè¿™ä¹Ÿæ˜¯ webpack å‡ºç°çš„æ ¹æœ¬åŸå› ã€‚<br><strong>3.å¯å®šåˆ¶åŒ–ï¼š</strong> ä»»ä½•ä¸€ä¸ªå·¥å…·éƒ½ä¸å¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œæä¾›è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ€å¯è¡Œçš„ï¼Œwebpack åŸºäºå¯å®šåˆ¶åŒ–çš„ç†å¿µæ„å»ºï¼Œé€šè¿‡æ’ä»¶ç³»ç»Ÿï¼Œé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å®ç°å¤§å‹é¡¹ç›®çš„å®šåˆ¶éœ€æ±‚ã€‚</p>\n<h3 id=\"å››ã€å®‰è£…é…ç½®\"><a href=\"#å››ã€å®‰è£…é…ç½®\" class=\"headerlink\" title=\"å››ã€å®‰è£…é…ç½®\"></a>å››ã€å®‰è£…é…ç½®</h3><p>åœ¨æ­¤ä¹‹å‰ä½ åº”è¯¥å·²ç»å®‰è£…äº† node.js.</p>\n<p>å…¨å±€å®‰è£…webapckæˆ–webpack-dev-server(å¼€å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install webpack -g</span><br><span class=\"line\">$ npm install webpack-dev-server -g</span><br></pre></td></tr></table></figure></p>\n<p>åœ¨é¡¹ç›®ä¸­å®‰è£…webpackå’Œwebpack-dev-server<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install webpack --save-dev</span><br><span class=\"line\">$ npm install webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure></p>\n<p><strong>webpackä½¿ç”¨</strong><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//name.js</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">'hzzly'</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> name</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> name <span class=\"keyword\">from</span> <span class=\"string\">'./name'</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'app'</span>).textContent = <span class=\"string\">`hello~<span class=\"subst\">$&#123;name&#125;</span>`</span></span><br></pre></td></tr></table></figure></p>\n<p>1.å‘½ä»¤è¡Œçš„ä½¿ç”¨<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ webpack src/index.js dist/bundle.js</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>è¯­æ³•ï¼šwebpack è¦æ‰“åŒ…çš„æ–‡ä»¶ æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶</p>\n</blockquote>\n<p>2.é…ç½®æ–‡ä»¶çš„ä½¿ç”¨<br>åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º webpack.config.jså¦‚ä¸‹(ç®€å•çš„é…ç½®)ï¼š<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  entry: <span class=\"string\">'./src/index.js'</span>,  <span class=\"comment\">//å…¥å£</span></span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    path: <span class=\"string\">'./dist/'</span>,    <span class=\"comment\">//è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\">    filename: <span class=\"string\">'bundle.js'</span>   <span class=\"comment\">//è¾“å‡ºæ–‡ä»¶å</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    loaders: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.js[x]?$/</span>,</span><br><span class=\"line\">        exclude: <span class=\"regexp\">/node_modules/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'babel-loader'</span>,  <span class=\"comment\">//å¤„ç†.jsæˆ–.jsxæ–‡ä»¶loader</span></span><br><span class=\"line\">        query: &#123;</span><br><span class=\"line\">          presets: [<span class=\"string\">'env'</span>]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">\"style-loader!css-loader\"</span>   <span class=\"comment\">//å¤„ç†.cssæ–‡ä»¶loader</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        test: <span class=\"regexp\">/\\.(png|jpg)$/</span>,</span><br><span class=\"line\">        loader: <span class=\"string\">'url-loader?limit=8192'</span>    <span class=\"comment\">//å¤„ç†å›¾ç‰‡loader</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ‰§è¡Œï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ webpack</span><br><span class=\"line\">//æˆ–å¼€å¯æœ¬åœ°æœåŠ¡å™¨å¹¶å®æ—¶ç›‘å¬æ–‡ä»¶å˜åŒ–</span><br><span class=\"line\">$ webpack-dev-server --inline --colors --hot</span><br></pre></td></tr></table></figure></p>\n<p><strong>Githubåœ°å€ï¼š</strong> <a href=\"https://github.com/hzzly/webpack\" target=\"_blank\" rel=\"noopener\">https://github.com/hzzly/webpack</a><br>æ¬¢è¿å¤§å®¶çš„starå•¦~</p>\n<p>å¥½äº†ï¼Œè£…äº†ä¸€å¤§æ³¢ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"å‰åç«¯åˆ†ç¦»çš„å°è¯•","url":"http://yoursite.com/2017/03/06/å‰åç«¯åˆ†ç¦»çš„å°è¯•/","content":"<p>é¦–æ¬¡å°è¯•å‰åç«¯åˆ†ç¦»æ˜¯åœ¨ä¸€ä¸ªå¤–åŒ…é¡¹ç›®ä¸­:</p>\n<blockquote>\n<p>ç‚¹åŒ ç§‘æŠ€ o2oçš„å®¶è£…ç±» ç§»åŠ¨é¡¹ç›®å¾®ä¿¡å¹³å°å‰ç«¯å¼€å‘ä¸»è¦å·¥ä½œå†…å®¹æ˜¯å°†åŸæœ‰çš„androidã€ios åº”ç”¨ é…åˆåç«¯å·¥ç¨‹å¸ˆå¼€å‘ä¸€å¥— å¾®ä¿¡äº§å“,ä¸ªäººè§’è‰²ä¸º å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ è´Ÿè´£ç•Œé¢ html css vue å‰åç«¯æ•°æ®è”è°ƒç­‰å·¥ä½œ</p>\n</blockquote>\n<p><a href=\"http://www.dianjiang99.com/html/user_center/user_center.html\" target=\"_blank\" rel=\"noopener\">é¡¹ç›®åœ°å€</a><br>(æµ‹è¯•è´¦å·:15103585135 æµ‹è¯•å¯†ç :123456)</p>\n<p>è¿™æ¬¡çš„é¡¹ç›®<strong>æŠ€æœ¯æ ˆ</strong></p>\n<blockquote>\n<ul>\n<li>vue vue-router vuex </li>\n<li>weui</li>\n<li>sass</li>\n<li>es6 ajax</li>\n</ul>\n</blockquote>\n<p>é€šè¿‡è¿™æ¬¡é¡¹ç›®ï¼Œè®©æˆ‘ä½“ä¼šåˆ°äº†è¿™ç§å‰åç«¯åˆ†ç¦»çš„å¿«æ„Ÿï¼Œæ‰€ä»¥ç‰¹æ¥åˆ†äº«ä¸€æ³¢ã€‚</p>\n<p>å¦‚æœä½ æ²¡æœ‰å°è¯•è¿‡å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæµç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆè¯•æƒ³ä¸€ä¸‹è¿™æ ·çš„æµç¨‹æ”¹å˜ï¼š</p>\n<a id=\"more\"></a>\n<p><strong>æŠŠæµç¨‹ä»</strong></p>\n<blockquote>\n<ul>\n<li>PMï¼šâ€œæˆ‘è¦è¿™ä¸ªåŠŸèƒ½â€</li>\n<li>åç«¯ï¼šâ€œè¿™ä¸ªå…ˆæ‰¾å‰ç«¯åšä¸ªæ¨¡æ¿â€</li>\n<li>å‰ç«¯ï¼šâ€œæ¨¡æ¿åšå®Œäº†â€</li>\n<li>åç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼Œè¿™é‡Œæ ·å¼ä¸å¯¹â€</li>\n<li>å‰ç«¯ï¼šâ€œæˆ‘æ”¹å®Œäº†â€</li>\n<li>åç«¯ï¼šâ€œåŠŸèƒ½äº¤ä»˜â€</li>\n<li>PMï¼šâ€œæ˜¥èŠ‚è¦åŠ è¿™ä¸ªæ´»åŠ¨â€</li>\n<li>åç«¯ï¼šâ€œè¿™ä¸ªå…ˆæ‰¾å‰ç«¯æ”¹ä¸ªæ¨¡æ¿â€</li>\n<li>å‰ç«¯ï¼šâ€œæ¨¡æ¿åšå®Œäº†â€</li>\n<li>åç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼Œè¿™é‡Œæ ·å¼ä¸å¯¹â€</li>\n<li>å‰ç«¯ï¼šâ€œæˆ‘æ”¹å®Œäº†â€</li>\n<li>åç«¯ï¼šâ€œåŠŸèƒ½äº¤ä»˜â€</li>\n</ul>\n</blockquote>\n<p><strong>å˜æˆ</strong></p>\n<blockquote>\n<ul>\n<li>PMï¼šâ€œæˆ‘è¦è¿™ä¸ªåŠŸèƒ½â€</li>\n<li>å‰ç«¯ï¼šâ€œæˆ‘è¦æ¥å£â€</li>\n<li>åç«¯ï¼šâ€œæ¥å£å®Œæˆäº†â€</li>\n<li>å‰ç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼ŒåŠŸèƒ½äº¤ä»˜â€</li>\n<li>PMï¼šâ€œæ˜¥èŠ‚è¦åŠ è¿™ä¸ªæ´»åŠ¨â€</li>\n<li>å‰ç«¯ï¼šâ€œéœ€è¦å¢åŠ æ¥å£â€</li>\n<li>åç«¯ï¼šâ€œæ¥å£å®Œæˆäº†â€</li>\n<li>å‰ç«¯ï¼šâ€œæˆ‘æ¥å¯¹æ¥ä¸€ä¸‹ï¼ŒåŠŸèƒ½äº¤ä»˜â€</li>\n</ul>\n</blockquote>\n<p><strong>ç”±æ­¤å¯è§ï¼Œå‰åç«¯åˆ†ç¦»çš„ä¸»è¦æ¦‚å¿µå°±æ˜¯ï¼šåå°åªéœ€æä¾›APIæ¥å£ï¼Œå‰ç«¯è°ƒç”¨AJAXå®ç°æ•°æ®å‘ˆç°ã€‚</strong></p>\n<p>å‰åç«¯åˆ†ç¦»çš„å®ç°å¯¹æŠ€æœ¯äººå‘˜å°¤å…¶æ˜¯å‰ç«¯äººå‘˜çš„è¦æ±‚ä¼šä¸Šå‡ä¸€ä¸ªå±‚æ¬¡ï¼Œå‰ç«¯çš„å·¥ä½œä¸åªæ˜¯åˆ‡é¡µé¢å†™æ¨¡æ¿æˆ–æ˜¯å¤„ç†ä¸€äº›ç®€å•çš„jsé€»è¾‘ï¼Œå‰ç«¯éœ€è¦å¤„ç†æœåŠ¡å™¨è¿”å›çš„å„ç§æ•°æ®æ ¼å¼ï¼Œè¿˜éœ€è¦æŒæ¡ä¸€ç³»åˆ—çš„æ•°æ®å¤„ç†é€»è¾‘ã€MVVMæ€æƒ³å’Œå„ç§ä¸»æµå‰ç«¯æ¡†æ¶(React, Vue..)ã€‚</p>\n<h3 id=\"æ„ä¹‰\"><a href=\"#æ„ä¹‰\" class=\"headerlink\" title=\"æ„ä¹‰\"></a>æ„ä¹‰</h3><p>å¯¹äºå‰åç«¯åˆ†ç¦»çš„æ„ä¹‰æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åšæ˜¯å‰ç«¯æ¸²æŸ“çš„æ„ä¹‰ï¼Œæˆ‘ä¸»è¦æ€»ç»“äº†ä¸‹é¢å››ç‚¹ï¼š</p>\n<p><strong>1. å½»åº•è§£æ”¾å‰ç«¯</strong></p>\n<blockquote>\n<p>å‰ç«¯ä¸å†éœ€è¦å‘åå°æä¾›æ¨¡æ¿æˆ–æ˜¯åå°åœ¨å‰ç«¯htmlä¸­åµŒå…¥åå°ä»£ç ï¼Œå‰åç«¯è§£è€¦ï¼Œå¢åŠ å¯è¯»æ€§ã€‚</p>\n</blockquote>\n<p><strong>2. æé«˜å·¥ä½œæ•ˆç‡ï¼Œåˆ†å·¥æ›´åŠ æ˜ç¡®</strong></p>\n<blockquote>\n<p>å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæµç¨‹å¯ä»¥ä½¿å‰ç«¯åªå…³æ³¨å‰ç«¯çš„äº‹ï¼Œåå°åªå…³å¿ƒåå°çš„æ´»ï¼Œä¸¤è€…å¼€å‘å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œåœ¨åå°è¿˜æ²¡æœ‰æ—¶é—´æä¾›æ¥å£çš„æ—¶å€™ï¼Œå‰ç«¯å¯ä»¥å…ˆå°†æ•°æ®å†™æ­»æˆ–è€…è°ƒç”¨æœ¬åœ°çš„jsonæ–‡ä»¶å³å¯ï¼Œé¡µé¢çš„å¢åŠ å’Œè·¯ç”±çš„ä¿®æ”¹ä¹Ÿä¸å¿…å†å»éº»çƒ¦åå°ï¼Œå¼€å‘æ›´åŠ çµæ´»ã€‚</p>\n</blockquote>\n<p><strong>3. å±€éƒ¨æ€§èƒ½æå‡</strong></p>\n<blockquote>\n<p>é€šè¿‡å‰ç«¯è·¯ç”±çš„é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°é¡µé¢çš„æŒ‰éœ€åŠ è½½ï¼Œæ— éœ€ä¸€å¼€å§‹åŠ è½½é¦–é¡µä¾¿åŠ è½½ç½‘ç«™çš„æ‰€æœ‰çš„èµ„æºï¼ŒæœåŠ¡å™¨ä¹Ÿä¸å†éœ€è¦è§£æå‰ç«¯é¡µé¢ï¼Œåœ¨é¡µé¢äº¤äº’åŠç”¨æˆ·ä½“éªŒä¸Šæœ‰æ‰€æå‡ã€‚</p>\n</blockquote>\n<p><strong>4. é™ä½ç»´æŠ¤æˆæœ¬</strong></p>\n<blockquote>\n<p>é€šè¿‡ç›®å‰ä¸»æµçš„å‰ç«¯MVVMæ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸å¿«é€Ÿçš„å®šä½åŠå‘ç°é—®é¢˜çš„æ‰€åœ¨ï¼Œå®¢æˆ·ç«¯çš„é—®é¢˜ä¸å†éœ€è¦åå°äººå‘˜å‚ä¸åŠè°ƒè¯•ï¼Œä»£ç é‡æ„åŠå¯ç»´æŠ¤æ€§å¢å¼ºã€‚</p>\n</blockquote>\n<p><strong>é¢å¯¹å¿«é€Ÿå‘å±•çš„å‰ç«¯ï¼Œæˆ‘ä»¬åº”è¯¥å»é€‚åº”å…¶å¸¦æ¥çš„å·¥ä½œæ–¹å¼å’Œæµç¨‹çš„æ”¹å˜ï¼Œç›®å‰çš„å‰åç«¯åˆ†ç¦»çš„å·¥ä½œæ–¹å¼å¿…ç„¶æ˜¯ä»Šåçš„è¶‹åŠ¿æ‰€åœ¨ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬åº”å½“æ‰¿æ‹…è¿™ä¸ªæ™®åŠå‰ç«¯æ–°çŸ¥è¯†å’Œæ”¹å˜ç°çŠ¶çš„èŒè´£ã€‚</strong></p>\n<p>æˆ‘çš„<a href=\"https://github.com/hzzly\" target=\"_blank\" rel=\"noopener\">Github</a></p>\n<p>å¥½äº†ï¼Œè£…äº†ä¸€å¤§æ³¢ï¼Œæºœäº†æºœäº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"å‰ç«¯å…¥å‘ç¬”è®°â€“JavaScriptç±»å‹æ£€æµ‹","url":"http://yoursite.com/2017/03/05/å‰ç«¯å…¥å‘ç¬”è®°â€“JavaScriptç±»å‹æ£€æµ‹/","content":"<p><strong>JavaScriptå˜é‡å¯ä»¥ç”¨æ¥ä¿å­˜ä¸¤ç§ç±»å‹çš„å€¼ï¼šåŸºæœ¬ç±»å‹å€¼å’Œå¼•ç”¨ç±»å‹å€¼</strong></p>\n<blockquote>\n<ul>\n<li>5ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼šString Number Boolean Undefined  Null  </li>\n<li>å¼•ç”¨ç±»å‹ï¼šObject  Array  Data  RegExp  Function  Error  Map  â€¦   </li>\n</ul>\n</blockquote>\n<p>ES6å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼</p>\n<h2 id=\"ä¸€ã€typeof\"><a href=\"#ä¸€ã€typeof\" class=\"headerlink\" title=\"ä¸€ã€typeof\"></a>ä¸€ã€typeof</h2><p>   typeof ç”¨æ¥åˆ¤æ–­å„ç§æ•°æ®ç±»å‹,æœ‰ä¸¤ç§å†™æ³•ï¼štypeof xxx, typeof(xxx) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">'hzzly'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"literal\">true</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"number\">22</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> d;</span><br><span class=\"line\"><span class=\"keyword\">var</span> e = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br><span class=\"line\"><span class=\"keyword\">var</span> f = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> a );       <span class=\"comment\">//string</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> b );       <span class=\"comment\">//boolean</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> c );       <span class=\"comment\">//number</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> d );       <span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> e );       <span class=\"comment\">//object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> o );       <span class=\"comment\">//object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> f );       <span class=\"comment\">//function</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> &#123;&#125; );      <span class=\"comment\">//object</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log( <span class=\"keyword\">typeof</span> [] );      <span class=\"comment\">//object</span></span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œé¢åŒ…å«äº†jsé‡Œé¢çš„äº”ç§æ•°æ®ç±»å‹  number   string    boolean   undefined     objectå’Œå‡½æ•°ç±»å‹ function</p>\n<p>çœ‹åˆ°è¿™é‡Œä½ è‚¯å®šä¼šé—®äº†ï¼šæˆ‘æ€ä¹ˆå»åŒºåˆ†å¯¹è±¡ï¼Œæ•°ç»„å’Œnullå‘¢?</p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ç”¨åˆ°å¦å¤–ä¸¤ä¸ªåˆ©å™¨ï¼šObject.prototype.toString.call   instanceof/constructor</p>\n<a id=\"more\"></a>\n<h2 id=\"äºŒã€Object-prototype-toString-call\"><a href=\"#äºŒã€Object-prototype-toString-call\" class=\"headerlink\" title=\"äºŒã€Object.prototype.toString.call\"></a>äºŒã€Object.prototype.toString.call</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gettype=<span class=\"built_in\">Object</span>.prototype.toString</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"string\">'hzzly'</span>)        è¾“å‡º [object <span class=\"built_in\">String</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"number\">22</span>)             è¾“å‡º [object <span class=\"built_in\">Number</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"literal\">true</span>)           è¾“å‡º [object <span class=\"built_in\">Boolean</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"literal\">undefined</span>)      è¾“å‡º [object Undefined]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"literal\">null</span>)           è¾“å‡º [object Null]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(&#123;&#125;)             è¾“å‡º [object <span class=\"built_in\">Object</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call([])             è¾“å‡º [object <span class=\"built_in\">Array</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\">gettype.call(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;)   è¾“å‡º [object <span class=\"built_in\">Function</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸‰ã€instanceof-constructor\"><a href=\"#ä¸‰ã€instanceof-constructor\" class=\"headerlink\" title=\"ä¸‰ã€instanceof/constructor\"></a>ä¸‰ã€instanceof/constructor</h2><p>æ ¹æ®è§„å®šï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹çš„å€¼éƒ½æ˜¯Objectçš„å®ä¾‹ã€‚å› æ­¤ï¼Œåœ¨æ£€æµ‹ä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼å’ŒObject æ„é€ å‡½æ•°æ—¶ï¼Œinstanceof æ“ä½œç¬¦å§‹ç»ˆä¼šè¿”å›trueã€‚å½“ç„¶ï¼Œå¦‚æœä½¿ç”¨instanceof æ“ä½œç¬¦æ£€æµ‹åŸºæœ¬ç±»å‹çš„å€¼ï¼Œåˆ™è¯¥æ“ä½œç¬¦å§‹ç»ˆä¼šè¿”å›falseï¼Œå› ä¸ºåŸºæœ¬ç±»å‹ä¸æ˜¯å¯¹è±¡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log([] <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span>);         <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"regexp\">/^$/</span> <span class=\"keyword\">instanceof</span> <span class=\"built_in\">RegExp</span>);      <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log([] <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Object</span>);        <span class=\"comment\">//true</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log([].constructor === <span class=\"built_in\">Array</span>);    <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log([].constructor === <span class=\"built_in\">Object</span>);   <span class=\"comment\">//false æˆ‘ä»¬çš„constructorå¯ä»¥é¿å…instanceofæ£€æµ‹çš„æ—¶å€™,ç”¨Objectä¹Ÿæ˜¯trueçš„é—®é¢˜</span></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(&#123;&#125;.constructor === <span class=\"built_in\">Object</span>);   <span class=\"comment\">//true</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span> <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Number</span>);         <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n<p>   çœ‹åˆ°è¿™é‡Œï¼Œåˆšæ‰çš„é—®é¢˜æˆ‘ä»¬è§£å†³äº†</p>\n<p>   <strong>æ£€æµ‹æ•°ç»„</strong>ï¼ŒECMAScript5æ–°å¢äº†Array.isArray() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç›®çš„æ˜¯æœ€ç»ˆç¡®å®šæŸä¸ªå€¼åˆ°åº•æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œè€Œä¸ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­åˆ›å»ºã€‚è¿™ä¸ªæ–¹æ³•çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>( <span class=\"built_in\">Array</span>.isArray(value) )&#123;</span><br><span class=\"line\"> <span class=\"comment\">//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"å››ã€é¢˜å¤–è¯\"><a href=\"#å››ã€é¢˜å¤–è¯\" class=\"headerlink\" title=\"å››ã€é¢˜å¤–è¯\"></a>å››ã€é¢˜å¤–è¯</h2><p>åŸºæœ¬ç±»å‹å€¼ä¸å¼•ç”¨ç±»å‹å€¼å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p>\n<blockquote>\n<ul>\n<li>åŸºæœ¬ç±»å‹å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œå› æ­¤è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­</li>\n<li>ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä¼šåˆ›å»ºè¿™ä¸ªå€¼å¾—ä¸€ä¸ªå‰¯æœ¬</li>\n<li>å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­</li>\n<li>åŒ…å«å¼•ç”¨ç±»å‹å€¼å¾—å˜é‡å®é™…ä¸ŠåŒ…å«çš„å¹¶ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆ</li>\n<li>ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¤åˆ¶çš„å…¶å®æ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>\n</ul>\n</blockquote>\n<p><img src=\"http://hjingren.cn/publicImages/refuel.jpg\" alt=\"refuel\"></p>\n<p>å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","JavaScript"]},{"title":"æ‰‹æŠŠæ‰‹ç”¨Nodeçš„socket.ioæ’¸ä¸€ä¸ªç®€å•èŠå¤©å®¤","url":"http://yoursite.com/2017/03/04/æ‰‹æŠŠæ‰‹ç”¨Nodeçš„socket.ioæ’¸ä¸€ä¸ªç®€å•èŠå¤©å®¤/","content":"<h5 id=\"ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ\"><a href=\"#ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ\" class=\"headerlink\" title=\"ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ\"></a><a href=\"http://hjingren.cn:3000/\" target=\"_blank\" rel=\"noopener\">ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ</a></h5><blockquote>\n<ul>\n<li>Socket.IOç”¨äºæµè§ˆå™¨ä¸Node.jsä¹‹é—´å®ç°å®æ—¶é€šä¿¡ã€‚</li>\n<li>Socket.IOè®¾è®¡çš„ç›®æ ‡æ˜¯æ”¯æŒä»»ä½•çš„æµè§ˆå™¨ï¼Œä»»ä½•Mobileè®¾å¤‡ã€‚</li>\n<li>æ”¯æŒä¸»æµçš„PCæµè§ˆå™¨ (IE,Safari,Chrome,Firefox,Operaç­‰)ï¼Œ</li>\n<li>Mobileæµè§ˆå™¨(iphone Safari/ipad Safari/Android WebKit/WebOS WebKitç­‰)ã€‚</li>\n<li>Socket.IOè§£å†³äº†å®æ—¶çš„é€šä¿¡é—®é¢˜ï¼Œå¹¶ç»Ÿä¸€äº†æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯çš„ç¼–ç¨‹æ–¹å¼ã€‚</li>\n<li>å¯åŠ¨äº†socketä»¥åï¼Œå°±åƒå»ºç«‹äº†ä¸€æ¡å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„ç®¡é“ï¼Œä¸¤è¾¹å¯ä»¥äº’é€šæœ‰æ— ã€‚</li>\n</ul>\n</blockquote>\n<h2 id=\"ä¸€ã€åˆå§‹åŒ–ä¸€ä¸ªExpressé¡¹ç›®\"><a href=\"#ä¸€ã€åˆå§‹åŒ–ä¸€ä¸ªExpressé¡¹ç›®\" class=\"headerlink\" title=\"ä¸€ã€åˆå§‹åŒ–ä¸€ä¸ªExpressé¡¹ç›®\"></a>ä¸€ã€åˆå§‹åŒ–ä¸€ä¸ªExpressé¡¹ç›®</h2><p>é€šè¿‡åº”ç”¨ç”Ÿæˆå™¨å·¥å…· express å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨çš„éª¨æ¶ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å…¨å±€å®‰è£…express è„šæ‰‹æ¶</span><br><span class=\"line\">$ npm install express-generator -g</span><br><span class=\"line\"> </span><br><span class=\"line\">//åœ¨å½“å‰å·¥ä½œç›®å½•åˆ›å»ºä¸€ä¸ªå‘½åä¸º chat-node çš„åº”ç”¨</span><br><span class=\"line\">$ express -e chat-node</span><br><span class=\"line\"> </span><br><span class=\"line\">//å®‰è£…æ‰€æœ‰ä¾èµ–</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> chat-node </span><br><span class=\"line\">$ npm install</span><br><span class=\"line\"> </span><br><span class=\"line\">//å¯åŠ¨è¿™ä¸ªåº”ç”¨ï¼ˆMacOS æˆ– Linux å¹³å°ï¼‰ï¼š</span><br><span class=\"line\">$ npm start</span><br></pre></td></tr></table></figure>\n<p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href=\"http://localhost:3000/\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/</a> ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†</p>\n<h2 id=\"äºŒã€å®‰è£…Socket-IO\"><a href=\"#äºŒã€å®‰è£…Socket-IO\" class=\"headerlink\" title=\"äºŒã€å®‰è£…Socket.IO\"></a>äºŒã€å®‰è£…Socket.IO</h2><p>è¿™é‡Œä½¿ç”¨ npm å®‰è£…åˆ°é¡¹ç›®ä¾èµ–ä¸­</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install socket.io --save</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"ä¸‰ã€æ•´åˆSocket-IOåˆ°é¡¹ç›®ä¸­\"><a href=\"#ä¸‰ã€æ•´åˆSocket-IOåˆ°é¡¹ç›®ä¸­\" class=\"headerlink\" title=\"ä¸‰ã€æ•´åˆSocket.IOåˆ°é¡¹ç›®ä¸­\"></a>ä¸‰ã€æ•´åˆSocket.IOåˆ°é¡¹ç›®ä¸­</h2><p>æ‰¾åˆ°æœåŠ¡å¼€å¯çš„wwwæ–‡ä»¶</p>\n<blockquote>\n<p>æ ¹ç›®å½• &gt; bin &gt; www</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//åœ¨åˆ›å»ºæœåŠ¡å™¨(var server = http.createServer(app))ä¹‹åæ·»åŠ å¦‚ä¸‹ä»£ç </span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> io = <span class=\"built_in\">require</span>(<span class=\"string\">'socket.io'</span>)(server);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">// åœ¨çº¿ç”¨æˆ·</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> onlineUser = &#123;&#125;;</span><br><span class=\"line\"><span class=\"comment\">// åœ¨çº¿äººæ•°</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> onlineCount = <span class=\"number\">0</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\">io.on(<span class=\"string\">'connection'</span>, (socket) =&gt; &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"comment\">// ç›‘å¬æ–°ç”¨æˆ·åŠ å…¥</span></span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'a user connected'</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">  socket.on(<span class=\"string\">'disconnect'</span>, () =&gt; &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'user disconnected'</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"comment\">//ç›‘å¬postæ•°æ®åŠ å…¥</span></span><br><span class=\"line\">  socket.on(<span class=\"string\">'post'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">say</span>) </span>&#123;</span><br><span class=\"line\">    io.emit(<span class=\"string\">'post'</span>, say)   <span class=\"comment\">//é€šè¿‡ioçš„emitæŠŠæ•°æ®å‘é€åˆ°å‰å°</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>é€šè¿‡ä¼ é€’server(HTTPæœåŠ¡å™¨)æ¥åˆå§‹åŒ–socket.ioçš„ä¸€ä¸ªæ–°å®ä¾‹ï¼Œç„¶åç›‘å¬è¿æ¥socketsçš„connectionäº‹ä»¶ï¼Œå¹¶å°†å…¶è®°å½•åˆ°æ§åˆ¶å°ã€‚</p>\n<h2 id=\"ä¸‰ã€ä¿®æ”¹å‰å°ä»£ç \"><a href=\"#ä¸‰ã€ä¿®æ”¹å‰å°ä»£ç \" class=\"headerlink\" title=\"ä¸‰ã€ä¿®æ”¹å‰å°ä»£ç \"></a>ä¸‰ã€ä¿®æ”¹å‰å°ä»£ç </h2><p>åœ¨ views ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>èŠå¤©å®¤<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"chat\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"chatApp\"</span> <span class=\"attr\">v-cloak</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"room-list\"</span>&gt;</span></span><br><span class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"item in msgList\"</span>&gt;</span></span><br><span class=\"line\">    \t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"msg-detail\"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    \t<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"send-box\"</span>&gt;</span></span><br><span class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"å†™ç‚¹ä»€ä¹ˆå–ƒ...\"</span> <span class=\"attr\">v-model</span>=<span class=\"string\">\"sendMsg\"</span>&gt;</span></span><br><span class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"doSendMsg\"</span>&gt;</span>å‘é€<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.3/vue.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"/javascripts/index.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>æˆ‘åœ¨é‡Œé¢å¼•å…¥äº†socket.ioä»¥åŠvue(æ›´å¥½çš„æ¸²æŸ“æ•°æ®)</p>\n<h2 id=\"å››ã€ç¼–å†™ä¸šåŠ¡ä»£ç \"><a href=\"#å››ã€ç¼–å†™ä¸šåŠ¡ä»£ç \" class=\"headerlink\" title=\"å››ã€ç¼–å†™ä¸šåŠ¡ä»£ç \"></a>å››ã€ç¼–å†™ä¸šåŠ¡ä»£ç </h2><blockquote>\n<p>åœ¨ public &gt; javascripts ä¸‹æ–°å»ºä¸€ä¸ªindex.js</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> socket = io();  <span class=\"comment\">//åŠ è½½socket.io-clientä¼šæš´éœ²ä¸€ä¸ªå…¨å±€ioå¹¶è¿æ¥ã€‚</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> vue = <span class=\"keyword\">new</span> Vue(&#123;  <span class=\"comment\">//å®ä¾‹åŒ–ä¸€ä¸ªVueå®ä¾‹</span></span><br><span class=\"line\">\tel: <span class=\"string\">\"#chatApp\"</span>,</span><br><span class=\"line\">\tdata() &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;        <span class=\"comment\">//æ•°æ®é©±åŠ¨</span></span><br><span class=\"line\">\t\t\tsendMsg: <span class=\"string\">''</span>,</span><br><span class=\"line\">\t\t\tmsgList: []</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tmounted() &#123;             </span><br><span class=\"line\">\t\tsocket.on(<span class=\"string\">'post'</span>, (say) =&gt; &#123;   <span class=\"comment\">//æ¥æ”¶æœåŠ¡ç«¯çš„ post å‘½ä»¤</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">this</span>.msgList.push(say)       <span class=\"comment\">//æ·»åŠ åˆ°msgListä¸­ç»™å‰å°æ¸²æŸ“å‡ºæ¥</span></span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tmethods: &#123;</span><br><span class=\"line\">\t\tdoSendMsg() &#123;                  <span class=\"comment\">//ç›‘å¬æŒ‰é’®å‘é€çš„äº‹ä»¶</span></span><br><span class=\"line\">\t\t\tsocket.emit(<span class=\"string\">'post'</span>, <span class=\"keyword\">this</span>.sendMsg)    <span class=\"comment\">//æŠŠè¦å‘é€çš„æ•°æ®emitåˆ°æœåŠ¡ç«¯</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">this</span>.sendMsg = <span class=\"string\">''</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"äº”ã€åœ¨å¯¹åº”è·¯ç”±ä¸­æ‰“å¼€index-html\"><a href=\"#äº”ã€åœ¨å¯¹åº”è·¯ç”±ä¸­æ‰“å¼€index-html\" class=\"headerlink\" title=\"äº”ã€åœ¨å¯¹åº”è·¯ç”±ä¸­æ‰“å¼€index.html\"></a>äº”ã€åœ¨å¯¹åº”è·¯ç”±ä¸­æ‰“å¼€index.html</h2><blockquote>\n<p>åœ¨ routes &gt; index.js ä¿®æ”¹å¦‚ä¸‹ä»£ç </p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* GET home page. */</span></span><br><span class=\"line\">router.get(<span class=\"string\">'/'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">  res.sendFile(path.join(__dirname, <span class=\"string\">'../views'</span>, <span class=\"string\">'index.html'</span>));</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href=\"http://localhost:3000/\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/</a> ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨deæ•ˆæœäº†</p>\n<p><img src=\"https://hzzly.github.io/img/chat-node1.gif\" alt=\"chat-node1\"></p>\n<h5 id=\"Github-Demo\"><a href=\"#Github-Demo\" class=\"headerlink\" title=\"Github Demo\"></a><a href=\"https://github.com/hzzly/chat-node\" target=\"_blank\" rel=\"noopener\">Github Demo</a></h5><p>æ¬¢è¿star</p>\n<p>å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”","node"]},{"title":"Webçš„Flexå¼¹æ€§ç›’æ¨¡å‹","url":"http://yoursite.com/2017/03/03/Webçš„Flexå¼¹æ€§ç›’æ¨¡å‹/","content":"<h2 id=\"ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ\"></a>ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Flexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚<br>ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€ã€‚</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.box</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-flex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"äºŒã€å®¹å™¨çš„å±æ€§\"><a href=\"#äºŒã€å®¹å™¨çš„å±æ€§\" class=\"headerlink\" title=\"äºŒã€å®¹å™¨çš„å±æ€§\"></a>äºŒã€å®¹å™¨çš„å±æ€§</h2><blockquote>\n<ul>\n<li>[ flex-direction ]</li>\n<li>[ flex-wrap ]</li>\n<li>[ flex-flow ]</li>\n<li>[ justify-content ]</li>\n<li>[ align-self ]</li>\n<li>[ align-items ]</li>\n<li>[ align-content ]</li>\n<li>[ order ]</li>\n</ul>\n</blockquote>\n<h5 id=\"ç‚¹å‡»æŸ¥çœ‹å®ä¾‹\"><a href=\"#ç‚¹å‡»æŸ¥çœ‹å®ä¾‹\" class=\"headerlink\" title=\"ç‚¹å‡»æŸ¥çœ‹å®ä¾‹\"></a><a href=\"http://hjingren.cn/flex/\" target=\"_blank\" rel=\"noopener\">ç‚¹å‡»æŸ¥çœ‹å®ä¾‹</a></h5><blockquote>\n<p>ä¸‹æ–¹ä¸ºç®€ç•¥å›¾</p>\n</blockquote>\n<a id=\"more\"></a>\n<p><img src=\"https://hzzly.github.io/img/flex.png\" alt=\"flex\"></p>\n<p>å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"åšå®¢æ­£å¼ä¸Šçº¿","url":"http://yoursite.com/2017/03/02/åšå®¢æ­£å¼ä¸Šçº¿/","content":"<p>æŠ˜è…¾äº†ä¸€ä¸ªæ™šä¸Šï¼Œç»ˆäºæŠŠGithub Pageä¸Šçš„åšå®¢æ­èµ·æ¥äº†ï¼Œæœ‰ç‚¹å°æ¿€åŠ¨ã€‚å“ˆå“ˆå“ˆï¼Œè›‹å®šè›‹å®šã€‚<br>ä¹‹å‰ä¸€ç›´æƒ³å¼„ä¸€ä¸ªåšå®¢æ¥ç€ï¼Œå¶ç„¶é—´å‘ç°äº†è¿™ä¸ªåŸºäºNodeçš„Hexoåšå®¢ï¼Œè¿˜å¯ä»¥æ”¾åˆ°Githubä¸Šï¼Œå¾ˆæ–¹ä¾¿ã€‚<br>ä½ ä¹Ÿå¯ä»¥è¯•ä¸€è¯• (:<br>å¥½äº†ï¼Œä¸æ‰¯è¿™ä¹ˆå¤šäº†ï¼Œæ­¤åšå®¢å°†è®°å½•æˆ‘å­¦ä¹ çš„ç¬”è®°ã€çŸ¥è¯†ï¼Œå¹¶å°†å…¶ä¸­æ‰¿è½½çš„ä»·å€¼ä¼ ç»™ä»–äººã€‚</p>\n<blockquote>\n<ul>\n<li>æ•´ç†çŸ¥è¯†ï¼Œå­¦ä¹ ç¬”è®°</li>\n<li>å‘å¸ƒæ—¥æŠ¥ï¼Œæ‚æ–‡ï¼Œæ‰€è§æ‰€æƒ³</li>\n<li>æ’°å†™å‘å¸ƒæŠ€æœ¯åšå®¢ï¼ˆä»£ç æ”¯æŒï¼‰</li>\n<li>æ’°å†™å‘å¸ƒå­¦æœ¯è®ºæ–‡</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Refuel</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">constructor</span> (refuel) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.refuel = refuel</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\trefuel () &#123;</span><br><span class=\"line\">\t\talert(<span class=\"keyword\">this</span>.refuel)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> Refuel(<span class=\"string\">'åŠ æ²¹ï¼ï¼ï¼'</span>);</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://hjingren.cn/publicImages/refuel.jpg\" alt=\"refuel\"></p>\n<p>å¥½äº†ï¼Œé›äº†é›äº†ã€‚ã€‚ã€‚</p>\n","categories":[],"tags":["éšç¬”"]},{"title":"æˆ‘çš„ä½œå“ã€é¡¹ç›®","url":"http://yoursite.com/project/index.html","content":"<!-- # å…¬å¸é¡¹ç›®\n> * PCå®˜ç½‘ï¼ˆVue+Vue-Routerï¼‰ [http://www.zblmchina.com](http://hzzly.net/league/)\n> * å¾®ä¿¡å¾®å®˜ç½‘ï¼ˆVue+Vue-Router+Swiperï¼‰ [http://www.zblmchina.com/m/](http://hzzly.net/league/m/)\n> * PCç«¯åå°ç®¡ç† \n> * å¾®ä¿¡åå°ç®¡ç†\n\n# å¤–åŒ…\n\n * **ä¸­åŒ…è”ç›Ÿ**\n å…¨å¥—å‰ç«¯ç•Œé¢\n\n> * PCå®˜ç½‘ï¼ˆVue+Vue-Routerï¼‰ [http://www.zblmchina.com](http://hzzly.net/league/)\n> * å¾®ä¿¡å¾®å®˜ç½‘ï¼ˆVue+Vue-Router+Swiperï¼‰ [http://www.zblmchina.com/m/](http://hzzly.net/league/m/)\n> * PCç«¯åå°ç®¡ç† \n> * å¾®ä¿¡åå°ç®¡ç† \n\n\n * **ç‚¹åŒ ç¯ä¿å·¥ç¨‹**\nä¸€ä¸ªå¾®ä¿¡å…¬ä¼—å·çš„æ‹›å·¥ç³»ç»Ÿ,ä½¿ç”¨äº†æ‰‹æ·˜çš„flexibleç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ,jquery+vue+weui,å‰åç«¯åˆ†ç¦»,å„ç§Vueç»„ä»¶\n\n>[http://www.dianjiang99.com/html/user_center/user_center.html](http://www.dianjiang99.com/html/user_center/user_center.html)\n> (æµ‹è¯•è´¦å·:15103585135 æµ‹è¯•å¯†ç :123456)\n\n# ä¸ªäººé¡¹ç›®\n\n * **ã€ŠQuçº¦ã€‹å¼€æºé¡¹ç›®**\n\n>é¡¹ç›®åœ°å€ï¼š [https://github.com/hzzly/xyy-vue](https://github.com/hzzly/xyy-vue)\n\n * **VueéŸ³ä¹æ’­æ”¾å™¨**\n\n>é¡¹ç›®åœ°å€ï¼š [https://github.com/hzzly/MagicMusic](https://github.com/hzzly/MagicMusic)\n\n * **å°ç»„ä»¶**\n\n>é¡¹ç›®åœ°å€ï¼š [https://github.com/hzzly/components-vue](https://github.com/hzzly/components-vue)\n\n -->\n","categories":[],"tags":[]},{"title":"search","url":"http://yoursite.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"","url":"http://yoursite.com/css/personal-style.css","content":"@font-face {\n  font-family: \"Meiryo\";\n  src: url(\"/fonts/Meiryo.eot\");\n  /* IE9 */\n  src: url(\"/fonts/Meiryo.eot?#iefix\") format(\"embedded-opentype\"), /* IE6-IE8 */\n  url(\"/fonts/Meiryo.woff\") format(\"woff\"), /* chrome, firefox */\n  url(\"/fonts/Meiryo.ttf\") format(\"truetype\"), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\n  url(\"/fonts/Meiryo.svg#Meiryo\") format(\"svg\");\n  /* iOS 4.1- */\n  font-style: normal;\n  font-weight: normal;\n}\nhtml.page-home {\n  height: 100%;\n  /*background-image: url('/images/bg.jpg')*/\n  background: linear-gradient( #1abc9c, transparent), linear-gradient( 90deg, skyblue, transparent), linear-gradient( -90deg, coral, transparent);\n  background-blend-mode: screen;\n  /*background: linear-gradient(to left, #5f2c82, #49a09d);*/\n}","categories":[],"tags":[]},{"title":"about","url":"http://yoursite.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://yoursite.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://yoursite.com/tag/index.html","content":"","categories":[],"tags":[]}]